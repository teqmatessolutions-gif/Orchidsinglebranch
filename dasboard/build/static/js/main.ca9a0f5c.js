/*! For license information please see main.ca9a0f5c.js.LICENSE.txt */
(()=>{var e={356:(e,t,r)=>{e.exports=r(9645).last},418:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toString=function e(t){if(null==t)return"";if("string"===typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const r=String(t);return"0"===r&&Object.is(Number(t),-0)?"-0":r}},557:function(e,t,r){var n;"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof this||("undefined"!==typeof window?window:"undefined"!==typeof self?self:r.g),n=function(e){return function(){"use strict";var t={172:function(e,t){var r=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CellHookData=t.HookData=void 0;var n=function(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.pageCount=this.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()};t.HookData=n;var i=function(e){function t(t,r,n,i,a,s){var o=e.call(this,t,r,s)||this;return o.cell=n,o.row=i,o.column=a,o.section=i.section,o}return r(t,e),t}(n);t.CellHookData=i},340:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),i=r(136),a=r(744),s=r(776),o=r(664),l=r(972);t.default=function(e){e.API.autoTable=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];1===t.length?e=t[0]:(console.error("Use of deprecated autoTable initiation"),(e=t[2]||{}).columns=t[0],e.body=t[1]);var n=(0,s.parseInput)(this,e),i=(0,l.createTable)(this,n);return(0,o.drawTable)(this,i),this},e.API.lastAutoTable=!1,e.API.previousAutoTable=!1,e.API.autoTable.previous=!1,e.API.autoTableText=function(e,t,r,n){(0,i.default)(e,t,r,n,this)},e.API.autoTableSetDefaults=function(e){return a.DocHandler.setDefaults(e,this),this},e.autoTableSetDefaults=function(e,t){a.DocHandler.setDefaults(e,t)},e.API.autoTableHtmlToJson=function(e,t){var r;if(void 0===t&&(t=!1),"undefined"===typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new a.DocHandler(this),s=(0,n.parseHtml)(i,e,window,t,!1),o=s.head,l=s.body;return{columns:(null===(r=o[0])||void 0===r?void 0:r.map(function(e){return e.content}))||[],rows:l,data:l}},e.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var e=this.lastAutoTable;return e&&e.finalY?e.finalY:0},e.API.autoTableAddPageContent=function(t){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),e.API.autoTable.globalDefaults||(e.API.autoTable.globalDefaults={}),e.API.autoTable.globalDefaults.addPageContent=t,this},e.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}},136:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n,i){n=n||{};var a=i.internal.scaleFactor,s=i.internal.getFontSize()/a,o=s*(i.getLineHeightFactor?i.getLineHeightFactor():1.15),l="",c=1;if("middle"!==n.valign&&"bottom"!==n.valign&&"center"!==n.halign&&"right"!==n.halign||(c=(l="string"===typeof e?e.split(/\r\n|\r|\n/g):e).length||1),r+=s*(2-1.15),"middle"===n.valign?r-=c/2*o:"bottom"===n.valign&&(r-=c*o),"center"===n.halign||"right"===n.halign){var d=s;if("center"===n.halign&&(d*=.5),l&&c>=1){for(var u=0;u<l.length;u++)i.text(l[u],t-i.getStringUnitWidth(l[u])*d,r),r+=o;return i}t-=i.getStringUnitWidth(e)*d}return"justify"===n.halign?i.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(e,t,r),i}},420:function(e,t){function r(e,t){var r=e>0,n=t||0===t;return r&&n?"DF":r?"S":n?"F":null}function n(e,t){var r,n,i,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(3===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e=1===e.length?e[0]:t}return"object"===typeof e?("number"===typeof e.vertical&&(e.top=e.vertical,e.bottom=e.vertical),"number"===typeof e.horizontal&&(e.right=e.horizontal,e.left=e.horizontal),{left:null!==(r=e.left)&&void 0!==r?r:t,top:null!==(n=e.top)&&void 0!==n?n:t,right:null!==(i=e.right)&&void 0!==i?i:t,bottom:null!==(a=e.bottom)&&void 0!==a?a:t}):("number"!==typeof e&&(e=t),{top:e,right:e,bottom:e,left:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.getPageAvailableWidth=t.parseSpacing=t.getFillStyle=t.addTableBorder=t.getStringWidth=void 0,t.getStringWidth=function(e,t,r){return r.applyStyles(t,!0),(Array.isArray(e)?e:[e]).map(function(e){return r.getTextWidth(e)}).reduce(function(e,t){return Math.max(e,t)},0)},t.addTableBorder=function(e,t,n,i){var a=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:s});var o=r(a,!1);o&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),i.y-n.y,o)},t.getFillStyle=r,t.parseSpacing=n,t.getPageAvailableWidth=function(e,t){var r=n(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}},796:function(e,t){var r=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.getTheme=t.defaultStyles=t.HtmlRowInput=void 0;var n=function(e){function t(t){var r=e.call(this)||this;return r._element=t,r}return r(t,e),t}(Array);t.HtmlRowInput=n,t.defaultStyles=function(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}},t.getTheme=function(e){return{striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[e]}},903:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.parseCss=void 0;var n=r(420);function i(e,t){var r=a(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])];return 0===parseInt(n[4])||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function a(e,t){var r=t(e);return"rgba(0, 0, 0, 0)"===r||"transparent"===r||"initial"===r||"inherit"===r?null==e.parentElement?null:a(e.parentElement,t):r}t.parseCss=function(e,t,r,a,s){var o={},l=96/72,c=i(t,function(e){return s.getComputedStyle(e).backgroundColor});null!=c&&(o.fillColor=c);var d=i(t,function(e){return s.getComputedStyle(e).color});null!=d&&(o.textColor=d);var u=function(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],i=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(e){return parseInt(e||"0")/i}),o=(0,n.parseSpacing)(s,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}(a,r);u&&(o.cellPadding=u);var h="borderTopColor",f=l*r,p=a.borderTopWidth;if(a.borderBottomWidth===p&&a.borderRightWidth===p&&a.borderLeftWidth===p){var m=(parseFloat(p)||0)/f;m&&(o.lineWidth=m)}else o.lineWidth={top:(parseFloat(a.borderTopWidth)||0)/f,right:(parseFloat(a.borderRightWidth)||0)/f,bottom:(parseFloat(a.borderBottomWidth)||0)/f,left:(parseFloat(a.borderLeftWidth)||0)/f},o.lineWidth.top||(o.lineWidth.right?h="borderRightColor":o.lineWidth.bottom?h="borderBottomColor":o.lineWidth.left&&(h="borderLeftColor"));var g=i(t,function(e){return s.getComputedStyle(e)[h]});null!=g&&(o.lineColor=g);var x=["left","right","center","justify"];-1!==x.indexOf(a.textAlign)&&(o.halign=a.textAlign),-1!==(x=["middle","bottom","top"]).indexOf(a.verticalAlign)&&(o.valign=a.verticalAlign);var y=parseInt(a.fontSize||"");isNaN(y)||(o.fontSize=y/l);var v=function(e){var t="";return("bold"===e.fontWeight||"bolder"===e.fontWeight||parseInt(e.fontWeight)>=700)&&(t="bold"),"italic"!==e.fontStyle&&"oblique"!==e.fontStyle||(t+="italic"),t}(a);v&&(o.fontStyle=v);var b=(a.fontFamily||"").toLowerCase();return-1!==e.indexOf(b)&&(o.font=b),o}},744:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DocHandler=void 0;var r={},n=function(){function e(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(e,t){void 0===t&&(t=null),t?t.__autoTableDocumentDefaults=e:r=e},e.unifyColor=function(e){return Array.isArray(e)?e:"number"===typeof e?[e,e,e]:"string"===typeof e?[e]:null},e.prototype.applyStyles=function(t,r){var n,i,a;void 0===r&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(o)&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),(d=e.unifyColor(t.textColor))&&(i=this.jsPDFDocument).setTextColor.apply(i,d),(d=e.unifyColor(t.lineColor))&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),"number"===typeof t.lineWidth&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},e.prototype.rect=function(e,t,r,n,i){return this.jsPDFDocument.rect(e,t,r,n,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return r||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return null==e.width&&(e={width:e.getWidth(),height:e.getHeight()}),e},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}();t.DocHandler=n},4:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.parseHtml=void 0;var n=r(903),i=r(796);function a(e,t,r,a,o,l){for(var c=new i.HtmlRowInput(a),d=0;d<a.cells.length;d++){var u=a.cells[d],h=r.getComputedStyle(u);if(o||"none"!==h.display){var f=void 0;l&&(f=(0,n.parseCss)(e,u,t,h,r)),c.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:f,_element:u,content:s(u)})}}var p=r.getComputedStyle(a);if(c.length>0&&(o||"none"!==p.display))return c}function s(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join("\n"),t.innerText||t.textContent||""}t.parseHtml=function(e,t,r,n,i){var s,o,l;void 0===n&&(n=!1),void 0===i&&(i=!1),l="string"===typeof t?r.document.querySelector(t):t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),u=[],h=[],f=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:u,body:h,foot:f};for(var p=0;p<l.rows.length;p++){var m=l.rows[p],g=null===(o=null===(s=null===m||void 0===m?void 0:m.parentElement)||void 0===s?void 0:s.tagName)||void 0===o?void 0:o.toLowerCase(),x=a(c,d,r,m,n,i);x&&("thead"===g?u.push(x):"tfoot"===g?f.push(x):h.push(x))}return{head:u,body:h,foot:f}}},776:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.parseInput=void 0;var n=r(4),i=r(356),a=r(420),s=r(744),o=r(792);t.parseInput=function(e,t){var r=new s.DocHandler(e),l=r.getDocumentOptions(),c=r.getGlobalOptions();(0,o.default)(r,c,l,t);var d,u=(0,i.assign)({},c,l,t);"undefined"!==typeof window&&(d=window);var h=function(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(a){if("columnStyles"===a){var s=e[a],o=t[a],l=r[a];n.columnStyles=(0,i.assign)({},s,o,l)}else{var c=[e,t,r].map(function(e){return e[a]||{}});n[a]=(0,i.assign)({},c[0],c[1],c[2])}},s=0,o=Object.keys(n);s<o.length;s++)a(o[s]);return n}(c,l,t),f=function(e,t,r){for(var n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,a=[e,t,r];i<a.length;i++){var s=a[i];s.didParseCell&&n.didParseCell.push(s.didParseCell),s.willDrawCell&&n.willDrawCell.push(s.willDrawCell),s.didDrawCell&&n.didDrawCell.push(s.didDrawCell),s.willDrawPage&&n.willDrawPage.push(s.willDrawPage),s.didDrawPage&&n.didDrawPage.push(s.didDrawPage)}return n}(c,l,t),p=function(e,t){var r,n,i,s,o,l,c,d,u,h,f,p,m,g,x=(0,a.parseSpacing)(t.margin,40/e.scaleFactor()),y=null!==(r=function(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),i=e.pageNumber(),a=!1;return r&&r.startPageNumber&&(a=r.startPageNumber+r.pageNumber-1===i),"number"===typeof t?t:null!=t&&!1!==t||!a||null==(null===r||void 0===r?void 0:r.finalY)?null:r.finalY+20/n}(e,t.startY))&&void 0!==r?r:x.top;m=!0===t.showFoot?"everyPage":!1===t.showFoot?"never":null!==(n=t.showFoot)&&void 0!==n?n:"everyPage",g=!0===t.showHead?"everyPage":!1===t.showHead?"never":null!==(i=t.showHead)&&void 0!==i?i:"everyPage";var v=null!==(s=t.useCss)&&void 0!==s&&s,b=t.theme||(v?"plain":"striped"),w=!!t.horizontalPageBreak,j=null!==(o=t.horizontalPageBreakRepeat)&&void 0!==o?o:null;return{includeHiddenHtml:null!==(l=t.includeHiddenHtml)&&void 0!==l&&l,useCss:v,theme:b,startY:y,margin:x,pageBreak:null!==(c=t.pageBreak)&&void 0!==c?c:"auto",rowPageBreak:null!==(d=t.rowPageBreak)&&void 0!==d?d:"auto",tableWidth:null!==(u=t.tableWidth)&&void 0!==u?u:"auto",showHead:g,showFoot:m,tableLineWidth:null!==(h=t.tableLineWidth)&&void 0!==h?h:0,tableLineColor:null!==(f=t.tableLineColor)&&void 0!==f?f:200,horizontalPageBreak:w,horizontalPageBreakRepeat:j,horizontalPageBreakBehaviour:null!==(p=t.horizontalPageBreakBehaviour)&&void 0!==p?p:"afterAllRows"}}(r,u),m=function(e,t,r){var i=t.head||[],a=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=(0,n.parseHtml)(e,t.html,r,o,t.useCss)||{};i=l.head||i,a=l.body||i,s=l.foot||i}else console.error("Cannot parse html in non browser environment")}var c=t.columns||function(e,t,r){var n=e[0]||t[0]||r[0]||[],i=[];return Object.keys(n).filter(function(e){return"_element"!==e}).forEach(function(e){var t,r=1;"object"!==typeof(t=Array.isArray(n)?n[parseInt(e)]:n[e])||Array.isArray(t)||(r=(null===t||void 0===t?void 0:t.colSpan)||1);for(var a=0;a<r;a++){var s={dataKey:Array.isArray(n)?i.length:e+(a>0?"_".concat(a):"")};i.push(s)}}),i}(i,a,s);return{columns:c,head:i,body:a,foot:s}}(r,u,d);return{id:t.tableId,content:m,hooks:f,styles:h,settings:p}}},792:function(e,t){function r(e){e.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),e.minCellHeight||(e.minCellHeight=e.rowHeight)):e.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),e.cellWidth||(e.cellWidth=e.columnWidth))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i){for(var a=function(t){t&&"object"!==typeof t&&console.error("The options parameter should be of type object, is: "+typeof t),"undefined"!==typeof t.extendWidth&&(t.tableWidth=t.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),"undefined"!==typeof t.margins&&("undefined"===typeof t.margin&&(t.margin=t.margins),console.error("Use of deprecated option: margins, use margin instead.")),t.startY&&"number"!==typeof t.startY&&(console.error("Invalid value for startY option",t.startY),delete t.startY),!t.didDrawPage&&(t.afterPageContent||t.beforePageContent||t.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),t.didDrawPage=function(r){e.applyStyles(e.userStyles),t.beforePageContent&&t.beforePageContent(r),e.applyStyles(e.userStyles),t.afterPageContent&&t.afterPageContent(r),e.applyStyles(e.userStyles),t.afterPageAdd&&r.pageNumber>1&&r.afterPageAdd(r),e.applyStyles(e.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(e){t[e]&&console.error('The "'.concat(e,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(e){var r=e[0],n=e[1];t[n]&&(console.error("Use of deprecated option ".concat(n,". Use ").concat(r," instead")),t[r]=t[n])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(e){var r="string"===typeof e?e:e[0],n="string"===typeof e?e:e[1];"undefined"!==typeof t[r]&&("undefined"===typeof t.styles[n]&&(t.styles[n]=t[r]),console.error("Use of deprecated option: "+r+", use the style "+n+" instead."))});for(var n=0,i=["styles","bodyStyles","headStyles","footStyles"];n<i.length;n++)r(t[i[n]]||{});for(var a=t.columnStyles||{},s=0,o=Object.keys(a);s<o.length;s++)r(a[o[s]]||{})},s=0,o=[t,n,i];s<o.length;s++)a(o[s])}},260:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Column=t.Cell=t.Row=t.Table=void 0;var n=r(796),i=r(172),a=r(420),s=function(){function e(e,t){this.pageNumber=1,this.pageCount=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return e.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},e.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(e,t,r,n,a,s){for(var o=0,l=t;o<l.length;o++){var c=!1===(0,l[o])(new i.CellHookData(e,this,r,n,a,s));if(r.text=Array.isArray(r.text)?r.text:[r.text],c)return!1}return!0},e.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,n=this.hooks.didDrawPage;r<n.length;r++)(0,n[r])(new i.HookData(e,this,t))},e.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,n=this.hooks.willDrawPage;r<n.length;r++)(0,n[r])(new i.HookData(e,this,t))},e.prototype.getWidth=function(e){if("number"===typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(e,t){return e+t.wrappedWidth},0);var t=this.settings.margin;return e-t.left-t.right},e}();t.Table=s;var o=function(){function e(e,t,r,i,a){void 0===a&&(a=!1),this.height=0,this.raw=e,e instanceof n.HtmlRowInput&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(e,r){var n;return Math.max(e,(null===(n=t.cells[r.index])||void 0===n?void 0:n.height)||0)},0)},e.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(e){var r=t.cells[e.index];return!!r&&r.rowSpan>1}).length>0},e.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},e.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(e,n){var i=r.cells[n.index];if(!i)return 0;var a=t.getLineHeight(i.styles.fontSize),s=i.padding("vertical")+a;return s>e?s:e},0)},e}();t.Row=o;var l=function(){function e(e,t,r){var n,i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var a=e;null==e||"object"!==typeof e||Array.isArray(e)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=null!==(i=null!==(n=e.content)&&void 0!==n?n:e.title)&&void 0!==i?i:e,e._element&&(this.raw=e._element));var s=null!=a?""+a:"";this.text=s.split(/\r\n|\r|\n/g)}return e.prototype.getTextPos=function(){var e,t;if("top"===this.styles.valign)e=this.y+this.padding("top");else if("bottom"===this.styles.valign)e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}if("right"===this.styles.halign)t=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var n=this.width-this.padding("horizontal");t=this.x+n/2+this.padding("left")}else t=this.x+this.padding("left");return{x:t,y:e}},e.prototype.getContentHeight=function(e,t){void 0===t&&(t=1.15);var r=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/e*t)+this.padding("vertical");return Math.max(r,this.styles.minCellHeight)},e.prototype.padding=function(e){var t=(0,a.parseSpacing)(this.styles.cellPadding,0);return"vertical"===e?t.top+t.bottom:"horizontal"===e?t.left+t.right:t[e]},e}();t.Cell=l;var c=function(){function e(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return e.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,n=e.allRows();r<n.length;r++){var i=n[r].cells[this.index];i&&"number"===typeof i.styles.cellWidth&&(t=Math.max(t,i.styles.cellWidth))}return t},e}();t.Column=c},356:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.assign=void 0,t.assign=function(e,t,r,n,i){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a}},972:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.createTable=void 0;var n=r(744),i=r(260),a=r(324),s=r(796),o=r(356);function l(e,t,r,n,a,s){var o={};return t.map(function(t,l){for(var c=0,u={},h=0,f=0,p=0,m=r;p<m.length;p++){var g=m[p];if(null==o[g.index]||0===o[g.index].left)if(0===f){var x=void 0,y={};"object"!==typeof(x=Array.isArray(t)?t[g.index-h-c]:t[g.dataKey])||Array.isArray(x)||(y=(null===x||void 0===x?void 0:x.styles)||{});var v=d(e,g,l,a,n,s,y),b=new i.Cell(x,v,e);u[g.dataKey]=b,u[g.index]=b,f=b.colSpan-1,o[g.index]={left:b.rowSpan-1,times:f}}else f--,h++;else o[g.index].left--,f=o[g.index].times,c++}return new i.Row(t,l,e,u)})}function c(e,t){var r={};return e.forEach(function(e){if(null!=e.raw){var n=function(e,t){if("head"===e){if("object"===typeof t)return t.header||t.title||null;if("string"===typeof t||"number"===typeof t)return t}else if("foot"===e&&"object"===typeof t)return t.footer;return null}(t,e.raw);null!=n&&(r[e.dataKey]=n)}}),Object.keys(r).length>0?r:null}function d(e,t,r,n,i,a,l){var c,d=(0,s.getTheme)(n);"head"===e?c=i.headStyles:"body"===e?c=i.bodyStyles:"foot"===e&&(c=i.footStyles);var u=(0,o.assign)({},d.table,d[e],i.styles,c),h=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},f="body"===e?h:{},p="body"===e&&r%2===0?(0,o.assign)({},d.alternateRow,i.alternateRowStyles):{},m=(0,s.defaultStyles)(a),g=(0,o.assign)({},m,u,p,f);return(0,o.assign)(g,l)}t.createTable=function(e,t){var r=new n.DocHandler(e),s=function(e,t){var r,n=e.content,a=function(e){return e.map(function(e,t){var r,n,a;return a="object"===typeof e&&null!==(n=null!==(r=e.dataKey)&&void 0!==r?r:e.key)&&void 0!==n?n:t,new i.Column(a,e,t)})}(n.columns);(0===n.head.length&&(r=c(a,"head"))&&n.head.push(r),0===n.foot.length)&&((r=c(a,"foot"))&&n.foot.push(r));var s=e.settings.theme,o=e.styles;return{columns:a,head:l("head",n.head,a,o,s,t),body:l("body",n.body,a,o,s,t),foot:l("foot",n.foot,a,o,s,t)}}(t,r.scaleFactor()),o=new i.Table(t,s);return(0,a.calculateWidths)(r,o),r.applyStyles(r.userStyles),o}},664:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.addPage=t.drawTable=void 0;var n=r(420),i=r(260),a=r(744),s=r(356),o=r(136),l=r(224);function c(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),"firstPage"!==i.showHead&&"everyPage"!==i.showHead||t.head.forEach(function(i){return p(e,t,i,r,n)})}function d(e,t,r,n,i,a){e.applyStyles(e.userStyles),a=null!==a&&void 0!==a?a:t.body.length;var s=Math.min(r+a,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(a,s){var l=r+s===t.body.length-1,c=g(e,t,l,n);a.canEntireRowFit(c,i)&&(p(e,t,a,n,i),o=r+s)}),o}function u(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),"lastPage"!==i.showFoot&&"everyPage"!==i.showFoot||t.foot.forEach(function(i){return p(e,t,i,r,n)})}function h(e,t,r){var n=r.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),a=Math.floor((t-i)/n);return Math.max(0,a)}function f(e,t,r,n,a,o,l){var c=g(e,t,n,o);if(r.canEntireRowFit(c,l))p(e,t,r,o,l);else if(function(e,t,r,n){var i=e.pageSize().height,a=n.settings.margin,s=i-(a.top+a.bottom);"body"===t.section&&(s-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var o=t.getMinimumRowHeight(n.columns,e),l=o<r;if(o>s)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var c=t.hasRowSpan(n.columns);return t.getMaxCellHeight(n.columns)>s?(c&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!c&&"avoid"!==n.settings.rowPageBreak}(e,r,c,t)){var d=function(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var o=0,l=0,c=r.columns;l<c.length;l++){var d=c[l];if(v=e.cells[d.index]){Array.isArray(v.text)||(v.text=[v.text]);var u=new i.Cell(v.raw,v.styles,v.section);(u=(0,s.assign)(u,v)).text=[];var f=h(v,t,n);v.text.length>f&&(u.text=v.text.splice(f,v.text.length));var p=n.scaleFactor(),m=n.getLineHeightFactor();v.contentHeight=v.getContentHeight(p,m),v.contentHeight>=t&&(v.contentHeight=t,u.styles.minCellHeight-=t),v.contentHeight>e.height&&(e.height=v.contentHeight),u.contentHeight=u.getContentHeight(p,m),u.contentHeight>o&&(o=u.contentHeight),a[d.index]=u}}var g=new i.Row(e.raw,-1,e.section,a,!0);g.height=o;for(var x=0,y=r.columns;x<y.length;x++){var v;d=y[x],(u=g.cells[d.index])&&(u.height=g.height),(v=e.cells[d.index])&&(v.height=e.height)}return g}(r,c,t,e);p(e,t,r,o,l),x(e,t,a,o,l),f(e,t,d,n,a,o,l)}else x(e,t,a,o,l),f(e,t,r,n,a,o,l)}function p(e,t,r,n,i){n.x=t.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var l=s[a],c=r.cells[l.index];if(c)if(e.applyStyles(c.styles),c.x=n.x,c.y=n.y,!1!==t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,n)){m(e,c,n);var d=c.getTextPos();(0,o.default)(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,n),n.x+=l.width}else n.x+=l.width;else n.x+=l.width}n.y+=r.height}function m(e,t,r){var i=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),"number"===typeof i.lineWidth){var a=(0,n.getFillStyle)(i.lineWidth,i.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else"object"===typeof i.lineWidth&&(i.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),function(e,t,r,n){var i,a,s,o;function l(t,r,n,i,a){e.getDocument().setLineWidth(t),e.getDocument().line(r,n,i,a,"S")}n.top&&(i=r.x,a=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,a,s,o)),n.bottom&&(i=r.x,a=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,a,s,o)),n.left&&(i=r.x,a=r.y,s=r.x,o=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,a,s,o)),n.right&&(i=r.x+t.width,a=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,a,s,o))}(e,t,r,i.lineWidth))}function g(e,t,r,n){var i=t.settings.margin.bottom,a=t.settings.showFoot;return("everyPage"===a||"lastPage"===a&&r)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-i}function x(e,t,r,i,a,s){void 0===a&&(a=[]),void 0===s&&(s=!1),e.applyStyles(e.userStyles),"everyPage"!==t.settings.showFoot||s||t.foot.forEach(function(r){return p(e,t,r,i,a)}),t.callEndPageHooks(e,i);var o=t.settings.margin;(0,n.addTableBorder)(e,t,r,i),y(e),t.pageNumber++,t.pageCount++,i.x=o.left,i.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,i),"everyPage"===t.settings.showHead&&(t.head.forEach(function(r){return p(e,t,r,i,a)}),e.applyStyles(e.userStyles))}function y(e){var t=e.pageNumber();return e.setPage(t+1),e.pageNumber()===t&&(e.addPage(),!0)}t.drawTable=function(e,t){var r=t.settings,i=r.startY,o=r.margin,h={x:o.left,y:i},m=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),g=i+o.bottom+m;"avoid"===r.pageBreak&&(g+=t.body.reduce(function(e,t){return e+t.height},0));var v=new a.DocHandler(e);("always"===r.pageBreak||null!=r.startY&&g>v.pageSize().height)&&(y(v),h.y=o.top),t.callWillDrawPageHooks(v,h);var b=(0,s.assign)({},h);t.startPageNumber=v.pageNumber(),r.horizontalPageBreak?function(e,t,r,n){var i=(0,l.calculateAllColumnsCanFitInPage)(e,t),a=t.settings;if("afterAllRows"===a.horizontalPageBreakBehaviour)i.forEach(function(i,a){e.applyStyles(e.userStyles),a>0?x(e,t,r,n,i.columns,!0):c(e,t,n,i.columns),function(e,t,r,n,i){e.applyStyles(e.userStyles),t.body.forEach(function(a,s){var o=s===t.body.length-1;f(e,t,a,o,r,n,i)})}(e,t,r,n,i.columns),u(e,t,n,i.columns)});else for(var s=-1,o=i[0],h=function(){var a=s;if(o){e.applyStyles(e.userStyles);var l=o.columns;s>=0?x(e,t,r,n,l,!0):c(e,t,n,l),a=d(e,t,s+1,n,l),u(e,t,n,l)}var h=a-s;i.slice(1).forEach(function(i){e.applyStyles(e.userStyles),x(e,t,r,n,i.columns,!0),d(e,t,s+1,n,i.columns,h),u(e,t,n,i.columns)}),s=a};s<t.body.length-1;)h()}(v,t,b,h):(v.applyStyles(v.userStyles),"firstPage"!==r.showHead&&"everyPage"!==r.showHead||t.head.forEach(function(e){return p(v,t,e,h,t.columns)}),v.applyStyles(v.userStyles),t.body.forEach(function(e,r){var n=r===t.body.length-1;f(v,t,e,n,b,h,t.columns)}),v.applyStyles(v.userStyles),"lastPage"!==r.showFoot&&"everyPage"!==r.showFoot||t.foot.forEach(function(e){return p(v,t,e,h,t.columns)})),(0,n.addTableBorder)(v,t,b,h),t.callEndPageHooks(v,h),t.finalY=h.y,e.lastAutoTable=t,e.previousAutoTable=t,e.autoTable&&(e.autoTable.previous=t),v.applyStyles(v.userStyles)},t.addPage=x},224:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateAllColumnsCanFitInPage=void 0;var n=r(420);function i(e,t,r){var i;void 0===r&&(r={});var a=(0,n.getPageAvailableWidth)(e,t),s=new Map,o=[],l=[],c=[];t.settings.horizontalPageBreakRepeat,Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:"string"!==typeof t.settings.horizontalPageBreakRepeat&&"number"!==typeof t.settings.horizontalPageBreakRepeat||(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(e){var r=t.columns.find(function(t){return t.dataKey===e||t.index===e});r&&!s.has(r.index)&&(s.set(r.index,!0),o.push(r.index),l.push(t.columns[r.index]),a-=r.wrappedWidth)});for(var d=!0,u=null!==(i=null===r||void 0===r?void 0:r.start)&&void 0!==i?i:0;u<t.columns.length;)if(s.has(u))u++;else{var h=t.columns[u].wrappedWidth;if(!(d||a>=h))break;d=!1,o.push(u),l.push(t.columns[u]),a-=h,u++}return{colIndexes:o,columns:l,lastIndex:u-1}}t.calculateAllColumnsCanFitInPage=function(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=i(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}},324:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ellipsize=t.resizeColumns=t.calculateWidths=void 0;var n=r(420);function i(e,t,r){for(var n=t,a=e.reduce(function(e,t){return e+t.wrappedWidth},0),s=0;s<e.length;s++){var o=e[s],l=n*(o.wrappedWidth/a),c=o.width+l,d=r(o),u=c<d?d:c;t-=u-o.width,o.width=u}if(t=Math.round(1e10*t)/1e10){var h=e.filter(function(e){return!(t<0)||e.width>r(e)});h.length&&(t=i(h,t,r))}return t}function a(e,t,r,i,a){return e.map(function(e){return function(e,t,r,i,a){var s=1e4*i.scaleFactor();if((t=Math.ceil(t*s)/s)>=(0,n.getStringWidth)(e,r,i))return e;for(;t<(0,n.getStringWidth)(e+a,r,i)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}(e,t,r,i,a)})}t.calculateWidths=function(e,t){!function(e,t){var r=e.scaleFactor(),i=t.settings.horizontalPageBreak,a=(0,n.getPageAvailableWidth)(e,t);t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],d=s.cells[c.index];if(d){var u=t.hooks.didParseCell;t.callCellHooks(e,u,d,s,c,null);var h=d.padding("horizontal");d.contentWidth=(0,n.getStringWidth)(d.text,d.styles,e)+h;var f=(0,n.getStringWidth)(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=f+d.padding("horizontal"),"number"===typeof d.styles.cellWidth)d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if("wrap"===d.styles.cellWidth||!0===i)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var p=10/r;d.minWidth=d.styles.minCellWidth||p,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(e){for(var r=0,n=t.columns;r<n.length;r++){var i=n[r],a=e.cells[i.index];if(a&&1===a.colSpan)i.wrappedWidth=Math.max(i.wrappedWidth,a.wrappedWidth),i.minWidth=Math.max(i.minWidth,a.minWidth),i.minReadableWidth=Math.max(i.minReadableWidth,a.minReadableWidth);else{var s=t.styles.columnStyles[i.dataKey]||t.styles.columnStyles[i.index]||{},o=s.cellWidth||s.minCellWidth;o&&"number"===typeof o&&(i.minWidth=o,i.wrappedWidth=o)}a&&(a.colSpan>1&&!i.minWidth&&(i.minWidth=a.minWidth),a.colSpan>1&&!i.wrappedWidth&&(i.wrappedWidth=a.minWidth))}})}(e,t);var r=[],s=0;t.columns.forEach(function(e){var n=e.getMaxCustomCellWidth(t);n?e.width=n:(e.width=e.wrappedWidth,r.push(e)),s+=e.width});var o=t.getWidth(e.pageSize().width)-s;o&&(o=i(r,o,function(e){return Math.max(e.minReadableWidth,e.minWidth)})),o&&(o=i(r,o,function(e){return e.minWidth})),o=Math.abs(o),!t.settings.horizontalPageBreak&&o>.1/e.scaleFactor()&&(o=o<1?o:Math.round(o),console.warn("Of the table content, ".concat(o," units width could not fit page"))),function(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],i=null,a=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if((s-=1)>1&&e.columns[o+1])a+=l.width,delete n.cells[l.index];else if(i){var c=i;delete n.cells[l.index],i=null,c.width=l.width+a}else{if(!(c=n.cells[l.index]))continue;if(s=c.colSpan,a=0,c.colSpan>1){i=c,a+=l.width;continue}c.width=l.width+a}}}(t),function(e,t){for(var r={count:0,height:0},n=0,i=e.allRows();n<i.length;n++){for(var s=i[n],o=0,l=e.columns;o<l.length;o++){var c=l[o],d=s.cells[c.index];if(d){t.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if("linebreak"===d.styles.overflow)d.text=t.splitTextToSize(d.text,u+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if("ellipsize"===d.styles.overflow)d.text=a(d.text,u,d.styles,t,"...");else if("hidden"===d.styles.overflow)d.text=a(d.text,u,d.styles,t,"");else if("function"===typeof d.styles.overflow){var h=d.styles.overflow(d.text,u);d.text="string"===typeof h?[h]:h}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var f=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<f*d.rowSpan?r={height:f,count:d.rowSpan}:r&&r.count>0&&r.height>f&&(f=r.height),f>s.height&&(s.height=f)}}r.count--}}(t,e),function(e){for(var t={},r=1,n=e.allRows(),i=0;i<n.length;i++)for(var a=n[i],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete a.cells[l.index];else if(c)c.cell.height+=a.height,r=c.cell.colSpan,delete a.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var d=a.cells[l.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var u=n.length-i,h=d.rowSpan>u?u:d.rowSpan;t[l.index]={cell:d,left:h,row:a}}}}}(t)},t.resizeColumns=i,t.ellipsize=a},964:function(t){if("undefined"===typeof e){var r=new Error("Cannot find module 'undefined'");throw r.code="MODULE_NOT_FOUND",r}t.exports=e}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var a=r[e]={exports:{}};return t[e].call(a.exports,a,a.exports,n),a.exports}var i={};return function(){var e=i;Object.defineProperty(e,"__esModule",{value:!0}),e.Cell=e.Column=e.Row=e.Table=e.CellHookData=e.__drawTable=e.__createTable=e.applyPlugin=void 0;var t=n(340),r=n(776),a=n(664),s=n(972),o=n(260);Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return o.Table}});var l=n(172);Object.defineProperty(e,"CellHookData",{enumerable:!0,get:function(){return l.CellHookData}});var c=n(260);function d(e){(0,t.default)(e)}Object.defineProperty(e,"Cell",{enumerable:!0,get:function(){return c.Cell}}),Object.defineProperty(e,"Column",{enumerable:!0,get:function(){return c.Column}}),Object.defineProperty(e,"Row",{enumerable:!0,get:function(){return c.Row}}),e.applyPlugin=d,e.__createTable=function(e,t){var n=(0,r.parseInput)(e,t);return(0,s.createTable)(e,n)},e.__drawTable=function(e,t){(0,a.drawTable)(e,t)};try{var u=n(964);u.jsPDF&&(u=u.jsPDF),d(u)}catch(h){}e.default=function(e,t){var n=(0,r.parseInput)(e,t),i=(0,s.createTable)(e,n);(0,a.drawTable)(e,i)}}(),i}()},e.exports=n(function(){try{return r(7762)}catch(e){}}())},579:(e,t,r)=>{"use strict";e.exports=r(1153)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1153:(e,t,r)=>{"use strict";var n=r(5043),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,a={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:i,type:e,key:c,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},1203:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&n.isLength(e.length)}},1293:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof r&&(r={});const{leading:i=!1,trailing:a=!0,maxWait:s}=r,o=Array(2);let l;i&&(o[0]="leading"),a&&(o[1]="trailing");let c=null;const d=n.debounce(function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];l=e.apply(this,r),c=null},t,{edges:o}),u=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return null!=s&&(null===c&&(c=Date.now()),Date.now()-c>=s)?(l=e.apply(this,r),c=Date.now(),d.cancel(),d.schedule(),l):(d.apply(this,r),l)};return u.cancel=d.cancel,u.flush=()=>(d.flush(),l),u}},1444:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(418),i=r(3272);t.toPath=function(e){if(Array.isArray(e))return e.map(i.toKey);if("symbol"===typeof e)return[e];const t=[],r=(e=n.toString(e)).length;if(0===r)return t;let a=0,s="",o="",l=!1;for(46===e.charCodeAt(0)&&(t.push(""),a++);a<r;){const n=e[a];o?"\\"===n&&a+1<r?(a++,s+=e[a]):n===o?o="":s+=n:l?'"'===n||"'"===n?o=n:"]"===n?(l=!1,t.push(s),s=""):s+=n:"["===n?(l=!0,s&&(t.push(s),s="")):"."===n?s&&(t.push(s),s=""):s+=n,a++}return s&&t.push(s),t}},2086:(e,t,r)=>{"use strict";e.exports=r(5082)},2104:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(1203),i=r(9921);t.isArrayLikeObject=function(e){return i.isObjectLike(e)&&n.isArrayLike(e)}},2132:(e,t,r)=>{"use strict";var n=r(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const i=r(870),a=r(4803),s=r(9972);function o(e,t,r,d){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,r,n){if(null==t)return!0;if(Array.isArray(t))return l(e,t,r,n);if(t instanceof Map)return function(e,t,r,n){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries()){if(!1===r(e.get(i),a,i,e,t,n))return!1}return!0}(e,t,r,n);if(t instanceof Set)return c(e,t,r,n);const i=Object.keys(t);if(null==e)return 0===i.length;if(0===i.length)return!0;if(null!==n&&void 0!==n&&n.has(t))return n.get(t)===e;null===n||void 0===n||n.set(t,e);try{for(let s=0;s<i.length;s++){const o=i[s];if(!a.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!r(e[o],t[o],o,e,t,n))return!1}return!0}finally{null===n||void 0===n||n.delete(t)}}(e,t,r,d);case"function":return Object.keys(t).length>0?o(e,n({},t),r,d):s.eq(e,t);default:return i.isObject(e)?"string"!==typeof t||""===t:s.eq(e,t)}}function l(e,t,r,n){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const s=t[a];let o=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(r(e[l],s,a,e,t,n)&&(c=!0),c){i.add(l),o=!0;break}}if(!o)return!1}return!0}function c(e,t,r,n){return 0===t.size||e instanceof Set&&l([...e],[...t],r,n)}t.isMatchWith=function e(t,r,n){return"function"!==typeof n?e(t,r,()=>{}):o(t,r,function e(t,r,i,a,s,l){const c=n(t,r,i,a,s,l);return void 0!==c?Boolean(c):o(t,r,e,l)},new Map)},t.isSetMatch=c},2204:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5316),i=r(7312),a=r(3799);t.sortBy=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];const o=r.length;return o>1&&a.isIterateeCall(e,r[0],r[1])?r=[]:o>2&&a.isIterateeCall(r[0],r[1],r[2])&&(r=[r[0]]),n.orderBy(e,i.flatten(r),["asc"])}},2284:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{A:()=>n})},2330:(e,t,r)=>{"use strict";var n=r(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=n.useState,s=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(n){return!0}}var d="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,d=n[1];return o(function(){i.value=r,i.getSnapshot=t,c(i)&&d({inst:i})},[e,r,t]),s(function(){return c(i)&&d({inst:i}),e(function(){c(i)&&d({inst:i})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const r=e[Symbol.toStringTag];if(null==r)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(r,"]")}let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}},2715:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9599),i=r(7330),a=r(3808),s=r(8845);t.iteratee=function(e){if(null==e)return n.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?s.matchesProperty(e[0],e[1]):a.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},2730:(e,t,r)=>{"use strict";var n=r(5043),i=r(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,r,n,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,r,n){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!u.call(p,e)||!u.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,R=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=n.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case k:return"Profiler";case _:return"StrictMode";case E:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return q(e(t))}catch(r){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=V(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var r=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Q(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Z(e,t){$(e,t);var r=H(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Y(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(te(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function ae(e,t){var r=H(t.value),n=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var xe=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,_e=null;function ke(e){if(e=vi(e)){if("function"!==typeof je)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),je(e.stateNode,e.type,t))}}function Se(e){Ne?_e?_e.push(e):_e=[e]:Ne=e}function Ae(){if(Ne){var e=Ne,t=_e;if(_e=Ne=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Ee(){}var Pe=!1;function Te(e,t,r){if(Pe)return e(t,r);Pe=!0;try{return Ce(e,t,r)}finally{Pe=!1,(null!==Ne||null!==_e)&&(Ee(),Ae())}}function Oe(e,t){var r=e.stateNode;if(null===r)return null;var n=wi(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var Ie=!1;if(d)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(de){Ie=!1}function De(e,t,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Me=!1,Re=null,Fe=!1,Be=null,ze={onError:function(e){Me=!0,Re=e}};function Ue(e,t,r,n,i,a,s,o,l){Me=!1,Re=null,De.apply(ze,arguments)}function qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(a(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(n=i.return)){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return He(i),e;if(s===n)return He(i),t;s=s.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Qe=i.unstable_requestPaint,$e=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,it=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&r;if(0!==s){var o=s&~i;0!==o?n=ut(o):0!==(a&=s)&&(n=ut(a))}else 0!==(s=r&~i)?n=ut(s):0!==a&&(n=ut(a));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&i)&&((i=n&-n)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-st(t)),n|=e[r],t&=~i;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,_t,kt,St=!1,At=[],Ct=null,Et=null,Pt=null,Tt=new Map,Ot=new Map,It=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,r,n,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&jt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Rt(e){var t=yi(e.target);if(null!==t){var r=qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=We(r)))return e.blockedOn=t,void kt(e.priority,function(){Nt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=vi(r))&&jt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);be=n,r.target.dispatchEvent(n),be=null,t.shift()}return!0}function Bt(e,t,r){Ft(e)&&r.delete(t)}function zt(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Et&&Ft(Et)&&(Et=null),null!==Pt&&Ft(Pt)&&(Pt=null),Tt.forEach(Bt),Ot.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function qt(e){function t(t){return Ut(t,e)}if(0<At.length){Ut(At[0],e);for(var r=1;r<At.length;r++){var n=At[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Ct&&Ut(Ct,e),null!==Et&&Ut(Et,e),null!==Pt&&Ut(Pt,e),Tt.forEach(t),Ot.forEach(t),r=0;r<It.length;r++)(n=It[r]).blockedOn===e&&(n.blockedOn=null);for(;0<It.length&&null===(r=It[0]).blockedOn;)Rt(r),null===r.blockedOn&&It.shift()}var Wt=b.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,r,n){var i=vt,a=Wt.transition;Wt.transition=null;try{vt=1,Kt(e,t,r,n)}finally{vt=i,Wt.transition=a}}function Gt(e,t,r,n){var i=vt,a=Wt.transition;Wt.transition=null;try{vt=4,Kt(e,t,r,n)}finally{vt=i,Wt.transition=a}}function Kt(e,t,r,n){if(Ht){var i=Xt(e,t,r,n);if(null===i)Hn(e,t,n,Yt,r),Dt(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,r,n,i),!0;case"dragenter":return Et=Mt(Et,e,t,r,n,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Tt.set(a,Mt(Tt.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(Dt(e,n),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=vi(i);if(null!==a&&wt(a),null===(a=Xt(e,t,r,n))&&Hn(e,t,n,Yt,r),a===i)break;i=a}null!==i&&n.stopPropagation()}else Hn(e,t,n,null,r)}}var Yt=null;function Xt(e,t,r,n){if(Yt=null,null!==(e=yi(e=we(n))))if(null===(t=qe(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var $t=null,Zt=null,Jt=null;function er(){if(Jt)return Jt;var e,t,r=Zt,n=r.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<n&&r[e]===i[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ir(e){function t(t,r,n,i,a){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ar,sr,or,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ir(lr),dr=R({},lr,{view:0,detail:0}),ur=ir(dr),hr=R({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&"mousemove"===e.type?(ar=e.screenX-or.screenX,sr=e.screenY-or.screenY):sr=ar=0,or=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),fr=ir(hr),pr=ir(R({},hr,{dataTransfer:0})),mr=ir(R({},dr,{relatedTarget:0})),gr=ir(R({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),xr=R({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ir(xr),vr=ir(R({},lr,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function _r(){return Nr}var kr=R({},dr,{key:function(e){if(e.key){var t=br[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sr=ir(kr),Ar=ir(R({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cr=ir(R({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r})),Er=ir(R({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pr=R({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tr=ir(Pr),Or=[9,13,27,32],Ir=d&&"CompositionEvent"in window,Lr=null;d&&"documentMode"in document&&(Lr=document.documentMode);var Dr=d&&"TextEvent"in window&&!Lr,Mr=d&&(!Ir||Lr&&8<Lr&&11>=Lr),Rr=String.fromCharCode(32),Fr=!1;function Br(e,t){switch(e){case"keyup":return-1!==Or.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ur=!1;var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qr[e.type]:"textarea"===t}function Hr(e,t,r,n){Se(n),0<(t=Gn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vr=null,Gr=null;function Kr(e){Fn(e,0)}function Yr(e){if(K(bi(e)))return e}function Xr(e,t){if("change"===e)return t}var Qr=!1;if(d){var $r;if(d){var Zr="oninput"in document;if(!Zr){var Jr=document.createElement("div");Jr.setAttribute("oninput","return;"),Zr="function"===typeof Jr.oninput}$r=Zr}else $r=!1;Qr=$r&&(!document.documentMode||9<document.documentMode)}function en(){Vr&&(Vr.detachEvent("onpropertychange",tn),Gr=Vr=null)}function tn(e){if("value"===e.propertyName&&Yr(Gr)){var t=[];Hr(t,Gr,e,we(e)),Te(Kr,t)}}function rn(e,t,r){"focusin"===e?(en(),Gr=r,(Vr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yr(Gr)}function an(e,t){if("click"===e)return Yr(t)}function sn(e,t){if("input"===e||"change"===e)return Yr(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!u.call(t,i)||!on(e[i],t[i]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Y((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=hn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=void 0===n.end?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=dn(r,a);var s=dn(r,n);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=d&&"documentMode"in document&&11>=document.documentMode,gn=null,xn=null,yn=null,vn=!1;function bn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;vn||null==gn||gn!==Y(n)||("selectionStart"in(n=gn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&ln(yn,n)||(yn=n,0<(n=Gn(xn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},Nn={},_n={};function kn(e){if(Nn[e])return Nn[e];if(!jn[e])return e;var t,r=jn[e];for(t in r)if(r.hasOwnProperty(t)&&t in _n)return Nn[e]=r[t];return e}d&&(_n=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);var Sn=kn("animationend"),An=kn("animationiteration"),Cn=kn("animationstart"),En=kn("transitionend"),Pn=new Map,Tn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(e,t){Pn.set(e,t),l(t,[e])}for(var In=0;In<Tn.length;In++){var Ln=Tn[In];On(Ln.toLowerCase(),"on"+(Ln[0].toUpperCase()+Ln.slice(1)))}On(Sn,"onAnimationEnd"),On(An,"onAnimationIteration"),On(Cn,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(En,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function Rn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,s,o,l,c){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(a(198));var d=Re;Me=!1,Re=null,Fe||(Fe=!0,Be=d)}}(n,t,void 0,e),e.currentTarget=null}function Fn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Rn(i,o,c),a=l}else for(s=0;s<n.length;s++){if(l=(o=n[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Rn(i,o,c),a=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Bn(e,t){var r=t[mi];void 0===r&&(r=t[mi]=new Set);var n=e+"__bubble";r.has(n)||(Wn(t,e,2,!1),r.add(n))}function zn(e,t,r){var n=0;t&&(n|=4),Wn(r,e,n,t)}var Un="_reactListening"+Math.random().toString(36).slice(2);function qn(e){if(!e[Un]){e[Un]=!0,s.forEach(function(t){"selectionchange"!==t&&(Mn.has(t)||zn(t,!1,e),zn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Un]||(t[Un]=!0,zn("selectionchange",!1,t))}}function Wn(e,t,r,n){switch(Qt(t)){case 1:var i=Vt;break;case 4:i=Gt;break;default:i=Kt}r=i.bind(null,t,r,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Hn(e,t,r,n,i){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var o=n.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=yi(o)))return;if(5===(l=s.tag)||6===l){n=a=s;continue e}o=o.parentNode}}n=n.return}Te(function(){var n=a,i=we(r),s=[];e:{var o=Pn.get(e);if(void 0!==o){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Sr;break;case"focusin":c="focus",l=mr;break;case"focusout":c="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cr;break;case Sn:case An:case Cn:l=gr;break;case En:l=Er;break;case"scroll":l=ur;break;case"wheel":l=Tr;break;case"copy":case"cut":case"paste":l=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ar}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Oe(p,h))&&d.push(Vn(p,m,f)))),u)break;p=p.return}0<d.length&&(o=new l(o,c,null,r,i),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===be||!(c=r.relatedTarget||r.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?yi(c):null)&&(c!==(u=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=fr,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ar,m="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==l?o:bi(l),f=null==c?o:bi(c),(o=new d(m,p+"leave",l,r,i)).target=u,o.relatedTarget=f,m=null,yi(i)===n&&((d=new d(h,p+"enter",c,r,i)).target=f,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(h=c,p=0,f=d=l;f;f=Kn(f))p++;for(f=0,m=h;m;m=Kn(m))f++;for(;0<p-f;)d=Kn(d),p--;for(;0<f-p;)h=Kn(h),f--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=Kn(d),h=Kn(h)}d=null}else d=null;null!==l&&Yn(s,o,l,d,!1),null!==c&&null!==u&&Yn(s,u,c,d,!0)}if("select"===(l=(o=n?bi(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xr;else if(Wr(o))if(Qr)g=sn;else{g=nn;var x=rn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=an);switch(g&&(g=g(e,n))?Hr(s,g,r,i):(x&&x(e,o,n),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&ee(o,"number",o.value)),x=n?bi(n):window,e){case"focusin":(Wr(x)||"true"===x.contentEditable)&&(gn=x,xn=n,yn=null);break;case"focusout":yn=xn=gn=null;break;case"mousedown":vn=!0;break;case"contextmenu":case"mouseup":case"dragend":vn=!1,bn(s,r,i);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":bn(s,r,i)}var y;if(Ir)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ur?Br(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(Mr&&"ko"!==r.locale&&(Ur||"onCompositionStart"!==v?"onCompositionEnd"===v&&Ur&&(y=er()):(Zt="value"in($t=i)?$t.value:$t.textContent,Ur=!0)),0<(x=Gn(n,v)).length&&(v=new vr(v,e,null,r,i),s.push({event:v,listeners:x}),y?v.data=y:null!==(y=zr(r))&&(v.data=y))),(y=Dr?function(e,t){switch(e){case"compositionend":return zr(t);case"keypress":return 32!==t.which?null:(Fr=!0,Rr);case"textInput":return(e=t.data)===Rr&&Fr?null:e;default:return null}}(e,r):function(e,t){if(Ur)return"compositionend"===e||!Ir&&Br(e,t)?(e=er(),Jt=Zt=$t=null,Ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Gn(n,"onBeforeInput")).length&&(i=new vr("onBeforeInput","beforeinput",null,r,i),s.push({event:i,listeners:n}),i.data=y))}Fn(s,t)})}function Vn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gn(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,r))&&n.unshift(Vn(e,a,i)),null!=(a=Oe(e,t))&&n.push(Vn(e,a,i))),e=e.return}return n}function Kn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t,r,n,i){for(var a=t._reactName,s=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Oe(r,a))&&s.unshift(Vn(r,l,o)):i||null!=(l=Oe(r,a))&&s.push(Vn(r,l,o))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var Xn=/\r\n?/g,Qn=/\u0000|\uFFFD/g;function $n(e){return("string"===typeof e?e:""+e).replace(Xn,"\n").replace(Qn,"")}function Zn(e,t,r){if(t=$n(t),$n(e)!==t&&r)throw Error(a(425))}function Jn(){}var ei=null,ti=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ni;function oi(e){setTimeout(function(){throw e})}function li(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return e.removeChild(i),void qt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),hi="__reactFiber$"+ui,fi="__reactProps$"+ui,pi="__reactContainer$"+ui,mi="__reactEvents$"+ui,gi="__reactListeners$"+ui,xi="__reactHandles$"+ui;function yi(e){var t=e[hi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pi]||r[hi]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=di(e);null!==e;){if(r=e[hi])return r;e=di(e)}return t}r=(e=r).parentNode}return null}function vi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[fi]||null}var ji=[],Ni=-1;function _i(e){return{current:e}}function ki(e){0>Ni||(e.current=ji[Ni],ji[Ni]=null,Ni--)}function Si(e,t){Ni++,ji[Ni]=e.current,e.current=t}var Ai={},Ci=_i(Ai),Ei=_i(!1),Pi=Ai;function Ti(e,t){var r=e.type.contextTypes;if(!r)return Ai;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ii(){ki(Ei),ki(Ci)}function Li(e,t,r){if(Ci.current!==Ai)throw Error(a(168));Si(Ci,t),Si(Ei,r)}function Di(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in t))throw Error(a(108,W(e)||"Unknown",i));return R({},r,n)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Pi=Ci.current,Si(Ci,e),Si(Ei,Ei.current),!0}function Ri(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=Di(e,t,Pi),n.__reactInternalMemoizedMergedChildContext=e,ki(Ei),ki(Ci),Si(Ci,e)):ki(Ei),Si(Ei,r)}var Fi=null,Bi=!1,zi=!1;function Ui(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!zi&&null!==Fi){zi=!0;var e=0,t=vt;try{var r=Fi;for(vt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Fi=null,Bi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Je,qi),i}finally{vt=t,zi=!1}}return null}var Wi=[],Hi=0,Vi=null,Gi=0,Ki=[],Yi=0,Xi=null,Qi=1,$i="";function Zi(e,t){Wi[Hi++]=Gi,Wi[Hi++]=Vi,Vi=e,Gi=t}function Ji(e,t,r){Ki[Yi++]=Qi,Ki[Yi++]=$i,Ki[Yi++]=Xi,Xi=e;var n=Qi;e=$i;var i=32-st(n)-1;n&=~(1<<i),r+=1;var a=32-st(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Qi=1<<32-st(t)+i|r<<i|n,$i=a+e}else Qi=1<<a|r<<i|n,$i=e}function ea(e){null!==e.return&&(Zi(e,1),Ji(e,1,0))}function ta(e){for(;e===Vi;)Vi=Wi[--Hi],Wi[Hi]=null,Gi=Wi[--Hi],Wi[Hi]=null;for(;e===Xi;)Xi=Ki[--Yi],Ki[Yi]=null,$i=Ki[--Yi],Ki[Yi]=null,Qi=Ki[--Yi],Ki[Yi]=null}var ra=null,na=null,ia=!1,aa=null;function sa(e,t){var r=Tc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function oa(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,na=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,na=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Xi?{id:Qi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Tc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ra=e,na=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=na;if(t){var r=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=ci(r.nextSibling);var n=ra;t&&oa(e,t)?sa(n,r):(e.flags=-4097&e.flags|2,ia=!1,ra=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function ua(e){if(e!==ra)return!1;if(!ia)return da(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=na)){if(la(e))throw ha(),Error(a(418));for(;t;)sa(e,t),t=ci(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){na=ci(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}na=null}}else na=ra?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=na;e;)e=ci(e.nextSibling)}function fa(){na=ra=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=b.ReactCurrentBatchConfig;function ga(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=n,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function xa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function va(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Rc(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function c(e,t,r,n){var a=r.type;return a===N?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&ya(a)===t.type)?((n=i(t,r.props)).ref=ga(e,t,r),n.return=e,n):((n=Lc(r.type,r.key,r.props,null,e.mode,n)).ref=ga(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Fc(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function u(e,t,r,n,a){return null===t||7!==t.tag?((t=Dc(r,e.mode,n,a)).return=e,t):((t=i(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Lc(t.type,t.key,t.props,null,e.mode,r)).ref=ga(e,null,t),r.return=e,r;case j:return(t=Fc(t,e.mode,r)).return=e,t;case O:return h(e,(0,t._init)(t._payload),r)}if(te(t)||D(t))return(t=Dc(t,e.mode,r,null)).return=e,t;xa(e,t)}return null}function f(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===i?c(e,t,r,n):null;case j:return r.key===i?d(e,t,r,n):null;case O:return f(e,t,(i=r._init)(r._payload),n)}if(te(r)||D(r))return null!==i?null:u(e,t,r,n,null);xa(e,r)}return null}function p(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i);case j:return d(t,e=e.get(null===n.key?r:n.key)||null,n,i);case O:return p(e,t,r,(0,n._init)(n._payload),i)}if(te(n)||D(n))return u(t,e=e.get(r)||null,n,i,null);xa(t,n)}return null}function m(i,a,o,l){for(var c=null,d=null,u=a,m=a=0,g=null;null!==u&&m<o.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var x=f(i,u,o[m],l);if(null===x){null===u&&(u=g);break}e&&u&&null===x.alternate&&t(i,u),a=s(x,a,m),null===d?c=x:d.sibling=x,d=x,u=g}if(m===o.length)return r(i,u),ia&&Zi(i,m),c;if(null===u){for(;m<o.length;m++)null!==(u=h(i,o[m],l))&&(a=s(u,a,m),null===d?c=u:d.sibling=u,d=u);return ia&&Zi(i,m),c}for(u=n(i,u);m<o.length;m++)null!==(g=p(u,i,m,o[m],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?m:g.key),a=s(g,a,m),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(i,e)}),ia&&Zi(i,m),c}function g(i,o,l,c){var d=D(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,m=o,g=o=0,x=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(x=m,m=null):x=m.sibling;var v=f(i,m,y.value,c);if(null===v){null===m&&(m=x);break}e&&m&&null===v.alternate&&t(i,m),o=s(v,o,g),null===u?d=v:u.sibling=v,u=v,m=x}if(y.done)return r(i,m),ia&&Zi(i,g),d;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=s(y,o,g),null===u?d=y:u.sibling=y,u=y);return ia&&Zi(i,g),d}for(m=n(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=s(y,o,g),null===u?d=y:u.sibling=y,u=y);return e&&m.forEach(function(e){return t(i,e)}),ia&&Zi(i,g),d}return function e(n,a,s,l){if("object"===typeof s&&null!==s&&s.type===N&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,d=a;null!==d;){if(d.key===c){if((c=s.type)===N){if(7===d.tag){r(n,d.sibling),(a=i(d,s.props.children)).return=n,n=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&ya(c)===d.type){r(n,d.sibling),(a=i(d,s.props)).ref=ga(n,d,s),a.return=n,n=a;break e}r(n,d);break}t(n,d),d=d.sibling}s.type===N?((a=Dc(s.props.children,n.mode,l,s.key)).return=n,n=a):((l=Lc(s.type,s.key,s.props,null,n.mode,l)).ref=ga(n,a,s),l.return=n,n=l)}return o(n);case j:e:{for(d=s.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){r(n,a.sibling),(a=i(a,s.children||[])).return=n,n=a;break e}r(n,a);break}t(n,a),a=a.sibling}(a=Fc(s,n.mode,l)).return=n,n=a}return o(n);case O:return e(n,a,(d=s._init)(s._payload),l)}if(te(s))return m(n,a,s,l);if(D(s))return g(n,a,s,l);xa(n,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(r(n,a.sibling),(a=i(a,s)).return=n,n=a):(r(n,a),(a=Rc(s,n.mode,l)).return=n,n=a),o(n)):r(n,a)}}var ba=va(!0),wa=va(!1),ja=_i(null),Na=null,_a=null,ka=null;function Sa(){ka=_a=Na=null}function Aa(e){var t=ja.current;ki(ja),e._currentValue=t}function Ca(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ea(e,t){Na=e,ka=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Pa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===Na)throw Error(a(308));_a=e,Na.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Ta=null;function Oa(e){null===Ta?Ta=[e]:Ta.push(e)}function Ia(e,t,r,n){var i=t.interleaved;return null===i?(r.next=r,Oa(t)):(r.next=i.next,i.next=r),t.interleaved=r,La(e,n)}function La(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Da=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Cl)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,La(e,r)}return null===(i=n.interleaved)?(t.next=t,Oa(n)):(t.next=i.next,i.next=t),n.interleaved=t,La(e,r)}function za(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Ua(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?i=a=s:a=a.next=s,r=r.next}while(null!==r);null===a?i=a=t:a=a.next=t}else i=a=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qa(e,t,r,n){var i=e.updateQueue;Da=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=i.baseState;for(s=0,d=c=l=null,o=a;;){var h=o.lane,f=o.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=r,m.tag){case 1:if("function"===typeof(p=m.payload)){u=p.call(f,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,u,h):p)||void 0===h)break e;u=R({},u,h);break e;case 2:Da=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===d&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=u}}function Wa(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(a(191,i));i.call(n)}}}var Ha={},Va=_i(Ha),Ga=_i(Ha),Ka=_i(Ha);function Ya(e){if(e===Ha)throw Error(a(174));return e}function Xa(e,t){switch(Si(Ka,t),Si(Ga,e),Si(Va,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Va),Si(Va,t)}function Qa(){ki(Va),ki(Ga),ki(Ka)}function $a(e){Ya(Ka.current);var t=Ya(Va.current),r=le(t,e.type);t!==r&&(Si(Ga,e),Si(Va,r))}function Za(e){Ga.current===e&&(ki(Va),ki(Ga))}var Ja=_i(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function rs(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var ns=b.ReactCurrentDispatcher,is=b.ReactCurrentBatchConfig,as=0,ss=null,os=null,ls=null,cs=!1,ds=!1,us=0,hs=0;function fs(){throw Error(a(321))}function ps(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function ms(e,t,r,n,i,s){if(as=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ns.current=null===e||null===e.memoizedState?Zs:Js,e=r(n,i),ds){s=0;do{if(ds=!1,us=0,25<=s)throw Error(a(301));s+=1,ls=os=null,t.updateQueue=null,ns.current=eo,e=r(n,i)}while(ds)}if(ns.current=$s,t=null!==os&&null!==os.next,as=0,ls=os=ss=null,cs=!1,t)throw Error(a(300));return e}function gs(){var e=0!==us;return us=0,e}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function ys(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(a(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function vs(e,t){return"function"===typeof t?t(e):t}function bs(e){var t=ys(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=os,i=n.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(null!==i){s=i.next,n=n.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if((as&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=n):c=c.next=h,ss.lanes|=u,Ml|=u}d=d.next}while(null!==d&&d!==s);null===c?o=n:c.next=l,on(n,t.memoizedState)||(vo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){i=e;do{s=i.lane,ss.lanes|=s,Ml|=s,i=i.next}while(i!==e)}else null===i&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ws(e){var t=ys(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(null!==i){r.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);on(s,t.memoizedState)||(vo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function js(){}function Ns(e,t){var r=ss,n=ys(),i=t(),s=!on(n.memoizedState,i);if(s&&(n.memoizedState=i,vo=!0),n=n.queue,Ds(Ss.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(r.flags|=2048,Ps(9,ks.bind(null,r,n,i,t),void 0,null),null===El)throw Error(a(349));0!==(30&as)||_s(r,t,i)}return i}function _s(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function ks(e,t,r,n){t.value=r,t.getSnapshot=n,As(t)&&Cs(e)}function Ss(e,t,r){return r(function(){As(t)&&Cs(e)})}function As(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(n){return!0}}function Cs(e){var t=La(e,1);null!==t&&rc(t,e,1,-1)}function Es(e){var t=xs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,ss,e),[t.memoizedState,e]}function Ps(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Ts(){return ys().memoizedState}function Os(e,t,r,n){var i=xs();ss.flags|=e,i.memoizedState=Ps(1|t,r,void 0,void 0===n?null:n)}function Is(e,t,r,n){var i=ys();n=void 0===n?null:n;var a=void 0;if(null!==os){var s=os.memoizedState;if(a=s.destroy,null!==n&&ps(n,s.deps))return void(i.memoizedState=Ps(t,r,a,n))}ss.flags|=e,i.memoizedState=Ps(1|t,r,a,n)}function Ls(e,t){return Os(8390656,8,e,t)}function Ds(e,t){return Is(2048,8,e,t)}function Ms(e,t){return Is(4,2,e,t)}function Rs(e,t){return Is(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Is(4,4,Fs.bind(null,t,e),r)}function zs(){}function Us(e,t){var r=ys();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ps(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qs(e,t){var r=ys();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ps(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ws(e,t,r){return 0===(21&as)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=r):(on(r,t)||(r=mt(),ss.lanes|=r,Ml|=r,e.baseState=!0),t)}function Hs(e,t){var r=vt;vt=0!==r&&4>r?r:4,e(!0);var n=is.transition;is.transition={};try{e(!1),t()}finally{vt=r,is.transition=n}}function Vs(){return ys().memoizedState}function Gs(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ys(e))Xs(t,r);else if(null!==(r=Ia(e,t,r,n))){rc(r,e,n,ec()),Qs(r,t,n)}}function Ks(e,t,r){var n=tc(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Xs(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,on(o,s)){var l=t.interleaved;return null===l?(i.next=i,Oa(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(r=Ia(e,t,i,n))&&(rc(r,e,n,i=ec()),Qs(r,t,n))}}function Ys(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Xs(e,t){ds=cs=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qs(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var $s={readContext:Pa,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:Pa,useCallback:function(e,t){return xs().memoizedState=[e,void 0===t?null:t],e},useContext:Pa,useEffect:Ls,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Os(4194308,4,Fs.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var r=xs();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xs();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Gs.bind(null,ss,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},xs().memoizedState=e},useState:Es,useDebugValue:zs,useDeferredValue:function(e){return xs().memoizedState=e},useTransition:function(){var e=Es(!1),t=e[0];return e=Hs.bind(null,e[1]),xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ss,i=xs();if(ia){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===El)throw Error(a(349));0!==(30&as)||_s(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Ls(Ss.bind(null,n,s,e),[e]),n.flags|=2048,Ps(9,ks.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=xs(),t=El.identifierPrefix;if(ia){var r=$i;t=":"+t+"R"+(r=(Qi&~(1<<32-st(Qi)-1)).toString(32)+r),0<(r=us++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Js={readContext:Pa,useCallback:Us,useContext:Pa,useEffect:Ds,useImperativeHandle:Bs,useInsertionEffect:Ms,useLayoutEffect:Rs,useMemo:qs,useReducer:bs,useRef:Ts,useState:function(){return bs(vs)},useDebugValue:zs,useDeferredValue:function(e){return Ws(ys(),os.memoizedState,e)},useTransition:function(){return[bs(vs)[0],ys().memoizedState]},useMutableSource:js,useSyncExternalStore:Ns,useId:Vs,unstable_isNewReconciler:!1},eo={readContext:Pa,useCallback:Us,useContext:Pa,useEffect:Ds,useImperativeHandle:Bs,useInsertionEffect:Ms,useLayoutEffect:Rs,useMemo:qs,useReducer:ws,useRef:Ts,useState:function(){return ws(vs)},useDebugValue:zs,useDeferredValue:function(e){var t=ys();return null===os?t.memoizedState=e:Ws(t,os.memoizedState,e)},useTransition:function(){return[ws(vs)[0],ys().memoizedState]},useMutableSource:js,useSyncExternalStore:Ns,useId:Vs,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var r in t=R({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ro(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:R({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),i=tc(e),a=Fa(n,i);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Ba(e,a,i))&&(rc(t,e,i,n),za(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),i=tc(e),a=Fa(n,i);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Ba(e,a,i))&&(rc(t,e,i,n),za(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),i=Fa(r,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ba(e,i,n))&&(rc(t,e,n,r),za(t,e,n))}};function io(e,t,r,n,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(i,a))}function ao(e,t,r){var n=!1,i=Ai,a=t.contextType;return"object"===typeof a&&null!==a?a=Pa(a):(i=Oi(t)?Pi:Ci.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ti(e,i):Ai),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function so(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Ma(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Pa(a):(a=Oi(t)?Pi:Ci.current,i.context=Ti(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ro(e,t,a,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&no.enqueueReplaceState(i,i.state,null),qa(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var r="",n=t;do{r+=U(n),n=n.return}while(n);var i=r}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,r){(r=Fa(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hl||(Hl=!0,Vl=n),uo(0,t)},r}function po(e,t,r){(r=Fa(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){uo(0,t),"function"!==typeof n&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function mo(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ho;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=kc.bind(null,e,t,r),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,r,n,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Fa(-1,1)).tag=2,Ba(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=b.ReactCurrentOwner,vo=!1;function bo(e,t,r,n){t.child=null===e?wa(t,null,r,n):ba(t,e.child,r,n)}function wo(e,t,r,n,i){r=r.render;var a=t.ref;return Ea(t,i),n=ms(e,t,r,n,a,i),r=gs(),null===e||vo?(ia&&r&&ea(t),t.flags|=1,bo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function jo(e,t,r,n,i){if(null===e){var a=r.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Lc(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,No(e,t,a,n,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(s,n)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Ic(a,n)).ref=t.ref,e.return=t,t.child=e}function No(e,t,r,n,i){if(null!==e){var a=e.memoizedProps;if(ln(a,n)&&e.ref===t.ref){if(vo=!1,t.pendingProps=n=a,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(vo=!0)}}return So(e,t,r,n,i)}function _o(e,t,r){var n=t.pendingProps,i=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Il,Ol),Ol|=r;else{if(0===(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Il,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:r,Si(Il,Ol),Ol|=n}else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,Si(Il,Ol),Ol|=n;return bo(e,t,i,r),t.child}function ko(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,r,n,i){var a=Oi(r)?Pi:Ci.current;return a=Ti(t,a),Ea(t,i),r=ms(e,t,r,n,a,i),n=gs(),null===e||vo?(ia&&n&&ea(t),t.flags|=1,bo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function Ao(e,t,r,n,i){if(Oi(r)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Wo(e,t),ao(t,r,n),oo(t,r,n,i),n=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;"object"===typeof c&&null!==c?c=Pa(c):c=Ti(t,c=Oi(r)?Pi:Ci.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==n||l!==c)&&so(t,s,n,c),Da=!1;var h=t.memoizedState;s.state=h,qa(t,n,s,i),l=t.memoizedState,o!==n||h!==l||Ei.current||Da?("function"===typeof d&&(ro(t,r,d,n),l=t.memoizedState),(o=Da||io(t,r,o,n,h,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Ra(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,u=t.pendingProps,h=s.context,"object"===typeof(l=r.contextType)&&null!==l?l=Pa(l):l=Ti(t,l=Oi(r)?Pi:Ci.current);var f=r.getDerivedStateFromProps;(d="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==u||h!==l)&&so(t,s,n,l),Da=!1,h=t.memoizedState,s.state=h,qa(t,n,s,i);var p=t.memoizedState;o!==u||h!==p||Ei.current||Da?("function"===typeof f&&(ro(t,r,f,n),p=t.memoizedState),(c=Da||io(t,r,c,n,h,p,l)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=l,n=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Co(e,t,r,n,a,i)}function Co(e,t,r,n,i,a){ko(e,t);var s=0!==(128&t.flags);if(!n&&!s)return i&&Ri(t,r,!1),Ho(e,t,a);n=t.stateNode,yo.current=t;var o=s&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,o,a)):bo(e,t,o,a),t.memoizedState=n.state,i&&Ri(t,r,!0),t.child}function Eo(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Xa(e,t.containerInfo)}function Po(e,t,r,n,i){return fa(),pa(i),t.flags|=256,bo(e,t,r,n),t.child}var To,Oo,Io,Lo,Do={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ro(e,t,r){var n,i=t.pendingProps,s=Ja.current,o=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&s)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Si(Ja,1&s),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,i,0,null),e=Dc(e,i,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(r),t.memoizedState=Do,e):Fo(t,l));if(null!==(s=e.memoizedState)&&null!==(n=s.dehydrated))return function(e,t,r,n,i,s,o){if(r)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,n=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Mc({mode:"visible",children:n.children},i,0,null),(s=Dc(s,i,o,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,0!==(1&t.mode)&&ba(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Do,s);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var l=n.dgst;return n=l,Bo(e,t,o,n=co(s=Error(a(419)),n,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(n=El)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(n.suspendedLanes|o))?0:i)&&i!==s.retryLane&&(s.retryLane=i,La(e,i),rc(n,e,i,-1))}return mc(),Bo(e,t,o,n=co(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,na=ci(i.nextSibling),ra=t,ia=!0,aa=null,null!==e&&(Ki[Yi++]=Qi,Ki[Yi++]=$i,Ki[Yi++]=Xi,Qi=e.id,$i=e.overflow,Xi=t),t=Fo(t,n.children),t.flags|=4096,t)}(e,t,l,i,n,s,r);if(o){o=i.fallback,l=t.mode,n=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ic(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==n?o=Ic(n,o):(o=Dc(o,l,r,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Do,i}return e=(o=e.child).sibling,i=Ic(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=r),i.return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,r,n){return null!==n&&pa(n),ba(t,e.child,null,r),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ca(e.return,t,r)}function Uo(e,t,r,n,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function qo(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(bo(e,t,n.children,r),0!==(2&(n=Ja.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,r,t);else if(19===e.tag)zo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Si(Ja,n),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===es(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Uo(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===es(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Uo(t,!0,r,null,a);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Ic(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ic(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Vo(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ko(e,t,r){var n=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Oi(t.type)&&Ii(),Go(t),null;case 3:return n=t.stateNode,Qa(),ki(Ei),ki(Ci),rs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Oo(e,t),Go(t),null;case 5:Za(t);var i=Ya(Ka.current);if(r=t.type,null!==e&&null!=t.stateNode)Io(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(a(166));return Go(t),null}if(e=Ya(Va.current),ua(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[hi]=t,n[fi]=s,e=0!==(1&t.mode),r){case"dialog":Bn("cancel",n),Bn("close",n);break;case"iframe":case"object":case"embed":Bn("load",n);break;case"video":case"audio":for(i=0;i<Dn.length;i++)Bn(Dn[i],n);break;case"source":Bn("error",n);break;case"img":case"image":case"link":Bn("error",n),Bn("load",n);break;case"details":Bn("toggle",n);break;case"input":Q(n,s),Bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Bn("invalid",n);break;case"textarea":ie(n,s),Bn("invalid",n)}for(var l in ye(r,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==s.suppressHydrationWarning&&Zn(n.textContent,c,e),i=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Zn(n.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Bn("scroll",n)}switch(r){case"input":G(n),J(n,s,!0);break;case"textarea":G(n),se(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Jn)}n=i,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[hi]=t,e[fi]=n,To(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(r,n),r){case"dialog":Bn("cancel",e),Bn("close",e),i=n;break;case"iframe":case"object":case"embed":Bn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Dn.length;i++)Bn(Dn[i],e);i=n;break;case"source":Bn("error",e),i=n;break;case"img":case"image":case"link":Bn("error",e),Bn("load",e),i=n;break;case"details":Bn("toggle",e),i=n;break;case"input":Q(e,n),i=X(e,n),Bn("invalid",e);break;case"option":default:i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=R({},n,{value:void 0}),Bn("invalid",e);break;case"textarea":ie(e,n),i=ne(e,n),Bn("invalid",e)}for(s in ye(r,i),c=i)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?ge(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==r||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Bn("scroll",e):null!=d&&v(e,s,d,l))}switch(r){case"input":G(e),J(e,n,!1);break;case"textarea":G(e),se(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?re(e,!!n.multiple,s,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));if(r=Ya(Ka.current),Ya(Va.current),ua(t)){if(n=t.stateNode,r=t.memoizedProps,n[hi]=t,(s=n.nodeValue!==r)&&null!==(e=ra))switch(e.tag){case 3:Zn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zn(n.nodeValue,r,0!==(1&e.mode))}s&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[hi]=t,t.stateNode=n}return Go(t),null;case 13:if(ki(Ja),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==na&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,s=!1;else if(s=ua(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),s=!1}else null!==aa&&(sc(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ja.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Qa(),Oo(e,t),null===e&&qn(t.stateNode.containerInfo),Go(t),null;case 10:return Aa(t.type._context),Go(t),null;case 19:if(ki(Ja),null===(s=t.memoizedState))return Go(t),null;if(n=0!==(128&t.flags),null===(l=s.rendering))if(n)Vo(s,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Vo(s,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Si(Ja,1&Ja.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>ql&&(t.flags|=128,n=!0,Vo(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=es(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Vo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ia)return Go(t),null}else 2*$e()-s.renderingStartTime>ql&&1073741824!==r&&(t.flags|=128,n=!0,Vo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=s.last)?r.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,r=Ja.current,Si(Ja,n?1&r|2:1&r),t):(Go(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yo(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),ki(Ei),ki(Ci),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(ki(Ja),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(Ja),null;case 4:return Qa(),null;case 10:return Aa(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}To=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Oo=function(){},Io=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ya(Va.current);var a,s=null;switch(r){case"input":i=X(e,i),n=X(e,n),s=[];break;case"select":i=R({},i,{value:void 0}),n=R({},n,{value:void 0}),s=[];break;case"textarea":i=ne(e,i),n=ne(e,n),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=Jn)}for(d in ye(r,n),r=null,i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var l=i[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=i?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Bn("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Lo=function(e,t,r,n){r!==n&&(t.flags|=4)};var Xo=!1,Qo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Zo=null;function Jo(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){_c(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){_c(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,r,a)}i=i.next}while(i!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function il(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[xi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Jn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var dl=null,ul=!1;function hl(e,t,r){for(r=r.child;null!==r;)fl(e,t,r),r=r.sibling}function fl(e,t,r){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,r)}catch(o){}switch(r.tag){case 5:Qo||Jo(r,t);case 6:var n=dl,i=ul;dl=null,hl(e,t,r),ul=i,null!==(dl=n)&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dl.removeChild(r.stateNode));break;case 18:null!==dl&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?li(e.parentNode,r):1===e.nodeType&&li(e,r),qt(e)):li(dl,r.stateNode));break;case 4:n=dl,i=ul,dl=r.stateNode.containerInfo,ul=!0,hl(e,t,r),dl=n,ul=i;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&el(r,t,s),i=i.next}while(i!==n)}hl(e,t,r);break;case 1:if(!Qo&&(Jo(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){_c(r,t,o)}hl(e,t,r);break;case 21:hl(e,t,r);break;case 22:1&r.mode?(Qo=(n=Qo)||null!==r.memoizedState,hl(e,t,r),Qo=n):hl(e,t,r);break;default:hl(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new $o),t.forEach(function(t){var n=Cc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function ml(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(a(160));fl(s,o,i),dl=null,ul=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(d){_c(i,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),xl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(g){_c(e,e.return,g)}try{rl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:ml(t,e),xl(e),512&n&&null!==r&&Jo(r,r.return);break;case 5:if(ml(t,e),xl(e),512&n&&null!==r&&Jo(r,r.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){_c(e,e.return,g)}}if(4&n&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==r?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(i,s),ve(l,o);var d=ve(l,s);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?ge(i,h):"dangerouslySetInnerHTML"===u?ue(i,h):"children"===u?he(i,h):v(i,u,h,d)}switch(l){case"input":Z(i,s);break;case"textarea":ae(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?re(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?re(i,!!s.multiple,s.defaultValue,!0):re(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){_c(e,e.return,g)}}break;case 6:if(ml(t,e),xl(e),4&n){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){_c(e,e.return,g)}}break;case 3:if(ml(t,e),xl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:ml(t,e),xl(e);break;case 13:ml(t,e),xl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=$e())),4&n&&pl(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Qo=(d=Qo)||u,ml(t,e),Qo=d):ml(t,e),xl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zo=e,u=e.child;null!==u;){for(h=Zo=u;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:Jo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_c(n,r,g)}}break;case 5:Jo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Zo=p):wl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{i=h.stateNode,d?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){_c(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),xl(e),4&n&&pl(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(sl(r)){var n=r;break e}r=r.return}throw Error(a(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(he(i,""),n.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var s=n.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(a(161))}}catch(o){_c(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,r){Zo=e,vl(e,t,r)}function vl(e,t,r){for(var n=0!==(1&e.mode);null!==Zo;){var i=Zo,a=i.child;if(22===i.tag&&n){var s=null!==i.memoizedState||Xo;if(!s){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Xo;var c=Qo;if(Xo=s,(Qo=l)&&!c)for(Zo=i;null!==Zo;)l=(s=Zo).child,22===s.tag&&null!==s.memoizedState?jl(i):null!==l?(l.return=s,Zo=l):jl(i);for(;null!==a;)Zo=a,vl(a,t,r),a=a.sibling;Zo=i,Xo=o,Qo=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zo=a):bl(e)}}function bl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Qo)if(null===r)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:to(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wa(t,s,n);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Wa(t,o,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Qo||512&t.flags&&il(t)}catch(f){_c(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(r=t.sibling)){r.return=t.return,Zo=r;break}Zo=t.return}}function wl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Zo=r;break}Zo=t.return}}function jl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){_c(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(l){_c(t,i,l)}}var a=t.return;try{il(t)}catch(l){_c(t,a,l)}break;case 5:var s=t.return;try{il(t)}catch(l){_c(t,s,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Nl,_l=Math.ceil,kl=b.ReactCurrentDispatcher,Sl=b.ReactCurrentOwner,Al=b.ReactCurrentBatchConfig,Cl=0,El=null,Pl=null,Tl=0,Ol=0,Il=_i(0),Ll=0,Dl=null,Ml=0,Rl=0,Fl=0,Bl=null,zl=null,Ul=0,ql=1/0,Wl=null,Hl=!1,Vl=null,Gl=null,Kl=!1,Yl=null,Xl=0,Ql=0,$l=null,Zl=-1,Jl=0;function ec(){return 0!==(6&Cl)?$e():-1!==Zl?Zl:Zl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Tl?Tl&-Tl:null!==ma.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rc(e,t,r,n){if(50<Ql)throw Ql=0,$l=null,Error(a(185));xt(e,r,n),0!==(2&Cl)&&e===El||(e===El&&(0===(2&Cl)&&(Rl|=r),4===Ll&&oc(e,Tl)),nc(e,n),1===r&&0===Cl&&0===(1&t.mode)&&(ql=$e()+500,Bi&&qi()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,l=i[s];-1===l?0!==(o&r)&&0===(o&n)||(i[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var n=ht(e,e===El?Tl:0);if(0===n)null!==r&&Ye(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ye(r),1===t)0===e.tag?function(e){Bi=!0,Ui(e)}(lc.bind(null,e)):Ui(lc.bind(null,e)),si(function(){0===(6&Cl)&&qi()}),r=null;else{switch(bt(n)){case 1:r=Je;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Ec(r,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ic(e,t){if(Zl=-1,Jl=0,0!==(6&Cl))throw Error(a(327));var r=e.callbackNode;if(jc()&&e.callbackNode!==r)return null;var n=ht(e,e===El?Tl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gc(e,n);else{t=n;var i=Cl;Cl|=2;var s=pc();for(El===e&&Tl===t||(Wl=null,ql=$e()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Sa(),kl.current=s,Cl=i,null!==Pl?t=0:(El=null,Tl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(n=i,t=ac(e,i))),1===t)throw r=Dl,hc(e,0),oc(e,n),nc(e,$e()),r;if(6===t)oc(e,n);else{if(i=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!on(a(),i))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,n))&&(0!==(s=pt(e))&&(n=s,t=ac(e,s))),1===t))throw r=Dl,hc(e,0),oc(e,n),nc(e,$e()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,zl,Wl);break;case 3:if(oc(e,n),(130023424&n)===n&&10<(t=Ul+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(wc.bind(null,e,zl,Wl),t);break}wc(e,zl,Wl);break;case 4:if(oc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-st(n);s=1<<o,(o=t[o])>i&&(i=o),n&=~s}if(n=i,10<(n=(120>(n=$e()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_l(n/1960))-n)){e.timeoutHandle=ni(wc.bind(null,e,zl,Wl),n);break}wc(e,zl,Wl);break;default:throw Error(a(329))}}}return nc(e,$e()),e.callbackNode===r?ic.bind(null,e):null}function ac(e,t){var r=Bl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=r,null!==t&&sc(t)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function oc(e,t){for(t&=~Fl,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&Cl))throw Error(a(327));jc();var t=ht(e,0);if(0===(1&t))return nc(e,$e()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=ac(e,n))}if(1===r)throw r=Dl,hc(e,0),oc(e,t),nc(e,$e()),r;if(6===r)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zl,Wl),nc(e,$e()),null}function cc(e,t){var r=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=r)&&(ql=$e()+500,Bi&&qi())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Cl)&&jc();var t=Cl;Cl|=1;var r=Al.transition,n=vt;try{if(Al.transition=null,vt=1,e)return e()}finally{vt=n,Al.transition=r,0===(6&(Cl=t))&&qi()}}function uc(){Ol=Il.current,ki(Il)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ii(r)),null!==Pl)for(r=Pl.return;null!==r;){var n=r;switch(ta(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ii();break;case 3:Qa(),ki(Ei),ki(Ci),rs();break;case 5:Za(n);break;case 4:Qa();break;case 13:case 19:ki(Ja);break;case 10:Aa(n.type._context);break;case 22:case 23:uc()}r=r.return}if(El=e,Pl=e=Ic(e.current,null),Tl=Ol=t,Ll=0,Dl=null,Fl=Rl=Ml=0,zl=Bl=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(n=(r=Ta[t]).interleaved)){r.interleaved=null;var i=n.next,a=r.pending;if(null!==a){var s=a.next;a.next=i,n.next=s}r.pending=n}Ta=null}return e}function fc(e,t){for(;;){var r=Pl;try{if(Sa(),ns.current=$s,cs){for(var n=ss.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}cs=!1}if(as=0,ls=os=ss=null,ds=!1,us=0,Sl.current=null,null===r||null===r.return){Ll=1,Dl=t,Pl=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,xo(p,o,l,0,t),1&p.mode&&mo(s,d,t),c=d;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(s,d,t),mc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var x=go(o);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xo(x,o,l,0,t),pa(lo(c,l));break e}}s=c=lo(c,l),4!==Ll&&(Ll=2),null===Bl?Bl=[s]:Bl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ua(s,fo(0,c,t));break e;case 1:l=c;var y=s.type,v=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Gl||!Gl.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t,Ua(s,po(s,l,t));break e}}s=s.return}while(null!==s)}bc(r)}catch(b){t=b,Pl===r&&null!==r&&(Pl=r=r.return);continue}break}}function pc(){var e=kl.current;return kl.current=$s,null===e?$s:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===El||0===(268435455&Ml)&&0===(268435455&Rl)||oc(El,Tl)}function gc(e,t){var r=Cl;Cl|=2;var n=pc();for(El===e&&Tl===t||(Wl=null,hc(e,t));;)try{xc();break}catch(i){fc(e,i)}if(Sa(),Cl=r,kl.current=n,null!==Pl)throw Error(a(261));return El=null,Tl=0,Ll}function xc(){for(;null!==Pl;)vc(Pl)}function yc(){for(;null!==Pl&&!Xe();)vc(Pl)}function vc(e){var t=Nl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?bc(e):Pl=t,Sl.current=null}function bc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ko(r,t,Ol)))return void(Pl=r)}else{if(null!==(r=Yo(r,t)))return r.flags&=32767,void(Pl=r);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wc(e,t,r){var n=vt,i=Al.transition;try{Al.transition=null,vt=1,function(e,t,r,n){do{jc()}while(null!==Yl);if(0!==(6&Cl))throw Error(a(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-st(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}(e,s),e===El&&(Pl=El=null,Tl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Kl||(Kl=!0,Ec(tt,function(){return jc(),null})),s=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||s){s=Al.transition,Al.transition=null;var o=vt;vt=1;var l=Cl;Cl|=4,Sl.current=null,function(e,t){if(ei=Ht,fn(e=hn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(w){r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++d===i&&(l=o),f===s&&++u===n&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ti={focusedElem:e,selectionRange:r},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,x=m.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=tl,tl=!1}(e,r),gl(r,e),pn(ti),Ht=!!ei,ti=ei=null,e.current=r,yl(r,e,i),Qe(),Cl=l,vt=o,Al.transition=s}else e.current=r;if(Kl&&(Kl=!1,Yl=e,Xl=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,$e()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Xl)&&0!==e.tag&&jc(),s=e.pendingLanes,0!==(1&s)?e===$l?Ql++:(Ql=0,$l=e):Ql=0,qi()}(e,t,r,n)}finally{Al.transition=i,vt=n}return null}function jc(){if(null!==Yl){var e=bt(Xl),t=Al.transition,r=vt;try{if(Al.transition=null,vt=16>e?16:e,null===Yl)var n=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Cl))throw Error(a(331));var i=Cl;for(Cl|=4,Zo=e.current;null!==Zo;){var s=Zo,o=s.child;if(0!==(16&Zo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Zo=d;null!==Zo;){var u=Zo;switch(u.tag){case 0:case 11:case 15:rl(8,u,s)}var h=u.child;if(null!==h)h.return=u,Zo=h;else for(;null!==Zo;){var f=(u=Zo).sibling,p=u.return;if(al(u),u===d){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Zo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(s=Zo).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Zo=y;break e}Zo=s.return}}var v=e.current;for(Zo=v;null!==Zo;){var b=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Zo=b;else e:for(o=v;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(j){_c(l,l.return,j)}if(l===o){Zo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zo=w;break e}Zo=l.return}}if(Cl=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(j){}n=!0}return n}finally{vt=r,Al.transition=t}}return!1}function Nc(e,t,r){e=Ba(e,t=fo(0,t=lo(r,t),1),1),t=ec(),null!==e&&(xt(e,1,t),nc(e,t))}function _c(e,t,r){if(3===e.tag)Nc(e,e,r);else for(;null!==t;){if(3===t.tag){Nc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Gl||!Gl.has(n))){t=Ba(t,e=po(t,e=lo(r,e),1),1),e=ec(),null!==t&&(xt(t,1,e),nc(t,e));break}}t=t.return}}function kc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,El===e&&(Tl&r)===r&&(4===Ll||3===Ll&&(130023424&Tl)===Tl&&500>$e()-Ul?hc(e,0):Fl|=r),nc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=La(e,t))&&(xt(e,t,r),nc(e,r))}function Ac(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Sc(e,r)}function Cc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}null!==n&&n.delete(t),Sc(e,r)}function Ec(e,t){return Ke(e,t)}function Pc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,r,n){return new Pc(e,t,r,n)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var r=e.alternate;return null===r?((r=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Lc(e,t,r,n,i,s){var o=2;if(n=e,"function"===typeof e)Oc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Dc(r.children,i,s,t);case _:o=8,i|=8;break;case k:return(e=Tc(12,r,t,2|i)).elementType=k,e.lanes=s,e;case E:return(e=Tc(13,r,t,i)).elementType=E,e.lanes=s,e;case P:return(e=Tc(19,r,t,i)).elementType=P,e.lanes=s,e;case I:return Mc(r,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case A:o=9;break e;case C:o=11;break e;case T:o=14;break e;case O:o=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Tc(o,r,t,i)).elementType=e,t.type=n,t.lanes=s,t}function Dc(e,t,r,n){return(e=Tc(7,e,n,t)).lanes=r,e}function Mc(e,t,r,n){return(e=Tc(22,e,n,t)).elementType=I,e.lanes=r,e.stateNode={isHidden:!1},e}function Rc(e,t,r){return(e=Tc(6,e,null,t)).lanes=r,e}function Fc(e,t,r){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,r,n,i,a,s,o,l){return e=new Bc(e,t,r,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Tc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Uc(e){if(!e)return Ai;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var r=e.type;if(Oi(r))return Di(e,r,t)}return t}function qc(e,t,r,n,i,a,s,o,l){return(e=zc(r,n,!0,e,0,a,0,o,l)).context=Uc(null),r=e.current,(a=Fa(n=ec(),i=tc(r))).callback=void 0!==t&&null!==t?t:null,Ba(r,a,i),e.current.lanes=i,xt(e,i,n),nc(e,n),e}function Wc(e,t,r,n){var i=t.current,a=ec(),s=tc(i);return r=Uc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Fa(a,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ba(i,t,s))&&(rc(e,i,s,a),za(e,i,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Gc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Nl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)vo=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return vo=!1,function(e,t,r){switch(t.tag){case 3:Eo(t),fa();break;case 5:$a(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Si(ja,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Si(Ja,1&Ja.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Ro(e,t,r):(Si(Ja,1&Ja.current),null!==(e=Ho(e,t,r))?e.sibling:null);Si(Ja,1&Ja.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return qo(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(Ja,Ja.current),n)break;return null;case 22:case 23:return t.lanes=0,_o(e,t,r)}return Ho(e,t,r)}(e,t,r);vo=0!==(131072&e.flags)}else vo=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Wo(e,t),e=t.pendingProps;var i=Ti(t,Ci.current);Ea(t,r),i=ms(null,t,n,e,i,r);var s=gs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(n)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ma(t),i.updater=no,t.stateNode=i,i._reactInternals=t,oo(t,n,e,r),t=Co(null,t,n,!0,s,r)):(t.tag=0,ia&&s&&ea(t),bo(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,n=(i=n._init)(n._payload),t.type=n,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===T)return 14}return 2}(n),e=to(n,e),i){case 0:t=So(null,t,n,e,r);break e;case 1:t=Ao(null,t,n,e,r);break e;case 11:t=wo(null,t,n,e,r);break e;case 14:t=jo(null,t,n,to(n.type,e),r);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,So(e,t,n,i=t.elementType===n?i:to(n,i),r);case 1:return n=t.type,i=t.pendingProps,Ao(e,t,n,i=t.elementType===n?i:to(n,i),r);case 3:e:{if(Eo(t),null===e)throw Error(a(387));n=t.pendingProps,i=(s=t.memoizedState).element,Ra(e,t),qa(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Po(e,t,n,r,i=lo(Error(a(423)),t));break e}if(n!==i){t=Po(e,t,n,r,i=lo(Error(a(424)),t));break e}for(na=ci(t.stateNode.containerInfo.firstChild),ra=t,ia=!0,aa=null,r=wa(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fa(),n===i){t=Ho(e,t,r);break e}bo(e,t,n,r)}t=t.child}return t;case 5:return $a(t),null===e&&ca(t),n=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,ri(n,i)?o=null:null!==s&&ri(n,s)&&(t.flags|=32),ko(e,t),bo(e,t,o,r),t.child;case 6:return null===e&&ca(t),null;case 13:return Ro(e,t,r);case 4:return Xa(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ba(t,null,n,r):bo(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,wo(e,t,n,i=t.elementType===n?i:to(n,i),r);case 7:return bo(e,t,t.pendingProps,r),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Si(ja,n._currentValue),n._currentValue=o,null!==s)if(on(s.value,o)){if(s.children===i.children&&!Ei.current){t=Ho(e,t,r);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===s.tag){(c=Fa(-1,r&-r)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=r,null!==(c=s.alternate)&&(c.lanes|=r),Ca(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Ca(o,r,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}bo(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ea(t,r),n=n(i=Pa(i)),t.flags|=1,bo(e,t,n,r),t.child;case 14:return i=to(n=t.type,t.pendingProps),jo(e,t,n,i=to(n.type,i),r);case 15:return No(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:to(n,i),Wo(e,t),t.tag=1,Oi(n)?(e=!0,Mi(t)):e=!1,Ea(t,r),ao(t,n,i),oo(t,n,i,r),Co(null,t,n,!0,e,r);case 19:return qo(e,t,r);case 22:return _o(e,t,r)}throw Error(a(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Jc(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if("function"===typeof i){var o=i;i=function(){var e=Hc(s);o.call(e)}}Wc(t,s,e,i)}else s=function(e,t,r,n,i){if(i){if("function"===typeof n){var a=n;n=function(){var e=Hc(s);a.call(e)}}var s=qc(t,n,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,qn(8===e.nodeType?e.parentNode:e),dc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof n){var o=n;n=function(){var e=Hc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,qn(8===e.nodeType?e.parentNode:e),dc(function(){Wc(t,l,r,n)}),l}(r,t,e,i,n);return Hc(s)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Wc(null,e,null,null)}),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var r=0;r<It.length&&0!==t&&t<It[r].priority;r++);It.splice(r,0,e),0===r&&Rt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(yt(t,1|r),nc(t,$e()),0===(6&Cl)&&(ql=$e()+500,qi()))}break;case 13:dc(function(){var t=La(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}}),Gc(e,1)}},jt=function(e){if(13===e.tag){var t=La(e,134217728);if(null!==t)rc(t,e,134217728,ec());Gc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),r=La(e,t);if(null!==r)rc(r,e,t,ec());Gc(e,t)}},_t=function(){return vt},kt=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}},je=function(e,t,r){switch(t){case"input":if(Z(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=wi(n);if(!i)throw Error(a(90));K(n),Z(n,i)}}}break;case"textarea":ae(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ce=cc,Ee=dc;var ed={usingClientEntryPoint:!1,Events:[vi,bi,wi,Se,Ae,cc]},td={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{it=nd.inject(rd),at=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(a(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Qc(e))throw Error(a(299));var r=!1,n="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,r,0,n,i),e[pi]=t.current,qn(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!$c(t))throw Error(a(200));return Jc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Qc(e))throw Error(a(405));var n=null!=r&&r.hydratedSources||null,i=!1,s="",o=Kc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(s=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=qc(t,null,e,1,null!=r?r:null,i,0,s,o),e[pi]=t.current,qn(e),n)for(e=0;e<n.length;e++)i=(i=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Xc(t)},t.render=function(e,t,r){if(!$c(t))throw Error(a(200));return Jc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$c(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Jc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2897:(e,t,r)=>{var n=r(3693);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},3693:(e,t,r)=>{var n=r(7736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4704),i=r(1203),a=r(870),s=r(9972);t.isIterateeCall=function(e,t,r){return!!a.isObject(r)&&(!!("number"===typeof t&&i.isArrayLike(r)&&n.isIndex(t)&&t<r.length||"string"===typeof t&&t in r)&&s.eq(r[t],e))}},3808:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),i=r(5261);t.matches=function(e){return e=i.cloneDeep(e),t=>n.isMatch(t,e)}},3821:(e,t,r)=>{e.exports=r(2204).sortBy},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function x(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function y(){}function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=x.prototype;var b=v.prototype=new y;b.constructor=v,m(b,x.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)j.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:r,type:e,key:s,ref:o,props:a,_owner:N.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var A=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return s=s(l=e),e=""===a?"."+C(l,0):a,w(s)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),E(s,t,i,"",function(e){return e})):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(A,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var d=a+C(o=e[c],c);l+=E(o,t,i,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=E(o=o.value,t,i,d=a+C(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,r){if(null==e)return e;var n=[],i=0;return E(e,n,"","",function(e){return t.call(r,e,i++)}),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},I={transition:null},L={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:I,ReactCurrentOwner:N};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,r){P(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=i,t.Profiler=s,t.PureComponent=v,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=N.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:r,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,r){return O.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,r){return O.current.useReducer(e,t,r)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return O.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const r=new Map;for(let n=0;n<e.length;n++){const i=e[n],a=t(i);r.has(a)||r.set(a,i)}return Array.from(r.values())}},4332:(e,t,r)=>{e.exports=r(5053).uniqBy},4391:(e,t,r)=>{"use strict";var n=r(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return r.test(e)}}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let r,{signal:n,edges:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null;const s=null!=i&&i.includes("leading"),o=null==i||i.includes("trailing"),l=()=>{null!==a&&(e.apply(r,a),r=void 0,a=null)};let c=null;const d=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),u()},t)},u=()=>{null!==c&&(clearTimeout(c),c=null),r=void 0,a=null},h=function(){if(null!==n&&void 0!==n&&n.aborted)return;r=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a=t;const o=null==c;d(),s&&o&&l()};return h.schedule=d,h.cancel=u,h.flush=()=>{l()},null===n||void 0===n||n.addEventListener("abort",u,{once:!0}),h}},4879:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=n.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},4980:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2284);function i(e){var t=function(e,t){if("object"!=(0,n.A)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=(0,n.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.A)(t)?t:t+""}function a(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},5053:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4208),i=r(9599),a=r(2104),s=r(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.identity;return a.isArrayLikeObject(e)?n.uniqBy(Array.from(e),s.iteratee(t)):[]}},5082:(e,t)=>{"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,o=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,x=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,v=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case a:case o:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function j(e){return w(e)===u}t.isFragment=function(e){return w(e)===a}},5261:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6433);t.cloneDeep=function(e){return n.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2489),i=r(4704),a=r(6321),s=r(1444);t.has=function(e,t){let r;if(r=Array.isArray(t)?t:"string"===typeof t&&n.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?s.toPath(t):[t],0===r.length)return!1;let o=e;for(let n=0;n<r.length;n++){const e=r[n];if(null==o||!Object.hasOwn(o,e)){if(!((Array.isArray(o)||a.isArguments(o))&&i.isIndex(e)&&e<o.length))return!1}o=o[e]}return!0}},5316:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9709),i=r(7043),a=r(1444);t.orderBy=function(e,t,r,s){if(null==e)return[];r=s?void 0:r,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(r)||(r=null==r?[]:[r]),r=r.map(e=>String(e));const o=(e,t)=>{let r=e;for(let n=0;n<t.length&&null!=r;++n)r=r[t[n]];return r},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||i.isKey(e)?e:{key:e,path:a.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?o(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let i=0;i<l.length;i++){const a=n.compareValues(e.criteria[i],t.criteria[i],r[i]);if(0!==a)return a}return 0}).map(e=>e.original)}},5414:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:i=!0,trailing:a=!0}=r;return n.debounce(e,t,{leading:i,maxWait:t,trailing:a})}},5508:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6433),i=r(7599);t.cloneDeepWith=function(e,t){return n.cloneDeepWith(e,(r,a,s,o)=>{const l=null===t||void 0===t?void 0:t(r,a,s,o);if(void 0!==l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case i.numberTag:case i.stringTag:case i.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return n.copyProperties(t,e),t}case i.argumentsTag:{const t={};return n.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5751:(e,t,r)=>{"use strict";var n=r(5043),i=r(7870);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function l(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function d(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?n.useLayoutEffect:n.useEffect;function p(e){var t=n.useRef(e);return f(function(){t.current=e}),n.useCallback(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.current.apply(void 0,r)},[])}var m=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],g={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},x=function(e){var t=Object.fromEntries(Object.entries(e).filter(function(e){return void 0!==u(e,2)[1]})),r=n.useMemo(function(){return s(s({},g),t)},[e]),a=r.ref,o=r.startOnMount,l=r.enableReinitialize,c=r.delay,h=r.onEnd,f=r.onStart,x=r.onPauseResume,y=r.onReset,v=r.onUpdate,b=d(r,m),w=n.useRef(),j=n.useRef(),N=n.useRef(!1),_=p(function(){return function(e,t){var r=t.decimal,n=t.decimals,a=t.duration,s=t.easingFn,o=t.end,l=t.formattingFn,c=t.numerals,d=t.prefix,u=t.separator,h=t.start,f=t.suffix,p=t.useEasing,m=t.useGrouping,g=t.useIndianSeparators,x=t.enableScrollSpy,y=t.scrollSpyDelay,v=t.scrollSpyOnce,b=t.plugin;return new i.CountUp(e,o,{startVal:h,duration:a,decimal:r,decimalPlaces:n,easingFn:s,formattingFn:l,numerals:c,separator:u,prefix:d,suffix:f,plugin:b,useEasing:p,useIndianSeparators:g,useGrouping:m,enableScrollSpy:x,scrollSpyDelay:y,scrollSpyOnce:v})}("string"===typeof a?a:a.current,b)}),k=p(function(e){var t=w.current;if(t&&!e)return t;var r=_();return w.current=r,r}),S=p(function(){var e=function(){return k(!0).start(function(){null===h||void 0===h||h({pauseResume:A,reset:C,start:P,update:E})})};c&&c>0?j.current=setTimeout(e,1e3*c):e(),null===f||void 0===f||f({pauseResume:A,reset:C,update:E})}),A=p(function(){k().pauseResume(),null===x||void 0===x||x({reset:C,start:P,update:E})}),C=p(function(){k().el&&(j.current&&clearTimeout(j.current),k().reset(),null===y||void 0===y||y({pauseResume:A,start:P,update:E}))}),E=p(function(e){k().update(e),null===v||void 0===v||v({pauseResume:A,reset:C,start:P})}),P=p(function(){C(),S()}),T=p(function(e){o&&(e&&C(),S())});return n.useEffect(function(){N.current?l&&T(!0):(N.current=!0,T())},[l,N,T,c,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.formattingFn]),n.useEffect(function(){return function(){C()}},[C]),{start:P,pauseResume:A,reset:C,update:E,getCountUp:k}},y=["className","redraw","containerProps","children","style"];t.Ay=function(e){var t=e.className,r=e.redraw,i=e.containerProps,a=e.children,o=e.style,l=d(e,y),u=n.useRef(null),h=n.useRef(!1),f=x(s(s({},l),{},{ref:u,startOnMount:"function"!==typeof a||0===e.delay,enableReinitialize:!1})),m=f.start,g=f.reset,v=f.update,b=f.pauseResume,w=f.getCountUp,j=p(function(){m()}),N=p(function(t){e.preserveValue||g(),v(t)}),_=p(function(){"function"!==typeof e.children||u.current instanceof Element?w():console.error('Couldn\'t find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.')});n.useEffect(function(){_()},[_]),n.useEffect(function(){h.current&&N(e.end)},[e.end,N]);var k=r&&e;return n.useEffect(function(){r&&h.current&&j()},[j,r,k]),n.useEffect(function(){!r&&h.current&&j()},[j,r,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.className,e.formattingFn]),n.useEffect(function(){h.current=!0},[]),"function"===typeof a?a({countUpRef:u,start:m,reset:g,update:v,pauseResume:b,getCountUp:w}):n.createElement("span",c({className:t,ref:u,style:o},i),"undefined"!==typeof e.start?w().formattingFn(e.start):"")}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===n.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6443),i=r(5990),a=r(7599),s=r(4803),o=r(3757);function l(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u=null===d||void 0===d?void 0:d(e,t,r,n);if(void 0!==u)return u;if(s.isPrimitive(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){const t=new Array(e.length);n.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,r,n,d);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;n.set(e,t);for(const[i,a]of e)t.set(i,l(a,i,r,n,d));return t}if(e instanceof Set){const t=new Set;n.set(e,t);for(const i of e)t.add(l(i,void 0,r,n,d));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(o.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);n.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,r,n,d);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),c(t,e,r,n,d),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return n.set(e,t),c(t,e,r,n,d),t}if("undefined"!==typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return n.set(e,t),c(t,e,r,n,d),t}if(e instanceof Error){const t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,r,n,d),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return n.set(e,t),c(t,e,r,n,d),t}if(e instanceof Number){const t=new Number(e.valueOf());return n.set(e,t),c(t,e,r,n,d),t}if(e instanceof String){const t=new String(e.valueOf());return n.set(e,t),c(t,e,r,n,d),t}if("object"===typeof e&&function(e){switch(i.getTag(e)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),c(t,e,r,n,d),t}return e}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const s=[...Object.keys(t),...n.getSymbols(t)];for(let n=0;n<s.length;n++){const o=s[n],c=Object.getOwnPropertyDescriptor(e,o);(null==c||c.writable)&&(e[o]=l(t[o],o,r,i,a))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6770:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2777);t.toNumber=function(e){return n.isSymbol(e)?NaN:Number(e)}},7043:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2777),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!n.isSymbol(e))||("string"===typeof e&&(a.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(3799),i=r(4879);t.range=function(e,t,r){r&&"number"!==typeof r&&n.isIterateeCall(e,t,r)&&(t=r=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),r=void 0===r?e<t?1:-1:i.toFinite(r);const a=Math.max(Math.ceil((t-e)/(r||1)),0),s=new Array(a);for(let n=0;n<a;n++)s[n]=e,e+=r;return s}},7234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<a(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,s=i>>>1;n<s;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,r))c<i&&0>a(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<i&&0>a(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,p=!1,m=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=n(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function w(e){if(g=!1,b(e),!m)if(null!==n(c))m=!0,I(j);else{var t=n(d);null!==t&&L(w,t.startTime-e)}}function j(e,r){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var a=f;try{for(b(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!E());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?h.callback=o:h===n(c)&&i(c),b(r)}else i(c);h=n(c)}if(null!==h)var l=!0;else{var u=n(d);null!==u&&L(w,u.startTime-r),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,_=!1,k=null,S=-1,A=5,C=-1;function E(){return!(t.unstable_now()-C<A)}function P(){if(null!==k){var e=t.unstable_now();C=e;var r=!0;try{r=k(!0,e)}finally{r?N():(_=!1,k=null)}}else _=!1}if("function"===typeof v)N=function(){v(P)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,O=T.port2;T.port1.onmessage=P,N=function(){O.postMessage(null)}}else N=function(){x(P,0)};function I(e){k=e,_||(_=!0,N())}function L(e,r){S=x(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,I(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,r(d,e),null===n(c)&&e===n(d)&&(g?(y(S),S=-1):g=!0,L(w,a-s))):(e.sortIndex=o,r(c,e),m||p||(m=!0,I(j))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},7237:(e,t,r)=>{"use strict";r(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,n,a,s){if("function"!==typeof n)throw new TypeError("The listener must be a function");var o=new i(n,a||e,s),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,s=new Array(a);i<a;i++)s[i]=n[i].fn;return s},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,i,a,s){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,i),!0;case 5:return d.fn.call(d.context,t,n,i,a),!0;case 6:return d.fn.call(d.context,t,n,i,a,s),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,f=d.length;for(c=0;c<f;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,i);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||s(this,a);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||i&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const r=[],n=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const s=e[a];Array.isArray(s)&&t<n?i(s,t+1):r.push(s)}};return i(e,0),r}},7330:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9323);t.property=function(e){return function(t){return n.get(t,e)}}},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7736:(e,t,r)=>{var n=r(3738).default,i=r(9045);e.exports=function(e){var t=i(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7762:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AcroForm:()=>wt,AcroFormAppearance:()=>vt,AcroFormButton:()=>ht,AcroFormCheckBox:()=>gt,AcroFormChoiceField:()=>lt,AcroFormComboBox:()=>dt,AcroFormEditBox:()=>ut,AcroFormListBox:()=>ct,AcroFormPasswordField:()=>yt,AcroFormPushButton:()=>ft,AcroFormRadioButton:()=>pt,AcroFormTextField:()=>xt,GState:()=>Ee,ShadingPattern:()=>Te,TilingPattern:()=>Oe,default:()=>vr,jsPDF:()=>Ie});var n=r(2284),i=Uint8Array,a=Uint16Array,s=Int32Array,o=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=function(e,t){for(var r=new a(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new s(r[30]);for(n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)i[o]=o-r[n]<<5|n;return{b:r,r:i}},u=d(o,2),h=u.b,f=u.r;h[28]=258,f[258]=28;for(var p=d(l,0),m=p.b,g=p.r,x=new a(32768),y=0;y<32768;++y){var v=(43690&y)>>1|(21845&y)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,x[y]=((65280&v)>>8|(255&v)<<8)>>1}var b=function(e,t,r){for(var n=e.length,i=0,s=new a(t);i<n;++i)e[i]&&++s[e[i]-1];var o,l=new a(t);for(i=1;i<t;++i)l[i]=l[i-1]+s[i-1]<<1;if(r){o=new a(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var d=i<<4|e[i],u=t-e[i],h=l[e[i]-1]++<<u,f=h|(1<<u)-1;h<=f;++h)o[x[h]>>c]=d}else for(o=new a(n),i=0;i<n;++i)e[i]&&(o[i]=x[l[e[i]-1]++]>>15-e[i]);return o},w=new i(288);for(y=0;y<144;++y)w[y]=8;for(y=144;y<256;++y)w[y]=9;for(y=256;y<280;++y)w[y]=7;for(y=280;y<288;++y)w[y]=8;var j=new i(32);for(y=0;y<32;++y)j[y]=5;var N=b(w,9,0),_=b(w,9,1),k=b(j,5,0),S=b(j,5,1),A=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},C=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},E=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},P=function(e){return(e+7)/8|0},T=function(e,t,r){return(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length),new i(e.subarray(t,r))},O=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],I=function(e,t,r){var n=new Error(t||O[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,I),!r)throw n;return n},L=function(e,t,r,n){var a=e.length,s=n?n.length:0;if(!a||t.f&&!t.l)return r||new i(0);var d=!r,u=d||2!=t.i,f=t.i;d&&(r=new i(3*a));var p=function(e){var t=r.length;if(e>t){var n=new i(Math.max(2*t,e));n.set(r),r=n}},g=t.f||0,x=t.p||0,y=t.b||0,v=t.l,w=t.d,j=t.m,N=t.n,k=8*a;do{if(!v){g=C(e,x,1);var O=C(e,x+1,3);if(x+=3,!O){var L=e[(V=P(x)+4)-4]|e[V-3]<<8,D=V+L;if(D>a){f&&I(0);break}u&&p(y+L),r.set(e.subarray(V,D),y),t.b=y+=L,t.p=x=8*D,t.f=g;continue}if(1==O)v=_,w=S,j=9,N=5;else if(2==O){var M=C(e,x,31)+257,R=C(e,x+10,15)+4,F=M+C(e,x+5,31)+1;x+=14;for(var B=new i(F),z=new i(19),U=0;U<R;++U)z[c[U]]=C(e,x+3*U,7);x+=3*R;var q=A(z),W=(1<<q)-1,H=b(z,q,1);for(U=0;U<F;){var V,G=H[C(e,x,W)];if(x+=15&G,(V=G>>4)<16)B[U++]=V;else{var K=0,Y=0;for(16==V?(Y=3+C(e,x,3),x+=2,K=B[U-1]):17==V?(Y=3+C(e,x,7),x+=3):18==V&&(Y=11+C(e,x,127),x+=7);Y--;)B[U++]=K}}var X=B.subarray(0,M),Q=B.subarray(M);j=A(X),N=A(Q),v=b(X,j,1),w=b(Q,N,1)}else I(1);if(x>k){f&&I(0);break}}u&&p(y+131072);for(var $=(1<<j)-1,Z=(1<<N)-1,J=x;;J=x){var ee=(K=v[E(e,x)&$])>>4;if((x+=15&K)>k){f&&I(0);break}if(K||I(2),ee<256)r[y++]=ee;else{if(256==ee){J=x,v=null;break}var te=ee-254;if(ee>264){var re=o[U=ee-257];te=C(e,x,(1<<re)-1)+h[U],x+=re}var ne=w[E(e,x)&Z],ie=ne>>4;ne||I(3),x+=15&ne;Q=m[ie];if(ie>3){re=l[ie];Q+=E(e,x)&(1<<re)-1,x+=re}if(x>k){f&&I(0);break}u&&p(y+131072);var ae=y+te;if(y<Q){var se=s-Q,oe=Math.min(Q,ae);for(se+y<0&&I(3);y<oe;++y)r[y]=n[se+y]}for(;y<ae;++y)r[y]=r[y-Q]}}t.l=v,t.p=J,t.b=y,t.f=g,v&&(g=1,t.m=j,t.d=w,t.n=N)}while(!g);return y!=r.length&&d?T(r,0,y):r.subarray(0,y)},D=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},M=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},R=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,o=r.slice();if(!s)return{t:H,l:0};if(1==s){var l=new i(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var c=r[0],d=r[1],u=0,h=1,f=2;for(r[0]={s:-1,f:c.f+d.f,l:c,r:d};h!=s-1;)c=r[r[u].f<r[f].f?u++:f++],d=r[u!=h&&r[u].f<r[f].f?u++:f++],r[h++]={s:-1,f:c.f+d.f,l:c,r:d};var p=o[0].s;for(n=1;n<s;++n)o[n].s>p&&(p=o[n].s);var m=new a(p+1),g=F(r[h-1],m,0);if(g>t){n=0;var x=0,y=g-t,v=1<<y;for(o.sort(function(e,t){return m[t.s]-m[e.s]||e.f-t.f});n<s;++n){var b=o[n].s;if(!(m[b]>t))break;x+=v-(1<<g-m[b]),m[b]=t}for(x>>=y;x>0;){var w=o[n].s;m[w]<t?x-=1<<t-m[w]++-1:++n}for(;n>=0&&x;--n){var j=o[n].s;m[j]==t&&(--m[j],++x)}g=t}return{t:new i(m),l:g}},F=function(e,t,r){return-1==e.s?Math.max(F(e.l,t,r+1),F(e.r,t,r+1)):t[e.s]=r},B=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new a(++t),n=0,i=e[0],s=1,o=function(e){r[n++]=e},l=1;l<=t;++l)if(e[l]==i&&l!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[l]}return{c:r.subarray(0,n),n:t}},z=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},U=function(e,t,r){var n=r.length,i=P(t+2);e[i]=255&n,e[i+1]=n>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<n;++a)e[i+a+4]=r[a];return 8*(i+4+n)},q=function(e,t,r,n,i,s,d,u,h,f,p){D(t,p++,r),++i[256];for(var m=R(i,15),g=m.t,x=m.l,y=R(s,15),v=y.t,_=y.l,S=B(g),A=S.c,C=S.n,E=B(v),P=E.c,T=E.n,O=new a(19),I=0;I<A.length;++I)++O[31&A[I]];for(I=0;I<P.length;++I)++O[31&P[I]];for(var L=R(O,7),F=L.t,q=L.l,W=19;W>4&&!F[c[W-1]];--W);var H,V,G,K,Y=f+5<<3,X=z(i,w)+z(s,j)+d,Q=z(i,g)+z(s,v)+d+14+3*W+z(O,F)+2*O[16]+3*O[17]+7*O[18];if(h>=0&&Y<=X&&Y<=Q)return U(t,p,e.subarray(h,h+f));if(D(t,p,1+(Q<X)),p+=2,Q<X){H=b(g,x,0),V=g,G=b(v,_,0),K=v;var $=b(F,q,0);D(t,p,C-257),D(t,p+5,T-1),D(t,p+10,W-4),p+=14;for(I=0;I<W;++I)D(t,p+3*I,F[c[I]]);p+=3*W;for(var Z=[A,P],J=0;J<2;++J){var ee=Z[J];for(I=0;I<ee.length;++I){var te=31&ee[I];D(t,p,$[te]),p+=F[te],te>15&&(D(t,p,ee[I]>>5&127),p+=ee[I]>>12)}}}else H=N,V=w,G=k,K=j;for(I=0;I<u;++I){var re=n[I];if(re>255){M(t,p,H[(te=re>>18&31)+257]),p+=V[te+257],te>7&&(D(t,p,re>>23&31),p+=o[te]);var ne=31&re;M(t,p,G[ne]),p+=K[ne],ne>3&&(M(t,p,re>>5&8191),p+=l[ne])}else M(t,p,H[re]),p+=V[re]}return M(t,p,H[256]),p+V[256]},W=new s([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),H=new i(0),V=function(e,t,r,n,c,d){var u=d.z||e.length,h=new i(n+u+5*(1+Math.ceil(u/7e3))+c),p=h.subarray(n,h.length-c),m=d.l,x=7&(d.r||0);if(t){x&&(p[0]=d.r>>3);for(var y=W[t-1],v=y>>13,b=8191&y,w=(1<<r)-1,j=d.p||new a(32768),N=d.h||new a(w+1),_=Math.ceil(r/3),k=2*_,S=function(t){return(e[t]^e[t+1]<<_^e[t+2]<<k)&w},A=new s(25e3),C=new a(288),E=new a(32),O=0,I=0,L=d.i||0,D=0,M=d.w||0,R=0;L+2<u;++L){var F=S(L),B=32767&L,z=N[F];if(j[B]=z,N[F]=B,M<=L){var H=u-L;if((O>7e3||D>24576)&&(H>423||!m)){x=q(e,p,0,A,C,E,I,D,R,L-R,x),D=O=I=0,R=L;for(var V=0;V<286;++V)C[V]=0;for(V=0;V<30;++V)E[V]=0}var G=2,K=0,Y=b,X=B-z&32767;if(H>2&&F==S(L-X))for(var Q=Math.min(v,H)-1,$=Math.min(32767,L),Z=Math.min(258,H);X<=$&&--Y&&B!=z;){if(e[L+G]==e[L+G-X]){for(var J=0;J<Z&&e[L+J]==e[L+J-X];++J);if(J>G){if(G=J,K=X,J>Q)break;var ee=Math.min(X,J-2),te=0;for(V=0;V<ee;++V){var re=L-X+V&32767,ne=re-j[re]&32767;ne>te&&(te=ne,z=re)}}}X+=(B=z)-(z=j[B])&32767}if(K){A[D++]=268435456|f[G]<<18|g[K];var ie=31&f[G],ae=31&g[K];I+=o[ie]+l[ae],++C[257+ie],++E[ae],M=L+G,++O}else A[D++]=e[L],++C[e[L]]}}for(L=Math.max(L,M);L<u;++L)A[D++]=e[L],++C[e[L]];x=q(e,p,m,A,C,E,I,D,R,L-R,x),m||(d.r=7&x|p[x/8|0]<<3,x-=7,d.h=N,d.p=j,d.i=L,d.w=M)}else{for(L=d.w||0;L<u+m;L+=65535){var se=L+65535;se>=u&&(p[x/8|0]=m,se=u),x=U(p,x+1,e.subarray(L,se))}d.i=u}return T(h,0,n+P(x)+c)},G=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(65535&n)+15*(n>>16),i=(65535&i)+15*(i>>16)}e=n,t=i},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},K=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new i(s.length+e.length);o.set(s),o.set(e,s.length),e=o,a.w=s.length}return V(e,null==t.level?6:t.level,null==t.mem?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,r,n,a)},Y=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},X=function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=G();i.p(t.dictionary),Y(e,2,i.d())}},Q=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&I(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&I(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function $(e,t){t||(t={});var r=G();r.p(e);var n=K(e,t,t.dictionary?6:2,4);return X(n,t),Y(n,n.length-4,r.d()),n}function Z(e,t){return L(e.subarray(Q(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var J="undefined"!=typeof TextDecoder&&new TextDecoder;try{J.decode(H,{stream:!0})}catch(br){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var ee=function(){return"undefined"!=typeof window?window:"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:this}();function te(){ee.console&&"function"==typeof ee.console.log&&ee.console.log.apply(ee.console,arguments)}var re={log:te,warn:function(e){ee.console&&("function"==typeof ee.console.warn?ee.console.warn.apply(ee.console,arguments):te.call(null,arguments))},error:function(e){ee.console&&("function"==typeof ee.console.error?ee.console.error.apply(ee.console,arguments):te(e))}};function ne(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){le(n.response,t,r)},n.onerror=function(){re.error("could not download file")},n.send()}function ie(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function ae(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var se,oe,le=ee.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,n.A)(window))||window!==ee?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=ee.URL||ee.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?ie(i.href)?ne(e,t,r):ae(i,i.target="_blank"):ae(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){ae(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download","string"==typeof e)if(ie(e))ne(e,t,r);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){ae(i)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,n.A)(t)&&(re.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,r),t)}:function(e,t,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return ne(e,t,r);var a="application/octet-stream"===e.type,s=/constructor/i.test(ee.HTMLElement)||ee.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&s)&&"object"===("undefined"==typeof FileReader?"undefined":(0,n.A)(FileReader))){var l=new FileReader;l.onloadend=function(){var e=l.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},l.readAsDataURL(e)}else{var c=ee.URL||ee.webkitURL,d=c.createObjectURL(e);i?i.location=d:location.href=d,i=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});function ce(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),"#"+e+t+r}}function de(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=he(r,n,i,a,t[0],7,-680876936),a=he(a,r,n,i,t[1],12,-389564586),i=he(i,a,r,n,t[2],17,606105819),n=he(n,i,a,r,t[3],22,-1044525330),r=he(r,n,i,a,t[4],7,-176418897),a=he(a,r,n,i,t[5],12,1200080426),i=he(i,a,r,n,t[6],17,-1473231341),n=he(n,i,a,r,t[7],22,-45705983),r=he(r,n,i,a,t[8],7,1770035416),a=he(a,r,n,i,t[9],12,-1958414417),i=he(i,a,r,n,t[10],17,-42063),n=he(n,i,a,r,t[11],22,-1990404162),r=he(r,n,i,a,t[12],7,1804603682),a=he(a,r,n,i,t[13],12,-40341101),i=he(i,a,r,n,t[14],17,-1502002290),r=fe(r,n=he(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=fe(a,r,n,i,t[6],9,-1069501632),i=fe(i,a,r,n,t[11],14,643717713),n=fe(n,i,a,r,t[0],20,-373897302),r=fe(r,n,i,a,t[5],5,-701558691),a=fe(a,r,n,i,t[10],9,38016083),i=fe(i,a,r,n,t[15],14,-660478335),n=fe(n,i,a,r,t[4],20,-405537848),r=fe(r,n,i,a,t[9],5,568446438),a=fe(a,r,n,i,t[14],9,-1019803690),i=fe(i,a,r,n,t[3],14,-187363961),n=fe(n,i,a,r,t[8],20,1163531501),r=fe(r,n,i,a,t[13],5,-1444681467),a=fe(a,r,n,i,t[2],9,-51403784),i=fe(i,a,r,n,t[7],14,1735328473),r=pe(r,n=fe(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=pe(a,r,n,i,t[8],11,-2022574463),i=pe(i,a,r,n,t[11],16,1839030562),n=pe(n,i,a,r,t[14],23,-35309556),r=pe(r,n,i,a,t[1],4,-1530992060),a=pe(a,r,n,i,t[4],11,1272893353),i=pe(i,a,r,n,t[7],16,-155497632),n=pe(n,i,a,r,t[10],23,-1094730640),r=pe(r,n,i,a,t[13],4,681279174),a=pe(a,r,n,i,t[0],11,-358537222),i=pe(i,a,r,n,t[3],16,-722521979),n=pe(n,i,a,r,t[6],23,76029189),r=pe(r,n,i,a,t[9],4,-640364487),a=pe(a,r,n,i,t[12],11,-421815835),i=pe(i,a,r,n,t[15],16,530742520),r=me(r,n=pe(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=me(a,r,n,i,t[7],10,1126891415),i=me(i,a,r,n,t[14],15,-1416354905),n=me(n,i,a,r,t[5],21,-57434055),r=me(r,n,i,a,t[12],6,1700485571),a=me(a,r,n,i,t[3],10,-1894986606),i=me(i,a,r,n,t[10],15,-1051523),n=me(n,i,a,r,t[1],21,-2054922799),r=me(r,n,i,a,t[8],6,1873313359),a=me(a,r,n,i,t[15],10,-30611744),i=me(i,a,r,n,t[6],15,-1560198380),n=me(n,i,a,r,t[13],21,1309151649),r=me(r,n,i,a,t[4],6,-145523070),a=me(a,r,n,i,t[11],10,-1120210379),i=me(i,a,r,n,t[2],15,718787259),n=me(n,i,a,r,t[9],21,-343485551),e[0]=Ne(r,e[0]),e[1]=Ne(n,e[1]),e[2]=Ne(i,e[2]),e[3]=Ne(a,e[3])}function ue(e,t,r,n,i,a){return t=Ne(Ne(t,e),Ne(n,a)),Ne(t<<i|t>>>32-i,r)}function he(e,t,r,n,i,a,s){return ue(t&r|~t&n,e,t,i,a,s)}function fe(e,t,r,n,i,a,s){return ue(t&n|r&~n,e,t,i,a,s)}function pe(e,t,r,n,i,a,s){return ue(t^r^n,e,t,i,a,s)}function me(e,t,r,n,i,a,s){return ue(r^(t|~n),e,t,i,a,s)}function ge(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)de(n,xe(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(de(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,de(n,i),n}function xe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}se=ee.atob.bind(ee),oe=ee.btoa.bind(ee);var ye="0123456789abcdef".split("");function ve(e){for(var t="",r=0;r<4;r++)t+=ye[e>>8*r+4&15]+ye[e>>8*r&15];return t}function be(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function we(e){return ge(e).map(be).join("")}var je="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=ve(e[t]);return e.join("")}(ge("hello"));function Ne(e,t){if(je){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}function _e(e,t){var r,n,i,a;if(e!==r){for(var s=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+s.charCodeAt(l))%256,o[l]=o[c],o[c]=d}r=e,n=o}else o=n;var u=t.length,h=0,f=0,p="";for(l=0;l<u;l++)f=(f+(d=o[h=(h+1)%256]))%256,o[h]=o[f],o[f]=d,s=o[(o[h]+o[f])%256],p+=String.fromCharCode(t.charCodeAt(l)^s);return p}var ke={print:4,modify:8,copy:16,"annot-forms":32};function Se(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(e){if(void 0!==ke.perm)throw new Error("Invalid permission: "+e);i+=ke[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var a=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=we(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=_e(this.encryptionKey,this.padding)}function Ae(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function Ce(e){if("object"!==(0,n.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,n){if(n=n||!1,"string"!=typeof e||"function"!=typeof r||"boolean"!=typeof n)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[r,!!n],i},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],0===Object.keys(t[r]).length&&delete t[r],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var s=t[r][a];try{s[0].apply(e,n)}catch(r){ee.console&&re.error("jsPDF PubSub Error",r.message,r)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ee(e){if(!(this instanceof Ee))return new Ee(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Pe(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Te(e,t,r,n,i){if(!(this instanceof Te))return new Te(e,t,r,n,i);this.type="axial"===e?2:3,this.coords=t,this.colors=r,Pe.call(this,n,i)}function Oe(e,t,r,n,i){if(!(this instanceof Oe))return new Oe(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Pe.call(this,n,i)}function Ie(e){var t,r="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],a=arguments[2],s=arguments[3],o=[],l=1,c=16,d="S",u=null;"object"===(0,n.A)(e=e||{})&&(r=e.orientation,i=e.unit||i,a=e.format||a,s=e.compress||e.compressPdf||s,null!==(u=e.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(!0===s?["FlateEncode"]:o),i=i||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,f={},p={internal:{},__private__:{}};p.__private__.PubSub=Ce;var m="1.3",g=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(e){m=e};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return x};var y=p.__private__.getPageFormat=function(e){return x[e]};a=a||"a4";var v="compat",b="advanced",w=v;function j(){this.saveGraphicsState(),Z(new He(ye,0,0,-ye,0,jr()*ye).toString()+" cm"),this.setFontSize(this.getFontSize()/ye),d="n",w=b}function N(){this.restoreGraphicsState(),d="S",w=v}var _=p.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};p.advancedAPI=function(e){var t=w===v;return t&&j.call(this),"function"!=typeof e||(e(this),t&&N.call(this)),this},p.compatAPI=function(e){var t=w===b;return t&&N.call(this),"function"!=typeof e||(e(this),t&&j.call(this)),this},p.isAdvancedAPI=function(){return w===b};var k,S=function(e){if(w!==b)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=p.roundToPrecision=p.__private__.roundToPrecision=function(e,r){var n=t||r;if(isNaN(e)||isNaN(n))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(n).replace(/0+$/,"")};k=p.hpf=p.__private__.hpf="number"==typeof c?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return A(e,c)}:"smart"===c?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return A(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return A(e,16)};var C=p.f2=p.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return A(e,2)},E=p.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return A(e,3)},P=p.scale=p.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return w===v?e*ye:w===b?e:void 0},T=function(e){return P(function(e){return w===v?jr()-e:w===b?e:void 0}(e))};p.__private__.setPrecision=p.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var O,I="00000000000000000000000000000000",L=p.__private__.getFileId=function(){return I},D=p.__private__.setFileId=function(e){return I=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():I.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(Ot=new Se(u.userPermissions,u.userPassword,u.ownerPassword,I)),I};p.setFileId=function(e){return D(e),this},p.getFileId=function(){return L()};var M=p.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),r=t<0?"+":"-",n=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),a=[r,U(n),"'",U(i),"'"].join("");return["D:",e.getFullYear(),U(e.getMonth()+1),U(e.getDate()),U(e.getHours()),U(e.getMinutes()),U(e.getSeconds()),a].join("")},R=p.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),r=parseInt(e.substr(6,2),10)-1,n=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),s=parseInt(e.substr(14,2),10);return new Date(t,r,n,i,a,s,0)},F=p.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=M(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return O=t},B=p.__private__.getCreationDate=function(e){var t=O;return"jsDate"===e&&(t=R(O)),t};p.setCreationDate=function(e){return F(e),this},p.getCreationDate=function(e){return B(e)};var z,U=p.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},q=p.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},W=0,H=[],V=[],G=0,K=[],Y=[],X=!1,Q=V;p.__private__.setCustomOutputDestination=function(e){X=!0,Q=e};var $=function(e){X||(Q=e)};p.__private__.resetCustomOutputDestination=function(){X=!1,Q=V};var Z=p.__private__.out=function(e){return e=e.toString(),G+=e.length+1,Q.push(e),Q},J=p.__private__.write=function(e){return Z(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},te=p.__private__.getArrayBuffer=function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r);t--;)n[t]=e.charCodeAt(t);return r},ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ne};var ie=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(e){return ie=w===b?e/ye:e,this};var ae,se=p.__private__.getFontSize=p.getFontSize=function(){return w===v?ie:ie*ye},de=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(e){return de=e,this},p.__private__.getR2L=p.getR2L=function(){return de};var ue,he=p.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ae=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ae=e}else ae=parseInt(e,10)};p.__private__.getZoomMode=function(){return ae};var fe,pe=p.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ue=e};p.__private__.getPageMode=function(){return ue};var me=p.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');fe=e};p.__private__.getLayoutMode=function(){return fe},p.__private__.setDisplayMode=p.setDisplayMode=function(e,t,r){return he(e),me(t),pe(r),this};var ge={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ge).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ge[e]},p.__private__.getDocumentProperties=function(){return ge},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(e){for(var t in ge)ge.hasOwnProperty(t)&&e[t]&&(ge[t]=e[t]);return this},p.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ge).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ge[e]=t};var xe,ye,ve,be,we,je={},Ne={},_e=[],ke={},Pe={},Le={},De={},Me=null,Re=0,Fe=[],Be=new Ce(p),ze=e.hotfixes||[],Ue={},qe={},We=[],He=function e(t,r,n,i,a,s){if(!(this instanceof e))return new e(t,r,n,i,a,s);isNaN(t)&&(t=1),isNaN(r)&&(r=0),isNaN(n)&&(n=0),isNaN(i)&&(i=1),isNaN(a)&&(a=0),isNaN(s)&&(s=0),this._matrix=[t,r,n,i,a,s]};Object.defineProperty(He.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(He.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(He.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(He.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(He.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(He.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(He.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(He.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(He.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(He.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(He.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(He.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(He.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(He.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(He.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(He.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),He.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(e)},He.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,r=e.sx*this.shy+e.shy*this.sy,n=e.shx*this.sx+e.sy*this.shx,i=e.shx*this.shy+e.sy*this.sy,a=e.tx*this.sx+e.ty*this.shx+this.tx,s=e.tx*this.shy+e.ty*this.sy+this.ty;return new He(t,r,n,i,a,s)},He.prototype.decompose=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,i=this.tx,a=this.ty,s=Math.sqrt(e*e+t*t),o=(e/=s)*r+(t/=s)*n;r-=e*o,n-=t*o;var l=Math.sqrt(r*r+n*n);return o/=l,e*(n/=l)<t*(r/=l)&&(e=-e,t=-t,o=-o,s=-s),{scale:new He(s,0,0,l,0,0),translate:new He(1,0,0,1,i,a),rotate:new He(e,t,-t,e,0,0),skew:new He(1,0,o,1,0,0)}},He.prototype.toString=function(e){return this.join(" ")},He.prototype.inversed=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,i=this.tx,a=this.ty,s=1/(e*n-t*r),o=n*s,l=-t*s,c=-r*s,d=e*s;return new He(o,l,c,d,-o*i-c*a,-l*i-d*a)},He.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,r=e.x*this.shy+e.y*this.sy+this.ty;return new mr(t,r)},He.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),r=this.applyToPoint(new mr(e.x+e.w,e.y+e.h));return new gr(t.x,t.y,r.x-t.x,r.y-t.y)},He.prototype.clone=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,i=this.tx,a=this.ty;return new He(e,t,r,n,i,a)},p.Matrix=He;var Ve=p.matrixMult=function(e,t){return t.multiply(e)},Ge=new He(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ge;var Ke=function(e,t){if(!Pe[e]){var r=(t instanceof Te?"Sh":"P")+(Object.keys(ke).length+1).toString(10);t.id=r,Pe[e]=r,ke[r]=t,Be.publish("addPattern",t)}};p.ShadingPattern=Te,p.TilingPattern=Oe,p.addShadingPattern=function(e,t){return S("addShadingPattern()"),Ke(e,t),this},p.beginTilingPattern=function(e){S("beginTilingPattern()"),yr(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},p.endTilingPattern=function(e,t){S("endTilingPattern()"),t.stream=Y[z].join("\n"),Ke(e,t),Be.publish("endTilingPattern",t),We.pop().restore()};var Ye,Xe=p.__private__.newObject=function(){var e=Qe();return $e(e,!0),e},Qe=p.__private__.newObjectDeferred=function(){return W++,H[W]=function(){return G},W},$e=function(e,t){return t="boolean"==typeof t&&t,H[e]=G,t&&Z(e+" 0 obj"),e},Ze=p.__private__.newAdditionalObject=function(){var e={objId:Qe(),content:""};return K.push(e),e},Je=Qe(),et=Qe(),tt=p.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var r=parseFloat(t[0]);t=[r,r,r,"r"]}for(var n="#",i=0;i<3;i++)n+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return n},rt=p.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var r=e.ch1,i=e.ch2,a=e.ch3,s=e.ch4,o="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof r&&"#"!==r.charAt(0)){var l=new ce(r);if(l.ok)r=l.toHex();else if(!/^\d*\.?\d*$/.test(r))throw new Error('Invalid color "'+r+'" passed to jsPDF.encodeColorString.')}if("string"==typeof r&&/^#[0-9A-Fa-f]{3}$/.test(r)&&(r="#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]),"string"==typeof r&&/^#[0-9A-Fa-f]{6}$/.test(r)){var c=parseInt(r.substr(1),16);r=c>>16&255,i=c>>8&255,a=255&c}if(void 0===i||void 0===s&&r===i&&i===a)if("string"==typeof r)t=r+" "+o[0];else if(2===e.precision)t=C(r/255)+" "+o[0];else t=E(r/255)+" "+o[0];else if(void 0===s||"object"===(0,n.A)(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.","1.","1.",o[1]].join(" ");if("string"==typeof r)t=[r,i,a,o[1]].join(" ");else if(2===e.precision)t=[C(r/255),C(i/255),C(a/255),o[1]].join(" ");else t=[E(r/255),E(i/255),E(a/255),o[1]].join(" ")}else if("string"==typeof r)t=[r,i,a,s,o[2]].join(" ");else if(2===e.precision)t=[C(r),C(i),C(a),C(s),o[2]].join(" ");else t=[E(r),E(i),E(a),E(s),o[2]].join(" ");return t},nt=p.__private__.getFilters=function(){return o},it=p.__private__.putStream=function(e){var t=(e=e||{}).data||"",r=e.filters||nt(),n=e.alreadyAppliedFilters||[],i=e.addLength1||!1,a=t.length,s=e.objectId,o=function(e){return e};if(null!==u&&void 0===s)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(o=Ot.encryptor(s,0));var l={};!0===r&&(r=["FlateEncode"]);var c=e.additionalKeyValues||[],d=(l=void 0!==Ie.API.processDataByFilters?Ie.API.processDataByFilters(t,r):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(n)?n.join(" "):n.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===i&&c.push({key:"Length1",value:a})),0!=d.length)if(d.split("/").length-1==1)c.push({key:"Filter",value:d});else{c.push({key:"Filter",value:"["+d+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var f=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)f.push("null");f.push(c[h].value),c[h].value="["+f.join(" ")+"]"}}Z("<<");for(var m=0;m<c.length;m++)Z("/"+c[m].key+" "+c[m].value);Z(">>"),0!==l.data.length&&(Z("stream"),Z(o(l.data)),Z("endstream"))},at=p.__private__.putPage=function(e){var t=e.number,r=e.data,n=e.objId,i=e.contentsObjId;$e(n,!0),Z("<</Type /Page"),Z("/Parent "+e.rootDictionaryObjId+" 0 R"),Z("/Resources "+e.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(k(e.mediaBox.bottomLeftX))+" "+parseFloat(k(e.mediaBox.bottomLeftY))+" "+k(e.mediaBox.topRightX)+" "+k(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&Z("/CropBox ["+k(e.cropBox.bottomLeftX)+" "+k(e.cropBox.bottomLeftY)+" "+k(e.cropBox.topRightX)+" "+k(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&Z("/BleedBox ["+k(e.bleedBox.bottomLeftX)+" "+k(e.bleedBox.bottomLeftY)+" "+k(e.bleedBox.topRightX)+" "+k(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&Z("/TrimBox ["+k(e.trimBox.bottomLeftX)+" "+k(e.trimBox.bottomLeftY)+" "+k(e.trimBox.topRightX)+" "+k(e.trimBox.topRightY)+"]"),null!==e.artBox&&Z("/ArtBox ["+k(e.artBox.bottomLeftX)+" "+k(e.artBox.bottomLeftY)+" "+k(e.artBox.topRightX)+" "+k(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&Z("/UserUnit "+e.userUnit),Be.publish("putPage",{objId:n,pageContext:Fe[t],pageNumber:t,page:r}),Z("/Contents "+i+" 0 R"),Z(">>"),Z("endobj");var a=r.join("\n");return w===b&&(a+="\nQ"),$e(i,!0),it({data:a,filters:nt(),objectId:i}),Z("endobj"),n},st=p.__private__.putPages=function(){var e,t,r=[];for(e=1;e<=Re;e++)Fe[e].objId=Qe(),Fe[e].contentsObjId=Qe();for(e=1;e<=Re;e++)r.push(at({number:e,data:Y[e],objId:Fe[e].objId,contentsObjId:Fe[e].contentsObjId,mediaBox:Fe[e].mediaBox,cropBox:Fe[e].cropBox,bleedBox:Fe[e].bleedBox,trimBox:Fe[e].trimBox,artBox:Fe[e].artBox,userUnit:Fe[e].userUnit,rootDictionaryObjId:Je,resourceDictionaryObjId:et}));$e(Je,!0),Z("<</Type /Pages");var n="/Kids [";for(t=0;t<Re;t++)n+=r[t]+" 0 R ";Z(n+"]"),Z("/Count "+Re),Z(">>"),Z("endobj"),Be.publish("postPutPages")},ot=function(e){Be.publish("putFont",{font:e,out:Z,newObject:Xe,putStream:it}),!0!==e.isAlreadyPutted&&(e.objectNumber=Xe(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Ae(e.postScriptName)),Z("/Subtype /Type1"),"string"==typeof e.encoding&&Z("/Encoding /"+e.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},lt=function(e){e.objectNumber=Xe();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[k(e.x),k(e.y),k(e.x+e.width),k(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var r=e.pages[1].join("\n");it({data:r,additionalKeyValues:t,objectId:e.objectNumber}),Z("endobj")},ct=function(e,t){t||(t=21);var r=Xe(),n=function(e,t){var r,n=[],i=1/(t-1);for(r=0;r<1;r+=i)n.push(r);if(n.push(1),0!=e[0].offset){var a={offset:0,color:e[0].color};e.unshift(a)}if(1!=e[e.length-1].offset){var s={offset:1,color:e[e.length-1].color};e.push(s)}for(var o="",l=0,c=0;c<n.length;c++){for(r=n[c];r>e[l+1].offset;)l++;var d=e[l].offset,u=(r-d)/(e[l+1].offset-d),h=e[l].color,f=e[l+1].color;o+=q(Math.round((1-u)*h[0]+u*f[0]).toString(16))+q(Math.round((1-u)*h[1]+u*f[1]).toString(16))+q(Math.round((1-u)*h[2]+u*f[2]).toString(16))}return o.trim()}(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),it({data:n,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:r}),Z("endobj"),e.objectNumber=Xe(),Z("<< /ShadingType "+e.type),Z("/ColorSpace /DeviceRGB");var a="/Coords ["+k(parseFloat(e.coords[0]))+" "+k(parseFloat(e.coords[1]))+" ";2===e.type?a+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3])):a+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3]))+" "+k(parseFloat(e.coords[4]))+" "+k(parseFloat(e.coords[5])),Z(a+="]"),e.matrix&&Z("/Matrix ["+e.matrix.toString()+"]"),Z("/Function "+r+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},dt=function(e,t){var r=Qe(),n=Xe();t.push({resourcesOid:r,objectOid:n}),e.objectNumber=n;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(k).join(" ")+"]"}),i.push({key:"XStep",value:k(e.xStep)}),i.push({key:"YStep",value:k(e.yStep)}),i.push({key:"Resources",value:r+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),it({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),Z("endobj")},ut=function(e){for(var t in e.objectNumber=Xe(),Z("<<"),e)switch(t){case"opacity":Z("/ca "+C(e[t]));break;case"stroke-opacity":Z("/CA "+C(e[t]))}Z(">>"),Z("endobj")},ht=function(e){$e(e.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in Z("/Font <<"),je)je.hasOwnProperty(e)&&(!1===h||!0===h&&f.hasOwnProperty(e))&&Z("/"+e+" "+je[e].objectNumber+" 0 R");Z(">>")}(),function(){if(Object.keys(ke).length>0){for(var e in Z("/Shading <<"),ke)ke.hasOwnProperty(e)&&ke[e]instanceof Te&&ke[e].objectNumber>=0&&Z("/"+e+" "+ke[e].objectNumber+" 0 R");Be.publish("putShadingPatternDict"),Z(">>")}}(),function(e){if(Object.keys(ke).length>0){for(var t in Z("/Pattern <<"),ke)ke.hasOwnProperty(t)&&ke[t]instanceof p.TilingPattern&&ke[t].objectNumber>=0&&ke[t].objectNumber<e&&Z("/"+t+" "+ke[t].objectNumber+" 0 R");Be.publish("putTilingPatternDict"),Z(">>")}}(e.objectOid),function(){if(Object.keys(Le).length>0){var e;for(e in Z("/ExtGState <<"),Le)Le.hasOwnProperty(e)&&Le[e].objectNumber>=0&&Z("/"+e+" "+Le[e].objectNumber+" 0 R");Be.publish("putGStateDict"),Z(">>")}}(),function(){for(var e in Z("/XObject <<"),Ue)Ue.hasOwnProperty(e)&&Ue[e].objectNumber>=0&&Z("/"+e+" "+Ue[e].objectNumber+" 0 R");Be.publish("putXobjectDict"),Z(">>")}(),Z(">>"),Z("endobj")},ft=function(){var e=[];(function(){for(var e in je)je.hasOwnProperty(e)&&(!1===h||!0===h&&f.hasOwnProperty(e))&&ot(je[e])})(),function(){var e;for(e in Le)Le.hasOwnProperty(e)&&ut(Le[e])}(),function(){for(var e in Ue)Ue.hasOwnProperty(e)&&lt(Ue[e])}(),function(e){var t;for(t in ke)ke.hasOwnProperty(t)&&(ke[t]instanceof Te?ct(ke[t]):ke[t]instanceof Oe&&dt(ke[t],e))}(e),Be.publish("putResources"),e.forEach(ht),ht({resourcesOid:et,objectOid:Number.MAX_SAFE_INTEGER}),Be.publish("postPutResources")},pt=function(e){Ne[e.fontName]=Ne[e.fontName]||{},Ne[e.fontName][e.fontStyle]=e.id},mt=function(e,t,r,n,i){var a={id:"F"+(Object.keys(je).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:r,encoding:n,isStandardFont:i||!1,metadata:{}};return Be.publish("addFont",{font:a,instance:this}),je[a.id]=a,pt(a),a.id},gt=p.__private__.pdfEscape=p.pdfEscape=function(e,t){return function(e,t){var r,n,i,a,s,o,l,c,d;if(i=(t=t||{}).sourceEncoding||"Unicode",s=t.outputEncoding,(t.autoencode||s)&&je[xe].metadata&&je[xe].metadata[i]&&je[xe].metadata[i].encoding&&(a=je[xe].metadata[i].encoding,!s&&je[xe].encoding&&(s=je[xe].encoding),!s&&a.codePages&&(s=a.codePages[0]),"string"==typeof s&&(s=a[s]),s)){for(l=!1,o=[],r=0,n=e.length;r<n;r++)(c=s[e.charCodeAt(r)])?o.push(String.fromCharCode(c)):o.push(e[r]),o[r].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(r=e.length;void 0===l&&0!==r;)e.charCodeAt(r-1)>>8&&(l=!0),r--;if(!l)return e;for(o=t.noBOM?[]:[254,255],r=0,n=e.length;r<n;r++){if((d=(c=e.charCodeAt(r))>>8)>>8)throw new Error("Character at position "+r+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(d),o.push(c-(d<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xt=p.__private__.beginPage=function(e){Y[++Re]=[],Fe[Re]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},bt(Re),$(Y[z])},yt=function(e,t){var n,i,s;switch(r=t||r,"string"==typeof e&&(n=y(e.toLowerCase()),Array.isArray(n)&&(i=n[0],s=n[1])),Array.isArray(e)&&(i=e[0]*ye,s=e[1]*ye),isNaN(i)&&(i=a[0],s=a[1]),(i>14400||s>14400)&&(re.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),s=Math.min(14400,s)),a=[i,s],r.substr(0,1)){case"l":s>i&&(a=[s,i]);break;case"p":i>s&&(a=[s,i])}xt(a),Zt(Qt),Z(sr),0!==hr&&Z(hr+" J"),0!==fr&&Z(fr+" j"),Be.publish("addPage",{pageNumber:Re})},vt=function(e){e>0&&e<=Re&&(Y.splice(e,1),Fe.splice(e,1),Re--,z>Re&&(z=Re),this.setPage(z))},bt=function(e){e>0&&e<=Re&&(z=e)},wt=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Y.length-1},jt=function(e,t,r){var n,i=void 0;return r=r||{},e=void 0!==e?e:je[xe].fontName,t=void 0!==t?t:je[xe].fontStyle,n=e.toLowerCase(),void 0!==Ne[n]&&void 0!==Ne[n][t]?i=Ne[n][t]:void 0!==Ne[e]&&void 0!==Ne[e][t]?i=Ne[e][t]:!1===r.disableWarning&&re.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||r.noFallback||null==(i=Ne.times[t])&&(i=Ne.times.normal),i},Nt=p.__private__.putInfo=function(){var e=Xe(),t=function(e){return e};for(var r in null!==u&&(t=Ot.encryptor(e,0)),Z("<<"),Z("/Producer ("+gt(t("jsPDF "+Ie.version))+")"),ge)ge.hasOwnProperty(r)&&ge[r]&&Z("/"+r.substr(0,1).toUpperCase()+r.substr(1)+" ("+gt(t(ge[r]))+")");Z("/CreationDate ("+gt(t(O))+")"),Z(">>"),Z("endobj")},_t=p.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Je;switch(Xe(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+t+" 0 R"),ae||(ae="fullwidth"),ae){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var r=""+ae;"%"===r.substr(r.length-1)&&(ae=parseInt(ae)/100),"number"==typeof ae&&Z("/OpenAction [3 0 R /XYZ null null "+C(ae)+"]")}switch(fe||(fe="continuous"),fe){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}ue&&Z("/PageMode /"+ue),Be.publish("putCatalog"),Z(">>"),Z("endobj")},kt=p.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(W+1)),Z("/Root "+W+" 0 R"),Z("/Info "+(W-1)+" 0 R"),null!==u&&Z("/Encrypt "+Ot.oid+" 0 R"),Z("/ID [ <"+I+"> <"+I+"> ]"),Z(">>")},St=p.__private__.putHeader=function(){Z("%PDF-"+m),Z("%\xba\xdf\xac\xe0")},At=p.__private__.putXRef=function(){var e="0000000000";Z("xref"),Z("0 "+(W+1)),Z("0000000000 65535 f ");for(var t=1;t<=W;t++)"function"==typeof H[t]?Z((e+H[t]()).slice(-10)+" 00000 n "):void 0!==H[t]?Z((e+H[t]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Ct=p.__private__.buildDocument=function(){W=0,G=0,V=[],H=[],K=[],Je=Qe(),et=Qe(),$(V),Be.publish("buildDocument"),St(),st(),function(){Be.publish("putAdditionalObjects");for(var e=0;e<K.length;e++){var t=K[e];$e(t.objId,!0),Z(t.content),Z("endobj")}Be.publish("postPutAdditionalObjects")}(),ft(),null!==u&&(Ot.oid=Xe(),Z("<<"),Z("/Filter /Standard"),Z("/V "+Ot.v),Z("/R "+Ot.r),Z("/U <"+Ot.toHexString(Ot.U)+">"),Z("/O <"+Ot.toHexString(Ot.O)+">"),Z("/P "+Ot.P),Z(">>"),Z("endobj")),Nt(),_t();var e=G;return At(),kt(),Z("startxref"),Z(""+e),Z("%%EOF"),$(Y[z]),V.join("\n")},Et=p.__private__.getBlob=function(e){return new Blob([te(e)],{type:"application/pdf"})},Pt=p.output=p.__private__.output=(Ye=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return Ct();case"save":p.save(t.filename);break;case"arraybuffer":return te(Ct());case"blob":return Et(Ct());case"bloburi":case"bloburl":if(void 0!==ee.URL&&"function"==typeof ee.URL.createObjectURL)return ee.URL&&ee.URL.createObjectURL(Et(Ct()))||void 0;re.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var r="",n=Ct();try{r=oe(n)}catch(e){r=oe(unescape(encodeURIComponent(n)))}return"data:application/pdf;filename="+t.filename+";base64,"+r;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(ee)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",a=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(i=t.pdfObjectUrl,a="");var s='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+a+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=ee.open();return null!==o&&o.document.write(s),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(ee)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=ee.open();if(null!==c){c.document.write(l);var d=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(ee))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',h=ee.open();if(null!==h&&(h.document.write(u),h.document.title=t.filename),h||"undefined"==typeof safari)return h;break;case"datauri":case"dataurl":return ee.document.location.href=this.output("datauristring",t);default:return null}},Ye.foo=function(){try{return Ye.apply(this,arguments)}catch(Ye){var e=Ye.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+Ye.message;if(!ee.console)throw new Error(t);ee.console.error(t,Ye),ee.alert&&alert(t)}},Ye.foo.bar=Ye,Ye.foo),Tt=function(e){return!0===Array.isArray(ze)&&ze.indexOf(e)>-1};switch(i){case"pt":ye=1;break;case"mm":ye=72/25.4;break;case"cm":ye=72/2.54;break;case"in":ye=72;break;case"px":ye=1==Tt("px_scaling")?.75:96/72;break;case"pc":case"em":ye=12;break;case"ex":ye=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);ye=i}var Ot=null;F(),D();var It=p.__private__.getPageInfo=p.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Fe[e].objId,pageNumber:e,pageContext:Fe[e]}},Lt=p.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Fe)if(Fe[t].objId===e)break;return It(t)},Dt=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Fe[z].objId,pageNumber:z,pageContext:Fe[z]}};p.addPage=function(){return yt.apply(this,arguments),this},p.setPage=function(){return bt.apply(this,arguments),$.call(this,Y[z]),this},p.insertPage=function(e){return this.addPage(),this.movePage(z,e),this},p.movePage=function(e,t){var r,n;if(e>t){r=Y[e],n=Fe[e];for(var i=e;i>t;i--)Y[i]=Y[i-1],Fe[i]=Fe[i-1];Y[t]=r,Fe[t]=n,this.setPage(t)}else if(e<t){r=Y[e],n=Fe[e];for(var a=e;a<t;a++)Y[a]=Y[a+1],Fe[a]=Fe[a+1];Y[t]=r,Fe[t]=n,this.setPage(t)}return this},p.deletePage=function(){return vt.apply(this,arguments),this},p.__private__.text=p.text=function(e,t,r,i,a){var s,o,l,c,d,u,h,p,m,g=(i=i||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof r||Array.isArray(r))){var x=r;r=t,t=e,e=x}if(arguments[3]instanceof He==0?(l=arguments[4],c=arguments[5],"object"===(0,n.A)(h=arguments[3])&&null!==h||("string"==typeof l&&(c=l,l=null),"string"==typeof h&&(c=h,h=null),"number"==typeof h&&(l=h,h=null),i={flags:h,angle:l,align:c})):(S("The transform parameter of text() with a Matrix value"),m=a),isNaN(t)||isNaN(r)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return g;var y,v="",j="number"==typeof i.lineHeightFactor?i.lineHeightFactor:Xt,N=g.internal.scaleFactor;function _(e){return e=e.split("\t").join(Array(i.TabLen||9).join(" ")),gt(e,h)}function A(e){for(var t,r=e.concat(),n=[],i=r.length;i--;)"string"==typeof(t=r.shift())?n.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?n.push(t[0]):n.push([t[0],t[1],t[2]]);return n}function C(e,t){var r;if("string"==typeof e)r=t(e)[0];else if(Array.isArray(e)){for(var n,i,a=e.concat(),s=[],o=a.length;o--;)"string"==typeof(n=a.shift())?s.push(t(n)[0]):Array.isArray(n)&&"string"==typeof n[0]&&(i=t(n[0],n[1],n[2]),s.push([i[0],i[1],i[2]]));r=s}return r}var E=!1,T=!0;if("string"==typeof e)E=!0;else if(Array.isArray(e)){var O=e.concat();o=[];for(var I,L=O.length;L--;)("string"!=typeof(I=O.shift())||Array.isArray(I)&&"string"!=typeof I[0])&&(T=!1);E=T}if(!1===E)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var D=ie/g.internal.scaleFactor,M=D*(j-1);switch(i.baseline){case"bottom":r-=M;break;case"top":r+=D-M;break;case"hanging":r+=D-2*M;break;case"middle":r+=D/2-M}if((u=i.maxWidth||0)>0&&("string"==typeof e?e=g.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(g.splitTextToSize(t,u))},[]))),s={text:e,x:t,y:r,options:i,mutex:{pdfEscape:gt,activeFontKey:xe,fonts:je,activeFontSize:ie}},Be.publish("preProcessText",s),e=s.text,l=(i=s.options).angle,m instanceof He==0&&l&&"number"==typeof l){l*=Math.PI/180,0===i.rotationDirection&&(l=-l),w===b&&(l=-l);var R=Math.cos(l),F=Math.sin(l);m=new He(R,F,-F,R,0,0)}else l&&l instanceof He&&(m=l);w!==b||m||(m=Ge),void 0!==(d=i.charSpace||dr)&&(v+=k(P(d))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(p=i.horizontalScale)&&(v+=k(100*p)+" Tz\n"),i.lang;var B=-1,z=void 0!==i.renderingMode?i.renderingMode:i.stroke,U=g.internal.getCurrentPageInfo().pageContext;switch(z){case 0:case!1:case"fill":B=0;break;case 1:case!0:case"stroke":B=1;break;case 2:case"fillThenStroke":B=2;break;case 3:case"invisible":B=3;break;case 4:case"fillAndAddForClipping":B=4;break;case 5:case"strokeAndAddPathForClipping":B=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":B=6;break;case 7:case"addToPathForClipping":B=7}var q=void 0!==U.usedRenderingMode?U.usedRenderingMode:-1;-1!==B?v+=B+" Tr\n":-1!==q&&(v+="0 Tr\n"),-1!==B&&(U.usedRenderingMode=B),c=i.align||"left";var W,H=ie*j,V=g.internal.pageSize.getWidth(),G=je[xe];d=i.charSpace||dr,u=i.maxWidth||0,h=Object.assign({autoencode:!0,noBOM:!0},i.flags);var K=[],Y=function(e){return g.getStringUnitWidth(e,{font:G,charSpace:d,fontSize:ie,doKerning:!1})*ie/N};if("[object Array]"===Object.prototype.toString.call(e)){var X;o=A(e),"left"!==c&&(W=o.map(Y));var Q,$=0;if("right"===c){t-=W[0],e=[],L=o.length;for(var J=0;J<L;J++)0===J?(Q=rr(t),X=nr(r)):(Q=P($-W[J]),X=-H),e.push([o[J],Q,X]),$=W[J]}else if("center"===c){t-=W[0]/2,e=[],L=o.length;for(var ee=0;ee<L;ee++)0===ee?(Q=rr(t),X=nr(r)):(Q=P(($-W[ee])/2),X=-H),e.push([o[ee],Q,X]),$=W[ee]}else if("left"===c){e=[],L=o.length;for(var te=0;te<L;te++)e.push(o[te])}else if("justify"===c&&"Identity-H"===G.encoding){e=[],L=o.length,u=0!==u?u:V;for(var re=0,ne=0;ne<L;ne++)if(X=0===ne?nr(r):-H,Q=0===ne?rr(t):re,ne<L-1){var ae=P((u-W[ne])/(o[ne].split(" ").length-1)),se=o[ne].split(" ");e.push([se[0]+" ",Q,X]),re=0;for(var oe=1;oe<se.length;oe++){var le=(Y(se[oe-1]+" "+se[oe])-Y(se[oe]))*N+ae;oe==se.length-1?e.push([se[oe],le,0]):e.push([se[oe]+" ",le,0]),re-=le}}else e.push([o[ne],Q,X]);e.push(["",re,0])}else{if("justify"!==c)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],L=o.length,u=0!==u?u:V,ne=0;ne<L;ne++)X=0===ne?nr(r):-H,Q=0===ne?rr(t):0,ne<L-1?K.push(k(P((u-W[ne])/(o[ne].split(" ").length-1)))):K.push(0),e.push([o[ne],Q,X])}}!0===("boolean"==typeof i.R2L?i.R2L:de)&&(e=C(e,function(e,t,r){return[e.split("").reverse().join(""),t,r]})),s={text:e,x:t,y:r,options:i,mutex:{pdfEscape:gt,activeFontKey:xe,fonts:je,activeFontSize:ie}},Be.publish("postProcessText",s),e=s.text,y=s.mutex.isHex||!1;var ce=je[xe].encoding;"WinAnsiEncoding"!==ce&&"StandardEncoding"!==ce||(e=C(e,function(e,t,r){return[_(e),t,r]})),o=A(e),e=[];for(var ue,he,fe,pe=Array.isArray(o[0])?1:0,me="",ge=function(e,t,r){var n="";return r instanceof He?(r="number"==typeof i.angle?Ve(r,new He(1,0,0,1,e,t)):Ve(new He(1,0,0,1,e,t),r),w===b&&(r=Ve(new He(1,0,0,-1,0,0),r)),n=r.join(" ")+" Tm\n"):n=k(e)+" "+k(t)+" Td\n",n},ye=0;ye<o.length;ye++){switch(me="",pe){case 1:fe=(y?"<":"(")+o[ye][0]+(y?">":")"),ue=parseFloat(o[ye][1]),he=parseFloat(o[ye][2]);break;case 0:fe=(y?"<":"(")+o[ye]+(y?">":")"),ue=rr(t),he=nr(r)}void 0!==K&&void 0!==K[ye]&&(me=K[ye]+" Tw\n"),0===ye?e.push(me+ge(ue,he,m)+fe):0===pe?e.push(me+fe):1===pe&&e.push(me+ge(ue,he,m)+fe)}e=0===pe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var ve="BT\n/";return ve+=xe+" "+ie+" Tf\n",ve+=k(ie*j)+" TL\n",ve+=lr+"\n",ve+=v,ve+=e,Z(ve+="ET"),f[xe]=!0,g};var Mt=p.__private__.clip=p.clip=function(e){return Z("evenodd"===e?"W*":"W"),this};p.clipEvenOdd=function(){return Mt("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Z("n"),this};var Rt=p.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(e){return Rt(e)&&(d=e),this};var Ft=p.__private__.getStyle=p.getStyle=function(e){var t=d;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},Bt=p.close=function(){return Z("h"),this};p.stroke=function(){return Z("S"),this},p.fill=function(e){return zt("f",e),this},p.fillEvenOdd=function(e){return zt("f*",e),this},p.fillStroke=function(e){return zt("B",e),this},p.fillStrokeEvenOdd=function(e){return zt("B*",e),this};var zt=function(e,t){"object"===(0,n.A)(t)?Wt(t,e):Z(e)},Ut=function(e){null===e||w===b&&void 0===e||(e=Ft(e),Z(e))};function qt(e,t,r,n,i){var a=new Oe(t||this.boundingBox,r||this.xStep,n||this.yStep,this.gState,i||this.matrix);a.stream=this.stream;var s=e+"$$"+this.cloneIndex+++"$$";return Ke(s,a),a}var Wt=function(e,t){var r=Pe[e.key],n=ke[r];if(n instanceof Te)Z("q"),Z(Ht(t)),n.gState&&p.setGState(n.gState),Z(e.matrix.toString()+" cm"),Z("/"+r+" sh"),Z("Q");else if(n instanceof Oe){var i=new He(1,0,0,-1,0,jr());e.matrix&&(i=i.multiply(e.matrix||Ge),r=qt.call(n,e.key,e.boundingBox,e.xStep,e.yStep,i).id),Z("q"),Z("/Pattern cs"),Z("/"+r+" scn"),n.gState&&p.setGState(n.gState),Z(t),Z("Q")}},Ht=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Vt=p.moveTo=function(e,t){return Z(k(P(e))+" "+k(T(t))+" m"),this},Gt=p.lineTo=function(e,t){return Z(k(P(e))+" "+k(T(t))+" l"),this},Kt=p.curveTo=function(e,t,r,n,i,a){return Z([k(P(e)),k(T(t)),k(P(r)),k(T(n)),k(P(i)),k(T(a)),"c"].join(" ")),this};p.__private__.line=p.line=function(e,t,r,n,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Rt(i))throw new Error("Invalid arguments passed to jsPDF.line");return w===v?this.lines([[r-e,n-t]],e,t,[1,1],i||"S"):this.lines([[r-e,n-t]],e,t,[1,1]).stroke()},p.__private__.lines=p.lines=function(e,t,r,n,i,a){var s,o,l,c,d,u,h,f,p,m,g,x;if("number"==typeof e&&(x=r,r=t,t=e,e=x),n=n||[1,1],a=a||!1,isNaN(t)||isNaN(r)||!Array.isArray(e)||!Array.isArray(n)||!Rt(i)||"boolean"!=typeof a)throw new Error("Invalid arguments passed to jsPDF.lines");for(Vt(t,r),s=n[0],o=n[1],c=e.length,m=t,g=r,l=0;l<c;l++)2===(d=e[l]).length?(m=d[0]*s+m,g=d[1]*o+g,Gt(m,g)):(u=d[0]*s+m,h=d[1]*o+g,f=d[2]*s+m,p=d[3]*o+g,m=d[4]*s+m,g=d[5]*o+g,Kt(u,h,f,p,m,g));return a&&Bt(),Ut(i),this},p.path=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r.c;switch(r.op){case"m":Vt(n[0],n[1]);break;case"l":Gt(n[0],n[1]);break;case"c":Kt.apply(this,n);break;case"h":Bt()}}return this},p.__private__.rect=p.rect=function(e,t,r,n,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Rt(i))throw new Error("Invalid arguments passed to jsPDF.rect");return w===v&&(n=-n),Z([k(P(e)),k(T(t)),k(P(r)),k(P(n)),"re"].join(" ")),Ut(i),this},p.__private__.triangle=p.triangle=function(e,t,r,n,i,a,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(i)||isNaN(a)||!Rt(s))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[r-e,n-t],[i-r,a-n],[e-i,t-a]],e,t,[1,1],s,!0),this},p.__private__.roundedRect=p.roundedRect=function(e,t,r,n,i,a,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(i)||isNaN(a)||!Rt(s))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*r),a=Math.min(a,.5*n),this.lines([[r-2*i,0],[i*o,0,i,a-a*o,i,a],[0,n-2*a],[0,a*o,-i*o,a,-i,a],[2*i-r,0],[-i*o,0,-i,-a*o,-i,-a],[0,2*a-n],[0,-a*o,i*o,-a,i,-a]],e+i,t,[1,1],s,!0),this},p.__private__.ellipse=p.ellipse=function(e,t,r,n,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Rt(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var a=4/3*(Math.SQRT2-1)*r,s=4/3*(Math.SQRT2-1)*n;return Vt(e+r,t),Kt(e+r,t-s,e+a,t-n,e,t-n),Kt(e-a,t-n,e-r,t-s,e-r,t),Kt(e-r,t+s,e-a,t+n,e,t+n),Kt(e+a,t+n,e+r,t+s,e+r,t),Ut(i),this},p.__private__.circle=p.circle=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||!Rt(n))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,r,r,n)},p.setFont=function(e,t,r){return r&&(t=_(t,r)),xe=jt(e,t,{disableWarning:!1}),this};var Yt=p.__private__.getFont=p.getFont=function(){return je[jt.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var e,t,r={};for(e in Ne)if(Ne.hasOwnProperty(e))for(t in r[e]=[],Ne[e])Ne[e].hasOwnProperty(t)&&r[e].push(t);return r},p.addFont=function(e,t,r,n,i){var a=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==a.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==a.indexOf(arguments[3])&&(r=_(r,n)),mt.call(this,e,t,r,i=i||"Identity-H")};var Xt,Qt=e.lineWidth||.200025,$t=p.__private__.getLineWidth=p.getLineWidth=function(){return Qt},Zt=p.__private__.setLineWidth=p.setLineWidth=function(e){return Qt=e,Z(k(P(e))+" w"),this};p.__private__.setLineDash=Ie.API.setLineDash=Ie.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return k(P(e))}).join(" "),t=k(P(t)),Z("["+e+"] "+t+" d"),this};var Jt=p.__private__.getLineHeight=p.getLineHeight=function(){return ie*Xt};p.__private__.getLineHeight=p.getLineHeight=function(){return ie*Xt};var er=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Xt=e),this},tr=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Xt};er(e.lineHeight);var rr=p.__private__.getHorizontalCoordinate=function(e){return P(e)},nr=p.__private__.getVerticalCoordinate=function(e){return w===b?e:Fe[z].mediaBox.topRightY-Fe[z].mediaBox.bottomLeftY-P(e)},ir=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(e){return k(rr(e))},ar=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(e){return k(nr(e))},sr=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return tt(sr)},p.__private__.setStrokeColor=p.setDrawColor=function(e,t,r,n){return sr=rt({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"draw",precision:2}),Z(sr),this};var or=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return tt(or)},p.__private__.setFillColor=p.setFillColor=function(e,t,r,n){return or=rt({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"fill",precision:2}),Z(or),this};var lr=e.textColor||"0 g",cr=p.__private__.getTextColor=p.getTextColor=function(){return tt(lr)};p.__private__.setTextColor=p.setTextColor=function(e,t,r,n){return lr=rt({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"text",precision:3}),this};var dr=e.charSpace,ur=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(dr||0)};p.__private__.setCharSpace=p.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return dr=e,this};var hr=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hr=t,Z(t+" J"),this};var fr=0;p.__private__.setLineJoin=p.setLineJoin=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fr=t,Z(t+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(k(P(e))+" M"),this},p.GState=Ee,p.setGState=function(e){(e="string"==typeof e?Le[De[e]]:pr(null,e)).equals(Me)||(Z("/"+e.id+" gs"),Me=e)};var pr=function(e,t){if(!e||!De[e]){var r=!1;for(var n in Le)if(Le.hasOwnProperty(n)&&Le[n].equals(t)){r=!0;break}if(r)t=Le[n];else{var i="GS"+(Object.keys(Le).length+1).toString(10);Le[i]=t,t.id=i}return e&&(De[e]=t.id),Be.publish("addGState",t),t}};p.addGState=function(e,t){return pr(e,t),this},p.saveGraphicsState=function(){return Z("q"),_e.push({key:xe,size:ie,color:lr}),this},p.restoreGraphicsState=function(){Z("Q");var e=_e.pop();return xe=e.key,ie=e.size,lr=e.color,Me=null,this},p.setCurrentTransformationMatrix=function(e){return Z(e.toString()+" cm"),this},p.comment=function(e){return Z("#"+e),this};var mr=function(e,t){var r=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var n=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},gr=function(e,t,r,n){mr.call(this,e,t),this.type="rect";var i=r||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var a=n||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}}),this},xr=function(){this.page=Re,this.currentPage=z,this.pages=Y.slice(0),this.pagesContext=Fe.slice(0),this.x=ve,this.y=be,this.matrix=we,this.width=br(z),this.height=jr(z),this.outputDestination=Q,this.id="",this.objectNumber=-1};xr.prototype.restore=function(){Re=this.page,z=this.currentPage,Fe=this.pagesContext,Y=this.pages,ve=this.x,be=this.y,we=this.matrix,wr(z,this.width),Nr(z,this.height),Q=this.outputDestination};var yr=function(e,t,r,n,i){We.push(new xr),Re=z=0,Y=[],ve=e,be=t,we=i,xt([r,n])};for(var vr in p.beginFormObject=function(e,t,r,n,i){return yr(e,t,r,n,i),this},p.endFormObject=function(e){return function(e){if(qe[e])We.pop().restore();else{var t=new xr,r="Xo"+(Object.keys(Ue).length+1).toString(10);t.id=r,qe[e]=r,Ue[r]=t,Be.publish("addFormObject",t),We.pop().restore()}}(e),this},p.doFormObject=function(e,t){var r=Ue[qe[e]];return Z("q"),Z(t.toString()+" cm"),Z("/"+r.id+" Do"),Z("Q"),this},p.getFormObject=function(e){var t=Ue[qe[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},p.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(le(Et(Ct()),e),"function"==typeof le.unload&&ee.setTimeout&&setTimeout(le.unload,911),this):new Promise(function(t,r){try{var n=le(Et(Ct()),e);"function"==typeof le.unload&&ee.setTimeout&&setTimeout(le.unload,911),t(n)}catch(e){r(e.message)}})},Ie.API)Ie.API.hasOwnProperty(vr)&&("events"===vr&&Ie.API.events.length?function(e,t){var r,n,i;for(i=t.length-1;-1!==i;i--)r=t[i][0],n=t[i][1],e.subscribe.apply(e,[r].concat("function"==typeof n?[n]:n))}(Be,Ie.API.events):p[vr]=Ie.API[vr]);var br=p.getPageWidth=function(e){return(Fe[e=e||z].mediaBox.topRightX-Fe[e].mediaBox.bottomLeftX)/ye},wr=p.setPageWidth=function(e,t){Fe[e].mediaBox.topRightX=t*ye+Fe[e].mediaBox.bottomLeftX},jr=p.getPageHeight=function(e){return(Fe[e=e||z].mediaBox.topRightY-Fe[e].mediaBox.bottomLeftY)/ye},Nr=p.setPageHeight=function(e,t){Fe[e].mediaBox.topRightY=t*ye+Fe[e].mediaBox.bottomLeftY};return p.internal={pdfEscape:gt,getStyle:Ft,getFont:Yt,getFontSize:se,getCharSpace:ur,getTextColor:cr,getLineHeight:Jt,getLineHeightFactor:tr,getLineWidth:$t,write:J,getHorizontalCoordinate:rr,getVerticalCoordinate:nr,getCoordinateString:ir,getVerticalCoordinateString:ar,collections:{},newObject:Xe,newAdditionalObject:Ze,newObjectDeferred:Qe,newObjectDeferredBegin:$e,getFilters:nt,putStream:it,events:Be,scaleFactor:ye,pageSize:{getWidth:function(){return br(z)},setWidth:function(e){wr(z,e)},getHeight:function(){return jr(z)},setHeight:function(e){Nr(z,e)}},encryptionOptions:u,encryption:Ot,getEncryptor:function(e){return null!==u?Ot.encryptor(e,0):function(e){return e}},output:Pt,getNumberOfPages:wt,pages:Y,out:Z,f2:C,f3:E,getPageInfo:It,getPageInfoByObjId:Lt,getCurrentPageInfo:Dt,getPDFVersion:g,Point:mr,Rectangle:gr,Matrix:He,hasHotfix:Tt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return br(z)},set:function(e){wr(z,e)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return jr(z)},set:function(e){Nr(z,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,r=ne.length;t<r;t++){var n=mt.call(this,e[t][0],e[t][1],e[t][2],ne[t][3],!0);!1===h&&(f[n]=!0);var i=e[t][0].split("-");pt({id:n,fontName:i[0],fontStyle:i[1]||""})}Be.publish("addFonts",{fonts:je,dictionary:Ne})}.call(p,ne),xe="F1",yt(a,r),Be.publish("initialized"),p}Se.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Se.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Se.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Se.prototype.processOwnerPassword=function(e,t){return _e(we(t).substr(0,5),e)},Se.prototype.encryptor=function(e,t){var r=we(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return _e(r,e)}},Ee.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||(0,n.A)(e)!==(0,n.A)(this))return!1;var i=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&i--;return 0===i},Ie.API={events:[]},Ie.version="2.5.2";var Le=Ie.API,De=1,Me=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Re=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Fe=function(e){return e.toFixed(2)},Be=function(e){return e.toFixed(5)};Le.__acroform__={};var ze=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Ue=function(e){return e*De},qe=function(e){var t=new at,r=vt.internal.getHeight(e)||0,n=vt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Fe(n)),Number(Fe(r))],t},We=Le.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},He=Le.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Ve=Le.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},Ge=Le.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ve(e,t-1)},Ke=Le.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return We(e,t-1)},Ye=Le.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return He(e,t-1)},Xe=Le.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(Fe(l.lowerLeft_X)),Number(Fe(l.lowerLeft_Y)),Number(Fe(l.upperRight_X)),Number(Fe(l.upperRight_Y))]},Qe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=$e(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Fe(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=qe(e);return a.scope=e.scope,a.stream=t.join("\n"),a}},$e=function(e,t){var r=0===e.fontSize?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(e){return e.split("\n")}):i.map(function(e){return[e]});var a=r,s=vt.internal.getHeight(e)||0;s=s<0?-s:s;var o=vt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,r,n){if(t+1<i.length){var a=r+" "+i[t+1][0];return Ze(a,e,n).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var c,d,u=Ze("3",e,a).height,h=e.multiline?s-a:(s-u)/2,f=h+=2,p=0,m=0,g=0;if(a<=0){t="(...) Tj\n",t+="% Width of Text: "+Ze(t,e,a=12).width+", FieldWidth:"+o+"\n";break}for(var x="",y=0,v=0;v<i.length;v++)if(i.hasOwnProperty(v)){var b=!1;if(1!==i[v].length&&g!==i[v].length-1){if((u+2)*(y+2)+2>s)continue e;x+=i[v][g],b=!0,m=v,v--}else{x=" "==(x+=i[v][g]+" ").substr(x.length-1)?x.substr(0,x.length-1):x;var w=parseInt(v),j=l(w,x,a),N=v>=i.length-1;if(j&&!N){x+=" ",g=0;continue}if(j||N){if(N)m=w;else if(e.multiline&&(u+2)*(y+2)+2>s)continue e}else{if(!e.multiline)continue e;if((u+2)*(y+2)+2>s)continue e;m=w}}for(var _="",k=p;k<=m;k++){var S=i[k];if(e.multiline){if(k===m){_+=S[g]+" ",g=(g+1)%S.length;continue}if(k===p){_+=S[S.length-1]+" ";continue}}_+=S[0]+" "}switch(_=" "==_.substr(_.length-1)?_.substr(0,_.length-1):_,d=Ze(_,e,a).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=Fe(c)+" "+Fe(f)+" Td\n",t+="("+Me(_)+") Tj\n",t+=-Fe(c)+" 0 Td\n",f=-(a+2),d=0,p=b?m:m+1,y++,x=""}break}return n.text=t,n.fontSize=a,n},Ze=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Je={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},et=function(e,t){var r={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===r.type&&e.object===r.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},tt=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(ot.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Je)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");De=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new st,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];n.objId=void 0,n.hasAnnotation&&et(n,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var r=!e;for(var i in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(i)){var a=e[i],s=[],o=a.Rect;if(a.Rect&&(a.Rect=Xe(a.Rect,t)),t.internal.newObjectDeferredBegin(a.objId,!0),a.DA=vt.createDefaultAppearanceStream(a),"object"===(0,n.A)(a)&&"function"==typeof a.getKeyValueListForStream&&(s=a.getKeyValueListForStream()),a.Rect=o,a.hasAppearanceStream&&!a.appearanceStreamContent){var l=Qe(a);s.push({key:"AP",value:"<</N "+l+">>"}),t.internal.acroformPlugin.xForms.push(l)}if(a.appearanceStreamContent){var c="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var u=a.appearanceStreamContent[d];if(c+="/"+d+" ",c+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var i in u)if(u.hasOwnProperty(i)){var h=u[i];"function"==typeof h&&(h=h.call(t,a)),c+="/"+i+" "+h+" ",t.internal.acroformPlugin.xForms.indexOf(h)>=0||t.internal.acroformPlugin.xForms.push(h)}}else"function"==typeof(h=u)&&(h=h.call(t,a)),c+="/"+i+" "+h,t.internal.acroformPlugin.xForms.indexOf(h)>=0||t.internal.acroformPlugin.xForms.push(h);c+=">>"}s.push({key:"AP",value:"<<\n"+c+">>"})}t.internal.putStream({additionalKeyValues:s,objectId:a.objId}),t.internal.out("endobj")}r&&function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var i=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),"object"===(0,n.A)(a)&&"function"==typeof a.putStream&&a.putStream(),delete e[i]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},rt=Le.__acroform__.arrayToPdfArray=function(e,t,r){var i=function(e){return e};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(0!==s&&(a+=" "),(0,n.A)(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":"/"!==e[s].substr(0,1)?(void 0!==t&&r&&(i=r.internal.getEncryptor(t)),a+="("+Me(i(e[s].toString()))+")"):a+=e[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},nt=function(e,t,r){var n=function(e){return e};return void 0!==t&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Me(n(e))+")"},it=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};it.prototype.toString=function(){return this.objId+" 0 R"},it.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},it.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var r in t)if(!1===Object.getOwnPropertyDescriptor(this,t[r]).configurable){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:rt(i,this.objId,this.scope)}):i instanceof it?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:n,value:i}))}return e};var at=function(){it.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};ze(at,it);var st=function(){it.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Me(t(e))+")"}},set:function(t){e=t}})};ze(st,it);var ot=function e(){it.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(t,3))},set:function(e){!0===Boolean(e)?this.F=Ke(t,3):this.F=Ye(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');r=e}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==n.length)return n},set:function(e){n=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(e){n[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(e){n[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(e){n[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(e){n[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof mt)return;a="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Me(t(a))+")"},set:function(e){a=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(e){a=e}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/De:c},set:function(e){c=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof mt||this instanceof xt))return nt(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ht==0?nt(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof ht==0?"("===e.substr(0,1)?Re(e.substr(1,e.length-2)):Re(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ht==1?Re(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof ht==1?"/"+e:e}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ht==0?nt(f,this.objId,this.scope):f},set:function(e){e=e.toString(),f=this instanceof ht==0?"("===e.substr(0,1)?Re(e.substr(1,e.length-2)):Re(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ht==1?Re(f.substr(1,f.length-1)):f},set:function(e){e=e.toString(),f=this instanceof ht==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(e){e=Boolean(e),m=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(e){p=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,1):this.Ff=Ye(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,2):this.Ff=Ye(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,3):this.Ff=Ye(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};ze(ot,it);var lt=function(){ot.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return rt(t,this.objId,this.scope)},set:function(e){var r,n;n=[],"string"==typeof(r=e)&&(n=function(e,t,r){r||(r=1);for(var n,i=[];n=t.exec(e);)i.push(n[r]);return i}(r,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,18):this.Ff=Ye(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=Ke(this.Ff,19):this.Ff=Ye(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=Ke(this.Ff,20),t.sort()):this.Ff=Ye(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,22):this.Ff=Ye(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,23):this.Ff=Ye(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,27):this.Ff=Ye(this.Ff,27)}}),this.hasAppearanceStream=!1};ze(lt,ot);var ct=function(){lt.call(this),this.fontName="helvetica",this.combo=!1};ze(ct,lt);var dt=function(){ct.call(this),this.combo=!0};ze(dt,ct);var ut=function(){dt.call(this),this.edit=!0};ze(ut,dt);var ht=function(){ot.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,15):this.Ff=Ye(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,16):this.Ff=Ye(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,17):this.Ff=Ye(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,26):this.Ff=Ye(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var r,n=[];for(r in n.push("<<"),t)n.push("/"+r+" ("+Me(e(t[r]))+")");return n.push(">>"),n.join("\n")}},set:function(e){"object"===(0,n.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};ze(ht,ot);var ft=function(){ht.call(this),this.pushButton=!0};ze(ft,ht);var pt=function(){ht.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};ze(pt,ht);var mt=function(){var e,t;ot.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var r,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,r=[];for(t in r.push("<<"),i)r.push("/"+t+" ("+Me(e(i[t]))+")");return r.push(">>"),r.join("\n")},set:function(e){"object"===(0,n.A)(e)&&(i=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(e){"string"==typeof e&&(i.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ze(mt,ot),pt.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},pt.prototype.createOption=function(e){var t=new mt;return t.Parent=this,t.optionName=e,this.Kids.push(t),bt.call(this.scope,t),t};var gt=function(){ht.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vt.CheckBox.createAppearanceStream()};ze(gt,ht);var xt=function(){ot.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,13):this.Ff=Ye(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,21):this.Ff=Ye(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,23):this.Ff=Ye(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,24):this.Ff=Ye(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,25):this.Ff=Ye(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,26):this.Ff=Ye(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ze(xt,ot);var yt=function(){xt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=Ke(this.Ff,14):this.Ff=Ye(this.Ff,14)}}),this.password=!0};ze(yt,xt);var vt={CheckBox:{createAppearanceStream:function(){return{N:{On:vt.CheckBox.YesNormal},D:{On:vt.CheckBox.YesPushDown,Off:vt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=qe(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=$e(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Fe(vt.internal.getWidth(e))+" "+Fe(vt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Fe(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join("\n"),t},YesNormal:function(e){var t=qe(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=vt.internal.getHeight(e),s=vt.internal.getWidth(e),o=$e(e,e.caption);return i.push("1 g"),i.push("0 0 "+Fe(s)+" "+Fe(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Fe(s-1)+" "+Fe(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Fe(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=qe(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fe(vt.internal.getWidth(e))+" "+Fe(vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:vt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=vt.RadioButton.Circle.YesNormal,t.D[e]=vt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=qe(e);t.scope=e.scope;var r=[],n=vt.internal.getWidth(e)<=vt.internal.getHeight(e)?vt.internal.getWidth(e)/4:vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=vt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Be(vt.internal.getWidth(e)/2)+" "+Be(vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=qe(e);t.scope=e.scope;var r=[],n=vt.internal.getWidth(e)<=vt.internal.getHeight(e)?vt.internal.getWidth(e)/4:vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*vt.internal.Bezier_C).toFixed(5)),s=Number((n*vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Be(vt.internal.getWidth(e)/2)+" "+Be(vt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Be(vt.internal.getWidth(e)/2)+" "+Be(vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=qe(e);t.scope=e.scope;var r=[],n=vt.internal.getWidth(e)<=vt.internal.getHeight(e)?vt.internal.getWidth(e)/4:vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Be(vt.internal.getWidth(e)/2)+" "+Be(vt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:vt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=vt.RadioButton.Cross.YesNormal,t.D[e]=vt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=qe(e);t.scope=e.scope;var r=[],n=vt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Fe(vt.internal.getWidth(e)-2)+" "+Fe(vt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Fe(n.x1.x)+" "+Fe(n.x1.y)+" m"),r.push(Fe(n.x2.x)+" "+Fe(n.x2.y)+" l"),r.push(Fe(n.x4.x)+" "+Fe(n.x4.y)+" m"),r.push(Fe(n.x3.x)+" "+Fe(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=qe(e);t.scope=e.scope;var r=vt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Fe(vt.internal.getWidth(e))+" "+Fe(vt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Fe(vt.internal.getWidth(e)-2)+" "+Fe(vt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Fe(r.x1.x)+" "+Fe(r.x1.y)+" m"),n.push(Fe(r.x2.x)+" "+Fe(r.x2.y)+" l"),n.push(Fe(r.x4.x)+" "+Fe(r.x4.y)+" m"),n.push(Fe(r.x3.x)+" "+Fe(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=qe(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fe(vt.internal.getWidth(e))+" "+Fe(vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};vt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=vt.internal.getWidth(e),r=vt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},vt.internal.getWidth=function(e){var t=0;return"object"===(0,n.A)(e)&&(t=Ue(e.Rect[2])),t},vt.internal.getHeight=function(e){var t=0;return"object"===(0,n.A)(e)&&(t=Ue(e.Rect[3])),t};var bt=Le.addField=function(e){if(tt(this,e),!(e instanceof ot))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Le.AcroFormChoiceField=lt,Le.AcroFormListBox=ct,Le.AcroFormComboBox=dt,Le.AcroFormEditBox=ut,Le.AcroFormButton=ht,Le.AcroFormPushButton=ft,Le.AcroFormRadioButton=pt,Le.AcroFormCheckBox=gt,Le.AcroFormTextField=xt,Le.AcroFormPasswordField=yt,Le.AcroFormAppearance=vt,Le.AcroForm={ChoiceField:lt,ListBox:ct,ComboBox:dt,EditBox:ut,Button:ht,PushButton:ft,RadioButton:pt,CheckBox:gt,TextField:xt,PasswordField:yt,Appearance:vt},Ie.AcroForm={ChoiceField:lt,ListBox:ct,ComboBox:dt,EditBox:ut,Button:ht,PushButton:ft,RadioButton:pt,CheckBox:gt,TextField:xt,PasswordField:yt,Appearance:vt};var wt=Ie.AcroForm;function jt(e){return e.reduce(function(e,t,r){return e[t]=r,e},{})}!function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(e,n){var i,a,s,o,l,c=t;if("RGBA"===(n=n||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(N(e))for(l in r)for(s=r[l],i=0;i<s.length;i+=1){for(o=!0,a=0;a<s[i].length;a+=1)if(void 0!==s[i][a]&&s[i][a]!==e[a]){o=!1;break}if(!0===o){c=l;break}}else for(l in r)for(s=r[l],i=0;i<s.length;i+=1){for(o=!0,a=0;a<s[i].length;a+=1)if(void 0!==s[i][a]&&s[i][a]!==e.charCodeAt(a)){o=!1;break}if(!0===o){c=l;break}}return c===t&&n!==t&&(c=n),c},a=function e(t){for(var r=this.internal.write,n=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var a=[];if(a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Image"}),a.push({key:"Width",value:t.width}),a.push({key:"Height",value:t.height}),t.colorSpace===x.INDEXED?a.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(a.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===x.DEVICE_CMYK&&a.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&a.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var s="",o=0,l=t.transparency.length;o<l;o++)s+=t.transparency[o]+" "+t.transparency[o]+" ";a.push({key:"Mask",value:"["+s+"]"})}void 0!==t.sMask&&a.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(n({data:t.data,additionalKeyValues:a,alreadyAppliedFilters:c,objectId:t.objectId}),r("endobj"),"sMask"in t&&void 0!==t.sMask){var d="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,u={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:d,data:t.sMask};"filter"in t&&(u.filter=t.filter),e.call(this,u)}if(t.colorSpace===x.INDEXED){var h=this.internal.newObject();n({data:k(new Uint8Array(t.palette)),objectId:h}),r("endobj")}},s=function(){var e=this.internal.collections.addImage_images;for(var t in e)a.call(this,e[t])},o=function(){var e,t=this.internal.collections.addImage_images,r=this.internal.write;for(var n in t)r("/I"+(e=t[n]).index,e.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var e=this.internal.collections.addImage_images;return l.call(this),e},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===(0,n.A)(e)&&1===e.nodeType},f=function(t,r){if("IMG"===t.nodeName&&t.hasAttribute("src")){var n=""+t.getAttribute("src");if(0===n.indexOf("data:image/"))return se(unescape(n).split("base64,").pop());var i=e.loadFile(n,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var a;switch(r){case"PNG":a="image/png";break;case"WEBP":a="image/webp";break;default:a="image/jpeg"}return se(t.toDataURL(a,1).split("base64,").pop())}},p=function(e){var t=this.internal.collections.addImage_images;if(t)for(var r in t)if(e===t[r].alias)return t[r]},m=function(e,t,r){return e||t||(e=-96,t=-96),e<0&&(e=-1*r.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*r.height*72/t/this.internal.scaleFactor),0===e&&(e=t*r.width/r.height),0===t&&(t=e*r.height/r.width),[e,t]},g=function(e,t,r,n,i,a){var s=m.call(this,r,n,i),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=c.call(this);if(r=s[0],n=s[1],d[i.index]=i,a){a*=Math.PI/180;var u=Math.cos(a),h=Math.sin(a),f=function(e){return e.toFixed(4)},p=[f(u),f(h),f(-1*h),f(u),0,0,"cm"]}this.internal.write("q"),a?(this.internal.write([1,"0","0",1,o(e),l(t+n),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([o(r),"0","0",o(n),"0","0","cm"].join(" "))):this.internal.write([o(r),"0","0",o(n),o(e),l(t+n),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=e.__addimage__.sHashCode=function(e){var t,r,n=0;if("string"==typeof e)for(r=e.length,t=0;t<r;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;else if(N(e))for(r=e.byteLength/2,t=0;t<r;t++)n=(n<<5)-n+e[t],n|=0;return n},b=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),r=null;if(2===t.length){var n=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(n)&&(r={mimeType:n[1],charset:n[2],data:t[1]})}return r},j=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return j()&&e instanceof ArrayBuffer};var N=e.__addimage__.isArrayBufferView=function(e){return j()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},_=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r},k=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",r=N(e)?e:new Uint8Array(e),n=0;n<r.length;n+=8192)t+=String.fromCharCode.apply(null,r.subarray(n,n+8192));return t};e.addImage=function(){var e,r,i,a,s,o,c,d,u;if("number"==typeof arguments[1]?(r=t,i=arguments[1],a=arguments[2],s=arguments[3],o=arguments[4],c=arguments[5],d=arguments[6],u=arguments[7]):(r=arguments[1],i=arguments[2],a=arguments[3],s=arguments[4],o=arguments[5],c=arguments[6],d=arguments[7],u=arguments[8]),"object"===(0,n.A)(e=arguments[0])&&!h(e)&&"imageData"in e){var f=e;e=f.imageData,r=f.format||r||t,i=f.x||i||0,a=f.y||a||0,s=f.w||f.width||s,o=f.h||f.height||o,c=f.alias||c,d=f.compression||d,u=f.rotation||f.angle||u}var p=this.internal.getFilters();if(void 0===d&&-1!==p.indexOf("FlateEncode")&&(d="SLOW"),isNaN(i)||isNaN(a))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var m=S.call(this,e,r,c,d);return g.call(this,i,a,s,o,m,u),this};var S=function(r,n,a,s){var o,l,c;if("string"==typeof r&&i(r)===t){r=unescape(r);var m=A(r,!1);(""!==m||void 0!==(m=e.loadFile(r,!0)))&&(r=m)}if(h(r)&&(r=f(r,n)),n=i(r,n),!u(n))throw new Error("addImage does not support files of type '"+n+"', please ensure that a plugin for '"+n+"' support is added.");if((null==(c=a)||0===c.length)&&(a=function(e){return"string"==typeof e||N(e)?v(e):N(e.data)?v(e.data):null}(r)),(o=p.call(this,a))||(j()&&(r instanceof Uint8Array||"RGBA"===n||(l=r,r=_(r))),o=this["process"+n.toUpperCase()](r,d.call(this),a,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:y.NONE}(s),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},A=e.__addimage__.convertBase64ToBinaryString=function(e,t){var r;t="boolean"!=typeof t||t;var n,i="";if("string"==typeof e){n=null!==(r=w(e))?r.data:e;try{i=se(n)}catch(e){if(t)throw b(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};e.getImageProperties=function(r){var n,a,s="";if(h(r)&&(r=f(r)),"string"==typeof r&&i(r)===t&&(""===(s=A(r,!1))&&(s=e.loadFile(r)||""),r=s),a=i(r),!u(a))throw new Error("addImage does not support files of type '"+a+"', please ensure that a plugin for '"+a+"' support is added.");if(!j()||r instanceof Uint8Array||(r=_(r)),!(n=this["process"+a.toUpperCase()](r)))throw new Error("An unknown error occurred whilst processing the image");return n.fileType=a,n}}(Ie.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};Ie.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var r,n,i,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((r=l[d]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){r=l[u];var h=this.internal.pdfEscape,f=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(p.objId),x=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+a(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+h(g(r.contents))+")",i+=" /Popup "+m.objId+" 0 R",i+=" /P "+o.objId+" 0 R",i+=" /T ("+h(g(x))+") >>",p.content=i;var y=p.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+a(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+y,r.open&&(i+=" /Open true"),i+=" >>",m.content=i,this.internal.write(p.objId,"0 R",m.objId,"0 R");break;case"freetext":n="/Rect ["+a(r.bounds.x)+" "+s(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var v=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+h(f(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+v+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var b=this.annotations._nameMap[r.options.name];r.options.pageNumber=b.page,r.options.top=b.y}else r.options.top||(r.options.top=0);if(n="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+h(f(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var w=s(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+w+" "+r.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,r,n,i){var a=this.internal.getCurrentPageInfo(),s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:s(e),y:o(t),w:s(e+r),h:o(t+n)},options:i,type:"link"})},e.textWithLink=function(e,t,r,n){var i,a,s=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==n.maxWidth){a=n.maxWidth;var l=this.splitTextToSize(e,a).length;i=Math.ceil(o*l)}else a=s,i=o;return this.text(e,t,r,n),r+=.2*o,"center"===n.align&&(t-=s/2),"right"===n.align&&(t-=s),this.link(t,r-o,a,i,n),s},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(Ie.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},s=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return s(e)&&a(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return s(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return s(e)&&a(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return s(e)&&a(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return s(e)&&a(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return s(e)&&a(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,n=r,i="",a=0;for(t=0;t<e.length;t+=1)void 0!==n[e.charCodeAt(t)]?(a++,"number"==typeof(n=n[e.charCodeAt(t)])&&(i+=String.fromCharCode(n),n=r,a=0),t===e.length-1&&(n=r,i+=e.charAt(t-(a-1)),t-=a-1,a=0)):(n=r,i+=e.charAt(t-a),t-=a,a=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==n[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,r){return s(e)?!1===a(e)?-1:!c(e)||!s(t)&&!s(r)||!s(r)&&o(t)||o(e)&&!s(t)||o(e)&&l(t)||o(e)&&o(t)?0:d(e)&&s(t)&&!o(t)&&s(r)&&c(r)?3:o(e)||!s(r)?1:2:-1},f=function(e){var r=0,n=0,i=0,a="",o="",l="",c=(e=e||"").split("\\s+"),d=[];for(r=0;r<c.length;r+=1){for(d.push(""),n=0;n<c[r].length;n+=1)a=c[r][n],o=c[r][n-1],l=c[r][n+1],s(a)?(i=h(a,o,l),d[r]+=-1!==i?String.fromCharCode(t[a.charCodeAt(0)][i]):a):d[r]+=a;d[r]=u(d[r])}return d.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,r=[];if(Array.isArray(t)){var n=0;for(r=[],n=0;n<t.length;n+=1)Array.isArray(t[n])?r.push([f(t[n][0]),t[n][1],t[n][2]]):r.push([f(t[n])]);e=r}else e=f(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",p])}(Ie.API),Ie.API.autoPrint=function(e){var t;if("javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")});return this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(e){r=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var n=[];Object.defineProperty(this,"childNodes",{get:function(){return n},set:function(e){n=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var r;if("2d"!==(e=e||"2d"))return null;for(r in t)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=t[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ie.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var r=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var n=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var a=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var s=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return s},set:function(e){s=e}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){i.call(this);var r=(t=t||{}).fontSize||this.getFontSize(),n=t.font||this.getFont(),a=t.scaleFactor||this.internal.scaleFactor,s=0,o=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,d))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)s<(l=this.getStringUnitWidth(e[u],{font:n})*r)&&(s=l);return 0!==s&&(o=e.length),{w:s/=a,h:Math.max((o*r*this.getLineHeightFactor()-r*(this.getLineHeightFactor()-1))/a,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var e;e=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var n=this.internal.__cell__.lastCell,a=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==n.lineNumber&&(n.lineNumber===e.lineNumber?(e.x=(n.x||0)+(n.width||0),e.y=n.y||0):n.y+n.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=n.y+n.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===r?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-a,e.y+a,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+a,{align:"center",baseline:"top",maxWidth:e.width-a-a}):this.text(e.text,e.x+a,e.y+a,{align:"left",baseline:"top",maxWidth:e.width-a-a})),this.internal.__cell__.lastCell=e,this};e.table=function(e,r,c,d,u){if(i.call(this),!c)throw new Error("No data for PDF table.");var h,f,p,m,g=[],x=[],y=[],v={},b={},w=[],j=[],N=(u=u||{}).autoSize||!1,_=!1!==u.printHeaders,k=u.css&&void 0!==u.css["font-size"]?16*u.css["font-size"]:u.fontSize||12,S=u.margins||Object.assign({width:this.getPageWidth()},t),A="number"==typeof u.padding?u.padding:3,C=u.headerBackgroundColor||"#c8c8c8",E=u.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=C,this.internal.__cell__.headerTextColor=E,this.setFontSize(k),null==d)x=g=Object.keys(c[0]),y=g.map(function(){return"left"});else if(Array.isArray(d)&&"object"===(0,n.A)(d[0]))for(g=d.map(function(e){return e.name}),x=d.map(function(e){return e.prompt||e.name||""}),y=d.map(function(e){return e.align||"left"}),h=0;h<d.length;h+=1)b[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&"string"==typeof d[0]&&(x=g=d,y=g.map(function(){return"left"}));if(N||Array.isArray(d)&&"string"==typeof d[0])for(h=0;h<g.length;h+=1){for(v[m=g[h]]=c.map(function(e){return e[m]}),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(x[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),f=v[m],this.setFont(void 0,"normal"),p=0;p<f.length;p+=1)w.push(this.getTextDimensions(f[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[m]=Math.max.apply(null,w)+A+A,w=[]}if(_){var P={};for(h=0;h<g.length;h+=1)P[g[h]]={},P[g[h]].text=x[h],P[g[h]].align=y[h];var T=l.call(this,P,b);j=g.map(function(t){return new s(e,r,b[t],T,P[t].text,void 0,P[t].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var O=d.reduce(function(e,t){return e[t.name]=t.align,e},{});for(h=0;h<c.length;h+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:h,data:c[h]},this);var I=l.call(this,c[h],b);for(p=0;p<g.length;p+=1){var L=c[h][g[p]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:h,col:p,data:L},this),o.call(this,new s(e,r,b[g[p]],I,L,h+2,O[g[p]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=r,this};var l=function(e,t){var r=this.internal.__cell__.padding,n=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map(function(n){var i=e[n];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[n]-r-r)},this).map(function(e){return this.getLineHeightFactor()*e.length*n/i+r+r},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){i.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var n;if(r=!0,"function"==typeof this.internal.__cell__.headerFunction){var a=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(a[0],a[1],a[2],a[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){n=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(n.y=this.internal.__cell__.margins.top||0,l.push(n)),n.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,n),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),r=!1}}(Ie.API);var Nt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_t=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],kt=jt(_t),St=[100,200,300,400,500,600,700,800,900],At=jt(St);function Ct(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(e){return Nt[e=e||"normal"]?e:"normal"}(e.style),n=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),i=function(e){return"number"==typeof kt[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function Et(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var Pt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Tt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ot(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function It(e){return e.trimLeft()}function Lt(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Dt(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var Mt,Rt,Ft,Bt,zt=["times"];!function(e){var t,r,i,a,s,o,l,c,d,u=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new c,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new o,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new o,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var r=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var n=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var a=0;Object.defineProperty(this,"posY",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),d.margin=t}});var s=!1;Object.defineProperty(this,"autoPaging",{get:function(){return s},set:function(e){s=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(e){e instanceof u&&(d=e)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(e){d.path=e}});var c=[];Object.defineProperty(this,"ctxStack",{get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=f(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=f(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var h=null;function p(e,t){if(null===h){var r=function(e){var t=[];return Object.keys(e).forEach(function(r){e[r].forEach(function(e){var n=null;switch(e){case"bold":n={family:r,weight:"bold"};break;case"italic":n={family:r,style:"italic"};break;case"bolditalic":n={family:r,weight:"bold",style:"italic"};break;case"":case"normal":n={family:r}}null!==n&&(n.ref={name:r,style:e},t.push(n))})}),t}(e.getFontList());h=function(e){for(var t={},r=0;r<e.length;++r){var n=Ct(e[r]),i=n.family,a=n.stretch,s=n.style,o=n.weight;t[i]=t[i]||{},t[i][a]=t[i][a]||{},t[i][a][s]=t[i][a][s]||{},t[i][a][s][o]=n}return t}(r.concat(t))}return h}var m=null;Object.defineProperty(this,"fontFaces",{get:function(){return m},set:function(e){h=null,m=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var r=t[1],n=(t[2],t[3]),i=t[4],a=(t[5],t[6]),s=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===s?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===s?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var o=function(e){var t,r,n=[],i=e.trim();if(""===i)return zt;if(i in Tt)return[Tt[i]];for(;""!==i;){switch(r=null,t=(i=It(i)).charAt(0)){case'"':case"'":r=Lt(i.substring(1),t);break;default:r=Dt(i)}if(null===r)return zt;if(n.push(r[0]),""!==(i=It(r[1]))&&","!==i.charAt(0))return zt;i=i.replace(/^,/,"")}return n}(a);if(this.fontFaces){var l=function(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},Pt,r.genericFontFamilies||{}),a=null,s=null,o=0;o<t.length;++o)if(i[(a=Ct(t[o])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){s=e[a.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+Ot(a)+"' and default family '"+n+"'.");if(s=function(e,t){if(t[e])return t[e];var r=kt[e],n=r<=kt.normal?-1:1,i=Et(t,_t,r,n);if(!i)throw new Error("Could not find a matching font-stretch value for "+e);return i}(a.stretch,s),s=function(e,t){if(t[e])return t[e];for(var r=Nt[e],n=0;n<r.length;++n)if(t[r[n]])return t[r[n]];throw new Error("Could not find a matching font-style for "+e)}(a.style,s),!(s=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var r=At[e],n=Et(t,St,r,e<400?-1:1);if(!n)throw new Error("Could not find a matching font-weight for value "+e);return n}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+Ot(a)+"'.");return s}(p(this.pdf,this.fontFaces),o.map(function(e){return{family:e,stretch:"normal",weight:n,style:r}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===n||parseInt(n,10)>=700||"bold"===r)&&(c="bold"),"italic"===r&&(c+="italic"),0===c.length&&(c="normal");for(var d="",u={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},h=0;h<o.length;h++){if(void 0!==this.pdf.internal.getFont(o[h],c,{noFallback:!0,disableWarning:!0})){d=o[h];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(o[h],"bold",{noFallback:!0,disableWarning:!0}))d=o[h],c="bold";else if(void 0!==this.pdf.internal.getFont(o[h],"normal",{noFallback:!0,disableWarning:!0})){d=o[h],c="normal";break}}if(""===d)for(var f=0;f<o.length;f++)if(u[o[f]]){d=u[o[f]];break}d=""===d?"Times":d,this.pdf.setFont(d,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,F.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,F.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};h.prototype.setLineDash=function(e){this.lineDash=e},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){w.call(this,"fill",!1)},h.prototype.stroke=function(){w.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw re.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var r=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"mt",x:r.x,y:r.y}),this.ctx.lastPoint=new o(e,t)},h.prototype.closePath=function(){var e=new o(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,n.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new o(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(e.x,e.y)},h.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw re.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var r=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"lt",x:r.x,y:r.y}),this.ctx.lastPoint=new o(r.x,r.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},h.prototype.quadraticCurveTo=function(e,t,r,n){if(isNaN(r)||isNaN(n)||isNaN(e)||isNaN(t))throw re.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new o(r,n)),a=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"qct",x1:a.x,y1:a.y,x:i.x,y:i.y}),this.ctx.lastPoint=new o(i.x,i.y)},h.prototype.bezierCurveTo=function(e,t,r,n,i,a){if(isNaN(i)||isNaN(a)||isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw re.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new o(i,a)),l=this.ctx.transform.applyToPoint(new o(e,t)),c=this.ctx.transform.applyToPoint(new o(r,n));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:s.x,y:s.y}),this.ctx.lastPoint=new o(s.x,s.y)},h.prototype.arc=function(e,t,r,n,i,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(i))throw re.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(a=Boolean(a),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new o(e,t));e=s.x,t=s.y;var l=this.ctx.transform.applyToPoint(new o(0,r)),c=this.ctx.transform.applyToPoint(new o(0,0));r=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(i-n)>=2*Math.PI&&(n=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:r,startAngle:n,endAngle:i,counterclockwise:a})},h.prototype.arcTo=function(e,t,r,n,i){throw new Error("arcTo not implemented.")},h.prototype.rect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw re.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+r,t),this.lineTo(e+r,t+n),this.lineTo(e,t+n),this.lineTo(e,t),this.lineTo(e+r,t),this.lineTo(e,t)},h.prototype.fillRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw re.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,r,n),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},h.prototype.strokeRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw re.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(e,t,r,n),this.stroke())},h.prototype.clearRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw re.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,r,n))},h.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var n=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=n}},h.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(e){var t,r,n,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,r=0,n=0,i=0;else{var a=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==a)t=parseInt(a[1]),r=parseInt(a[2]),n=parseInt(a[3]),i=1;else if(null!==(a=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(a[1]),r=parseInt(a[2]),n=parseInt(a[3]),i=parseFloat(a[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var s=new ce(e);e=s.ok?s.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,r=e.substring(2,3),r+=r,n=e.substring(3,4),n+=n):(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7)),t=parseInt(t,16),r=parseInt(r,16),n=parseInt(n,16)}}return{r:t,g:r,b:n,a:i,style:e}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},m=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};h.prototype.fillText=function(e,t,r,n){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw re.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(n=isNaN(n)?void 0:n,!p.call(this)){var i=D(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;E.call(this,{text:e,x:t,y:r,scale:a,angle:i,align:this.textAlign,maxWidth:n})}},h.prototype.strokeText=function(e,t,r,n){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw re.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){n=isNaN(n)?void 0:n;var i=D(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;E.call(this,{text:e,x:t,y:r,scale:a,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:n})}},h.prototype.measureText=function(e){if("string"!=typeof e)throw re.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,r=this.pdf.internal.scaleFactor,n=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*n/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:i*=Math.round(96*r/72*1e4)/1e4})},h.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw re.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var r=new c(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(r)},h.prototype.rotate=function(e){if(isNaN(e))throw re.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new c(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},h.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw re.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var r=new c(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(r)},h.prototype.transform=function(e,t,r,n,i,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(i)||isNaN(a))throw re.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new c(e,t,r,n,i,a);this.ctx.transform=this.ctx.transform.multiply(s)},h.prototype.setTransform=function(e,t,r,n,i,a){e=isNaN(e)?1:e,t=isNaN(t)?0:t,r=isNaN(r)?0:r,n=isNaN(n)?1:n,i=isNaN(i)?0:i,a=isNaN(a)?0:a,this.ctx.transform=new c(e,t,r,n,i,a)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(e,t,r,n,i,a,s,o,d){var u=this.pdf.getImageProperties(e),h=1,f=1,p=1,m=1;void 0!==n&&void 0!==o&&(p=o/n,m=d/i,h=u.width/n*o/n,f=u.height/i*d/i),void 0===a&&(a=t,s=r,t=0,r=0),void 0!==n&&void 0===o&&(o=n,d=i),void 0===n&&void 0===o&&(o=u.width,d=u.height);for(var y,w=this.ctx.transform.decompose(),N=D(w.rotate.shx),_=new c,k=(_=(_=(_=_.multiply(w.translate)).multiply(w.skew)).multiply(w.scale)).applyToRectangle(new l(a-t*p,s-r*m,n*h,i*f)),S=x.call(this,k),A=[],C=0;C<S.length;C+=1)-1===A.indexOf(S[C])&&A.push(S[C]);if(b(A),this.autoPaging)for(var E=A[0],P=A[A.length-1],T=E;T<P+1;T++){this.pdf.setPage(T);var O=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],I=1===T?this.posY+this.margin[0]:this.margin[0],L=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],M=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],R=1===T?0:L+(T-2)*M;if(0!==this.ctx.clip_path.length){var F=this.path;y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(y,this.posX+this.margin[3],-R+I+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=F}var B=JSON.parse(JSON.stringify(k));B=v([B],this.posX+this.margin[3],-R+I+this.ctx.prevPageLastElemOffset)[0];var z=(T>E||T<P)&&g.call(this);z&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],O,M,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",B.x,B.y,B.w,B.h,null,null,N),z&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",k.x,k.y,k.w,k.h,null,null,N)};var x=function(e,t,r){var n=[];t=t||this.pdf.internal.pageSize.width,r=r||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":n.push(Math.floor((e.y+i)/r)+1);break;case"arc":n.push(Math.floor((e.y+i-e.radius)/r)+1),n.push(Math.floor((e.y+i+e.radius)/r)+1);break;case"qct":var a=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);n.push(Math.floor((a.y+i)/r)+1),n.push(Math.floor((a.y+a.h+i)/r)+1);break;case"bct":var s=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);n.push(Math.floor((s.y+i)/r)+1),n.push(Math.floor((s.y+s.h+i)/r)+1);break;case"rect":n.push(Math.floor((e.y+i)/r)+1),n.push(Math.floor((e.y+e.h+i)/r)+1)}for(var o=0;o<n.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<n[o];)y.call(this);return n},y=function(){var e=this.fillStyle,t=this.strokeStyle,r=this.font,n=this.lineCap,i=this.lineWidth,a=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=r,this.lineCap=n,this.lineWidth=i,this.lineJoin=a},v=function(e,t,r){for(var n=0;n<e.length;n++)switch(e[n].type){case"bct":e[n].x2+=t,e[n].y2+=r;case"qct":e[n].x1+=t,e[n].y1+=r;default:e[n].x+=t,e[n].y+=r}return e},b=function(e){return e.sort(function(e,t){return e-t})},w=function(e,t){for(var r,n,i=this.fillStyle,a=this.strokeStyle,s=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),c=this.lineJoin,d=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],f=0;f<u.length;f++)if(void 0!==u[f].x)for(var p=x.call(this,u[f]),m=0;m<p.length;m+=1)-1===h.indexOf(p[m])&&h.push(p[m]);for(var w=0;w<h.length;w++)for(;this.pdf.internal.getNumberOfPages()<h[w];)y.call(this);if(b(h),this.autoPaging)for(var N=h[0],_=h[h.length-1],k=N;k<_+1;k++){this.pdf.setPage(k),this.fillStyle=i,this.strokeStyle=a,this.lineCap=s,this.lineWidth=l,this.lineJoin=c;var S=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],A=1===k?this.posY+this.margin[0]:this.margin[0],C=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],E=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],P=1===k?0:C+(k-2)*E;if(0!==this.ctx.clip_path.length){var T=this.path;r=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(r,this.posX+this.margin[3],-P+A+this.ctx.prevPageLastElemOffset),j.call(this,e,!0),this.path=T}if(n=JSON.parse(JSON.stringify(d)),this.path=v(n,this.posX+this.margin[3],-P+A+this.ctx.prevPageLastElemOffset),!1===t||0===k){var O=(k>N||k<_)&&g.call(this);O&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],S,E,null).clip().discardPath()),j.call(this,e,t),O&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,j.call(this,e,t),this.lineWidth=o;this.path=d},j=function(e,t){if(("stroke"!==e||t||!m.call(this))&&("stroke"===e||t||!p.call(this))){for(var r,n,i=[],a=this.path,s=0;s<a.length;s++){var o=a[s];switch(o.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:o,deltas:[],abs:[]});break;case"lt":var l=i.length;if(a[s-1]&&!isNaN(a[s-1].x)&&(r=[o.x-a[s-1].x,o.y-a[s-1].y],l>0))for(;l>=0;l--)if(!0!==i[l-1].close&&!0!==i[l-1].begin){i[l-1].deltas.push(r),i[l-1].abs.push(o);break}break;case"bct":r=[o.x1-a[s-1].x,o.y1-a[s-1].y,o.x2-a[s-1].x,o.y2-a[s-1].y,o.x-a[s-1].x,o.y-a[s-1].y],i[i.length-1].deltas.push(r);break;case"qct":var c=a[s-1].x+2/3*(o.x1-a[s-1].x),d=a[s-1].y+2/3*(o.y1-a[s-1].y),u=o.x+2/3*(o.x1-o.x),h=o.y+2/3*(o.y1-o.y),f=o.x,g=o.y;r=[c-a[s-1].x,d-a[s-1].y,u-a[s-1].x,h-a[s-1].y,f-a[s-1].x,g-a[s-1].y],i[i.length-1].deltas.push(r);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(o)}}n=t?null:"stroke"===e?"stroke":"fill";for(var x=!1,y=0;y<i.length;y++)if(i[y].arc)for(var v=i[y].abs,b=0;b<v.length;b++){var w=v[b];"arc"===w.type?k.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!x):P.call(this,w.x,w.y),x=!0}else if(!0===i[y].close)this.pdf.internal.out("h"),x=!1;else if(!0!==i[y].begin){var j=i[y].start.x,N=i[y].start.y;T.call(this,i[y].deltas,j,N),x=!0}n&&S.call(this,n),t&&A.call(this)}},N=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,r=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-r;case"top":return e+t-r;case"hanging":return e+t-2*r;case"middle":return e+t/2-r;default:return e}},_=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(e,t,r,n,i,a,s,o,l){for(var c=I.call(this,r,n,i,a),d=0;d<c.length;d++){var u=c[d];0===d&&(l?C.call(this,u.x1+e,u.y1+t):P.call(this,u.x1+e,u.y1+t)),O.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}o?A.call(this):S.call(this,s)},S=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},A=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(e,t){this.pdf.internal.out(r(e)+" "+i(t)+" m")},E=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var r=this.pdf.getTextDimensions(e.text),n=N.call(this,e.y),i=_.call(this,n)-r.h,a=this.ctx.transform.applyToPoint(new o(e.x,n)),s=this.ctx.transform.decompose(),d=new c;d=(d=(d=d.multiply(s.translate)).multiply(s.skew)).multiply(s.scale);for(var u,h,f,p=this.ctx.transform.applyToRectangle(new l(e.x,n,r.w,r.h)),m=d.applyToRectangle(new l(e.x,i,r.w,r.h)),y=x.call(this,m),w=[],k=0;k<y.length;k+=1)-1===w.indexOf(y[k])&&w.push(y[k]);if(b(w),this.autoPaging)for(var S=w[0],A=w[w.length-1],C=S;C<A+1;C++){this.pdf.setPage(C);var E=1===C?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],T=this.pdf.internal.pageSize.height-this.margin[2],O=T-this.margin[0],I=this.pdf.internal.pageSize.width-this.margin[1],L=I-this.margin[3],D=1===C?0:P+(C-2)*O;if(0!==this.ctx.clip_path.length){var M=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(u,this.posX+this.margin[3],-1*D+E),j.call(this,"fill",!0),this.path=M}var R=v([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-D+E+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale);var F="text"!==this.autoPaging;if(F||R.y+R.h<=T){if(F||R.y>=E&&R.x<=I){var B=F?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||I-R.x)[0],z=v([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-D+E+this.ctx.prevPageLastElemOffset)[0],U=F&&(C>S||C<A)&&g.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,O,null).clip().discardPath()),this.pdf.text(B,z.x,z.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),U&&this.pdf.restoreGraphicsState()}}else R.y<T&&(this.ctx.prevPageLastElemOffset+=T-R.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=f)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale),this.pdf.text(e.text,a.x+this.posX,a.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=f)},P=function(e,t,n,a){n=n||0,a=a||0,this.pdf.internal.out(r(e+n)+" "+i(t+a)+" l")},T=function(e,t,r){return this.pdf.lines(e,t,r,null,null)},O=function(e,r,n,i,o,l,c,d){this.pdf.internal.out([t(a(n+e)),t(s(i+r)),t(a(o+e)),t(s(l+r)),t(a(c+e)),t(s(d+r)),"c"].join(" "))},I=function(e,t,r,n){for(var i=2*Math.PI,a=Math.PI/2;t>r;)t-=i;var s=Math.abs(r-t);s<i&&n&&(s=i-s);for(var o=[],l=n?-1:1,c=t;s>1e-5;){var d=c+l*Math.min(s,a);o.push(L.call(this,e,c,d)),s-=Math.abs(d-c),c=d}return o},L=function(e,t,r){var n=(r-t)/2,i=e*Math.cos(n),a=e*Math.sin(n),s=i,o=-a,l=s*s+o*o,c=l+s*i+o*a,d=4/3*(Math.sqrt(2*l*c)-c)/(s*a-o*i),u=s-d*o,h=o+d*s,f=u,p=-h,m=n+t,g=Math.cos(m),x=Math.sin(m);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*g-h*x,y2:u*x+h*g,x3:f*g-p*x,y3:f*x+p*g,x4:e*Math.cos(r),y4:e*Math.sin(r)}},D=function(e){return 180*e/Math.PI},M=function(e,t,r,n,i,a){var s=e+.5*(r-e),o=t+.5*(n-t),c=i+.5*(r-i),d=a+.5*(n-a),u=Math.min(e,i,s,c),h=Math.max(e,i,s,c),f=Math.min(t,a,o,d),p=Math.max(t,a,o,d);return new l(u,f,h-u,p-f)},R=function(e,t,r,n,i,a,s,o){var c,d,u,h,f,p,m,g,x,y,v,b,w,j,N=r-e,_=n-t,k=i-r,S=a-n,A=s-i,C=o-a;for(d=0;d<41;d++)x=(m=(u=e+(c=d/40)*N)+c*((f=r+c*k)-u))+c*(f+c*(i+c*A-f)-m),y=(g=(h=t+c*_)+c*((p=n+c*S)-h))+c*(p+c*(a+c*C-p)-g),0==d?(v=x,b=y,w=x,j=y):(v=Math.min(v,x),b=Math.min(b,y),w=Math.max(w,x),j=Math.max(j,y));return new l(Math.round(v),Math.round(b),Math.round(w-v),Math.round(j-b))},F=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,r=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==r&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=r)}}}(Ie.API),function(e){var t=function(e){var t,r,n,i,a,s,o,l,c,d;for(/[^\x00-\xFF]/.test(e),r=[],n=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>n;n+=4)0!==(a=(e.charCodeAt(n)<<24)+(e.charCodeAt(n+1)<<16)+(e.charCodeAt(n+2)<<8)+e.charCodeAt(n+3))?(s=(a=((a=((a=((a=(a-(d=a%85))/85)-(c=a%85))/85)-(l=a%85))/85)-(o=a%85))/85)%85,r.push(s+33,o+33,l+33,c+33,d+33)):r.push(122);return function(e,t){for(var r=t;r>0;r--)e.pop()}(r,t.length),String.fromCharCode.apply(String,r)+"~>"},r=function(e){var t,r,n,i,a,s=String,o="length",l=255,c="charCodeAt",d="slice",u="replace";for(e[d](-2),e=e[d](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),n=[],i=0,a=(e+=t="uuuuu"[d](e[o]%5||5))[o];a>i;i+=5)r=52200625*(e[c](i)-33)+614125*(e[c](i+1)-33)+7225*(e[c](i+2)-33)+85*(e[c](i+3)-33)+(e[c](i+4)-33),n.push(l&r>>24,l&r>>16,l&r>>8,l&r);return function(e,t){for(var r=t;r>0;r--)e.pop()}(n,t[o]),s.fromCharCode.apply(s,n)},n=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var r="",n=0;n<e.length;n+=2)r+=String.fromCharCode("0x"+(e[n]+e[n+1]));return r},i=function(e){for(var t=new Uint8Array(e.length),r=e.length;r--;)t[r]=e.charCodeAt(r);return(t=$(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,a){var s=0,o=e||"",l=[];for("string"==typeof(a=a||[])&&(a=[a]),s=0;s<a.length;s+=1)switch(a[s]){case"ASCII85Decode":case"/ASCII85Decode":o=r(o),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=t(o),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=n(o),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=i(o),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[s]+'" is not implemented')}return{data:o,reverseChain:l.reverse().join(" ")}}}(Ie.API),(Bt=Ie.API).loadFile=function(e,t,r){return function(e,t,r){t=!1!==t,r="function"==typeof r?r:function(){};var n=void 0;try{n=function(e,t,r){var n=new XMLHttpRequest,i=0,a=function(e){var t=e.length,r=[],n=String.fromCharCode;for(i=0;i<t;i+=1)r.push(n(255&e.charCodeAt(i)));return r.join("")};if(n.open("GET",e,!t),n.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(n.onload=function(){200===n.status?r(a(this.responseText)):r(void 0)}),n.send(null),t&&200===n.status)return a(n.responseText)}(e,t,r)}catch(e){}return n}(e,t,r)},Bt.loadImageFile=Bt.loadFile,function(e){function t(){return(ee.html2canvas?Promise.resolve(ee.html2canvas):r.e(239).then(r.t.bind(r,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function i(){return(ee.DOMPurify?Promise.resolve(ee.DOMPurify):r.e(213).then(r.t.bind(r,6213,23))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var a=function(e){var t=(0,n.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},s=function(e,t){var r=document.createElement(e);for(var n in t.className&&(r.className=t.className),t.innerHTML&&t.dompurify&&(r.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)r.style[n]=t.style[n];return r},o=function e(t){var r=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),n=e.convert(Promise.resolve(),r);return(n=n.setProgress(1,e,1,[e])).set(t)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(e,t){return e.__proto__=t||o.prototype,e},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(a(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(i).then(function(t){return this.set({src:s("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},o.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,r){for(var n=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==r&&1===i.nodeType&&"SCRIPT"===i.nodeName||n.appendChild(e(i,r));return 1===t.nodeType&&("CANVAS"===t.nodeName?(n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(n.value=t.value),n.addEventListener("load",function(){n.scrollTop=t.scrollTop,n.scrollLeft=t.scrollLeft},!0)),n}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,r=this.opt.fontFaces,n="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:n,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=r,r)for(var a=0;a<r.length;++a){var s=r[a],o=s.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,s.ref.name,s.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(e,t,r){return"img"===(r=r||"pdf").toLowerCase()||"image"===r.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},o.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},o.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},o.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(e){if("object"!==a(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in o.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},o.prototype.get=function(e,t){return this.then(function(){var r=e in o.template.prop?this.prop[e]:this.opt[e];return t?t(r):r})},o.prototype.setMargin=function(e){return this.then(function(){switch(a(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},o.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||Ie.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},o.prototype.setProgress=function(e,t,r,n){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=r&&(this.progress.n=r),null!=n&&(this.progress.stack=n),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(e,t,r,n){return this.setProgress(e?this.progress.val+e:null,t||null,r?this.progress.n+r:null,n?this.progress.stack.concat(n):null)},o.prototype.then=function(e,t){var r=this;return this.thenCore(e,t,function(e,t){return r.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return r.updateProgress(null,e),t}).then(e,t).then(function(e){return r.updateProgress(1),e})})},o.prototype.thenCore=function(e,t,r){r=r||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var n=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:o.convert(Object.assign({},this),Promise.prototype),i=r.call(n,e,t);return o.convert(i,this.__proto__)},o.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},o.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},o.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return o.convert(t,this)},o.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},o.prototype.error=function(e){return this.then(function(){throw new Error(e)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Ie.getPageSize=function(e,t,r){if("object"===(0,n.A)(e)){var i=e;e=i.orientation,t=i.unit||t,r=i.format||r}t=t||"mm",r=r||"a4",e=(""+(e||"P")).toLowerCase();var a,s=(""+r).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+t}var l,c=0,d=0;if(o.hasOwnProperty(s))c=o[s][1]/a,d=o[s][0]/a;else try{c=r[1],d=r[0]}catch(Bt){throw new Error("Invalid format: "+r)}if("p"===e||"portrait"===e)e="p",d>c&&(l=d,d=c,c=l);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",c>d&&(l=d,d=c,c=l)}return{width:d,height:c,unit:t,k:a,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Ct):null;var r=new o(t);return t.worker?r:r.from(e).doCallback()}}(Ie.API),Ie.API.addJS=function(e){return Ft=e,this.internal.events.subscribe("postPutResources",function(){Mt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Mt+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Rt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ft+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Mt&&void 0!==Rt&&this.internal.out("/Names <</JavaScript "+Mt+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=e.outline.render().split(/\r\n/),i=0;i<n.length;i++){var a=n[i],s=r.exec(a);if(null!=s){var o=s[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(i=0;i<l;i++){var d=e.internal.newObject();c.push(d);var u=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<c.length;i++)e.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,r){var n={title:t,options:r,children:[]};return null==e&&(e=this.root),e.children.push(n),n},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var r=0;r<t.children.length;r++)this.genIds_r(t.children[r])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,n=0;n<t.children.length;n++){var i=t.children[n];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),n>0&&this.line("/Prev "+this.makeRef(t.children[n-1])),n<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[n+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var a=this.count=this.count_r({count:0},i);if(a>0&&this.line("/Count "+a),i.options&&i.options.pageNumber){var s=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var r=0;r<t.children.length;r++)e.count++,this.count_r(e,t.children[r]);return e.count}}])}(Ie.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,r,n,i,a,s){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(o=function(e){for(var r,n=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,a={width:0,height:0,numcomponents:1},s=4;s<i;s+=2){if(s+=n,-1!==t.indexOf(e.charCodeAt(s+1))){r=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),a={width:256*e.charCodeAt(s+7)+e.charCodeAt(s+8),height:r,numcomponents:e.charCodeAt(s+9)};break}n=256*e.charCodeAt(s+2)+e.charCodeAt(s+3)}return a}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:s,bitsPerComponent:8,filter:l,index:r,alias:n}}return c}}(Ie.API);var Ut,qt,Wt,Ht,Vt,Gt=function(){var e,t,r;function n(e){var t,r,n,i,a,s,o,l,c,d,u,h,f,p;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},s=null;;){switch(t=this.readUInt32(),c=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":s&&this.animation.frames.push(s),this.pos+=4,s={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},a=this.readUInt16(),i=this.readUInt16()||100,s.delay=1e3*a/i,s.disposeOp=this.data[this.pos++],s.blendOp=this.data[this.pos++],s.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,t-=4),e=(null!=s?s.data:void 0)||this.imgData,h=0;0<=t?h<t:h>t;0<=t?++h:--h)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(n=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>n)throw new Error("More transparent colors than palette size");if((d=n-this.transparency.indexed.length)>0)for(f=0;0<=d?f<d:f>d;0<=d?++f:--f)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":o=(u=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,u.slice(0,o)),this.text[l]=String.fromCharCode.apply(String,u.slice(o+1));break;case"IEND":return s&&this.animation.frames.push(s),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,r=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*r,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)r.push(this.data[this.pos++]);return r},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,r=new Uint8Array(this.width*this.height*t),n=0,i=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function a(a,s,o,l){var c,d,u,h,f,p,m,g,x,y,v,b,w,j,N,_,k,S,A,C,E,P=Math.ceil((i.width-a)/o),T=Math.ceil((i.height-s)/l),O=i.width==P&&i.height==T;for(j=t*P,b=O?r:new Uint8Array(j*T),p=e.length,w=0,d=0;w<T&&n<p;){switch(e[n++]){case 0:for(h=k=0;k<j;h=k+=1)b[d++]=e[n++];break;case 1:for(h=S=0;S<j;h=S+=1)c=e[n++],f=h<t?0:b[d-t],b[d++]=(c+f)%256;break;case 2:for(h=A=0;A<j;h=A+=1)c=e[n++],u=(h-h%t)/t,N=w&&b[(w-1)*j+u*t+h%t],b[d++]=(N+c)%256;break;case 3:for(h=C=0;C<j;h=C+=1)c=e[n++],u=(h-h%t)/t,f=h<t?0:b[d-t],N=w&&b[(w-1)*j+u*t+h%t],b[d++]=(c+Math.floor((f+N)/2))%256;break;case 4:for(h=E=0;E<j;h=E+=1)c=e[n++],u=(h-h%t)/t,f=h<t?0:b[d-t],0===w?N=_=0:(N=b[(w-1)*j+u*t+h%t],_=u&&b[(w-1)*j+(u-1)*t+h%t]),m=f+N-_,g=Math.abs(m-f),y=Math.abs(m-N),v=Math.abs(m-_),x=g<=y&&g<=v?f:y<=v?N:_,b[d++]=(c+x)%256;break;default:throw new Error("Invalid filter algorithm: "+e[n-1])}if(!O){var I=((s+w*l)*i.width+a)*t,L=w*j;for(h=0;h<P;h+=1){for(var D=0;D<t;D+=1)r[I++]=b[L++];I+=(o-1)*t}}w++}}return e=Z(e),1==i.interlaceMethod?(a(0,0,8,8),a(4,0,8,8),a(0,4,4,8),a(2,0,4,4),a(0,2,2,4),a(1,0,2,2),a(0,1,1,2)):a(0,0,1,1),r},n.prototype.decodePalette=function(){var e,t,r,n,i,a,s,o,l;for(r=this.palette,a=this.transparency.indexed||[],i=new Uint8Array((a.length||0)+r.length),n=0,e=0,t=s=0,o=r.length;s<o;t=s+=3)i[n++]=r[t],i[n++]=r[t+1],i[n++]=r[t+2],i[n++]=null!=(l=a[e++])?l:255;return i},n.prototype.copyToImageData=function(e,t){var r,n,i,a,s,o,l,c,d,u,h;if(n=this.colors,d=null,r=this.hasAlphaChannel,this.palette.length&&(d=null!=(h=this._decodedPalette)?h:this._decodedPalette=this.decodePalette(),n=4,r=!0),c=(i=e.data||e).length,s=d||t,a=o=0,1===n)for(;a<c;)l=d?4*t[a/4]:o,u=s[l++],i[a++]=u,i[a++]=u,i[a++]=u,i[a++]=r?s[l++]:255,o=l;else for(;a<c;)l=d?4*t[a/4]:o,i[a++]=s[l++],i[a++]=s[l++],i[a++]=s[l++],i[a++]=r?s[l++]:255,o=l},n.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var i=function(){if("[object Window]"===Object.prototype.toString.call(ee)){try{t=ee.document.createElement("canvas"),r=t.getContext("2d")}catch(e){return!1}return!0}return!1};return i(),e=function(e){var n;if(!0===i())return r.width=e.width,r.height=e.height,r.clearRect(0,0,e.width,e.height),r.putImageData(e,0,0),(n=new Image).src=t.toDataURL(),n;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(t){var r,n,i,a,s,o,l,c;if(this.animation){for(c=[],n=s=0,o=(l=this.animation.frames).length;s<o;n=++s)r=l[n],i=t.createImageData(r.width,r.height),a=this.decodePixels(new Uint8Array(r.data)),this.copyToImageData(i,a),r.imageData=i,c.push(r.image=e(i));return c}},n.prototype.renderFrame=function(e,t){var r,n,i;return r=(n=this.animation.frames)[t],i=n[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?e.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&e.putImageData(i.imageData,i.xOffset,i.yOffset),0===r.blendOp&&e.clearRect(r.xOffset,r.yOffset,r.width,r.height),e.drawImage(r.image,r.xOffset,r.yOffset)},n.prototype.animate=function(e){var t,r,n,i,a,s,o=this;return r=0,s=this.animation,i=s.numFrames,n=s.frames,a=s.numPlays,(t=function(){var s,l;if(s=r++%i,l=n[s],o.renderFrame(e,s),i>1&&r/i<a)return o.animation._timeout=setTimeout(t,l.delay)})()},n.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},n.prototype.render=function(e){var t,r;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(r=t.createImageData(this.width,this.height),this.copyToImageData(r,this.decodePixels()),t.putImageData(r,0,0))},n}();function Kt(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<1+(7&i);e[t++],e[t++];var o=null,l=null;a&&(o=t,l=s,t+=3*s);var c=!0,d=[],u=0,h=null,f=0,p=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],0==(1&m)&&(h=null),f=m>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++],w=b>>6&1,j=1<<1+(7&b),N=o,_=l,k=!1;b>>7&&(k=!0,N=t,_=j,t+=3*j);var S=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}d.push({x:g,y:x,width:y,height:v,has_local_palette:k,palette_offset:N,palette_size:_,data_offset:S,data_length:t-S,transparent_index:h,interlaced:!!w,delay:u,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return p},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,n){var i=this.frameInfo(t),a=i.width*i.height,s=new Uint8Array(a);Yt(e,i.data_offset,s,a);var o=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,d=r-c,u=c,h=4*(i.y*r+i.x),f=4*((i.y+i.height)*r+i.x),p=h,m=4*d;!0===i.interlaced&&(m+=4*r*7);for(var g=8,x=0,y=s.length;x<y;++x){var v=s[x];if(0===u&&(u=c,(p+=m)>=f&&(m=4*d+4*r*(g-1),p=h+(c+d)*(g<<1),g>>=1)),v===l)p+=4;else{var b=e[o+3*v],w=e[o+3*v+1],j=e[o+3*v+2];n[p++]=j,n[p++]=w,n[p++]=b,n[p++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,n){var i=this.frameInfo(t),a=i.width*i.height,s=new Uint8Array(a);Yt(e,i.data_offset,s,a);var o=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,d=r-c,u=c,h=4*(i.y*r+i.x),f=4*((i.y+i.height)*r+i.x),p=h,m=4*d;!0===i.interlaced&&(m+=4*r*7);for(var g=8,x=0,y=s.length;x<y;++x){var v=s[x];if(0===u&&(u=c,(p+=m)>=f&&(m=4*d+4*r*(g-1),p=h+(c+d)*(g<<1),g>>=1)),v===l)p+=4;else{var b=e[o+3*v],w=e[o+3*v+1],j=e[o+3*v+2];n[p++]=b,n[p++]=w,n[p++]=j,n[p++]=255}--u}}}function Yt(e,t,r,n){for(var i=e[t++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,d=0,u=0,h=0,f=e[t++],p=new Int32Array(4096),m=null;;){for(;d<16&&0!==f;)u|=e[t++]<<d,d+=8,1===f?f=e[t++]:--f;if(d<l)break;var g=u&c;if(u>>=l,d-=l,g!==a){if(g===s)break;for(var x=g<o?g:m,y=0,v=x;v>a;)v=p[v]>>8,++y;var b=v;if(h+y+(x!==g?1:0)>n)return void re.log("Warning, gif stream longer than expected.");r[h++]=b;var w=h+=y;for(x!==g&&(r[h++]=b),v=x;y--;)v=p[v],r[--w]=255&v,v>>=8;null!==m&&o<4096&&(p[o++]=m<<8|b,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=g}else o=s+1,c=(1<<(l=i+1))-1,m=null}return h!==n&&re.log("Warning, gif stream shorter than expected."),r}function Xt(e){var t,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),h=new Array(65535),f=new Array(64),p=new Array(64),m=[],g=0,x=7,y=new Array(64),v=new Array(64),b=new Array(64),w=new Array(256),j=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],T=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(e,t){for(var r=0,n=0,i=new Array,a=1;a<=16;a++){for(var s=1;s<=e[a];s++)i[t[n]]=[],i[t[n]][0]=r,i[t[n]][1]=a,n++,r++;r*=2}return i}function I(e){for(var t=e[0],r=e[1]-1;r>=0;)t&1<<r&&(g|=1<<x),r--,--x<0&&(255==g?(L(255),L(0)):L(g),x=7,g=0)}function L(e){m.push(e)}function D(e){L(e>>8&255),L(255&e)}function M(e,t,r,n,i){for(var a,s=i[0],o=i[240],l=function(e,t){var r,n,i,a,s,o,l,c,d,u,h=0;for(d=0;d<8;++d){r=e[h],n=e[h+1],i=e[h+2],a=e[h+3],s=e[h+4],o=e[h+5],l=e[h+6];var p=r+(c=e[h+7]),m=r-c,g=n+l,x=n-l,y=i+o,v=i-o,b=a+s,w=a-s,j=p+b,N=p-b,_=g+y,k=g-y;e[h]=j+_,e[h+4]=j-_;var S=.707106781*(k+N);e[h+2]=N+S,e[h+6]=N-S;var A=.382683433*((j=w+v)-(k=x+m)),C=.5411961*j+A,E=1.306562965*k+A,P=.707106781*(_=v+x),T=m+P,O=m-P;e[h+5]=O+C,e[h+3]=O-C,e[h+1]=T+E,e[h+7]=T-E,h+=8}for(h=0,d=0;d<8;++d){r=e[h],n=e[h+8],i=e[h+16],a=e[h+24],s=e[h+32],o=e[h+40],l=e[h+48];var I=r+(c=e[h+56]),L=r-c,D=n+l,M=n-l,R=i+o,F=i-o,B=a+s,z=a-s,U=I+B,q=I-B,W=D+R,H=D-R;e[h]=U+W,e[h+32]=U-W;var V=.707106781*(H+q);e[h+16]=q+V,e[h+48]=q-V;var G=.382683433*((U=z+F)-(H=M+L)),K=.5411961*U+G,Y=1.306562965*H+G,X=.707106781*(W=F+M),Q=L+X,$=L-X;e[h+40]=$+K,e[h+24]=$-K,e[h+8]=Q+Y,e[h+56]=Q-Y,h++}for(d=0;d<64;++d)u=e[d]*t[d],f[d]=u>0?u+.5|0:u-.5|0;return f}(e,t),c=0;c<64;++c)p[N[c]]=l[c];var d=p[0]-r;r=p[0],0==d?I(n[0]):(I(n[h[a=32767+d]]),I(u[a]));for(var m=63;m>0&&0==p[m];)m--;if(0==m)return I(s),r;for(var g,x=1;x<=m;){for(var y=x;0==p[x]&&x<=m;)++x;var v=x-y;if(v>=16){g=v>>4;for(var b=1;b<=g;++b)I(o);v&=15}a=32767+p[x],I(i[(v<<4)+h[a]]),I(u[a]),x++}return 63!=m&&I(s),r}function R(e){e=Math.min(Math.max(e,1),100),a!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var n=s((t[r]*e+50)/100);n=Math.min(Math.max(n,1),255),o[N[r]]=n}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var u=s((i[a]*e+50)/100);u=Math.min(Math.max(u,1),255),l[N[a]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var m=0;m<8;m++)c[f]=1/(o[N[f]]*h[p]*h[m]*8),d[f]=1/(l[N[f]]*h[p]*h[m]*8),f++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),a=e)}this.encode=function(e,a){a&&R(a),m=new Array,g=0,x=7,D(65496),D(65504),D(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),D(1),D(1),L(0),L(0),function(){D(65499),D(132),L(0);for(var e=0;e<64;e++)L(o[e]);L(1);for(var t=0;t<64;t++)L(l[t])}(),function(e,t){D(65472),D(17),L(8),D(t),D(e),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1)}(e.width,e.height),function(){D(65476),D(418),L(0);for(var e=0;e<16;e++)L(_[e+1]);for(var t=0;t<=11;t++)L(k[t]);L(16);for(var r=0;r<16;r++)L(S[r+1]);for(var n=0;n<=161;n++)L(A[n]);L(1);for(var i=0;i<16;i++)L(C[i+1]);for(var a=0;a<=11;a++)L(E[a]);L(17);for(var s=0;s<16;s++)L(P[s+1]);for(var o=0;o<=161;o++)L(T[o])}(),D(65498),D(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var s=0,u=0,h=0;g=0,x=7,this.encode.displayName="_encode_";for(var f,p,w,N,O,F,B,z,U,q=e.data,W=e.width,H=e.height,V=4*W,G=0;G<H;){for(f=0;f<V;){for(O=V*G+f,B=-1,z=0,U=0;U<64;U++)F=O+(z=U>>3)*V+(B=4*(7&U)),G+z>=H&&(F-=V*(G+1+z-H)),f+B>=V&&(F-=f+B-V+4),p=q[F++],w=q[F++],N=q[F++],y[U]=(j[p]+j[w+256|0]+j[N+512|0]>>16)-128,v[U]=(j[p+768|0]+j[w+1024|0]+j[N+1280|0]>>16)-128,b[U]=(j[p+1280|0]+j[w+1536|0]+j[N+1792|0]>>16)-128;s=M(y,c,s,t,n),u=M(v,d,u,r,i),h=M(b,d,h,r,i),f+=32}G+=8}if(x>=0){var K=[];K[1]=x+1,K[0]=(1<<x+1)-1,I(K)}return D(65497),new Uint8Array(m)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=O(_,k),r=O(C,E),n=O(S,A),i=O(P,T),function(){for(var e=1,t=2,r=1;r<=15;r++){for(var n=e;n<t;n++)h[32767+n]=r,u[32767+n]=[],u[32767+n][1]=r,u[32767+n][0]=n;for(var i=-(t-1);i<=-e;i++)h[32767+i]=r,u[32767+i]=[],u[32767+i][1]=r,u[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)j[e]=19595*e,j[e+256|0]=38470*e,j[e+512|0]=7471*e+32768,j[e+768|0]=-11059*e,j[e+1024|0]=-21709*e,j[e+1280|0]=32768*e+8421375,j[e+1536|0]=-27439*e,j[e+1792|0]=-5329*e}(),R(e)}function Qt(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $t(e){function t(e){if(!e)throw Error("assert :P")}function r(e,t,r){for(var n=0;4>n;n++)if(e[t+n]!=r.charCodeAt(n))return!0;return!1}function n(e,t,r,n,i){for(var a=0;a<i;a++)e[t+a]=r[n+a]}function i(e,t,r,n){for(var i=0;i<n;i++)e[t+i]=r}function a(e){return new Int32Array(e)}function s(e,t){for(var r=[],n=0;n<e;n++)r.push(new t);return r}function o(e,t){var r=[];return function e(r,n,i){for(var a=i[n],s=0;s<a&&(r.push(i.length>n+1?[]:new t),!(i.length<n+1));s++)e(r[s],n+1,i)}(r,0,e),r}var l=function(){var e=this;function l(e,t){for(var r=1<<t-1>>>0;e&r;)r>>>=1;return r?(e&r-1)+r:e}function c(e,r,n,i,a){t(!(i%n));do{e[r+(i-=n)]=a}while(0<i)}function d(e,r,n,i,s){if(t(2328>=s),512>=s)var o=a(512);else if(null==(o=a(s)))return 0;return function(e,r,n,i,s,o){var d,h,f=r,p=1<<n,m=a(16),g=a(16);for(t(0!=s),t(null!=i),t(null!=e),t(0<n),h=0;h<s;++h){if(15<i[h])return 0;++m[i[h]]}if(m[0]==s)return 0;for(g[1]=0,d=1;15>d;++d){if(m[d]>1<<d)return 0;g[d+1]=g[d]+m[d]}for(h=0;h<s;++h)d=i[h],0<i[h]&&(o[g[d]++]=h);if(1==g[15])return(i=new u).g=0,i.value=o[0],c(e,f,1,p,i),p;var x,y=-1,v=p-1,b=0,w=1,j=1,N=1<<n;for(h=0,d=1,s=2;d<=n;++d,s<<=1){if(w+=j<<=1,0>(j-=m[d]))return 0;for(;0<m[d];--m[d])(i=new u).g=d,i.value=o[h++],c(e,f+b,s,N,i),b=l(b,d)}for(d=n+1,s=2;15>=d;++d,s<<=1){if(w+=j<<=1,0>(j-=m[d]))return 0;for(;0<m[d];--m[d]){if(i=new u,(b&v)!=y){for(f+=N,x=1<<(y=d)-n;15>y&&!(0>=(x-=m[y]));)++y,x<<=1;p+=N=1<<(x=y-n),e[r+(y=b&v)].g=x+n,e[r+y].value=f-r-y}i.g=d-n,i.value=o[h++],c(e,f+(b>>n),s,N,i),b=l(b,d)}}return w!=2*g[15]-1?0:p}(e,r,n,i,s,o)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function f(){this.G=s(5,u),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Fr,h)}function p(e,r,n,i){t(null!=e),t(null!=r),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=r,e.pa=n,e.Jd=r,e.Yc=n+i,e.Zc=4<=i?n+i-4+1:n,S(e)}function m(e,t){for(var r=0;0<t--;)r|=C(e,128)<<t;return r}function g(e,t){var r=m(e,t);return A(e)?-r:r}function x(e,r,n,i){var a,s=0;for(t(null!=e),t(null!=r),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),a=0;a<i;++a)s+=r[n+a]<<8*a;e.Ra=s,e.bb=i,e.oa=r,e.pa=n}function y(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Ur-8>>>0,++e.bb,e.u-=8;N(e)&&(e.h=1,e.u=0)}function v(e,r){if(t(0<=r),!e.h&&r<=zr){var n=j(e)&Br[r];return e.u+=r,y(e),n}return e.h=1,e.u=0}function b(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(e){return e.Ra>>>(e.u&Ur-1)>>>0}function N(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Ur}function _(e,t){e.u=t,e.h=N(e)}function k(e){e.u>=qr&&(t(e.u>=qr),y(e))}function S(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function A(e){return m(e,1)}function C(e,t){var r=e.Ca;0>e.b&&S(e);var n=e.b,i=r*t>>>8,a=(e.I>>>n>i)+0;for(a?(r-=i,e.I-=i+1<<n>>>0):r=i+1,n=r,i=0;256<=n;)i+=8,n>>=8;return n=7^i+Wr[n],e.b-=n,e.Ca=(r<<n)-1,a}function E(e,t,r){e[t+0]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function P(e,t){return e[t+0]|e[t+1]<<8}function T(e,t){return P(e,t)|e[t+2]<<16}function O(e,t){return P(e,t)|P(e,t+2)<<16}function I(e,r){var n=1<<r;return t(null!=e),t(0<r),e.X=a(n),null==e.X?0:(e.Mb=32-r,e.Xa=r,1)}function L(e,r){t(null!=e),t(null!=r),t(e.Xa==r.Xa),n(r.X,0,e.X,0,1<<r.Xa)}function D(){this.X=[],this.Xa=this.Mb=0}function M(e,r,n,i){t(null!=n),t(null!=i);var a=n[0],s=i[0];return 0==a&&(a=(e*s+r/2)/r),0==s&&(s=(r*a+e/2)/e),0>=a||0>=s?0:(n[0]=a,i[0]=s,1)}function R(e,t){return e+(1<<t)-1>>>t}function F(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function B(t,r){e[r]=function(r,n,i,a,s,o,l){var c;for(c=0;c<s;++c){var d=e[t](o[l+c-1],i,a+c);o[l+c]=F(r[n+c],d)}}}function z(){this.ud=this.hd=this.jd=0}function U(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function q(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function W(e,t){return q(e+(e-t+.5>>1))}function H(e,t,r){return Math.abs(t-r)-Math.abs(e-r)}function V(e,t,r,n,i,a,s){for(n=a[s-1],r=0;r<i;++r)a[s+r]=n=F(e[t+r],n)}function G(e,t,r,n,i){var a;for(a=0;a<r;++a){var s=e[t+a],o=s>>8&255,l=16711935&(l=(l=16711935&s)+((o<<16)+o));n[i+a]=(4278255360&s)+l>>>0}}function K(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function Y(e,t,r,n,i,a){var s;for(s=0;s<n;++s){var o=t[r+s],l=o>>>8,c=o,d=255&(d=(d=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),i[a+s]=(4278255360&o)+(d<<16)+c}}function X(t,r,n,i,a){e[r]=function(e,t,r,n,s,o,l,c,d){for(n=l;n<c;++n)for(l=0;l<d;++l)s[o++]=a(r[i(e[t++])])},e[t]=function(t,r,s,o,l,c,d){var u=8>>t.b,h=t.Ea,f=t.K[0],p=t.w;if(8>u)for(t=(1<<t.b)-1,p=(1<<u)-1;r<s;++r){var m,g=0;for(m=0;m<h;++m)m&t||(g=i(o[l++])),c[d++]=a(f[g&p]),g>>=u}else e["VP8LMapColor"+n](o,l,f,p,c,d,r,s,h)}}function Q(e,t,r,n,i){for(r=t+r;t<r;){var a=e[t++];n[i++]=a>>16&255,n[i++]=a>>8&255,n[i++]=255&a}}function $(e,t,r,n,i){for(r=t+r;t<r;){var a=e[t++];n[i++]=a>>16&255,n[i++]=a>>8&255,n[i++]=255&a,n[i++]=a>>24&255}}function Z(e,t,r,n,i){for(r=t+r;t<r;){var a=(s=e[t++])>>16&240|s>>12&15,s=240&s|s>>28&15;n[i++]=a,n[i++]=s}}function J(e,t,r,n,i){for(r=t+r;t<r;){var a=(s=e[t++])>>16&248|s>>13&7,s=s>>5&224|s>>3&31;n[i++]=a,n[i++]=s}}function ee(e,t,r,n,i){for(r=t+r;t<r;){var a=e[t++];n[i++]=255&a,n[i++]=a>>8&255,n[i++]=a>>16&255}}function te(e,t,r,i,a,s){if(0==s)for(r=t+r;t<r;)E(i,((s=e[t++])[0]>>24|s[1]>>8&65280|s[2]<<8&16711680|s[3]<<24)>>>0),a+=32;else n(i,a,e,t,r)}function re(t,r){e[r][0]=e[t+"0"],e[r][1]=e[t+"1"],e[r][2]=e[t+"2"],e[r][3]=e[t+"3"],e[r][4]=e[t+"4"],e[r][5]=e[t+"5"],e[r][6]=e[t+"6"],e[r][7]=e[t+"7"],e[r][8]=e[t+"8"],e[r][9]=e[t+"9"],e[r][10]=e[t+"10"],e[r][11]=e[t+"11"],e[r][12]=e[t+"12"],e[r][13]=e[t+"13"],e[r][14]=e[t+"0"],e[r][15]=e[t+"0"]}function ne(e){return e==Wn||e==Hn||e==Vn||e==Gn}function ie(){this.eb=[],this.size=this.A=this.fb=0}function ae(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function se(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new ae,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function de(e,t){var r=e.T,i=t.ba.f.RGBA,a=i.eb,s=i.fb+e.ka*i.A,o=xi[t.ba.S],l=e.y,c=e.O,d=e.f,u=e.N,h=e.ea,f=e.W,p=t.cc,m=t.dc,g=t.Mc,x=t.Nc,y=e.ka,v=e.ka+e.T,b=e.U,w=b+1>>1;for(0==y?o(l,c,null,null,d,u,h,f,d,u,h,f,a,s,null,null,b):(o(t.ec,t.fc,l,c,p,m,g,x,d,u,h,f,a,s-i.A,a,s,b),++r);y+2<v;y+=2)p=d,m=u,g=h,x=f,u+=e.Rc,f+=e.Rc,s+=2*i.A,o(l,(c+=2*e.fa)-e.fa,l,c,p,m,g,x,d,u,h,f,a,s-i.A,a,s,b);return c+=e.fa,e.j+v<e.o?(n(t.ec,t.fc,l,c,b),n(t.cc,t.dc,d,u,w),n(t.Mc,t.Nc,h,f,w),r--):1&v||o(l,c,null,null,d,u,h,f,d,u,h,f,a,s+i.A,null,null,b),r}function ue(e,r,n){var i=e.F,a=[e.J];if(null!=i){var s=e.U,o=r.ba.S,l=o==zn||o==Vn;r=r.ba.f.RGBA;var c=[0],d=e.ka;c[0]=e.T,e.Kb&&(0==d?--c[0]:(--d,a[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-d));var u=r.eb;d=r.fb+d*r.A,e=kn(i,a[0],e.width,s,c,u,d+(l?0:3),r.A),t(n==c),e&&ne(o)&&Nn(u,d,l,s,c,r.A)}return 0}function he(e){var t=e.ma,r=t.ba.S,n=11>r,i=r==Rn||r==Bn||r==zn||r==Un||12==r||ne(r);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Dr(t.Oa,e,i?11:12))return 0;if(i&&ne(r)&&yr(),e.da)alert("todo:use_scaling");else{if(n){if(t.Ib=ce,e.Kb){if(r=e.U+1>>1,t.memory=a(e.U+2*r),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+r,t.Ib=de,yr()}}else alert("todo:EmitYUV");i&&(t.Jb=ue,n&&gr())}if(n&&!Ti){for(e=0;256>e;++e)Oi[e]=89858*(e-128)+Si>>ki,Di[e]=-22014*(e-128)+Si,Li[e]=-45773*(e-128),Ii[e]=113618*(e-128)+Si>>ki;for(e=Ai;e<Ci;++e)t=76283*(e-16)+Si>>ki,Mi[e-Ai]=Ve(t,255),Ri[e-Ai]=Ve(t+8>>4,15);Ti=1}return 1}function fe(e){var r=e.ma,n=e.U,i=e.T;return t(!(1&e.ka)),0>=n||0>=i?0:(n=r.Ib(e,r),null!=r.Jb&&r.Jb(e,r,n),r.Dc+=n,1)}function pe(e){e.ma.memory=null}function me(e,t,r,n){return 47!=v(e,8)?0:(t[0]=v(e,14)+1,r[0]=v(e,14)+1,n[0]=v(e,1),0!=v(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var r=e-2>>1;return(2+(1&e)<<r)+v(t,r)+1}function xe(e,t){return 120<t?t-120:1<=(r=((r=Zn[t-1])>>4)*e+(8-(15&r)))?r:1;var r}function ye(e,t,r){var n=j(r),i=e[t+=255&n].g-8;return 0<i&&(_(r,r.u+8),n=j(r),t+=e[t].value,t+=n&(1<<i)-1),_(r,r.u+e[t].g),e[t].value}function ve(e,r,n){return n.g+=e.g,n.value+=e.value<<r>>>0,t(8>=n.g),e.g}function be(e,r,n){var i=e.xc;return t((r=0==i?0:e.vc[e.md*(n>>i)+(r>>i)])<e.Wb),e.Ya[r]}function we(e,r,i,a){var s=e.ab,o=e.c*r,l=e.C;r=l+r;var c=i,d=a;for(a=e.Ta,i=e.Ua;0<s--;){var u=e.gc[s],h=l,f=r,p=c,m=d,g=(d=a,c=i,u.Ea);switch(t(h<f),t(f<=u.nc),u.hc){case 2:Gr(p,m,(f-h)*g,d,c);break;case 0:var x=h,y=f,v=d,b=c,w=(S=u).Ea;0==x&&(Hr(p,m,null,null,1,v,b),V(p,m+1,0,0,w-1,v,b+1),m+=w,b+=w,++x);for(var j=1<<S.b,N=j-1,_=R(w,S.b),k=S.K,S=S.w+(x>>S.b)*_;x<y;){var A=k,C=S,E=1;for(Vr(p,m,v,b-w,1,v,b);E<w;){var P=(E&~N)+j;P>w&&(P=w),(0,$r[A[C++]>>8&15])(p,m+ +E,v,b+E-w,P-E,v,b+E),E=P}m+=w,b+=w,++x&N||(S+=_)}f!=u.nc&&n(d,c-g,d,c+(f-h-1)*g,g);break;case 1:for(g=p,y=m,w=(p=u.Ea)-(b=p&~(v=(m=1<<u.b)-1)),x=R(p,u.b),j=u.K,u=u.w+(h>>u.b)*x;h<f;){for(N=j,_=u,k=new z,S=y+b,A=y+p;y<S;)K(N[_++],k),Zr(k,g,y,m,d,c),y+=m,c+=m;y<A&&(K(N[_++],k),Zr(k,g,y,w,d,c),y+=w,c+=w),++h&v||(u+=x)}break;case 3:if(p==d&&m==c&&0<u.b){for(y=d,p=g=c+(f-h)*g-(b=(f-h)*R(u.Ea,u.b)),m=d,v=c,x=[],b=(w=b)-1;0<=b;--b)x[b]=m[v+b];for(b=w-1;0<=b;--b)y[p+b]=x[b];Kr(u,h,f,d,g,d,c)}else Kr(u,h,f,p,m,d,c)}c=a,d=i}d!=i&&n(a,i,c,d,o)}function je(e,r){var n=e.V,i=e.Ba+e.c*e.C,a=r-e.C;if(t(r<=e.l.o),t(16>=a),0<a){var s=e.l,o=e.Ta,l=e.Ua,c=s.width;if(we(e,a,n,i),a=l=[l],t((n=e.C)<(i=r)),t(s.v<s.va),i>s.o&&(i=s.o),n<s.j){var d=s.j-n;n=s.j,a[0]+=d*c}if(n>=i?n=0:(a[0]+=4*s.v,s.ka=n-s.j,s.U=s.va-s.v,s.T=i-n,n=1),n){if(l=l[0],11>(n=e.ca).S){var u=n.f.RGBA,h=(i=n.S,a=s.U,s=s.T,d=u.eb,u.A),f=s;for(u=u.fb+e.Ma*u.A;0<f--;){var p=o,m=l,g=a,x=d,y=u;switch(i){case Mn:Jr(p,m,g,x,y);break;case Rn:en(p,m,g,x,y);break;case Wn:en(p,m,g,x,y),Nn(x,y,0,g,1,0);break;case Fn:nn(p,m,g,x,y);break;case Bn:te(p,m,g,x,y,1);break;case Hn:te(p,m,g,x,y,1),Nn(x,y,0,g,1,0);break;case zn:te(p,m,g,x,y,0);break;case Vn:te(p,m,g,x,y,0),Nn(x,y,1,g,1,0);break;case Un:tn(p,m,g,x,y);break;case Gn:tn(p,m,g,x,y),_n(x,y,g,1,0);break;case qn:rn(p,m,g,x,y);break;default:t(0)}l+=c,u+=h}e.Ma+=s}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=n.height)}}e.C=r,t(e.C<=e.i)}function Ne(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var r=e.Ya[t].G,n=e.Ya[t].H;if(0<r[1][n[1]+0].g||0<r[2][n[2]+0].g||0<r[3][n[3]+0].g)return 0}return 1}function _e(e,r,n,i,a,s){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=gi[e.Z]);r<n;++r)gi[e.Z](o,l,i,a,i,a,s),o=i,l=a,a+=s;e.qd=o,e.rd=l}}function ke(e,r){var n=e.l.ma,i=0==n.Z||1==n.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(r<=e.l.o),r>i){var a=e.l.width,s=n.ca,o=n.tb+a*i,l=e.V,c=e.Ba+e.c*i,d=e.gc;t(1==e.ab),t(3==d[0].hc),Xr(d[0],i,r,l,c,s,o),_e(n,i,r,s,o,a)}e.C=e.Ma=r}function Se(e,r,n,i,a,s,o){var l=e.$/i,c=e.$%i,d=e.m,u=e.s,h=n+e.$,f=h;a=n+i*a;var p=n+i*s,m=280+u.ua,g=e.Pb?l:16777216,x=0<u.ua?u.Wa:null,y=u.wc,v=h<p?be(u,c,l):null;t(e.C<s),t(p<=a);var b=!1;e:for(;;){for(;b||h<p;){var w=0;if(l>=g){var S=h-n;t((g=e).Pb),g.wd=g.m,g.xd=S,0<g.s.ua&&L(g.s.Wa,g.s.vb),g=l+ei}if(c&y||(v=be(u,c,l)),t(null!=v),v.Qb&&(r[h]=v.qb,b=!0),!b)if(k(d),v.jc){w=d,S=r;var A=h,C=v.pd[j(w)&Fr-1];t(v.jc),256>C.g?(_(w,w.u+C.g),S[A]=C.value,w=0):(_(w,w.u+C.g-256),t(256<=C.value),w=C.value),0==w&&(b=!0)}else w=ye(v.G[0],v.H[0],d);if(d.h)break;if(b||256>w){if(!b)if(v.nd)r[h]=(v.qb|w<<8)>>>0;else{if(k(d),b=ye(v.G[1],v.H[1],d),k(d),S=ye(v.G[2],v.H[2],d),A=ye(v.G[3],v.H[3],d),d.h)break;r[h]=(A<<24|b<<16|w<<8|S)>>>0}if(b=!1,++h,++c>=i&&(c=0,++l,null!=o&&l<=s&&!(l%16)&&o(e,l),null!=x))for(;f<h;)w=r[f++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else if(280>w){if(w=ge(w-256,d),S=ye(v.G[4],v.H[4],d),k(d),S=xe(i,S=ge(S,d)),d.h)break;if(h-n<S||a-h<w)break e;for(A=0;A<w;++A)r[h+A]=r[h+A-S];for(h+=w,c+=w;c>=i;)c-=i,++l,null!=o&&l<=s&&!(l%16)&&o(e,l);if(t(h<=a),c&y&&(v=be(u,c,l)),null!=x)for(;f<h;)w=r[f++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else{if(!(w<m))break e;for(b=w-280,t(null!=x);f<h;)w=r[f++],x.X[(506832829*w&4294967295)>>>x.Mb]=w;w=h,t(!(b>>>(S=x).Xa)),r[w]=S.X[b],b=!0}b||t(d.h==N(d))}if(e.Pb&&d.h&&h<a)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&L(e.s.vb,e.s.Wa);else{if(d.h)break e;null!=o&&o(e,l>s?s:l),e.a=0,e.$=h-n}return 1}return e.a=3,0}function Ae(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var r=e.Wa;null!=r&&(r.X=null),e.vb=null,t(null!=e)}function Ce(){var t=new sr;return null==t?null:(t.a=0,t.xb=mi,re("Predictor","VP8LPredictors"),re("Predictor","VP8LPredictors_C"),re("PredictorAdd","VP8LPredictorsAdd"),re("PredictorAdd","VP8LPredictorsAdd_C"),Gr=G,Zr=Y,Jr=Q,en=$,tn=Z,rn=J,nn=ee,e.VP8LMapColor32b=Yr,e.VP8LMapColor8b=Qr,t)}function Ee(e,r,n,o,l){var c=1,h=[e],p=[r],m=o.m,g=o.s,x=null,y=0;e:for(;;){if(n)for(;c&&v(m,1);){var b=h,w=p,N=o,S=1,A=N.m,C=N.gc[N.ab],E=v(A,2);if(N.Oc&1<<E)c=0;else{switch(N.Oc|=1<<E,C.hc=E,C.Ea=b[0],C.nc=w[0],C.K=[null],++N.ab,t(4>=N.ab),E){case 0:case 1:C.b=v(A,3)+2,S=Ee(R(C.Ea,C.b),R(C.nc,C.b),0,N,C.K),C.K=C.K[0];break;case 3:var P,T=v(A,8)+1,O=16<T?0:4<T?1:2<T?2:3;if(b[0]=R(C.Ea,O),C.b=O,P=S=Ee(T,1,0,N,C.K)){var L,D=T,M=C,B=1<<(8>>M.b),z=a(B);if(null==z)P=0;else{var U=M.K[0],q=M.w;for(z[0]=M.K[0][0],L=1;L<1*D;++L)z[L]=F(U[q+L],z[L-1]);for(;L<4*B;++L)z[L]=0;M.K[0]=null,M.K[0]=z,P=1}}S=P;break;case 2:break;default:t(0)}c=S}}if(h=h[0],p=p[0],c&&v(m,1)&&!(c=1<=(y=v(m,4))&&11>=y)){o.a=3;break e}var W;if(W=c)t:{var H,V,G,K=o,Y=h,X=p,Q=y,$=n,Z=K.m,J=K.s,ee=[null],te=1,re=0,ne=Jn[Q];r:for(;;){if($&&v(Z,1)){var ie=v(Z,3)+2,ae=R(Y,ie),se=R(X,ie),oe=ae*se;if(!Ee(ae,se,0,K,ee))break r;for(ee=ee[0],J.xc=ie,H=0;H<oe;++H){var le=ee[H]>>8&65535;ee[H]=le,le>=te&&(te=le+1)}}if(Z.h)break r;for(V=0;5>V;++V){var ce=Xn[V];!V&&0<Q&&(ce+=1<<Q),re<ce&&(re=ce)}var de=s(te*ne,u),ue=te,he=s(ue,f);if(null==he)var fe=null;else t(65536>=ue),fe=he;var pe=a(re);if(null==fe||null==pe||null==de){K.a=1;break r}var me=de;for(H=G=0;H<te;++H){var ge=fe[H],xe=ge.G,ye=ge.H,be=0,we=1,je=0;for(V=0;5>V;++V){ce=Xn[V],xe[V]=me,ye[V]=G,!V&&0<Q&&(ce+=1<<Q);n:{var Ne,_e=ce,ke=K,Ce=pe,Pe=me,Te=G,Oe=0,Ie=ke.m,Le=v(Ie,1);if(i(Ce,0,0,_e),Le){var De=v(Ie,1)+1,Me=v(Ie,1),Re=v(Ie,0==Me?1:8);Ce[Re]=1,2==De&&(Ce[Re=v(Ie,8)]=1);var Fe=1}else{var Be=a(19),ze=v(Ie,4)+4;if(19<ze){ke.a=3;var Ue=0;break n}for(Ne=0;Ne<ze;++Ne)Be[$n[Ne]]=v(Ie,3);var qe=void 0,We=void 0,He=ke,Ve=Be,Ge=_e,Ke=Ce,Ye=0,Xe=He.m,Qe=8,$e=s(128,u);i:for(;d($e,0,7,Ve,19);){if(v(Xe,1)){var Ze=2+2*v(Xe,3);if((qe=2+v(Xe,Ze))>Ge)break i}else qe=Ge;for(We=0;We<Ge&&qe--;){k(Xe);var Je=$e[0+(127&j(Xe))];_(Xe,Xe.u+Je.g);var et=Je.value;if(16>et)Ke[We++]=et,0!=et&&(Qe=et);else{var tt=16==et,rt=et-16,nt=Yn[rt],it=v(Xe,Kn[rt])+nt;if(We+it>Ge)break i;for(var at=tt?Qe:0;0<it--;)Ke[We++]=at}}Ye=1;break i}Ye||(He.a=3),Fe=Ye}(Fe=Fe&&!Ie.h)&&(Oe=d(Pe,Te,8,Ce,_e)),Fe&&0!=Oe?Ue=Oe:(ke.a=3,Ue=0)}if(0==Ue)break r;if(we&&1==Qn[V]&&(we=0==me[G].g),be+=me[G].g,G+=Ue,3>=V){var st,ot=pe[0];for(st=1;st<ce;++st)pe[st]>ot&&(ot=pe[st]);je+=ot}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(xe[3][ye[3]+0].value<<24|xe[1][ye[1]+0].value<<16|xe[2][ye[2]+0].value)>>>0,0==be&&256>xe[0][ye[0]+0].value&&(ge.Qb=1,ge.qb+=xe[0][ye[0]+0].value<<8)),ge.jc=!ge.Qb&&6>je,ge.jc){var lt,ct=ge;for(lt=0;lt<Fr;++lt){var dt=lt,ut=ct.pd[dt],ht=ct.G[0][ct.H[0]+dt];256<=ht.value?(ut.g=ht.g+256,ut.value=ht.value):(ut.g=0,ut.value=0,dt>>=ve(ht,8,ut),dt>>=ve(ct.G[1][ct.H[1]+dt],16,ut),dt>>=ve(ct.G[2][ct.H[2]+dt],0,ut),ve(ct.G[3][ct.H[3]+dt],24,ut))}}}J.vc=ee,J.Wb=te,J.Ya=fe,J.yc=de,W=1;break t}W=0}if(!(c=W)){o.a=3;break e}if(0<y){if(g.ua=1<<y,!I(g.Wa,y)){o.a=1,c=0;break e}}else g.ua=0;var ft=o,pt=h,mt=p,gt=ft.s,xt=gt.xc;if(ft.c=pt,ft.i=mt,gt.md=R(pt,xt),gt.wc=0==xt?-1:(1<<xt)-1,n){o.xb=pi;break e}if(null==(x=a(h*p))){o.a=1,c=0;break e}c=(c=Se(o,x,0,h,p,p,null))&&!m.h;break e}return c?(null!=l?l[0]=x:(t(null==x),t(n)),o.$=0,n||Ae(g)):Ae(g),c}function Pe(e,r){var n=e.c*e.i,i=n+r+16*r;return t(e.c<=r),e.V=a(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+n+r,1)}function Te(e,r){var n=e.C,i=r-n,a=e.V,s=e.Ba+e.c*n;for(t(r<=e.l.o);0<i;){var o=16<i?16:i,l=e.l.ma,c=e.l.width,d=c*o,u=l.ca,h=l.tb+c*n,f=e.Ta,p=e.Ua;we(e,o,a,s),Sn(f,p,u,h,d),_e(l,n,n+o,u,h,c),i-=o,a+=o*e.c,n+=o}t(n==r),e.C=e.Ma=r}function Oe(){this.ub=this.yd=this.td=this.Rb=0}function Ie(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Le(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function De(){this.Yb=function(){var e=[];return function e(t,r,n){for(var i=n[r],a=0;a<i&&(t.push(n.length>r+1?[]:0),!(n.length<r+1));a++)e(t[a],r+1,n)}(e,0,[3,11]),e}()}function Me(){this.jb=a(3),this.Wc=o([4,8],De),this.Xc=o([4,17],De)}function Re(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Fe(){this.ld=this.La=this.dd=this.tc=0}function Be(){this.Na=this.la=0}function ze(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ue(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qe(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fe),this.Y=0,this.ya=Array(new Ue),this.aa=0,this.l=new Ge}function We(){this.y=a(16),this.f=a(8),this.ea=a(8)}function He(){this.cb=this.a=0,this.sc="",this.m=new b,this.Od=new Oe,this.Kc=new Ie,this.ed=new Re,this.Qa=new Le,this.Ic=this.$c=this.Aa=0,this.D=new qe,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,b),this.ia=0,this.pb=s(4,ze),this.Pa=new Me,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new We),this.Hd=0,this.rb=Array(new Be),this.sb=0,this.wa=Array(new Fe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ue),this.L=this.aa=0,this.gd=o([4,2],Fe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ve(e,t){return 0>e?0:e>t?t:e}function Ge(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ke(){var e=new He;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ni||(ni=$e)),e}function Ye(e,t,r){return 0==e.a&&(e.a=t,e.sc=r,e.cb=0),0}function Xe(e,t,r){return 3<=r&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Qe(e,r){if(null==e)return 0;if(e.a=0,e.sc="OK",null==r)return Ye(e,2,"null VP8Io passed to VP8GetHeaders()");var n=r.data,a=r.w,s=r.ha;if(4>s)return Ye(e,7,"Truncated header.");var o=n[a+0]|n[a+1]<<8|n[a+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Ye(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ye(e,4,"Frame not displayable.");a+=3,s-=3;var c=e.Kc;if(l.Rb){if(7>s)return Ye(e,7,"cannot parse picture header");if(!Xe(n,a,s))return Ye(e,3,"Bad code word");c.c=16383&(n[a+4]<<8|n[a+3]),c.Td=n[a+4]>>6,c.i=16383&(n[a+6]<<8|n[a+5]),c.Ud=n[a+6]>>6,a+=7,s-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,r.width=c.c,r.height=c.i,r.Da=0,r.j=0,r.v=0,r.va=r.width,r.o=r.height,r.da=0,r.ib=r.width,r.hb=r.height,r.U=r.width,r.T=r.height,i((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,i(o.Zb,0,0,o.Zb.length),i(o.Lb,0,0,o.Lb)}if(l.ub>s)return Ye(e,7,"bad partition length");p(o=e.m,n,a,l.ub),a+=l.ub,s-=l.ub,l.Rb&&(c.Ld=A(o),c.Kd=A(o)),c=e.Qa;var d,u=e.Pa;if(t(null!=o),t(null!=c),c.Cb=A(o),c.Cb){if(c.Bb=A(o),A(o)){for(c.Fb=A(o),d=0;4>d;++d)c.Zb[d]=A(o)?g(o,7):0;for(d=0;4>d;++d)c.Lb[d]=A(o)?g(o,6):0}if(c.Bb)for(d=0;3>d;++d)u.jb[d]=A(o)?m(o,8):255}else c.Bb=0;if(o.Ka)return Ye(e,3,"cannot parse segment header");if((c=e.ed).zd=A(o),c.Tb=m(o,6),c.wb=m(o,3),c.Pc=A(o),c.Pc&&A(o)){for(u=0;4>u;++u)A(o)&&(c.vd[u]=g(o,6));for(u=0;4>u;++u)A(o)&&(c.od[u]=g(o,6))}if(e.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Ye(e,3,"cannot parse filter header");var h=s;if(s=d=a,a=d+h,c=h,e.Xb=(1<<m(e.m,2))-1,h<3*(u=e.Xb))n=7;else{for(d+=3*u,c-=3*u,h=0;h<u;++h){var f=n[s+0]|n[s+1]<<8|n[s+2]<<16;f>c&&(f=c),p(e.Jc[+h],n,d,f),d+=f,c-=f,s+=3}p(e.Jc[+u],n,d,c),n=d<a?0:5}if(0!=n)return Ye(e,n,"cannot parse partitions");for(n=m(d=e.m,7),s=A(d)?g(d,4):0,a=A(d)?g(d,4):0,c=A(d)?g(d,4):0,u=A(d)?g(d,4):0,d=A(d)?g(d,4):0,h=e.Qa,f=0;4>f;++f){if(h.Cb){var x=h.Zb[f];h.Fb||(x+=n)}else{if(0<f){e.pb[f]=e.pb[0];continue}x=n}var y=e.pb[f];y.Sc[0]=ti[Ve(x+s,127)],y.Sc[1]=ri[Ve(x+0,127)],y.Eb[0]=2*ti[Ve(x+a,127)],y.Eb[1]=101581*ri[Ve(x+c,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=ti[Ve(x+u,117)],y.Qc[1]=ri[Ve(x+d,127)],y.lc=x+d}if(!l.Rb)return Ye(e,4,"Not a key frame.");for(A(o),l=e.Pa,n=0;4>n;++n){for(s=0;8>s;++s)for(a=0;3>a;++a)for(c=0;11>c;++c)u=C(o,ci[n][s][a][c])?m(o,8):oi[n][s][a][c],l.Wc[n][s].Yb[a][c]=u;for(s=0;17>s;++s)l.Xc[n][s]=l.Wc[n][di[s]]}return e.kc=A(o),e.kc&&(e.Bd=m(o,8)),e.cb=1}function $e(e,t,r,n,i,a,s){var o=t[i].Yb[r];for(r=0;16>i;++i){if(!C(e,o[r+0]))return i;for(;!C(e,o[r+1]);)if(o=t[++i].Yb[0],r=0,16==i)return 16;var l=t[i+1].Yb;if(C(e,o[r+2])){var c=e,d=0;if(C(c,(h=o)[(u=r)+3]))if(C(c,h[u+6])){for(o=0,u=2*(d=C(c,h[u+8]))+(h=C(c,h[u+9+d])),d=0,h=ii[u];h[o];++o)d+=d+C(c,h[o]);d+=3+(8<<u)}else C(c,h[u+7])?(d=7+2*C(c,165),d+=C(c,145)):d=5+C(c,159);else d=C(c,h[u+4])?3+C(c,h[u+5]):2;o=l[2]}else d=1,o=l[1];l=s+ai[i],0>(c=e).b&&S(c);var u,h=c.b,f=(u=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=f,c.Ca|=1,c.I-=(u+1&f)<<h,a[l]=((d^f)-f)*n[(0<i)+0]}return 16}function Ze(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function Je(e,r){if(null==e)return 0;if(null==r)return Ye(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Qe(e,r))return 0;if(t(e.cb),null==r.ac||r.ac(r)){r.ob&&(e.L=0);var o=Bi[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=r.v-o>>4,e.zb=r.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=r.o+15+o>>4,e.Hb=r.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var c;if(e.Qa.Cb){var d=e.Qa.Lb[o];e.Qa.Fb||(d+=l.Tb)}else d=l.Tb;for(c=0;1>=c;++c){var u=e.gd[o][c],h=d;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var f=h;0<l.wb&&(f=4<l.wb?f>>2:f>>1)>9-l.wb&&(f=9-l.wb),1>f&&(f=1),u.dd=f,u.tc=2*h+f,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=c}}}o=0}else Ye(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=Ui);e:{o=e.Ic,l=4*(f=e.za);var p=32*f,m=f+1,g=0<e.L?f*(0<e.Aa?2:1):0,x=(2==e.Aa?2:1)*f;if((u=l+832+(c=3*(16*o+Bi[e.L])/2*p)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)o=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=a(u),e.Fc=0,null==e.Ec){o=Ye(e,1,"no memory during frame initialization.");break e}e.Vb=u}u=e.Ec,h=e.Fc,e.Ac=u,e.Bc=h,h+=l,e.Gd=s(p,We),e.Hd=0,e.rb=s(m+1,Be),e.sb=1,e.wa=g?s(g,Fe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=f),t(!0),e.oc=u,e.pc=h,h+=832,e.ya=s(x,Ue),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=f),e.R=16*f,e.B=8*f,f=(p=Bi[e.L])*e.R,p=p/2*e.B,e.sa=u,e.ta=h+f,e.qa=e.sa,e.ra=e.ta+16*o*e.R+p,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+p,e.$c=0,h+=c,e.mb=d?u:null,e.nb=d?h:null,t(h+d<=e.Fc+e.Vb),Ze(e),i(e.Ac,e.Bc,0,l),o=1}}if(o){if(r.ka=0,r.y=e.sa,r.O=e.ta,r.f=e.qa,r.N=e.ra,r.ea=e.Ha,r.Vd=e.Ia,r.fa=e.R,r.Rc=e.B,r.F=null,r.J=0,!Tn){for(o=-255;255>=o;++o)An[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)Cn[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)En[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Pn[255+o]=0>o?0:255<o?255:o;Tn=1}an=ct,sn=at,ln=st,cn=ot,dn=lt,on=it,un=Yt,hn=Xt,fn=Zt,pn=Jt,mn=Qt,gn=$t,xn=er,yn=tr,vn=qt,bn=Wt,wn=Ht,jn=Vt,hi[0]=_t,hi[1]=ut,hi[2]=jt,hi[3]=Nt,hi[4]=kt,hi[5]=At,hi[6]=St,hi[7]=Ct,hi[8]=Pt,hi[9]=Et,ui[0]=xt,ui[1]=ft,ui[2]=pt,ui[3]=mt,ui[4]=yt,ui[5]=vt,ui[6]=bt,fi[0]=Lt,fi[1]=ht,fi[2]=Tt,fi[3]=Ot,fi[4]=Mt,fi[5]=Dt,fi[6]=Rt,o=1}else o=0}o&&(o=function(e,r){for(e.M=0;e.M<e.Va;++e.M){var s,o=e.Jc[e.M&e.Xb],l=e.m,c=e;for(s=0;s<c.za;++s){var d=l,u=c,h=u.Ac,f=u.Bc+4*s,p=u.zc,m=u.ya[u.aa+s];if(u.Qa.Bb?m.$b=C(d,u.Pa.jb[0])?2+C(d,u.Pa.jb[2]):C(d,u.Pa.jb[1]):m.$b=0,u.kc&&(m.Ad=C(d,u.Bd)),m.Za=!C(d,145)+0,m.Za){var g=m.Ob,x=0;for(u=0;4>u;++u){var y,v=p[0+u];for(y=0;4>y;++y){v=li[h[f+y]][v];for(var b=si[C(d,v[0])];0<b;)b=si[2*b+C(d,v[b])];v=-b,h[f+y]=v}n(g,x,h,f,4),x+=4,p[0+u]=v}}else v=C(d,156)?C(d,128)?1:3:C(d,163)?2:0,m.Ob[0]=v,i(h,f,v,4),i(p,0,v,4);m.Dd=C(d,142)?C(d,114)?C(d,183)?1:3:2:0}if(c.m.Ka)return Ye(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=o,d=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],s=l.ya[l.aa+l.ja],f=l.kc?s.Ad:0)d.la=h.la=0,s.Za||(d.Na=h.Na=0),s.Hc=0,s.Gc=0,s.ia=0;else{var w,j;if(d=h,h=c,f=l.Pa.Xc,p=l.ya[l.aa+l.ja],m=l.pb[p.$b],u=p.ad,g=0,x=l.rb[l.sb-1],v=y=0,i(u,g,0,384),p.Za)var N=0,_=f[3];else{b=a(16);var k=d.Na+x.Na;if(k=ni(h,f[1],k,m.Eb,0,b,0),d.Na=x.Na=(0<k)+0,1<k)an(b,0,u,g);else{var S=b[0]+3>>3;for(b=0;256>b;b+=16)u[g+b]=S}N=1,_=f[0]}var A=15&d.la,E=15&x.la;for(b=0;4>b;++b){var P=1&E;for(S=j=0;4>S;++S)A=A>>1|(P=(k=ni(h,_,k=P+(1&A),m.Sc,N,u,g))>N)<<7,j=j<<2|(3<k?3:1<k?2:0!=u[g+0]),g+=16;A>>=4,E=E>>1|P<<7,y=(y<<8|j)>>>0}for(_=A,N=E>>4,w=0;4>w;w+=2){for(j=0,A=d.la>>4+w,E=x.la>>4+w,b=0;2>b;++b){for(P=1&E,S=0;2>S;++S)k=P+(1&A),A=A>>1|(P=0<(k=ni(h,f[2],k,m.Qc,0,u,g)))<<3,j=j<<2|(3<k?3:1<k?2:0!=u[g+0]),g+=16;A>>=2,E=E>>1|P<<5}v|=j<<4*w,_|=A<<4<<w,N|=(240&E)<<w}d.la=_,x.la=N,p.Hc=y,p.Gc=v,p.ia=43690&v?0:m.ia,f=!(y|v)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[s.$b][s.Za],l.wa[l.Y+l.ja].La|=!f),c.Ka)return Ye(e,7,"Premature end-of-file encountered.")}if(Ze(e),l=r,c=1,s=(o=e).D,d=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)e:{if(s.M=o.M,s.uc=d,Ir(o,s),c=1,s=(j=o.D).Nb,d=(v=Bi[o.L])*o.R,h=v/2*o.B,b=16*s*o.R,S=8*s*o.B,f=o.sa,p=o.ta-d+b,m=o.qa,u=o.ra-h+S,g=o.Ha,x=o.Ia-h+S,E=0==(A=j.M),y=A>=o.Va-1,2==o.Aa&&Ir(o,j),j.uc)for(P=(k=o).D.M,t(k.D.uc),j=k.yb;j<k.Hb;++j){N=j,_=P;var T=(O=(U=k).D).Nb;w=U.R;var O=O.wa[O.Y+N],I=U.sa,L=U.ta+16*T*w+16*N,D=O.dd,M=O.tc;if(0!=M)if(t(3<=M),1==U.L)0<N&&bn(I,L,w,M+4),O.La&&jn(I,L,w,M),0<_&&vn(I,L,w,M+4),O.La&&wn(I,L,w,M);else{var R=U.B,F=U.qa,B=U.ra+8*T*R+8*N,z=U.Ha,U=U.Ia+8*T*R+8*N;T=O.ld,0<N&&(hn(I,L,w,M+4,D,T),pn(F,B,z,U,R,M+4,D,T)),O.La&&(gn(I,L,w,M,D,T),yn(F,B,z,U,R,M,D,T)),0<_&&(un(I,L,w,M+4,D,T),fn(F,B,z,U,R,M+4,D,T)),O.La&&(mn(I,L,w,M,D,T),xn(F,B,z,U,R,M,D,T))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(j=16*A,A=16*(A+1),E?(l.y=o.sa,l.O=o.ta+b,l.f=o.qa,l.N=o.ra+S,l.ea=o.Ha,l.W=o.Ia+S):(j-=v,l.y=f,l.O=p,l.f=m,l.N=u,l.ea=g,l.W=x),y||(A-=v),A>l.o&&(A=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&j<A&&(l.J=ur(o,l,j,A-j),l.F=o.mb,null==l.F&&0==l.F.length)){c=Ye(o,3,"Could not decode alpha data.");break e}j<l.j&&(v=l.j-j,j=l.j,t(!(1&v)),l.O+=o.R*v,l.N+=o.B*(v>>1),l.W+=o.B*(v>>1),null!=l.F&&(l.J+=l.width*v)),j<A&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=j-l.j,l.U=l.va-l.v,l.T=A-j,c=l.put(l))}s+1!=o.Ic||y||(n(o.sa,o.ta-d,f,p+16*o.R,d),n(o.qa,o.ra-h,m,u+8*o.B,h),n(o.Ha,o.Ia-h,g,x+8*o.B,h))}if(!c)return Ye(e,6,"Output aborted.")}return 1}(e,r)),null!=r.bc&&r.bc(r),o&=1}return o?(e.cb=0,o):0}function et(e,t,r,n,i){i=e[t+r+32*n]+(i>>3),e[t+r+32*n]=-256&i?0>i?0:255:i}function tt(e,t,r,n,i,a){et(e,t,0,r,n+i),et(e,t,1,r,n+a),et(e,t,2,r,n-a),et(e,t,3,r,n-i)}function rt(e){return(20091*e>>16)+e}function nt(e,t,r,n){var i,s=0,o=a(16);for(i=0;4>i;++i){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-rt(e[t+12]),u=rt(e[t+4])+(35468*e[t+12]>>16);o[s+0]=l+u,o[s+1]=c+d,o[s+2]=c-d,o[s+3]=l-u,s+=4,t++}for(i=s=0;4>i;++i)l=(e=o[s+0]+4)+o[s+8],c=e-o[s+8],d=(35468*o[s+4]>>16)-rt(o[s+12]),et(r,n,0,0,l+(u=rt(o[s+4])+(35468*o[s+12]>>16))),et(r,n,1,0,c+d),et(r,n,2,0,c-d),et(r,n,3,0,l-u),s++,n+=32}function it(e,t,r,n){var i=e[t+0]+4,a=35468*e[t+4]>>16,s=rt(e[t+4]),o=35468*e[t+1]>>16;tt(r,n,0,i+s,e=rt(e[t+1]),o),tt(r,n,1,i+a,e,o),tt(r,n,2,i-a,e,o),tt(r,n,3,i-s,e,o)}function at(e,t,r,n,i){nt(e,t,r,n),i&&nt(e,t+16,r,n+4)}function st(e,t,r,n){sn(e,t+0,r,n,1),sn(e,t+32,r,n+128,1)}function ot(e,t,r,n){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)et(r,n,t,i,e)}function lt(e,t,r,n){e[t+0]&&cn(e,t+0,r,n),e[t+16]&&cn(e,t+16,r,n+4),e[t+32]&&cn(e,t+32,r,n+128),e[t+48]&&cn(e,t+48,r,n+128+4)}function ct(e,t,r,n){var i,s=a(16);for(i=0;4>i;++i){var o=e[t+0+i]+e[t+12+i],l=e[t+4+i]+e[t+8+i],c=e[t+4+i]-e[t+8+i],d=e[t+0+i]-e[t+12+i];s[0+i]=o+l,s[8+i]=o-l,s[4+i]=d+c,s[12+i]=d-c}for(i=0;4>i;++i)o=(e=s[0+4*i]+3)+s[3+4*i],l=s[1+4*i]+s[2+4*i],c=s[1+4*i]-s[2+4*i],d=e-s[3+4*i],r[n+0]=o+l>>3,r[n+16]=d+c>>3,r[n+32]=o-l>>3,r[n+48]=d-c>>3,n+=64}function dt(e,t,r){var n,i=t-32,a=Ln,s=255-e[i-1];for(n=0;n<r;++n){var o,l=a,c=s+e[t-1];for(o=0;o<r;++o)e[t+o]=l[c+e[i+o]];t+=32}}function ut(e,t){dt(e,t,4)}function ht(e,t){dt(e,t,8)}function ft(e,t){dt(e,t,16)}function pt(e,t){var r;for(r=0;16>r;++r)n(e,t+32*r,e,t-32,16)}function mt(e,t){var r;for(r=16;0<r;--r)i(e,t,e[t-1],16),t+=32}function gt(e,t,r){var n;for(n=0;16>n;++n)i(t,r+32*n,e,16)}function xt(e,t){var r,n=16;for(r=0;16>r;++r)n+=e[t-1+32*r]+e[t+r-32];gt(n>>5,e,t)}function yt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t-1+32*r];gt(n>>4,e,t)}function vt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t+r-32];gt(n>>4,e,t)}function bt(e,t){gt(128,e,t)}function wt(e,t,r){return e+2*t+r+2>>2}function jt(e,t){var r,i=t-32;for(i=new Uint8Array([wt(e[i-1],e[i+0],e[i+1]),wt(e[i+0],e[i+1],e[i+2]),wt(e[i+1],e[i+2],e[i+3]),wt(e[i+2],e[i+3],e[i+4])]),r=0;4>r;++r)n(e,t+32*r,i,0,i.length)}function Nt(e,t){var r=e[t-1],n=e[t-1+32],i=e[t-1+64],a=e[t-1+96];E(e,t+0,16843009*wt(e[t-1-32],r,n)),E(e,t+32,16843009*wt(r,n,i)),E(e,t+64,16843009*wt(n,i,a)),E(e,t+96,16843009*wt(i,a,a))}function _t(e,t){var r,n=4;for(r=0;4>r;++r)n+=e[t+r-32]+e[t-1+32*r];for(n>>=3,r=0;4>r;++r)i(e,t+32*r,n,4)}function kt(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],a=e[t-1-32],s=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=wt(n,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=wt(r,n,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=wt(a,r,n),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=wt(s,a,r),e[t+3+64]=e[t+2+32]=e[t+1+0]=wt(o,s,a),e[t+3+32]=e[t+2+0]=wt(l,o,s),e[t+3+0]=wt(c,l,o)}function St(e,t){var r=e[t+1-32],n=e[t+2-32],i=e[t+3-32],a=e[t+4-32],s=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=wt(e[t+0-32],r,n),e[t+1+0]=e[t+0+32]=wt(r,n,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=wt(n,i,a),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=wt(i,a,s),e[t+3+32]=e[t+2+64]=e[t+1+96]=wt(a,s,o),e[t+3+64]=e[t+2+96]=wt(s,o,l),e[t+3+96]=wt(o,l,l)}function At(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],a=e[t-1-32],s=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=a+s+1>>1,e[t+1+0]=e[t+2+64]=s+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=wt(i,n,r),e[t+0+64]=wt(n,r,a),e[t+0+32]=e[t+1+96]=wt(r,a,s),e[t+1+32]=e[t+2+96]=wt(a,s,o),e[t+2+32]=e[t+3+96]=wt(s,o,l),e[t+3+32]=wt(o,l,c)}function Ct(e,t){var r=e[t+0-32],n=e[t+1-32],i=e[t+2-32],a=e[t+3-32],s=e[t+4-32],o=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=r+n+1>>1,e[t+1+0]=e[t+0+64]=n+i+1>>1,e[t+2+0]=e[t+1+64]=i+a+1>>1,e[t+3+0]=e[t+2+64]=a+s+1>>1,e[t+0+32]=wt(r,n,i),e[t+1+32]=e[t+0+96]=wt(n,i,a),e[t+2+32]=e[t+1+96]=wt(i,a,s),e[t+3+32]=e[t+2+96]=wt(a,s,o),e[t+3+64]=wt(s,o,l),e[t+3+96]=wt(o,l,c)}function Et(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],a=e[t-1+96];e[t+0+0]=r+n+1>>1,e[t+2+0]=e[t+0+32]=n+i+1>>1,e[t+2+32]=e[t+0+64]=i+a+1>>1,e[t+1+0]=wt(r,n,i),e[t+3+0]=e[t+1+32]=wt(n,i,a),e[t+3+32]=e[t+1+64]=wt(i,a,a),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=a}function Pt(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],a=e[t-1+96],s=e[t-1-32],o=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=r+s+1>>1,e[t+0+32]=e[t+2+64]=n+r+1>>1,e[t+0+64]=e[t+2+96]=i+n+1>>1,e[t+0+96]=a+i+1>>1,e[t+3+0]=wt(o,l,c),e[t+2+0]=wt(s,o,l),e[t+1+0]=e[t+3+32]=wt(r,s,o),e[t+1+32]=e[t+3+64]=wt(n,r,s),e[t+1+64]=e[t+3+96]=wt(i,n,r),e[t+1+96]=wt(a,i,n)}function Tt(e,t){var r;for(r=0;8>r;++r)n(e,t+32*r,e,t-32,8)}function Ot(e,t){var r;for(r=0;8>r;++r)i(e,t,e[t-1],8),t+=32}function It(e,t,r){var n;for(n=0;8>n;++n)i(t,r+32*n,e,8)}function Lt(e,t){var r,n=8;for(r=0;8>r;++r)n+=e[t+r-32]+e[t-1+32*r];It(n>>4,e,t)}function Dt(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t+r-32];It(n>>3,e,t)}function Mt(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t-1+32*r];It(n>>3,e,t)}function Rt(e,t){It(128,e,t)}function Ft(e,t,r){var n=e[t-r],i=e[t+0],a=3*(i-n)+On[1020+e[t-2*r]-e[t+r]],s=In[112+(a+4>>3)];e[t-r]=Ln[255+n+In[112+(a+3>>3)]],e[t+0]=Ln[255+i-s]}function Bt(e,t,r,n){var i=e[t+0],a=e[t+r];return Dn[255+e[t-2*r]-e[t-r]]>n||Dn[255+a-i]>n}function zt(e,t,r,n){return 4*Dn[255+e[t-r]-e[t+0]]+Dn[255+e[t-2*r]-e[t+r]]<=n}function Ut(e,t,r,n,i){var a=e[t-3*r],s=e[t-2*r],o=e[t-r],l=e[t+0],c=e[t+r],d=e[t+2*r],u=e[t+3*r];return 4*Dn[255+o-l]+Dn[255+s-c]>n?0:Dn[255+e[t-4*r]-a]<=i&&Dn[255+a-s]<=i&&Dn[255+s-o]<=i&&Dn[255+u-d]<=i&&Dn[255+d-c]<=i&&Dn[255+c-l]<=i}function qt(e,t,r,n){var i=2*n+1;for(n=0;16>n;++n)zt(e,t+n,r,i)&&Ft(e,t+n,r)}function Wt(e,t,r,n){var i=2*n+1;for(n=0;16>n;++n)zt(e,t+n*r,1,i)&&Ft(e,t+n*r,1)}function Ht(e,t,r,n){var i;for(i=3;0<i;--i)qt(e,t+=4*r,r,n)}function Vt(e,t,r,n){var i;for(i=3;0<i;--i)Wt(e,t+=4,r,n)}function Gt(e,t,r,n,i,a,s,o){for(a=2*a+1;0<i--;){if(Ut(e,t,r,a,s))if(Bt(e,t,r,o))Ft(e,t,r);else{var l=e,c=t,d=r,u=l[c-2*d],h=l[c-d],f=l[c+0],p=l[c+d],m=l[c+2*d],g=27*(y=On[1020+3*(f-h)+On[1020+u-p]])+63>>7,x=18*y+63>>7,y=9*y+63>>7;l[c-3*d]=Ln[255+l[c-3*d]+y],l[c-2*d]=Ln[255+u+x],l[c-d]=Ln[255+h+g],l[c+0]=Ln[255+f-g],l[c+d]=Ln[255+p-x],l[c+2*d]=Ln[255+m-y]}t+=n}}function Kt(e,t,r,n,i,a,s,o){for(a=2*a+1;0<i--;){if(Ut(e,t,r,a,s))if(Bt(e,t,r,o))Ft(e,t,r);else{var l=e,c=t,d=r,u=l[c-d],h=l[c+0],f=l[c+d],p=In[112+(4+(m=3*(h-u))>>3)],m=In[112+(m+3>>3)],g=p+1>>1;l[c-2*d]=Ln[255+l[c-2*d]+g],l[c-d]=Ln[255+u+m],l[c+0]=Ln[255+h-p],l[c+d]=Ln[255+f-g]}t+=n}}function Yt(e,t,r,n,i,a){Gt(e,t,r,1,16,n,i,a)}function Xt(e,t,r,n,i,a){Gt(e,t,1,r,16,n,i,a)}function Qt(e,t,r,n,i,a){var s;for(s=3;0<s;--s)Kt(e,t+=4*r,r,1,16,n,i,a)}function $t(e,t,r,n,i,a){var s;for(s=3;0<s;--s)Kt(e,t+=4,1,r,16,n,i,a)}function Zt(e,t,r,n,i,a,s,o){Gt(e,t,i,1,8,a,s,o),Gt(r,n,i,1,8,a,s,o)}function Jt(e,t,r,n,i,a,s,o){Gt(e,t,1,i,8,a,s,o),Gt(r,n,1,i,8,a,s,o)}function er(e,t,r,n,i,a,s,o){Kt(e,t+4*i,i,1,8,a,s,o),Kt(r,n+4*i,i,1,8,a,s,o)}function tr(e,t,r,n,i,a,s,o){Kt(e,t+4,1,i,8,a,s,o),Kt(r,n+4,1,i,8,a,s,o)}function rr(){this.ba=new se,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ir(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ar(){this.ua=0,this.Wa=new D,this.vb=new D,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new u}function sr(){this.xb=this.a=0,this.l=new Ge,this.ca=new se,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ar,this.ab=0,this.gc=s(4,ir),this.Oc=0}function or(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ge,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function lr(e,t,r,n,i,a,s){for(e=null==e?0:e[t+0],t=0;t<s;++t)i[a+t]=e+r[n+t]&255,e=i[a+t]}function cr(e,t,r,n,i,a,s){var o;if(null==e)lr(null,null,r,n,i,a,s);else for(o=0;o<s;++o)i[a+o]=e[t+o]+r[n+o]&255}function dr(e,t,r,n,i,a,s){if(null==e)lr(null,null,r,n,i,a,s);else{var o,l=e[t+0],c=l,d=l;for(o=0;o<s;++o)c=d+(l=e[t+o])-c,d=r[n+o]+(-256&c?0>c?0:255:c)&255,c=l,i[a+o]=d}}function ur(e,r,i,s){var o=r.width,l=r.o;if(t(null!=e&&null!=r),0>i||0>=s||i+s>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new or,(c=null==e.ga)||(c=r.width*r.o,t(0==e.Gb.length),e.Gb=a(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var d=e.Fa,u=e.P,h=e.qc,f=e.mb,p=e.nb,m=u+1,g=h-1,y=c.l;if(t(null!=d&&null!=f&&null!=r),gi[0]=null,gi[1]=lr,gi[2]=cr,gi[3]=dr,c.ca=f,c.tb=p,c.c=r.width,c.i=r.height,t(0<c.c&&0<c.i),1>=h)r=0;else if(c.$a=3&d[u+0],c.Z=d[u+0]>>2&3,c.Lc=d[u+0]>>4&3,u=d[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)r=0;else if(y.put=fe,y.ac=he,y.bc=pe,y.ma=c,y.width=r.width,y.height=r.height,y.Da=r.Da,y.v=r.v,y.va=r.va,y.j=r.j,y.o=r.o,c.$a)e:{t(1==c.$a),r=Ce();t:for(;;){if(null==r){r=0;break e}if(t(null!=c),c.mc=r,r.c=c.c,r.i=c.i,r.l=c.l,r.l.ma=c,r.l.width=c.c,r.l.height=c.i,r.a=0,x(r.m,d,m,g),!Ee(c.c,c.i,1,r,null))break t;if(1==r.ab&&3==r.gc[0].hc&&Ne(r.s)?(c.ic=1,d=r.c*r.i,r.Ta=null,r.Ua=0,r.V=a(d),r.Ba=0,null==r.V?(r.a=1,r=0):r=1):(c.ic=0,r=Pe(r,c.c)),!r)break t;r=1;break e}c.mc=null,r=0}else r=g>=c.c*c.i;c=!r}if(c)return null;1!=e.ga.Lc?e.Ga=0:s=l-i}t(null!=e.ga),t(i+s<=l);e:{if(r=(d=e.ga).c,l=d.l.o,0==d.$a){if(m=e.rc,g=e.Vc,y=e.Fa,u=e.P+1+i*r,h=e.mb,f=e.nb+i*r,t(u<=e.P+e.qc),0!=d.Z)for(t(null!=gi[d.Z]),c=0;c<s;++c)gi[d.Z](m,g,y,u,h,f,r),m=h,g=f,f+=r,u+=r;else for(c=0;c<s;++c)n(h,f,y,u,r),m=h,g=f,f+=r,u+=r;e.rc=m,e.Vc=g}else{if(t(null!=d.mc),r=i+s,t(null!=(c=d.mc)),t(r<=c.i),c.C>=r)r=1;else if(d.ic||gr(),d.ic){d=c.V,m=c.Ba,g=c.c;var v=c.i,b=(y=1,u=c.$/g,h=c.$%g,f=c.m,p=c.s,c.$),w=g*v,j=g*r,_=p.wc,S=b<j?be(p,h,u):null;t(b<=w),t(r<=v),t(Ne(p));t:for(;;){for(;!f.h&&b<j;){if(h&_||(S=be(p,h,u)),t(null!=S),k(f),256>(v=ye(S.G[0],S.H[0],f)))d[m+b]=v,++b,++h>=g&&(h=0,++u<=r&&!(u%16)&&ke(c,u));else{if(!(280>v)){y=0;break t}v=ge(v-256,f);var A,C=ye(S.G[4],S.H[4],f);if(k(f),!(b>=(C=xe(g,C=ge(C,f)))&&w-b>=v)){y=0;break t}for(A=0;A<v;++A)d[m+b+A]=d[m+b+A-C];for(b+=v,h+=v;h>=g;)h-=g,++u<=r&&!(u%16)&&ke(c,u);b<j&&h&_&&(S=be(p,h,u))}t(f.h==N(f))}ke(c,u>r?r:u);break t}!y||f.h&&b<w?(y=0,c.a=f.h?5:3):c.$=b,r=y}else r=Se(c,c.V,c.Ba,c.c,c.i,r,Te);if(!r){s=0;break e}}i+s>=l&&(e.Cc=1),s=1}if(!s)return null;if(e.Cc&&(null!=(s=e.ga)&&(s.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*o}function hr(e,t,r,n,i,a){for(;0<i--;){var s,o=e,l=t+(r?1:0),c=e,d=t+(r?0:3);for(s=0;s<n;++s){var u=c[d+4*s];255!=u&&(u*=32897,o[l+4*s+0]=o[l+4*s+0]*u>>23,o[l+4*s+1]=o[l+4*s+1]*u>>23,o[l+4*s+2]=o[l+4*s+2]*u>>23)}t+=a}}function fr(e,t,r,n,i){for(;0<n--;){var a;for(a=0;a<r;++a){var s=e[t+2*a+0],o=15&(c=e[t+2*a+1]),l=4369*o,c=(240&c|c>>4)*l>>16;e[t+2*a+0]=(240&s|s>>4)*l>>16&240|(15&s|s<<4)*l>>16>>4&15,e[t+2*a+1]=240&c|o}t+=i}}function pr(e,t,r,n,i,a,s,o){var l,c,d=255;for(c=0;c<i;++c){for(l=0;l<n;++l){var u=e[t+l];a[s+4*l]=u,d&=u}t+=r,s+=o}return 255!=d}function mr(e,t,r,n,i){var a;for(a=0;a<i;++a)r[n+a]=e[t+a]>>8}function gr(){Nn=hr,_n=fr,kn=pr,Sn=mr}function xr(r,n,i){e[r]=function(e,r,a,s,o,l,c,d,u,h,f,p,m,g,x,y,v){var b,w=v-1>>1,j=o[l+0]|c[d+0]<<16,N=u[h+0]|f[p+0]<<16;t(null!=e);var _=3*j+N+131074>>2;for(n(e[r+0],255&_,_>>16,m,g),null!=a&&(_=3*N+j+131074>>2,n(a[s+0],255&_,_>>16,x,y)),b=1;b<=w;++b){var k=o[l+b]|c[d+b]<<16,S=u[h+b]|f[p+b]<<16,A=j+k+N+S+524296,C=A+2*(k+N)>>3;_=C+j>>1,j=(A=A+2*(j+S)>>3)+k>>1,n(e[r+2*b-1],255&_,_>>16,m,g+(2*b-1)*i),n(e[r+2*b-0],255&j,j>>16,m,g+(2*b-0)*i),null!=a&&(_=A+N>>1,j=C+S>>1,n(a[s+2*b-1],255&_,_>>16,x,y+(2*b-1)*i),n(a[s+2*b+0],255&j,j>>16,x,y+(2*b+0)*i)),j=k,N=S}1&v||(_=3*j+N+131074>>2,n(e[r+v-1],255&_,_>>16,m,g+(v-1)*i),null!=a&&(_=3*N+j+131074>>2,n(a[s+v-1],255&_,_>>16,x,y+(v-1)*i)))}}function yr(){xi[Mn]=yi,xi[Rn]=bi,xi[Fn]=vi,xi[Bn]=wi,xi[zn]=ji,xi[Un]=Ni,xi[qn]=_i,xi[Wn]=bi,xi[Hn]=wi,xi[Vn]=ji,xi[Gn]=Ni}function vr(e){return e&~Pi?0>e?0:255:e>>Ei}function br(e,t){return vr((19077*e>>8)+(26149*t>>8)-14234)}function wr(e,t,r){return vr((19077*e>>8)-(6419*t>>8)-(13320*r>>8)+8708)}function jr(e,t){return vr((19077*e>>8)+(33050*t>>8)-17685)}function Nr(e,t,r,n,i){n[i+0]=br(e,r),n[i+1]=wr(e,t,r),n[i+2]=jr(e,t)}function _r(e,t,r,n,i){n[i+0]=jr(e,t),n[i+1]=wr(e,t,r),n[i+2]=br(e,r)}function kr(e,t,r,n,i){var a=wr(e,t,r);t=a<<3&224|jr(e,t)>>3,n[i+0]=248&br(e,r)|a>>5,n[i+1]=t}function Sr(e,t,r,n,i){var a=240&jr(e,t)|15;n[i+0]=240&br(e,r)|wr(e,t,r)>>4,n[i+1]=a}function Ar(e,t,r,n,i){n[i+0]=255,Nr(e,t,r,n,i+1)}function Cr(e,t,r,n,i){_r(e,t,r,n,i),n[i+3]=255}function Er(e,t,r,n,i){Nr(e,t,r,n,i),n[i+3]=255}function Ve(e,t){return 0>e?0:e>t?t:e}function Pr(t,r,n){e[t]=function(e,t,i,a,s,o,l,c,d){for(var u=c+(-2&d)*n;c!=u;)r(e[t+0],i[a+0],s[o+0],l,c),r(e[t+1],i[a+0],s[o+0],l,c+n),t+=2,++a,++o,c+=2*n;1&d&&r(e[t+0],i[a+0],s[o+0],l,c)}}function Tr(e,t,r){return 0==r?0==e?0==t?6:5:0==t?4:0:r}function Or(e,t,r,n,i){switch(e>>>30){case 3:sn(t,r,n,i,0);break;case 2:on(t,r,n,i);break;case 1:cn(t,r,n,i)}}function Ir(e,t){var r,a,s=t.M,o=t.Nb,l=e.oc,c=e.pc+40,d=e.oc,u=e.pc+584,h=e.oc,f=e.pc+600;for(r=0;16>r;++r)l[c+32*r-1]=129;for(r=0;8>r;++r)d[u+32*r-1]=129,h[f+32*r-1]=129;for(0<s?l[c-1-32]=d[u-1-32]=h[f-1-32]=129:(i(l,c-32-1,127,21),i(d,u-32-1,127,9),i(h,f-32-1,127,9)),a=0;a<e.za;++a){var p=t.ya[t.aa+a];if(0<a){for(r=-1;16>r;++r)n(l,c+32*r-4,l,c+32*r+12,4);for(r=-1;8>r;++r)n(d,u+32*r-4,d,u+32*r+4,4),n(h,f+32*r-4,h,f+32*r+4,4)}var m=e.Gd,g=e.Hd+a,x=p.ad,y=p.Hc;if(0<s&&(n(l,c-32,m[g].y,0,16),n(d,u-32,m[g].f,0,8),n(h,f-32,m[g].ea,0,8)),p.Za){var v=l,b=c-32+16;for(0<s&&(a>=e.za-1?i(v,b,m[g].y[15],4):n(v,b,m[g+1].y,0,4)),r=0;4>r;r++)v[b+128+r]=v[b+256+r]=v[b+384+r]=v[b+0+r];for(r=0;16>r;++r,y<<=2)v=l,b=c+Fi[r],hi[p.Ob[r]](v,b),Or(y,x,16*+r,v,b)}else if(v=Tr(a,s,p.Ob[0]),ui[v](l,c),0!=y)for(r=0;16>r;++r,y<<=2)Or(y,x,16*+r,l,c+Fi[r]);for(r=p.Gc,v=Tr(a,s,p.Dd),fi[v](d,u),fi[v](h,f),y=x,v=d,b=u,255&(p=r|0)&&(170&p?ln(y,256,v,b):dn(y,256,v,b)),p=h,y=f,255&(r>>=8)&&(170&r?ln(x,320,p,y):dn(x,320,p,y)),s<e.Ub-1&&(n(m[g].y,0,l,c+480,16),n(m[g].f,0,d,u+224,8),n(m[g].ea,0,h,f+224,8)),r=8*o*e.B,m=e.sa,g=e.ta+16*a+16*o*e.R,x=e.qa,p=e.ra+8*a+r,y=e.Ha,v=e.Ia+8*a+r,r=0;16>r;++r)n(m,g+r*e.R,l,c+32*r,16);for(r=0;8>r;++r)n(x,p+r*e.B,d,u+32*r,8),n(y,v+r*e.B,h,f+32*r,8)}}function Lr(e,n,i,a,s,o,l,c,d){var u=[0],h=[0],f=0,p=null!=d?d.kd:0,m=null!=d?d:new nr;if(null==e||12>i)return 7;m.data=e,m.w=n,m.ha=i,n=[n],i=[i],m.gb=[m.gb];e:{var g=n,y=i,v=m.gb;if(t(null!=e),t(null!=y),t(null!=v),v[0]=0,12<=y[0]&&!r(e,g[0],"RIFF")){if(r(e,g[0]+8,"WEBP")){v=3;break e}var b=O(e,g[0]+4);if(12>b||4294967286<b){v=3;break e}if(p&&b>y[0]-8){v=7;break e}v[0]=b,g[0]+=12,y[0]-=12}v=0}if(0!=v)return v;for(b=0<m.gb[0],i=i[0];;){e:{var j=e;y=n,v=i;var N=u,_=h,k=g=[0];if((C=f=[f])[0]=0,8>v[0])v=7;else{if(!r(j,y[0],"VP8X")){if(10!=O(j,y[0]+4)){v=3;break e}if(18>v[0]){v=7;break e}var S=O(j,y[0]+8),A=1+T(j,y[0]+12);if(2147483648<=A*(j=1+T(j,y[0]+15))){v=3;break e}null!=k&&(k[0]=S),null!=N&&(N[0]=A),null!=_&&(_[0]=j),y[0]+=18,v[0]-=18,C[0]=1}v=0}}if(f=f[0],g=g[0],0!=v)return v;if(y=!!(2&g),!b&&f)return 3;if(null!=o&&(o[0]=!!(16&g)),null!=l&&(l[0]=y),null!=c&&(c[0]=0),l=u[0],g=h[0],f&&y&&null==d){v=0;break}if(4>i){v=7;break}if(b&&f||!b&&!f&&!r(e,n[0],"ALPH")){i=[i],m.na=[m.na],m.P=[m.P],m.Sa=[m.Sa];e:{S=e,v=n,b=i;var C=m.gb;N=m.na,_=m.P,k=m.Sa,A=22,t(null!=S),t(null!=b),j=v[0];var E=b[0];for(t(null!=N),t(null!=k),N[0]=null,_[0]=null,k[0]=0;;){if(v[0]=j,b[0]=E,8>E){v=7;break e}var P=O(S,j+4);if(4294967286<P){v=3;break e}var I=8+P+1&-2;if(A+=I,0<C&&A>C){v=3;break e}if(!r(S,j,"VP8 ")||!r(S,j,"VP8L")){v=0;break e}if(E[0]<I){v=7;break e}r(S,j,"ALPH")||(N[0]=S,_[0]=j+8,k[0]=P),j+=I,E-=I}}if(i=i[0],m.na=m.na[0],m.P=m.P[0],m.Sa=m.Sa[0],0!=v)break}i=[i],m.Ja=[m.Ja],m.xa=[m.xa];e:if(C=e,v=n,b=i,N=m.gb[0],_=m.Ja,k=m.xa,S=v[0],j=!r(C,S,"VP8 "),A=!r(C,S,"VP8L"),t(null!=C),t(null!=b),t(null!=_),t(null!=k),8>b[0])v=7;else{if(j||A){if(C=O(C,S+4),12<=N&&C>N-12){v=3;break e}if(p&&C>b[0]-8){v=7;break e}_[0]=C,v[0]+=8,b[0]-=8,k[0]=A}else k[0]=5<=b[0]&&47==C[S+0]&&!(C[S+4]>>5),_[0]=b[0];v=0}if(i=i[0],m.Ja=m.Ja[0],m.xa=m.xa[0],n=n[0],0!=v)break;if(4294967286<m.Ja)return 3;if(null==c||y||(c[0]=m.xa?2:1),l=[l],g=[g],m.xa){if(5>i){v=7;break}c=l,p=g,y=o,null==e||5>i?e=0:5<=i&&47==e[n+0]&&!(e[n+4]>>5)?(b=[0],C=[0],N=[0],x(_=new w,e,n,i),me(_,b,C,N)?(null!=c&&(c[0]=b[0]),null!=p&&(p[0]=C[0]),null!=y&&(y[0]=N[0]),e=1):e=0):e=0}else{if(10>i){v=7;break}c=g,null==e||10>i||!Xe(e,n+3,i-3)?e=0:(p=e[n+0]|e[n+1]<<8|e[n+2]<<16,y=16383&(e[n+7]<<8|e[n+6]),e=16383&(e[n+9]<<8|e[n+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=m.Ja||!y||!e?e=0:(l&&(l[0]=y),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],f&&(u[0]!=l||h[0]!=g))return 3;null!=d&&(d[0]=m,d.offset=n-d.w,t(4294967286>n-d.w),t(d.offset==d.ha-i));break}return 0==v||7==v&&f&&null==d?(null!=o&&(o[0]|=null!=m.na&&0<m.na.length),null!=a&&(a[0]=l),null!=s&&(s[0]=g),0):v}function Dr(e,t,r){var n=t.width,i=t.height,a=0,s=0,o=n,l=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,a=e.v,s=e.j,11>r||(a&=-2,s&=-2),0>a||0>s||0>=o||0>=l||a+o>n||s+l>i))return 0;if(t.v=a,t.j=s,t.va=a+o,t.o=s+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!M(o,l,r=[e.ib],a=[e.hb]))return 0;t.ib=r[0],t.hb=a[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*n/4&&t.hb<3*i/4,t.Kb=0),1}function Mr(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Rr(e,t,r,n){if(null==n||0>=e||0>=t)return 2;if(null!=r){if(r.Da){var i=r.cd,s=r.bd,o=-2&r.v,l=-2&r.j;if(0>o||0>l||0>=i||0>=s||o+i>e||l+s>t)return 2;e=i,t=s}if(r.da){if(!M(e,t,i=[r.ib],s=[r.hb]))return 2;e=i[0],t=s[0]}}n.width=e,n.height=t;e:{var c=n.width,d=n.height;if(e=n.S,0>=c||0>=d||!(e>=Mn&&13>e))e=2;else{if(0>=n.Rd&&null==n.sd){o=s=i=t=0;var u=(l=c*qi[e])*d;if(11>e||(s=(d+1)/2*(t=(c+1)/2),12==e&&(o=(i=c)*d)),null==(d=a(u+2*s+o))){e=1;break e}n.sd=d,11>e?((c=n.f.RGBA).eb=d,c.fb=0,c.A=l,c.size=u):((c=n.f.kb).y=d,c.O=0,c.fa=l,c.Fd=u,c.f=d,c.N=0+u,c.Ab=t,c.Cd=s,c.ea=d,c.W=0+u+s,c.Db=t,c.Ed=s,12==e&&(c.F=d,c.J=0+u+2*s),c.Tc=o,c.lb=i)}if(t=1,i=n.S,s=n.width,o=n.height,i>=Mn&&13>i)if(11>i)e=n.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+s<=e.size,t&=l>=s*qi[i],t&=null!=e.eb;else{e=n.f.kb,l=(s+1)/2,u=(o+1)/2,c=Math.abs(e.fa),d=Math.abs(e.Ab);var h=Math.abs(e.Db),f=Math.abs(e.lb),p=f*(o-1)+s;t&=c*(o-1)+s<=e.Fd,t&=d*(u-1)+l<=e.Cd,t=(t&=h*(u-1)+l<=e.Ed)&c>=s&d>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=f>=s,t&=p<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=r&&r.fd&&(e=Mr(n)),e}var Fr=64,Br=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zr=24,Ur=32,qr=8,Wr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];B("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,r){return t[r+0]},e.Predictor3=function(e,t,r){return t[r+1]},e.Predictor4=function(e,t,r){return t[r-1]},e.Predictor5=function(e,t,r){return U(U(e,t[r+1]),t[r+0])},e.Predictor6=function(e,t,r){return U(e,t[r-1])},e.Predictor7=function(e,t,r){return U(e,t[r+0])},e.Predictor8=function(e,t,r){return U(t[r-1],t[r+0])},e.Predictor9=function(e,t,r){return U(t[r+0],t[r+1])},e.Predictor10=function(e,t,r){return U(U(e,t[r-1]),U(t[r+0],t[r+1]))},e.Predictor11=function(e,t,r){var n=t[r+0];return 0>=H(n>>24&255,e>>24&255,(t=t[r-1])>>24&255)+H(n>>16&255,e>>16&255,t>>16&255)+H(n>>8&255,e>>8&255,t>>8&255)+H(255&n,255&e,255&t)?n:e},e.Predictor12=function(e,t,r){var n=t[r+0];return(q((e>>24&255)+(n>>24&255)-((t=t[r-1])>>24&255))<<24|q((e>>16&255)+(n>>16&255)-(t>>16&255))<<16|q((e>>8&255)+(n>>8&255)-(t>>8&255))<<8|q((255&e)+(255&n)-(255&t)))>>>0},e.Predictor13=function(e,t,r){var n=t[r-1];return(W((e=U(e,t[r+0]))>>24&255,n>>24&255)<<24|W(e>>16&255,n>>16&255)<<16|W(e>>8&255,n>>8&255)<<8|W(255&e,255&n))>>>0};var Hr=e.PredictorAdd0;e.PredictorAdd1=V,B("Predictor2","PredictorAdd2"),B("Predictor3","PredictorAdd3"),B("Predictor4","PredictorAdd4"),B("Predictor5","PredictorAdd5"),B("Predictor6","PredictorAdd6"),B("Predictor7","PredictorAdd7"),B("Predictor8","PredictorAdd8"),B("Predictor9","PredictorAdd9"),B("Predictor10","PredictorAdd10"),B("Predictor11","PredictorAdd11"),B("Predictor12","PredictorAdd12"),B("Predictor13","PredictorAdd13");var Vr=e.PredictorAdd2;X("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),X("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Gr,Kr=e.ColorIndexInverseTransform,Yr=e.MapARGB,Xr=e.VP8LColorIndexInverseTransformAlpha,Qr=e.MapAlpha,$r=e.VP8LPredictorsAdd=[];$r.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Zr,Jr,en,tn,rn,nn,an,sn,on,ln,cn,dn,un,hn,fn,pn,mn,gn,xn,yn,vn,bn,wn,jn,Nn,_n,kn,Sn,An=a(511),Cn=a(2041),En=a(225),Pn=a(767),Tn=0,On=Cn,In=En,Ln=Pn,Dn=An,Mn=0,Rn=1,Fn=2,Bn=3,zn=4,Un=5,qn=6,Wn=7,Hn=8,Vn=9,Gn=10,Kn=[2,3,7],Yn=[3,3,11],Xn=[280,256,256,256,40],Qn=[0,1,1,1,0],$n=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Jn=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ei=8,ti=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ri=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ni=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ai=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],si=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],li=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ci=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],di=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ui=[],hi=[],fi=[],pi=1,mi=2,gi=[],xi=[];xr("UpsampleRgbLinePair",Nr,3),xr("UpsampleBgrLinePair",_r,3),xr("UpsampleRgbaLinePair",Er,4),xr("UpsampleBgraLinePair",Cr,4),xr("UpsampleArgbLinePair",Ar,4),xr("UpsampleRgba4444LinePair",Sr,2),xr("UpsampleRgb565LinePair",kr,2);var yi=e.UpsampleRgbLinePair,vi=e.UpsampleBgrLinePair,bi=e.UpsampleRgbaLinePair,wi=e.UpsampleBgraLinePair,ji=e.UpsampleArgbLinePair,Ni=e.UpsampleRgba4444LinePair,_i=e.UpsampleRgb565LinePair,ki=16,Si=1<<ki-1,Ai=-227,Ci=482,Ei=6,Pi=(256<<Ei)-1,Ti=0,Oi=a(256),Ii=a(256),Li=a(256),Di=a(256),Mi=a(Ci-Ai),Ri=a(Ci-Ai);Pr("YuvToRgbRow",Nr,3),Pr("YuvToBgrRow",_r,3),Pr("YuvToRgbaRow",Er,4),Pr("YuvToBgraRow",Cr,4),Pr("YuvToArgbRow",Ar,4),Pr("YuvToRgba4444Row",Sr,2),Pr("YuvToRgb565Row",kr,2);var Fi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bi=[0,2,8],zi=[8,7,6,4,4,2,2,2,1,1,1,1],Ui=1;this.WebPDecodeRGBA=function(e,r,n,i,a){var s=Rn,o=new rr,l=new se;o.ba=l,l.S=s,l.width=[l.width],l.height=[l.height];var c=l.width,d=l.height,u=new oe;if(null==u||null==e)var h=2;else t(null!=u),h=Lr(e,r,n,u.width,u.height,u.Pd,u.Qd,u.format,null);if(0!=h?c=0:(null!=c&&(c[0]=u.width[0]),null!=d&&(d[0]=u.height[0]),c=1),c){l.width=l.width[0],l.height=l.height[0],null!=i&&(i[0]=l.width),null!=a&&(a[0]=l.height);e:{if(i=new Ge,(a=new nr).data=e,a.w=r,a.ha=n,a.kd=1,r=[0],t(null!=a),(0==(e=Lr(a.data,a.w,a.ha,null,null,null,r,null,a))||7==e)&&r[0]&&(e=4),0==(r=e)){if(t(null!=o),i.data=a.data,i.w=a.w+a.offset,i.ha=a.ha-a.offset,i.put=fe,i.ac=he,i.bc=pe,i.ma=o,a.xa){if(null==(e=Ce())){o=1;break e}if(function(e,r){var n=[0],i=[0],a=[0];t:for(;;){if(null==e)return 0;if(null==r)return e.a=2,0;if(e.l=r,e.a=0,x(e.m,r.data,r.w,r.ha),!me(e.m,n,i,a)){e.a=3;break t}if(e.xb=mi,r.width=n[0],r.height=i[0],!Ee(n[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,i)){if(i=0==(r=Rr(i.width,i.height,o.Oa,o.ba))){t:{i=e;r:for(;;){if(null==i){i=0;break t}if(t(null!=i.s.yc),t(null!=i.s.Ya),t(0<i.s.Wb),t(null!=(n=i.l)),t(null!=(a=n.ma)),0!=i.xb){if(i.ca=a.ba,i.tb=a.tb,t(null!=i.ca),!Dr(a.Oa,n,Bn)){i.a=2;break r}if(!Pe(i,n.width))break r;if(n.da)break r;if((n.da||ne(i.ca.S))&&gr(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&gr()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!I(i.s.vb,i.s.Wa.Xa)){i.a=1;break r}i.xb=0}if(!Se(i,i.V,i.Ba,i.c,i.i,n.o,je))break r;a.Dc=i.Ma,i=1;break t}t(0!=i.a),i=0}i=!i}i&&(r=e.a)}else r=e.a}else{if(null==(e=new Ke)){o=1;break e}if(e.Fa=a.na,e.P=a.P,e.qc=a.Sa,Qe(e,i)){if(0==(r=Rr(i.width,i.height,o.Oa,o.ba))){if(e.Aa=0,n=o.Oa,t(null!=(a=e)),null!=n){if(0<(c=0>(c=n.Md)?0:100<c?255:255*c/100)){for(d=u=0;4>d;++d)12>(h=a.pb[d]).lc&&(h.ia=c*zi[0>h.lc?0:h.lc]>>3),u|=h.ia;u&&(alert("todo:VP8InitRandom"),a.ia=1)}a.Ga=n.Id,100<a.Ga?a.Ga=100:0>a.Ga&&(a.Ga=0)}Je(e,i)||(r=e.a)}}else r=e.a}0==r&&null!=o.Oa&&o.Oa.fd&&(r=Mr(o.ba))}o=r}s=0!=o?null:11>s?l.f.RGBA.eb:l.f.kb.y}else s=null;return s};var qi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var r="",n=0;n<4;n++)r+=String.fromCharCode(e[t++]);return r}function d(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var h=[0],f=[0],p=[],m=new l,g=e,x=function(e,t){var r={},n=0,i=!1,a=0,s=0;if(r.frames=[],!function(e,t){for(var r=0;r<4;r++)if(e[t+r]!="RIFF".charCodeAt(r))return!0;return!1}(e,t)){var o,l;for(u(e,t+=4),t+=8;t<e.length;){var h=c(e,t),f=u(e,t+=4);t+=4;var p=f+(1&f);switch(h){case"VP8 ":case"VP8L":void 0===r.frames[n]&&(r.frames[n]={}),(x=r.frames[n]).src_off=i?s:t-8,x.src_size=a+f+8,n++,i&&(i=!1,a=0,s=0);break;case"VP8X":(x=r.header={}).feature_flags=e[t];var m=t+4;x.canvas_width=1+d(e,m),m+=3,x.canvas_height=1+d(e,m),m+=3;break;case"ALPH":i=!0,a=p+8,s=t-8;break;case"ANIM":(x=r.header).bgcolor=u(e,t),m=t+4,x.loop_count=(o=e)[(l=m)+0]|o[l+1]<<8,m+=2;break;case"ANMF":var g,x;(x=r.frames[n]={}).offset_x=2*d(e,t),t+=3,x.offset_y=2*d(e,t),t+=3,x.width=1+d(e,t),t+=3,x.height=1+d(e,t),t+=3,x.duration=d(e,t),t+=3,g=e[t++],x.dispose=1&g,x.blend=g>>1&1}"ANMF"!=h&&(t+=p)}return r}}(g,0);x.response=g,x.rgbaoutput=!0,x.dataurl=!1;var y=x.header?x.header:null,v=x.frames?x.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],f=[y.canvas_width];for(var b=0;b<v.length&&0!=v[b].blend;b++);}var w=v[0],j=m.WebPDecodeRGBA(g,w.src_off,w.src_size,f,h);w.rgba=j,w.imgwidth=f[0],w.imgheight=h[0];for(var N=0;N<f[0]*h[0]*4;N++)p[N]=j[N];return this.width=f,this.height=h,this.data=p,this}!function(e){var t=function(t,n,l,c){var d=4,u=a;switch(c){case e.image_compression.FAST:d=1,u=i;break;case e.image_compression.MEDIUM:d=6,u=s;break;case e.image_compression.SLOW:d=9,u=o}var h=$(t=r(t,n,l,u),{level:d});return e.__addimage__.arrayBufferToBinaryString(h)},r=function(e,t,r,n){for(var i,a,s,o=e.length/t,l=new Uint8Array(e.length+o),u=c(),h=0;h<o;h+=1){if(s=h*t,i=e.subarray(s,s+t),n)l.set(n(i,r,a),s+h);else{for(var f,p=u.length,m=[];f<p;f+=1)m[f]=u[f](i,r,a);var g=d(m.concat());l.set(m[g],s+h)}a=i}return l},n=function(e){var t=Array.apply([],e);return t.unshift(0),t},i=function(e,t){var r,n=[],i=e.length;n[0]=1;for(var a=0;a<i;a+=1)r=e[a-t]||0,n[a+1]=e[a]-r+256&255;return n},a=function(e,t,r){var n,i=[],a=e.length;i[0]=2;for(var s=0;s<a;s+=1)n=r&&r[s]||0,i[s+1]=e[s]-n+256&255;return i},s=function(e,t,r){var n,i,a=[],s=e.length;a[0]=3;for(var o=0;o<s;o+=1)n=e[o-t]||0,i=r&&r[o]||0,a[o+1]=e[o]+256-(n+i>>>1)&255;return a},o=function(e,t,r){var n,i,a,s,o=[],c=e.length;o[0]=4;for(var d=0;d<c;d+=1)n=e[d-t]||0,i=r&&r[d]||0,a=r&&r[d-t]||0,s=l(n,i,a),o[d+1]=e[d]-s+256&255;return o},l=function(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r},c=function(){return[n,i,a,s,o]},d=function(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(r,n,i,a){var s,o,l,c,d,u,h,f,p,m,g,x,y,v,b,w=this.decode.FLATE_DECODE,j="";if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){if(r=(l=new Gt(r)).imgData,o=l.bits,s=l.colorSpace,d=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){p=(f=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,g=new Uint8Array(p*l.colors),m=new Uint8Array(p);var N,_=l.pixelBitlength-l.bits;for(v=0,b=0;v<p;v++){for(y=f[v],N=0;N<_;)g[b++]=y>>>N&255,N+=l.bits;m[v]=y>>>N&255}}if(16===l.bits){p=(f=new Uint32Array(l.decodePixels().buffer)).length,g=new Uint8Array(p*(32/l.pixelBitlength)*l.colors),m=new Uint8Array(p*(32/l.pixelBitlength)),x=l.colors>1,v=0,b=0;for(var k=0;v<p;)y=f[v++],g[b++]=y>>>0&255,x&&(g[b++]=y>>>16&255,y=f[v++],g[b++]=y>>>0&255),m[k++]=y>>>16&255;o=8}a!==e.image_compression.NONE?(r=t(g,l.width*l.colors,l.colors,a),h=t(m,l.width,1,a)):(r=g,h=m,w=void 0)}if(3===l.colorType&&(s=this.color_spaces.INDEXED,u=l.palette,l.transparency.indexed)){var S=l.transparency.indexed,A=0;for(v=0,p=S.length;v<p;++v)A+=S[v];if((A/=255)===p-1&&-1!==S.indexOf(0))c=[S.indexOf(0)];else if(A!==p){for(f=l.decodePixels(),m=new Uint8Array(f.length),v=0,p=f.length;v<p;v++)m[v]=S[f[v]];h=t(m,l.width,1)}}var C=function(t){var r;switch(t){case e.image_compression.FAST:r=11;break;case e.image_compression.MEDIUM:r=13;break;case e.image_compression.SLOW:r=14;break;default:r=12}return r}(a);return w===this.decode.FLATE_DECODE&&(j="/Predictor "+C+" "),j+="/Colors "+d+" /BitsPerComponent "+o+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:i,data:r,index:n,filter:w,decodeParameters:j,transparency:c,palette:u,sMask:h,predictor:C,width:l.width,height:l.height,bitsPerComponent:o,colorSpace:s}}}}(Ie.API),function(e){e.processGIF89A=function(t,r,n,i){var a=new Kt(t),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},d=new Xt(100).encode(c,100);return e.processJPEG.call(this,d,r,n,i)},e.processGIF87A=e.processGIF89A}(Ie.API),Qt.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qt.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){re.log("bit decode error:"+e)}},Qt.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}0!==r&&(this.pos+=4-r)}},Qt.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}0!==t&&(this.pos+=4-t)}},Qt.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}0!==e&&(this.pos+=4-e)}},Qt.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,c=a>>15?255:0,d=n*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=c}this.pos+=e}},Qt.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,d=i*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Qt.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Qt.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},Qt.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new Qt(t,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Xt(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(Ie.API),$t.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new $t(t,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Xt(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(Ie.API),Ie.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var d=n[c],u=n[c+1],h=n[c+2],f=n[c+3];a[o++]=d,a[o++]=u,a[o++]=h,s[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:p,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ie.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ut=Ie.API,qt=Ut.getCharWidthsArray=function(e,t){var r,i,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=!1!==t.doKerning,f=0,p=e.length,m=0,g=l[0]||c,x=[];for(r=0;r<p;r++)i=e.charCodeAt(r),"function"==typeof a.metadata.widthOfString?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(f=h&&"object"===(0,n.A)(d[i])&&!isNaN(parseInt(d[i][m],10))?d[i][m]/u:0,x.push((l[i]||g)/c+f)),m=i;return x},Wt=Ut.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Ut.processArabic&&(e=Ut.processArabic(e)),"function"==typeof n.metadata.widthOfString?n.metadata.widthOfString(e,r,i)/r:qt.apply(this,arguments).reduce(function(e,t){return e+t},0)},Ht=function(e,t,r,n){for(var i=[],a=0,s=e.length,o=0;a!==s&&o+t[a]<r;)o+=t[a],a++;i.push(e.slice(0,a));var l=a;for(o=0;a!==s;)o+t[a]>n&&(i.push(e.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&i.push(e.slice(l,a)),i},Vt=function(e,t,r){r||(r={});var n,i,a,s,o,l,c,d=[],u=[d],h=r.textIndent||0,f=0,p=0,m=e.split(" "),g=qt.apply(this,[" ",r])[0];if(l=-1===r.lineIndent?m[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),y=[];m.map(function(e){(e=e.split(/\s*\n/)).length>1?y=y.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):y.push(e[0])}),m=y,l=Wt.apply(this,[x,r])}for(a=0,s=m.length;a<s;a++){var v=0;if(n=m[a],l&&"\n"==n[0]&&(n=n.substr(1),v=1),h+f+(p=(i=qt.apply(this,[n,r])).reduce(function(e,t){return e+t},0))>t||v){if(p>t){for(o=Ht.apply(this,[n,i,t-(h+f),t]),d.push(o.shift()),d=[o.pop()];o.length;)u.push([o.shift()]);p=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(e,t){return e+t},0)}else d=[n];u.push(d),h=p+l,f=g}else d.push(n),h+=f+p,f=g}return c=l?function(e,t){return(t?x:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},Ut.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(Vt.apply(this,[n[o],s,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[t[a]]="0123456789abcdef"[a],i["0123456789abcdef"[a]]=t[a];var s=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,r,a,l,c=["{"];for(var d in e){if(t=e[d],isNaN(parseInt(d,10))?r="'"+d+"'":(d=parseInt(d,10),r=(r=s(d).slice(2)).slice(0,-1)+i[r.slice(-1)]),"number"==typeof t)t<0?(a=s(t).slice(3),l="-"):(a=s(t).slice(2),l=""),a=l+a.slice(0,-1)+i[a.slice(-1)];else{if("object"!==(0,n.A)(t))throw new Error("Don't know what to do with value type "+(0,n.A)(t)+".");a=o(t)}c.push(r+a)}return c.push("}"),c.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,i,a,s={},o=1,l=s,c=[],d="",u="",h=e.length-1,f=1;f<h;f+=1)"'"==(a=e[f])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(a):"{"==a?(c.push([l,i]),l={},i=void 0):"}"==a?((n=c.pop())[0][n[1]]=l,i=void 0,l=n[0]):"-"==a?o=-1:void 0===i?r.hasOwnProperty(a)?(d+=r[a],i=parseInt(d,16)*o,o=1,d=""):d+=a:r.hasOwnProperty(a)?(u+=r[a],l[i]=parseInt(u,16)*o,o=1,i=void 0,u=""):u+=a;return s},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,r=u.Unicode[t.postScriptName];r&&(t.metadata.Unicode={},t.metadata.Unicode.widths=r.widths,t.metadata.Unicode.kerning=r.kerning);var n=d.Unicode[t.postScriptName];n&&(t.metadata.Unicode.encoding=n,t.encoding=n.codePages[0])}])}(Ie.API),function(e){var t=function(e){for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(void 0===a)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(n=!1===a.existsFileInVFS(i.postScriptName)?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(r,n){n=/^\x00\x01\x00\x00/.test(n)?t(n):t(se(n)),r.metadata=e.API.TTFFont.open(n),r.metadata.Unicode=r.metadata.Unicode||{encoding:{},kerning:{},widths:[]},r.metadata.glyIdsUsed=[0]}(i,n)}}])}(Ie),function(){function e(){return(ee.canvg?Promise.resolve(ee.canvg):r.e(455).then(r.bind(r,8455))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Ie.API.addSvgAsImage=function(t,r,n,i,a,s,o,l){if(isNaN(r)||isNaN(n))throw re.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw re.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=a;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(e){return e.fromString(d,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),r,n,i,a,o,l)})}}(),Ie.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},Ie.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var i,a,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function f(e,t){var r,n=!1;for(r=0;r<e.length;r+=1)e[r]===t&&(n=!0);return n}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var p=l.length;for(h=0;h<p;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if("object"===(0,n.A)(e))for(a in e)if(s=e[a],f(l,a)&&void 0!==s){if("boolean"===r[a].type&&"boolean"==typeof s)r[a].value=s;else if("name"===r[a].type&&f(r[a].valueSet,s))r[a].value=s;else if("integer"===r[a].type&&Number.isInteger(s))r[a].value=s;else if("array"===r[a].type){for(d=0;d<s.length;d+=1)if(i=!0,1===s[d].length&&"number"==typeof s[d][0])c.push(String(s[d]-1));else if(s[d].length>1){for(u=0;u<s[d].length;u+=1)"number"!=typeof s[d][u]&&(i=!1);!0===i&&c.push([s[d][0]-1,s[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in r)!0===r[e].explicitSet&&("name"===r[e].type?t.push("/"+e+" /"+r[e].value):t.push("/"+e+" "+r[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(e)),n=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),s=r.length+n.length+i.length+t.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(t+r+n+i+a),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,n){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Ie.API),function(e){var t=e.API,r=t.pdfEscape16=function(e,t){for(var r,n=t.metadata.Unicode.widths,i=["","0","00","000","0000"],a=[""],s=0,o=e.length;s<o;++s){if(r=t.metadata.characterToGlyph(e.charCodeAt(s)),t.metadata.glyIdsUsed.push(r),t.metadata.toUnicode[r]=e.charCodeAt(s),-1==n.indexOf(r)&&(n.push(r),n.push([parseInt(t.metadata.widthOfGlyph(r),10)])),"0"==r)return a.join("");r=r.toString(16),a.push(i[4-r.length],r)}return a.join("")},n=function(e){var t,r,n,i,a,s,o;for(a="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",n=[],s=0,o=(r=Object.keys(e).sort(function(e,t){return e-t})).length;s<o;s++)t=r[s],n.length>=100&&(a+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar",n=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),n.push("<"+t+"><"+i+">"));return n.length&&(a+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar\n"),a+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var r=t.font,i=t.out,a=t.newObject,s=t.putStream;if(r.metadata instanceof e.API.TTFFont&&"Identity-H"===r.encoding){for(var o=r.metadata.Unicode.widths,l=r.metadata.subset.encode(r.metadata.glyIdsUsed,1),c="",d=0;d<l.length;d++)c+=String.fromCharCode(l[d]);var u=a();s({data:c,addLength1:!0,objectId:u}),i("endobj");var h=a();s({data:n(r.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var f=a();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+Ae(r.fontName)),i("/FontFile2 "+u+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(r.metadata.bbox)),i("/Flags "+r.metadata.flags),i("/StemV "+r.metadata.stemV),i("/ItalicAngle "+r.metadata.italicAngle),i("/Ascent "+r.metadata.ascender),i("/Descent "+r.metadata.decender),i("/CapHeight "+r.metadata.capHeight),i(">>"),i("endobj");var p=a();i("<<"),i("/Type /Font"),i("/BaseFont /"+Ae(r.fontName)),i("/FontDescriptor "+f+" 0 R"),i("/W "+e.API.PDFObject.convert(o)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+r.encoding+")"),i(">>"),i(">>"),i("endobj"),r.objectNumber=a(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+h+" 0 R"),i("/BaseFont /"+Ae(r.fontName)),i("/Encoding /"+r.encoding),i("/DescendantFonts ["+p+" 0 R]"),i(">>"),i("endobj"),r.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var r=t.font,i=t.out,a=t.newObject,s=t.putStream;if(r.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===r.encoding){for(var o=r.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var d=a();s({data:l,addLength1:!0,objectId:d}),i("endobj");var u=a();s({data:n(r.metadata.toUnicode),addLength1:!0,objectId:u}),i("endobj");var h=a();i("<<"),i("/Descent "+r.metadata.decender),i("/CapHeight "+r.metadata.capHeight),i("/StemV "+r.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+d+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(r.metadata.bbox)),i("/FontName /"+Ae(r.fontName)),i("/ItalicAngle "+r.metadata.italicAngle),i("/Ascent "+r.metadata.ascender),i(">>"),i("endobj"),r.objectNumber=a();for(var f=0;f<r.metadata.hmtx.widths.length;f++)r.metadata.hmtx.widths[f]=parseInt(r.metadata.hmtx.widths[f]*(1e3/r.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+Ae(r.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+r.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(r.metadata.hmtx.widths)+">>"),i("endobj"),r.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,n=e.text||"",i=e.x,a=e.y,s=e.options||{},o=e.mutex||{},l=o.pdfEscape,c=o.activeFontKey,d=o.fonts,u=c,h="",f=0,p="",m=d[u].encoding;if("Identity-H"!==d[u].encoding)return{text:n,x:i,y:a,options:s,mutex:o};for(p=n,u=c,Array.isArray(n)&&(p=n[0]),f=0;f<p.length;f+=1)d[u].metadata.hasOwnProperty("cmap")&&(t=d[u].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),t||p[f].charCodeAt(0)<256&&d[u].metadata.hasOwnProperty("Unicode")?h+=p[f]:h+="";var g="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===m?g=l(h,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===m&&(g=r(h,d[u])),o.isHex=!0,{text:g,x:i,y:a,options:s,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",r=[],n={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var a=0;for(a=0;a<t.length;a+=1)Array.isArray(t[a])&&3===t[a].length?r.push([i(Object.assign({},n,{text:t[a][0]})).text,t[a][1],t[a][2]]):r.push(i(Object.assign({},n,{text:t[a]})).text);e.text=r}else e.text=i(Object.assign({},n,{text:t})).text}])}(Ie),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(Ie.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var r,n,i,a,s,o,l,c=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,x=0;this.__bidiEngine__={};var y=function(e){var t=e.charCodeAt(),r=t>>8,n=f[r];return void 0!==n?c[256*n+(255&t)]:252===r||253===r?"AL":m.test(r)?"L":8===r?"R":"N"},v=function(e){for(var t,r=0;r<e.length;r++){if("L"===(t=y(e.charAt(r))))return!1;if("R"===t)return!0}return!1},b=function(e,t,s,o){var l,c,d,u,h=t[o];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=s[o-1])&&"AN"!==l||"EN"!==(c=t[o+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=o>0?s[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===s[o-1]){h="EN";break}if(g){h="N";break}for(d=o+1,u=t.length;d<u&&"ET"===t[d];)d++;h=d<u&&"EN"===t[d]?"EN":"N";break;case"NSM":if(i&&!a){for(u=t.length,d=o+1;d<u&&"NSM"===t[d];)d++;if(d<u){var f=e[o],p=f>=1425&&f<=2303||64286===f;if(l=t[d],p&&("R"===l||"AL"===l)){h="R";break}}}h=o<1||"B"===(l=t[o-1])?"N":s[o-1];break;case"B":g=!1,r=!0,h=x;break;case"S":n=!0,h="N"}return h},w=function(e,t,r){var n=e.split("");return r&&j(n,r,{hiLevel:x}),n.reverse(),t&&t.reverse(),n.join("")},j=function(e,t,i){var a,s,o,l,c,f=-1,p=e.length,m=0,v=[],w=x?u:d,j=[];for(g=!1,r=!1,n=!1,s=0;s<p;s++)j[s]=y(e[s]);for(o=0;o<p;o++){if(c=m,v[o]=b(e,j,v,o),a=240&(m=w[c][h[v[o]]]),m&=15,t[o]=l=w[m][5],a>0)if(16===a){for(s=f;s<o;s++)t[s]=1;f=-1}else f=-1;if(w[m][6])-1===f&&(f=o);else if(f>-1){for(s=f;s<o;s++)t[s]=l;f=-1}"B"===j[o]&&(t[o]=0),i.hiLevel|=l}n&&function(e,t,r){for(var n=0;n<r;n++)if("S"===e[n]){t[n]=x;for(var i=n-1;i>=0&&"WS"===e[i];i--)t[i]=x}}(j,t,p)},N=function(e,t,n,i,a){if(!(a.hiLevel<e)){if(1===e&&1===x&&!r)return t.reverse(),void(n&&n.reverse());for(var s,o,l,c,d=t.length,u=0;u<d;){if(i[u]>=e){for(l=u+1;l<d&&i[l]>=e;)l++;for(c=u,o=l-1;c<o;c++,o--)s=t[c],t[c]=t[o],t[o]=s,n&&(s=n[c],n[c]=n[o],n[o]=s);u=l}u++}}},_=function(e,t,r){var n=e.split(""),i={hiLevel:x};return r||(r=[]),j(n,r,i),function(e,t,r){if(0!==r.hiLevel&&l)for(var n,i=0;i<e.length;i++)1===t[i]&&(n=p.indexOf(e[i]))>=0&&(e[i]=p[n+1])}(n,r,i),N(2,n,t,r,i),N(1,n,t,r,i),n.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,r){if(function(e,t){if(t)for(var r=0;r<e.length;r++)t[r]=r;void 0===a&&(a=v(e)),void 0===o&&(o=v(e))}(e,t),i||!s||o)if(i&&s&&a^o)x=a?1:0,e=w(e,t,r);else if(!i&&s&&o)x=a?1:0,e=_(e,t,r),e=w(e,t);else if(!i||a||s||o){if(i&&!s&&a^o)e=w(e,t),a?(x=0,e=_(e,t,r)):(x=1,e=_(e,t,r),e=w(e,t));else if(i&&a&&!s&&o)x=1,e=_(e,t,r),e=w(e,t);else if(!i&&!s&&a^o){var n=l;a?(x=1,e=_(e,t,r),x=0,l=!1,e=_(e,t,r),l=n):(x=0,e=_(e,t,r),e=w(e,t),x=1,l=!1,e=_(e,t,r),l=n,e=w(e,t))}}else x=0,e=_(e,t,r);else x=a?1:0,e=_(e,t,r);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,s=e.isOutputVisual,a=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,n=(e.x,e.y,e.options||{}),i=(e.mutex,n.lang,[]);if(n.isInputVisual="boolean"!=typeof n.isInputVisual||n.isInputVisual,r.setOptions(n),"[object Array]"===Object.prototype.toString.call(t)){var a=0;for(i=[],a=0;a<t.length;a+=1)"[object Array]"===Object.prototype.toString.call(t[a])?i.push([r.doBidiReorder(t[a][0]),t[a][1],t[a][2]]):i.push([r.doBidiReorder(t[a])]);e.text=i}else e.text=r.doBidiReorder(t);r.setOptions({isInputVisual:!0})}])}(Ie),Ie.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new Jt(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new yr(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new er(this.contents),this.head=new nr(this),this.name=new dr(this),this.cmap=new ar(this),this.toUnicode={},this.hhea=new sr(this),this.maxp=new ur(this),this.hmtx=new hr(this),this.post=new lr(this),this.os2=new or(this),this.loca=new xr(this),this.glyf=new pr(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,r,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,r,n,i;for(i=[],t=0,r=(n=this.bbox).length;t<r;t++)e=n[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(r=255&(n=this.post.italic_angle),0!=(32768&(t=n>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,r){var n,i,a,s;for(a=0,i=0,s=(e=""+e).length;0<=s?i<s:i>s;i=0<=s?++i:--i)n=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(n))+r*(1e3/t)||0;return a*(t/1e3)},e.prototype.lineHeight=function(e,t){var r;return null==t&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},e}();var Zt,Jt=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(e){var t,r,n;for(n=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)n.push(this.writeByte(e.charCodeAt(t)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,r,n,i,a,s,o;return e=this.readByte(),t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^n)+16777216*(255^i)+65536*(255^a)+256*(255^s)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*n+16777216*i+65536*a+256*s+o},e.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(e){var t,r,n,i;for(i=[],r=0,n=e.length;r<n;r++)t=e[r],i.push(this.writeByte(t));return i},e}(),er=function(){var e;function t(e){var t,r,n;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,n=this.tableCount;0<=n?r<n:r>n;r=0<=n?++r:--r)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var r,n,i,a,s,o,l,c,d,u,h,f,p;for(p in h=Object.keys(t).length,o=Math.log(2),d=16*Math.floor(Math.log(h)/o),a=Math.floor(d/o),c=16*h-d,(n=new Jt).writeInt(this.scalarType),n.writeShort(h),n.writeShort(d),n.writeShort(a),n.writeShort(c),i=16*h,l=n.pos+i,s=null,f=[],t)for(u=t[p],n.writeString(p),n.writeInt(e(u)),n.writeInt(l),n.writeInt(u.length),f=f.concat(u),"head"===p&&(s=l),l+=u.length;l%4;)f.push(0),l++;return n.write(f),r=2981146554-e(n.data),n.pos=s+8,n.writeUInt32(r),n.data},e=function(e){var t,r,n,i;for(e=fr.call(e);e.length%4;)e.push(0);for(n=new Jt(e),r=0,t=0,i=e.length;t<i;t=t+=4)r+=n.readUInt32();return 4294967295&r},t}(),tr={}.hasOwnProperty,rr=function(e,t){for(var r in t)tr.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Zt=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var nr=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rr(e,Zt),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new Jt).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),ir=function(){function e(e,t){var r,n,i,a,s,o,l,c,d,u,h,f,p,m,g,x,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(h=e.readUInt16(),u=h/2,e.pos+=6,i=function(){var t,r;for(r=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)r.push(e.readUInt16());return r}(),e.pos+=2,p=function(){var t,r;for(r=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)r.push(e.readUInt16());return r}(),l=function(){var t,r;for(r=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)r.push(e.readUInt16());return r}(),c=function(){var t,r;for(r=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)r.push(e.readUInt16());return r}(),n=(this.length-e.pos+this.offset)/2,s=function(){var t,r;for(r=[],o=t=0;0<=n?t<n:t>n;o=0<=n?++t:--t)r.push(e.readUInt16());return r}(),o=g=0,y=i.length;g<y;o=++g)for(m=i[o],r=x=f=p[o];f<=m?x<=m:x>=m;r=f<=m?++x:--x)0===c[o]?a=r+l[o]:0!==(a=s[c[o]/2+(r-f)-(u-o)]||0)&&(a+=l[o]),this.codeMap[r]=65535&a}e.pos=d}return e.encode=function(e,t){var r,n,i,a,s,o,l,c,d,u,h,f,p,m,g,x,y,v,b,w,j,N,_,k,S,A,C,E,P,T,O,I,L,D,M,R,F,B,z,U,q,W,H,V,G,K;switch(E=new Jt,a=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(p=0,m=function(){var e=[];for(f=0;f<256;++f)e.push(0);return e}(),x={0:0},i={},P=0,L=a.length;P<L;P++)null==x[H=e[n=a[P]]]&&(x[H]=++p),i[n]={old:e[n],new:x[e[n]]},m[n]=x[e[n]];return E.writeUInt16(1),E.writeUInt16(0),E.writeUInt32(12),E.writeUInt16(0),E.writeUInt16(262),E.writeUInt16(0),E.write(m),{charMap:i,subtable:E.data,maxGlyphID:p+1};case"unicode":for(A=[],d=[],y=0,x={},r={},g=l=null,T=0,D=a.length;T<D;T++)null==x[b=e[n=a[T]]]&&(x[b]=++y),r[n]={old:b,new:x[b]},s=x[b]-n,null!=g&&s===l||(g&&d.push(g),A.push(n),l=s),g=n;for(g&&d.push(g),d.push(65535),A.push(65535),k=2*(_=A.length),N=2*Math.pow(Math.log(_)/Math.LN2,2),u=Math.log(N/2)/Math.LN2,j=2*_-N,o=[],w=[],h=[],f=O=0,M=A.length;O<M;f=++O){if(S=A[f],c=d[f],65535===S){o.push(0),w.push(0);break}if(S-(C=r[S].new)>=32768)for(o.push(0),w.push(2*(h.length+_-f)),n=I=S;S<=c?I<=c:I>=c;n=S<=c?++I:--I)h.push(r[n].new);else o.push(C-S),w.push(0)}for(E.writeUInt16(3),E.writeUInt16(1),E.writeUInt32(12),E.writeUInt16(4),E.writeUInt16(16+8*_+2*h.length),E.writeUInt16(0),E.writeUInt16(k),E.writeUInt16(N),E.writeUInt16(u),E.writeUInt16(j),q=0,R=d.length;q<R;q++)n=d[q],E.writeUInt16(n);for(E.writeUInt16(0),W=0,F=A.length;W<F;W++)n=A[W],E.writeUInt16(n);for(V=0,B=o.length;V<B;V++)s=o[V],E.writeUInt16(s);for(G=0,z=w.length;G<z;G++)v=w[G],E.writeUInt16(v);for(K=0,U=h.length;K<U;K++)p=h[K],E.writeUInt16(p);return{charMap:r,subtable:E.data,maxGlyphID:y+1}}},e}(),ar=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rr(e,Zt),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,r,n;for(e.pos=this.offset,this.version=e.readUInt16(),n=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t=new ir(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var r,n;return null==t&&(t="macroman"),r=ir.encode(e,t),(n=new Jt).writeUInt16(0),n.writeUInt16(1),r.table=n.data.concat(r.subtable),r},e}(),sr=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rr(e,Zt),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),or=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rr(e,Zt),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),lr=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rr(e,Zt),e.prototype.tag="post",e.prototype.parse=function(e){var t,r,n;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],n=[];e.pos<this.offset+this.length;)t=e.readByte(),n.push(this.names.push(e.readString(t)));return n;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var t,r,n;for(n=[],i=t=0,r=this.file.maxp.numGlyphs;0<=r?t<r:t>r;i=0<=r?++t:--t)n.push(e.readUInt32());return n}.call(this)}},e}(),cr=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},dr=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rr(e,Zt),e.prototype.tag="name",e.prototype.parse=function(e){var t,r,n,i,a,s,o,l,c,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),s=e.readShort(),r=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(o={},i=c=0,d=r.length;c<d;i=++c)n=r[i],e.pos=n.offset,l=e.readString(n.length),a=new cr(l,n),null==o[u=n.nameID]&&(o[u]=[]),o[n.nameID].push(a);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),ur=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rr(e,Zt),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),hr=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rr(e,Zt),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,r,n,i,a,s,o;for(e.pos=this.offset,this.metrics=[],t=0,s=this.file.hhea.numberOfMetrics;0<=s?t<s:t>s;t=0<=s?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var r,i;for(i=[],t=r=0;0<=n?r<n:r>n;t=0<=n?++r:--r)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,r,n;for(n=[],e=0,t=(r=this.metrics).length;e<t;e++)i=r[e],n.push(i.advance);return n}.call(this),r=this.widths[this.widths.length-1],o=[],t=a=0;0<=n?a<n:a>n;t=0<=n?++a:--a)o.push(this.widths.push(r));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),fr=[].slice,pr=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rr(e,Zt),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,r,n,i,a,s,o,l,c,d;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,r=i.indexOf(e),0===(n=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+r,a=(s=new Jt(t.read(n))).readShort(),l=s.readShort(),d=s.readShort(),o=s.readShort(),c=s.readShort(),this.cache[e]=-1===a?new gr(s,l,d,o,c):new mr(s,a,l,d,o,c),this.cache[e]))},e.prototype.encode=function(e,t,r){var n,i,a,s,o;for(a=[],i=[],s=0,o=t.length;s<o;s++)n=e[t[s]],i.push(a.length),n&&(a=a.concat(n.encode(r)));return i.push(a.length),{table:a,offsets:i}},e}(),mr=function(){function e(e,t,r,n,i,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),gr=function(){function e(e,t,r,n,i){var a,s;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;s=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&s;)a.pos+=1&s?4:2,128&s?a.pos+=8:64&s?a.pos+=4:8&s&&(a.pos+=2)}return e.prototype.encode=function(){var e,t,r;for(t=new Jt(fr.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),xr=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rr(e,Zt),e.prototype.tag="loca",e.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,n;for(n=[],r=0,t=this.length;r<t;r+=2)n.push(2*e.readUInt16());return n}.call(this):function(){var t,n;for(n=[],r=0,t=this.length;r<t;r+=4)n.push(e.readUInt32());return n}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),n=0,i=0,a=0;a<r.length;++a)if(r[a]=n,i<t.length&&t[i]==a){++i,r[a]=n;var s=this.offsets[a],o=this.offsets[a+1]-s;o>0&&(n+=o)}for(var l=new Array(4*r.length),c=0;c<r.length;++c)l[4*c+3]=255&r[c],l[4*c+2]=(65280&r[c])>>8,l[4*c+1]=(16711680&r[c])>>16,l[4*c]=(4278190080&r[c])>>24;return l},e}(),yr=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,r,n,i;for(t in n=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[t],e[t]=n[r];return e},e.prototype.glyphsFor=function(e){var t,r,n,i,a,s,o;for(n={},a=0,s=e.length;a<s;a++)n[i=e[a]]=this.font.glyf.glyphFor(i);for(i in t=[],n)(null!=(r=n[i])?r.compound:void 0)&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(i in o=this.glyphsFor(t))r=o[i],n[i]=r;return n},e.prototype.encode=function(e,t){var r,n,i,a,s,o,l,c,d,u,h,f,p,m,g;for(n in r=ar.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),h={0:0},g=r.charMap)h[(o=g[n]).old]=o.new;for(f in u=r.maxGlyphID,a)f in h||(h[f]=u++);return c=function(e){var t,r;for(t in r={},e)r[e[t]]=t;return r}(h),d=Object.keys(c).sort(function(e,t){return e-t}),p=function(){var e,t,r;for(r=[],e=0,t=d.length;e<t;e++)s=d[e],r.push(c[s]);return r}(),i=this.font.glyf.encode(a,p,h),l=this.font.loca.encode(i.offsets,p),m={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();Ie.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var e,i,a;for(a=[],e=0,i=r.length;e<i;e++)n=r[e],a.push(t.convert(n));return a}().join(" ")+"]";if("string"==typeof r)return"/"+r;if(null!=r?r.isString:void 0)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(r)){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join("\n")}return""+r},t}();const vr=Ie},7770:(e,t,r)=>{e.exports=r(9323).get},7820:(e,t,r)=>{e.exports=r(5414).throttle},7870:function(e,t){!function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},r=function(){function e(e,r,n){var i=this;this.endVal=r,this.options=n,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(e){i.startTime||(i.startTime=e);var t=e-i.startTime;i.remaining=i.duration-t,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(t,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(t,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(t/i.duration);var r=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=r?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),t<i.duration?i.rAF=requestAnimationFrame(i.count):null!==i.finalEndVal?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(e){var t,r,n,a,s=e<0?"-":"";t=Math.abs(e).toFixed(i.options.decimalPlaces);var o=(t+="").split(".");if(r=o[0],n=o.length>1?i.options.decimal+o[1]:"",i.options.useGrouping){a="";for(var l=3,c=0,d=0,u=r.length;d<u;++d)i.options.useIndianSeparators&&4===d&&(l=2,c=1),0!==d&&c%l==0&&(a=i.options.separator+a),c++,a=r[u-d-1]+a;r=a}return i.options.numerals&&i.options.numerals.length&&(r=r.replace(/[0-9]/g,function(e){return i.options.numerals[+e]}),n=n.replace(/[0-9]/g,function(e){return i.options.numerals[+e]})),s+i.options.prefix+r+n+i.options.suffix},this.easeOutExpo=function(e,t,r,n){return r*(1-Math.pow(2,-10*e/n))*1024/1023+t},this.options=t(t({},this.defaults),n),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el="string"==typeof e?document.getElementById(e):e,r=null==r?this.parse(this.el.innerHTML):r,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(r),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined","undefined"!=typeof window&&this.options.enableScrollSpy&&(this.error?console.error(this.error,e):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(e){return e()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(e){if(e&&window&&!e.once){var t=window.innerHeight+window.scrollY,r=e.el.getBoundingClientRect(),n=r.top+window.pageYOffset,i=r.top+r.height+window.pageYOffset;i<t&&i>window.scrollY&&e.paused?(e.paused=!1,setTimeout(function(){return e.start()},e.options.scrollSpyDelay),e.options.scrollSpyOnce&&(e.once=!0)):(window.scrollY>i||n>t)&&!e.paused&&e.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var t=e-this.startVal;if(Math.abs(t)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=e;var r=this.countDown?1:-1;this.endVal=e+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;null!==this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(e){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),e&&(this.options.onCompleteCallback=e),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,null==this.finalEndVal&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(e){var t;if(this.el){var r=this.formattingFn(e);(null===(t=this.options.plugin)||void 0===t?void 0:t.render)?this.options.plugin.render(this.el,r):"INPUT"===this.el.tagName?this.el.value=r:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(e){return"number"==typeof e&&!isNaN(e)},e.prototype.validateValue=function(e){var t=Number(e);return this.ensureNumber(t)?t:(this.error="[CountUp] invalid start or end value: ".concat(e),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e.prototype.parse=function(e){var t=function(e){return e.replace(/([.,'\xa0 ])/g,"\\$1")},r=t(this.options.separator),n=t(this.options.decimal),i=e.replace(new RegExp(r,"g"),"").replace(new RegExp(n,"g"),".");return parseFloat(i)},e}();e.CountUp=r}(t)},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},8210:function(e,t,r){var n;!function(){"use strict";var i,a=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",d=l+"Exponent out of range: ",u=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=u(1286742750677284.5),x={};function y(e,t){var r,n,i,a,s,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),o?C(t,h):t;if(c=e.d,d=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i){for(a<0?(n=c,a=-a,l=d.length):(n=d,i=s,l=c.length),a>(l=(s=Math.ceil(h/7))>l?s+1:l+1)&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for((l=c.length)-(a=d.length)<0&&(a=l,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/p|0,c[a]%=p;for(r&&(c.unshift(r),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,o?C(t,h):t}function v(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function b(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(a+=k(r)),a+=n;(r=7-(n=(s=e[t])+"").length)&&(a+=k(r))}else if(0===s)return"0";for(;s%10===0;)s/=10;return a+s}x.absoluteValue=x.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},x.comparedTo=x.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,r=(n=a.d.length)<(i=e.d.length)?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1},x.decimalPlaces=x.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},x.dividedBy=x.div=function(e){return w(this,new this.constructor(e))},x.dividedToIntegerBy=x.idiv=function(e){var t=this.constructor;return C(w(this,new t(e),0,1),t.precision)},x.equals=x.eq=function(e){return!this.cmp(e)},x.exponent=function(){return N(this)},x.greaterThan=x.gt=function(e){return this.cmp(e)>0},x.greaterThanOrEqualTo=x.gte=function(e){return this.cmp(e)>=0},x.isInteger=x.isint=function(){return this.e>this.d.length-2},x.isNegative=x.isneg=function(){return this.s<0},x.isPositive=x.ispos=function(){return this.s>0},x.isZero=function(){return 0===this.s},x.lessThan=x.lt=function(e){return this.cmp(e)<0},x.lessThanOrEqualTo=x.lte=function(e){return this.cmp(e)<1},x.logarithm=x.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(i))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(i)?new n(0):(o=!1,t=w(S(r,s),S(e,s),s),o=!0,C(t,a))},x.minus=x.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E(t,e):y(t,(e.s=-e.s,e))},x.modulo=x.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(o=!1,t=w(r,e,0,1).times(e),o=!0,r.minus(t)):C(new n(r),i)},x.naturalExponential=x.exp=function(){return j(this)},x.naturalLogarithm=x.ln=function(){return S(this)},x.negated=x.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},x.plus=x.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):E(t,(e.s=-e.s,e))},x.precision=x.sd=function(e){var t,r,n,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(i)+1,r=7*(n=i.d.length-1)+1,n=i.d[n]){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},x.squareRoot=x.sqrt=function(){var e,t,r,n,i,a,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(l+"NaN")}for(e=N(c),o=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),n=new d(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new d(i.toString()),i=s=(r=d.precision)+3;;)if(n=(a=n).plus(w(c,a,s+2)).times(.5),b(a.d).slice(0,s)===(t=b(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&"4999"==t){if(C(a,r+1,0),a.times(a).eq(c)){n=a;break}}else if("9999"!=t)break;s+=4}return o=!0,C(n,r)},x.times=x.mul=function(e){var t,r,n,i,a,s,l,c,d,u=this,h=u.constructor,f=u.d,m=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,r=u.e+e.e,(c=f.length)<(d=m.length)&&(a=f,f=m,m=a,s=c,c=d,d=s),a=[],n=s=c+d;n--;)a.push(0);for(n=d;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+m[n]*f[i-n-1]+t,a[i--]=l%p|0,t=l/p|0;a[i]=(a[i]+t)%p|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,o?C(e,h.precision):e},x.toDecimalPlaces=x.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(v(e,0,a),void 0===t?t=n.rounding:v(t,0,8),C(r,e+N(r)+1,t))},x.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=P(n,!0):(v(e,0,a),void 0===t?t=i.rounding:v(t,0,8),r=P(n=C(new i(n),e+1,t),!0,e+1)),r},x.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return void 0===e?P(i):(v(e,0,a),void 0===t?t=s.rounding:v(t,0,8),r=P((n=C(new s(i),e+N(i)+1,t)).abs(),!1,e+N(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)},x.toInteger=x.toint=function(){var e=this,t=e.constructor;return C(new t(e),N(e)+1,t.rounding)},x.toNumber=function(){return+this},x.toPower=x.pow=function(e){var t,r,n,a,s,c,d=this,h=d.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(d=new h(d)).s){if(e.s<1)throw Error(l+"Infinity");return d}if(d.eq(i))return d;if(n=h.precision,e.eq(i))return C(d,n);if(c=(t=e.e)>=(r=e.d.length-1),s=d.s,c){if((r=f<0?-f:f)<=m){for(a=new h(i),t=Math.ceil(n/7+4),o=!1;r%2&&T((a=a.times(d)).d,t),0!==(r=u(r/2));)T((d=d.times(d)).d,t);return o=!0,e.s<0?new h(i).div(a):C(a,n)}}else if(s<0)throw Error(l+"NaN");return s=s<0&&1&e.d[Math.max(t,r)]?-1:1,d.s=1,o=!1,a=e.times(S(d,n+12)),o=!0,(a=j(a)).s=s,a},x.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return void 0===e?n=P(i,(r=N(i))<=s.toExpNeg||r>=s.toExpPos):(v(e,1,a),void 0===t?t=s.rounding:v(t,0,8),n=P(i=C(new s(i),e,t),e<=(r=N(i))||r<=s.toExpNeg,e)),n},x.toSignificantDigits=x.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(v(e,1,a),void 0===t?t=r.rounding:v(t,0,8)),C(new r(this),e,t)},x.toString=x.valueOf=x.val=x.toJSON=function(){var e=this,t=N(e),r=e.constructor;return P(e,t<=r.toExpNeg||t>=r.toExpPos)};var w=function(){function e(e,t){var r,n=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+n,e[i]=r%p|0,n=r/p|0;return n&&e.unshift(n),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*p+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,s){var o,c,d,u,h,f,m,g,x,y,v,b,w,j,_,k,S,A,E=n.constructor,P=n.s==i.s?1:-1,T=n.d,O=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(l+"Division by zero");for(c=n.e-i.e,S=O.length,_=T.length,g=(m=new E(P)).d=[],d=0;O[d]==(T[d]||0);)++d;if(O[d]>(T[d]||0)&&--c,(b=null==a?a=E.precision:s?a+(N(n)-N(i))+1:a)<0)return new E(0);if(b=b/7+2|0,d=0,1==S)for(u=0,O=O[0],b++;(d<_||u)&&b--;d++)w=u*p+(T[d]||0),g[d]=w/O|0,u=w%O|0;else{for((u=p/(O[0]+1)|0)>1&&(O=e(O,u),T=e(T,u),S=O.length,_=T.length),j=S,y=(x=T.slice(0,S)).length;y<S;)x[y++]=0;(A=O.slice()).unshift(0),k=O[0],O[1]>=p/2&&++k;do{u=0,(o=t(O,x,S,y))<0?(v=x[0],S!=y&&(v=v*p+(x[1]||0)),(u=v/k|0)>1?(u>=p&&(u=p-1),1==(o=t(h=e(O,u),x,f=h.length,y=x.length))&&(u--,r(h,S<f?A:O,f))):(0==u&&(o=u=1),h=O.slice()),(f=h.length)<y&&h.unshift(0),r(x,h,y),-1==o&&(o=t(O,x,S,y=x.length))<1&&(u++,r(x,S<y?A:O,y)),y=x.length):0===o&&(u++,x=[0]),g[d++]=u,o&&x[0]?x[y++]=T[j]||0:(x=[T[j]],y=1)}while((j++<_||void 0!==x[0])&&b--)}return g[0]||g.shift(),m.e=c,C(m,s?a+N(m)+1:a)}}();function j(e,t){var r,n,a,s,l,c=0,u=0,f=e.constructor,p=f.precision;if(N(e)>16)throw Error(d+N(e));if(!e.s)return new f(i);for(null==t?(o=!1,l=p):l=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(l+=Math.log(h(2,u))/Math.LN10*2+5|0,r=n=a=new f(i),f.precision=l;;){if(n=C(n.times(e),l),r=r.times(++c),b((s=a.plus(w(n,r,l))).d).slice(0,l)===b(a.d).slice(0,l)){for(;u--;)a=C(a.times(a),l);return f.precision=p,null==t?(o=!0,C(a,p)):a}a=s}}function N(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function _(e,t,r){if(t>e.LN10.sd())throw o=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function S(e,t){var r,n,a,s,c,d,u,h,f,p=1,m=e,g=m.d,x=m.constructor,y=x.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new x(0);if(null==t?(o=!1,h=y):h=t,m.eq(10))return null==t&&(o=!0),_(x,h);if(h+=10,x.precision=h,n=(r=b(g)).charAt(0),s=N(m),!(Math.abs(s)<15e14))return u=_(x,h+2,y).times(s+""),m=S(new x(n+"."+r.slice(1)),h-10).plus(u),x.precision=y,null==t?(o=!0,C(m,y)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=b((m=m.times(e)).d)).charAt(0),p++;for(s=N(m),n>1?(m=new x("0."+r),s++):m=new x(n+"."+r.slice(1)),d=c=m=w(m.minus(i),m.plus(i),h),f=C(m.times(m),h),a=3;;){if(c=C(c.times(f),h),b((u=d.plus(w(c,new x(a),h))).d).slice(0,h)===b(d.d).slice(0,h))return d=d.times(2),0!==s&&(d=d.plus(_(x,h+2,y).times(s+""))),d=w(d,new x(p),h),x.precision=y,null==t?(o=!0,C(d,y)):d;d=u,a+=2}}function A(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(n,i)){if(i-=n,r=r-n-1,e.e=u(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(d+r)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,r){var n,i,a,s,l,c,f,m,x=e.d;for(s=1,a=x[0];a>=10;a/=10)s++;if((n=t-s)<0)n+=7,i=t,f=x[m=0];else{if((m=Math.ceil((n+1)/7))>=(a=x.length))return e;for(f=a=x[m],s=1;a>=10;a/=10)s++;i=(n%=7)-7+s}if(void 0!==r&&(l=f/(a=h(10,s-i-1))%10|0,c=t<0||void 0!==x[m+1]||f%a,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?i>0?f/h(10,s-i):0:x[m-1])%10&1||r==(e.s<0?8:7))),t<1||!x[0])return c?(a=N(e),x.length=1,t=t-a-1,x[0]=h(10,(7-t%7)%7),e.e=u(-t/7)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(0==n?(x.length=m,a=1,m--):(x.length=m+1,a=h(10,7-n),x[m]=i>0?(f/h(10,s-i)%h(10,i)|0)*a:0),c)for(;;){if(0==m){(x[0]+=a)==p&&(x[0]=1,++e.e);break}if(x[m]+=a,x[m]!=p)break;x[m--]=0,a=1}for(n=x.length;0===x[--n];)x.pop();if(o&&(e.e>g||e.e<-g))throw Error(d+N(e));return e}function E(e,t){var r,n,i,a,s,l,c,d,u,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),o?C(t,m):t;if(c=e.d,h=t.d,n=t.e,d=e.e,c=c.slice(),s=d-n){for((u=s<0)?(r=c,s=-s,l=h.length):(r=h,n=d,l=c.length),s>(i=Math.max(Math.ceil(m/7),l)+2)&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for((u=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){u=c[i]<h[i];break}s=0}for(u&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(a=i;a&&0===c[--a];)c[a]=p-1;--c[a],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,o?C(t,m):t):new f(0)}function P(e,t,r){var n,i=N(e),a=b(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+k(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+k(-i-1)+a,r&&(n=r-s)>0&&(a+=k(n))):i>=s?(a+=k(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+k(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=k(n))),e.s<0?"-"+a:a}function T(e,t){if(e.length>t)return e.length=t,!0}function O(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(n=e[r=i[t]])){if(!(u(n)===n&&n>=i[t+1]&&n<=i[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}s=function e(t){var r,n,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):A(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);A(t,e)}if(a.prototype=x,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=O,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return a.config(t),a}(s),s.default=s.Decimal=s,i=new s(1),void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},8268:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2132);t.isMatch=function(e,t){return n.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,r)=>{"use strict";var n=r(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=n.useSyncExternalStore,s=n.useRef,o=n.useEffect,l=n.useMemo,c=n.useDebugValue},8396:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5508);t.cloneDeep=function(e){return n.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,r)=>{"use strict";e.exports=r(9717)},8845:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),i=r(3272),a=r(8396),s=r(9323),o=r(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":var r;Object.is(null===(r=e)||void 0===r?void 0:r.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=a.cloneDeep(t),function(r){const i=s.get(r,e);return void 0===i?o.has(r,e):void 0===t?void 0===i:n.isMatch(i,t)}}},8853:(e,t,r)=>{"use strict";e.exports=r(7234)},9045:(e,t,r)=>{var n=r(3738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9323:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(7260),i=r(2489),a=r(3272),s=r(1444);t.get=function e(t,r,o){if(null==t)return o;switch(typeof r){case"string":{if(n.isUnsafeProperty(r))return o;const a=t[r];return void 0===a?i.isDeepKey(r)?e(t,s.toPath(r),o):o:a}case"number":case"symbol":{"number"===typeof r&&(r=a.toKey(r));const e=t[r];return void 0===e?o:e}default:{var l;if(Array.isArray(r))return function(e,t,r){if(0===t.length)return r;let i=e;for(let a=0;a<t.length;a++){if(null==i)return r;if(n.isUnsafeProperty(t[a]))return r;i=i[t[a]]}if(void 0===i)return r;return i}(t,r,o);if(r=Object.is(null===(l=r)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(r),n.isUnsafeProperty(r))return o;const e=t[r];return void 0===e?o:e}}}},9397:(e,t,r)=>{e.exports=r(2682).isPlainObject},9461:(e,t,r)=>{"use strict";e.exports=r(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645:(e,t,r)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6392),i=r(8346),a=r(1203);t.last=function(e){if(a.isArrayLike(e))return n.last(i.toArray(e))}},9709:(e,t)=>{"use strict";function r(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,n)=>{if(e!==t){const i=r(e),a=r(t);if(i===a&&0===i){if(e<t)return"desc"===n?1:-1;if(e>t)return"desc"===n?-1:1}return"desc"===n?a-i:i-a}return 0}},9717:(e,t,r)=>{"use strict";var n=r(5043),i=r(9461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=i.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var u=o(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=c(function(){function e(e){if(!l){if(l=!0,s=e,e=n(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return o=t}return o=e}if(t=o,a(s,e))return t;var r=n(e);return void 0!==i&&i(t,r)?(s=e,t):(s=e,o=r)}var s,o,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,i]);var f=s(e,u[0],u[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),d(f),f}},9859:(e,t,r)=>{e.exports=r(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var a=Object.create(null);r.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>n[e]);return s.default=()=>n,r.d(a,s),a}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>"static/js/"+e+"."+{213:"b8d4b5a9",239:"3742c463",455:"929e50be"}[e]+".chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="orchid-resort-dashboard:";r.l=(n,i,a,s)=>{if(e[n])e[n].push(i);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+a){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+a),o.src=n),e[n]=[i];var h=(t,r)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(r)),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var a=new Promise((r,n)=>i=e[t]=[r,n]);n.push(i[2]=a);var s=r.p+r.u(t),o=new Error;r.l(s,n=>{if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}},"chunk-"+t,t)}};var t=(t,n)=>{var i,a,[s,o,l]=n,c=0;if(s.some(t=>0!==e[t])){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);if(l)l(r)}for(t&&t(n);c<s.length;c++)a=s[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkorchid_resort_dashboard=self.webpackChunkorchid_resort_dashboard||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>Ht,hasStandardBrowserEnv:()=>Gt,hasStandardBrowserWebWorkerEnv:()=>Kt,navigator:()=>Vt,origin:()=>Yt});var t={};r.r(t),r.d(t,{scaleBand:()=>my,scaleDiverging:()=>cN,scaleDivergingLog:()=>dN,scaleDivergingPow:()=>hN,scaleDivergingSqrt:()=>fN,scaleDivergingSymlog:()=>uN,scaleIdentity:()=>nb,scaleImplicit:()=>fy,scaleLinear:()=>rb,scaleLog:()=>hb,scaleOrdinal:()=>py,scalePoint:()=>xy,scalePow:()=>wb,scaleQuantile:()=>Ib,scaleQuantize:()=>Lb,scaleRadial:()=>_b,scaleSequential:()=>rN,scaleSequentialLog:()=>nN,scaleSequentialPow:()=>aN,scaleSequentialQuantile:()=>oN,scaleSequentialSqrt:()=>sN,scaleSequentialSymlog:()=>iN,scaleSqrt:()=>jb,scaleSymlog:()=>gb,scaleThreshold:()=>Db,scaleTime:()=>Zj,scaleUtc:()=>Jj,tickFormat:()=>eb});var n,i=r(5043),a=r.t(i,2),s=r(4391),o=r(7950),l=r.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const d="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(UX){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,r,n){return void 0===r&&(r=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function g(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function x(e,t,r,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:s=!1}=i,o=a.history,l=n.Pop,h=null,g=x();function x(){return(o.state||{idx:null}).idx}function y(){l=n.Pop;let e=x(),t=null==e?null:e-g;g=e,h&&h({action:l,location:b.location,delta:t})}function v(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,r="string"===typeof e?e:m(e);return r=r.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let b={get action(){return l},get location(){return e(a,o)},listen(e){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(d,y),h=e,()=>{a.removeEventListener(d,y),h=null}},createHref:e=>t(a,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=n.Push;let i=p(b.location,e,t);r&&r(i,e),g=x()+1;let c=f(i,g),d=b.createHref(i);try{o.pushState(c,"",d)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;a.location.assign(d)}s&&h&&h({action:l,location:b.location,delta:1})},replace:function(e,t){l=n.Replace;let i=p(b.location,e,t);r&&r(i,e),g=x();let a=f(i,g),c=b.createHref(i);o.replaceState(a,"",c),s&&h&&h({action:l,location:b.location,delta:0})},go:e=>o.go(e)};return b}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,r){return void 0===r&&(r="/"),b(e,t,r,!1)}function b(e,t,r,n){let i=L(("string"===typeof t?g(t):t).pathname||"/",r);if(null==i)return null;let a=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=I(i);s=T(a[o],e,n)}return s}function w(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(u(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(n.length));let o=q([n,s.relativePath]),l=r.concat(s);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:P(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of j(e.path))i(e,t,n);else i(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===n.length)return i?[a,""]:[a];let s=j(n.join("/")),o=[];return o.push(...s.map(e=>""===e?a:[a,e].join("/"))),i&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,_=3,k=2,S=1,A=10,C=-2,E=e=>"*"===e;function P(e,t){let r=e.split("/"),n=r.length;return r.some(E)&&(n+=C),t&&(n+=k),r.filter(e=>!E(e)).reduce((e,t)=>e+(N.test(t)?_:""===t?S:A),n)}function T(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===a?t:t.slice(a.length)||"/",d=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:q([a,d.pathname]),pathnameBase:W(q([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=q([a,d.pathnameBase]))}return s}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,n]}(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=n.reduce((e,t,r)=>{let{paramName:n,isOptional:i}=t;if("*"===n){let e=o[r]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:s,pattern:e}}function I(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}const D=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function M(e,t){void 0===t&&(t="/");let r,{pathname:n,search:i="",hash:a=""}="string"===typeof e?g(e):e;if(n)if(s=n,D.test(s))r=n;else{if(n.includes("//")){let e=n;n=n.replace(/\/\/+/g,"/"),h(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+n)}r=n.startsWith("/")?R(n.substring(1),"/"):R(n,t)}else r=t;var s;return{pathname:r,search:H(i),hash:V(a)}}function R(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}function F(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function B(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function z(e,t){let r=B(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function U(e,t,r,n){let i;void 0===n&&(n=!1),"string"===typeof e?i=g(e):(i=c({},e),u(!i.pathname||!i.pathname.includes("?"),F("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),F("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),F("#","search","hash",i)));let a,s=""===e||""===i.pathname,o=s?"/":i.pathname;if(null==o)a=r;else{let e=t.length-1;if(!n&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=M(i,a),d=o&&"/"!==o&&o.endsWith("/"),h=(s||"."===o)&&r.endsWith("/");return l.pathname.endsWith("/")||!d&&!h||(l.pathname+="/"),l}const q=e=>e.join("/").replace(/\/\/+/g,"/"),W=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function G(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const K=["post","put","patch","delete"],Y=(new Set(K),["get",...K]);new Set(Y),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X.apply(this,arguments)}const Q=i.createContext(null);const Z=i.createContext(null);const J=i.createContext(null);const ee=i.createContext(null);const te=i.createContext({outlet:null,matches:[],isDataRoute:!1});const re=i.createContext(null);function ne(){return null!=i.useContext(ee)}function ie(){return ne()||u(!1),i.useContext(ee).location}function ae(e){i.useContext(J).static||i.useLayoutEffect(e)}function se(){let{isDataRoute:e}=i.useContext(te);return e?function(){let{router:e}=ge(pe.UseNavigateStable),t=ye(me.UseNavigateStable),r=i.useRef(!1);ae(()=>{r.current=!0});let n=i.useCallback(function(n,i){void 0===i&&(i={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,X({fromRouteId:t},i)))},[e,t]);return n}():function(){ne()||u(!1);let e=i.useContext(Q),{basename:t,future:r,navigator:n}=i.useContext(J),{matches:a}=i.useContext(te),{pathname:s}=ie(),o=JSON.stringify(z(a,r.v7_relativeSplatPath)),l=i.useRef(!1);ae(()=>{l.current=!0});let c=i.useCallback(function(r,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof r)return void n.go(r);let a=U(r,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:q([t,a.pathname])),(i.replace?n.replace:n.push)(a,i.state,i)},[t,n,o,s,e]);return c}()}function oe(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=i.useContext(J),{matches:a}=i.useContext(te),{pathname:s}=ie(),o=JSON.stringify(z(a,n.v7_relativeSplatPath));return i.useMemo(()=>U(e,JSON.parse(o),s,"path"===r),[e,o,s,r])}function le(e,t,r,a){ne()||u(!1);let{navigator:s}=i.useContext(J),{matches:o}=i.useContext(te),l=o[o.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=ie();if(t){var p;let e="string"===typeof t?g(t):t;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||u(!1),h=e}else h=f;let m=h.pathname||"/",x=m;if("/"!==d){let e=d.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=v(e,{pathname:x});let b=fe(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:q([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:q([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,a);return t&&b?i.createElement(ee.Provider,{value:{location:X({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:n.Pop}},b):b}function ce(){let e=function(){var e;let t=i.useContext(re),r=xe(me.UseRouteError),n=ye(me.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=G(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),r?i.createElement("pre",{style:a},r):null,null)}const de=i.createElement(ce,null);class ue extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(te.Provider,{value:this.props.routeContext},i.createElement(re.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function he(e){let{routeContext:t,match:r,children:n}=e,a=i.useContext(Q);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),i.createElement(te.Provider,{value:t},n)}function fe(e,t,r,n){var a;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var s;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(s=n)&&s.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(a=r)?void 0:a.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||u(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,n,a)=>{let s,u=!1,h=null,f=null;var p;r&&(s=l&&n.route.id?l[n.route.id]:void 0,h=n.route.errorElement||de,c&&(d<0&&0===a?(p="route-fallback",!1||ve[p]||(ve[p]=!0),u=!0,f=null):d===a&&(u=!0,f=n.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,a+1)),g=()=>{let t;return t=s?h:u?f:n.route.Component?i.createElement(n.route.Component,null):n.route.element?n.route.element:e,i.createElement(he,{match:n,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===a)?i.createElement(ue,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var pe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(pe||{}),me=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(me||{});function ge(e){let t=i.useContext(Q);return t||u(!1),t}function xe(e){let t=i.useContext(Z);return t||u(!1),t}function ye(e){let t=function(){let e=i.useContext(te);return e||u(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||u(!1),r.route.id}const ve={};function be(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function we(e){let{to:t,replace:r,state:n,relative:a}=e;ne()||u(!1);let{future:s,static:o}=i.useContext(J),{matches:l}=i.useContext(te),{pathname:c}=ie(),d=se(),h=U(t,z(l,s.v7_relativeSplatPath),c,"path"===a),f=JSON.stringify(h);return i.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:a}),[d,f,a,r,n]),null}function je(e){u(!1)}function Ne(e){let{basename:t="/",children:r=null,location:a,navigationType:s=n.Pop,navigator:o,static:l=!1,future:c}=e;ne()&&u(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:d,navigator:o,static:l,future:X({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);"string"===typeof a&&(a=g(a));let{pathname:f="/",search:p="",hash:m="",state:x=null,key:y="default"}=a,v=i.useMemo(()=>{let e=L(f,d);return null==e?null:{location:{pathname:e,search:p,hash:m,state:x,key:y},navigationType:s}},[d,f,p,m,x,y,s]);return null==v?null:i.createElement(J.Provider,{value:h},i.createElement(ee.Provider,{children:r,value:v}))}function _e(e){let{children:t,location:r}=e;return le(ke(t),r)}new Promise(()=>{});i.Component;function ke(e,t){void 0===t&&(t=[]);let r=[];return i.Children.forEach(e,(e,n)=>{if(!i.isValidElement(e))return;let a=[...t,n];if(e.type===i.Fragment)return void r.push.apply(r,ke(e.props.children,a));e.type!==je&&u(!1),e.props.index&&e.props.children&&u(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ke(e.props.children,a)),r.push(s)}),r}function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Se.apply(this,arguments)}function Ae(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(UX){}new Map;const Ee=a.startTransition;l.flushSync,a.useId;function Pe(e){let{basename:t,children:r,future:n,window:a}=e,s=i.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),x(function(e,t){let{pathname:r,search:n,hash:i}=e.location;return p("",{pathname:r,search:n,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=s.current,[c,d]=i.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},h=i.useCallback(e=>{u&&Ee?Ee(()=>d(e)):d(e)},[d,u]);return i.useLayoutEffect(()=>l.listen(h),[l,h]),i.useEffect(()=>be(n),[n]),i.createElement(Ne,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Oe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=i.forwardRef(function(e,t){let r,{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,p=Ae(e,Ce),{basename:g}=i.useContext(J),x=!1;if("string"===typeof d&&Oe.test(d)&&(r=d,Te))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=L(t.pathname,g);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:x=!0}catch(UX){}let y=function(e,t){let{relative:r}=void 0===t?{}:t;ne()||u(!1);let{basename:n,navigator:a}=i.useContext(J),{hash:s,pathname:o,search:l}=oe(e,{relative:r}),c=o;return"/"!==n&&(c="/"===o?n:q([n,o])),a.createHref({pathname:c,search:l,hash:s})}(d,{relative:a}),v=function(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=void 0===t?{}:t,c=se(),d=ie(),u=oe(e,{relative:o});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:m(d)===m(u);c(e,{replace:r,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,s,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:a,viewTransition:f});return i.createElement("a",Se({},p,{href:r||y,onClick:x||s?n:function(e){n&&n(e),e.defaultPrevented||v(e)},ref:t,target:c}))});var Le,De;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Le||(Le={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));var Me=r(4980);function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach(function(t){(0,Me.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Be(e,t){return function(){return e.apply(t,arguments)}}const{toString:ze}=Object.prototype,{getPrototypeOf:Ue}=Object,{iterator:qe,toStringTag:We}=Symbol,He=(Ve=Object.create(null),e=>{const t=ze.call(e);return Ve[t]||(Ve[t]=t.slice(8,-1).toLowerCase())});var Ve;const Ge=e=>(e=e.toLowerCase(),t=>He(t)===e),Ke=e=>t=>typeof t===e,{isArray:Ye}=Array,Xe=Ke("undefined");function Qe(e){return null!==e&&!Xe(e)&&null!==e.constructor&&!Xe(e.constructor)&&Je(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $e=Ge("ArrayBuffer");const Ze=Ke("string"),Je=Ke("function"),et=Ke("number"),tt=e=>null!==e&&"object"===typeof e,rt=e=>{if("object"!==He(e))return!1;const t=Ue(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(We in e)&&!(qe in e)},nt=Ge("Date"),it=Ge("File"),at=Ge("Blob"),st=Ge("FileList"),ot=Ge("URLSearchParams"),[lt,ct,dt,ut]=["ReadableStream","Request","Response","Headers"].map(Ge);function ht(e,t){let r,n,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ye(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(Qe(e))return;const n=i?Object.getOwnPropertyNames(e):Object.keys(e),a=n.length;let s;for(r=0;r<a;r++)s=n[r],t.call(null,e[s],s,e)}}function ft(e,t){if(Qe(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;for(;i-- >0;)if(n=r[i],t===n.toLowerCase())return n;return null}const pt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:r.g,mt=e=>!Xe(e)&&e!==pt;const gt=(xt="undefined"!==typeof Uint8Array&&Ue(Uint8Array),e=>xt&&e instanceof xt);var xt;const yt=Ge("HTMLFormElement"),vt=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),bt=Ge("RegExp"),wt=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ht(r,(r,i)=>{let a;!1!==(a=t(r,i,e))&&(n[i]=a||r)}),Object.defineProperties(e,n)};const jt=Ge("AsyncFunction"),Nt=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),n=[],pt.addEventListener("message",e=>{let{source:t,data:i}=e;t===pt&&i===r&&n.length&&n.shift()()},!1),e=>{n.push(e),pt.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,Je(pt.postMessage)),_t="undefined"!==typeof queueMicrotask?queueMicrotask.bind(pt):"undefined"!==typeof process&&process.nextTick||Nt,kt={isArray:Ye,isArrayBuffer:$e,isBuffer:Qe,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Je(e.append)&&("formdata"===(t=He(e))||"object"===t&&Je(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&$e(e.buffer),t},isString:Ze,isNumber:et,isBoolean:e=>!0===e||!1===e,isObject:tt,isPlainObject:rt,isEmptyObject:e=>{if(!tt(e)||Qe(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(UX){return!1}},isReadableStream:lt,isRequest:ct,isResponse:dt,isHeaders:ut,isUndefined:Xe,isDate:nt,isFile:it,isBlob:at,isRegExp:bt,isFunction:Je,isStream:e=>tt(e)&&Je(e.pipe),isURLSearchParams:ot,isTypedArray:gt,isFileList:st,forEach:ht,merge:function e(){const{caseless:t,skipUndefined:r}=mt(this)&&this||{},n={},i=(i,a)=>{const s=t&&ft(n,a)||a;rt(n[s])&&rt(i)?n[s]=e(n[s],i):rt(i)?n[s]=e({},i):Ye(i)?n[s]=i.slice():r&&Xe(i)||(n[s]=i)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&ht(arguments[a],i);return n},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ht(t,(t,n)=>{r&&Je(t)?e[n]=Be(t,r):e[n]=t},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,a,s;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],n&&!n(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==r&&Ue(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:He,kindOfTest:Ge,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(Ye(e))return e;let t=e.length;if(!et(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[qe]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:yt,hasOwnProperty:vt,hasOwnProp:vt,reduceDescriptors:wt,freezeMethods:e=>{wt(e,(t,r)=>{if(Je(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Je(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach(e=>{r[e]=!0})};return Ye(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ft,global:pt,isContextDefined:mt,isSpecCompliantForm:function(e){return!!(e&&Je(e.append)&&"FormData"===e[We]&&e[qe])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(tt(e)){if(t.indexOf(e)>=0)return;if(Qe(e))return e;if(!("toJSON"in e)){t[n]=e;const i=Ye(e)?[]:{};return ht(e,(e,t)=>{const a=r(e,n+1);!Xe(a)&&(i[t]=a)}),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:jt,isThenable:e=>e&&(tt(e)||Je(e))&&Je(e.then)&&Je(e.catch),setImmediate:Nt,asap:_t,isIterable:e=>null!=e&&Je(e[qe])};function St(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}kt.inherits(St,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:kt.toJSONObject(this.config),code:this.code,status:this.status}}});const At=St.prototype,Ct={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ct[e]={value:e}}),Object.defineProperties(St,Ct),Object.defineProperty(At,"isAxiosError",{value:!0}),St.from=(e,t,r,n,i,a)=>{const s=Object.create(At);kt.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return St.call(s,o,l,r,n,i),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",a&&Object.assign(s,a),s};const Et=St;function Pt(e){return kt.isPlainObject(e)||kt.isArray(e)}function Tt(e){return kt.endsWith(e,"[]")?e.slice(0,-2):e}function Ot(e,t,r){return e?e.concat(t).map(function(e,t){return e=Tt(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const It=kt.toFlatObject(kt,{},null,function(e){return/^is[A-Z]/.test(e)});const Lt=function(e,t,r){if(!kt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=kt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!kt.isUndefined(t[e])})).metaTokens,i=r.visitor||c,a=r.dots,s=r.indexes,o=(r.Blob||"undefined"!==typeof Blob&&Blob)&&kt.isSpecCompliantForm(t);if(!kt.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(kt.isDate(e))return e.toISOString();if(kt.isBoolean(e))return e.toString();if(!o&&kt.isBlob(e))throw new Et("Blob is not supported. Use a Buffer instead.");return kt.isArrayBuffer(e)||kt.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,i){let o=e;if(e&&!i&&"object"===typeof e)if(kt.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(kt.isArray(e)&&function(e){return kt.isArray(e)&&!e.some(Pt)}(e)||(kt.isFileList(e)||kt.endsWith(r,"[]"))&&(o=kt.toArray(e)))return r=Tt(r),o.forEach(function(e,n){!kt.isUndefined(e)&&null!==e&&t.append(!0===s?Ot([r],n,a):null===s?r:r+"[]",l(e))}),!1;return!!Pt(e)||(t.append(Ot(i,r,a),l(e)),!1)}const d=[],u=Object.assign(It,{defaultVisitor:c,convertValue:l,isVisitable:Pt});if(!kt.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!kt.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),kt.forEach(r,function(r,a){!0===(!(kt.isUndefined(r)||null===r)&&i.call(t,r,kt.isString(a)?a.trim():a,n,u))&&e(r,n?n.concat(a):[a])}),d.pop()}}(e),t};function Dt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Mt(e,t){this._pairs=[],e&&Lt(e,this,t)}const Rt=Mt.prototype;Rt.append=function(e,t){this._pairs.push([e,t])},Rt.toString=function(e){const t=e?function(t){return e.call(this,t,Dt)}:Dt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Ft=Mt;function Bt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function zt(e,t,r){if(!t)return e;const n=r&&r.encode||Bt;kt.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(a=i?i(t,r):kt.isURLSearchParams(t)?t.toString():new Ft(t,r).toString(n),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Ut=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){kt.forEach(this.handlers,function(t){null!==t&&e(t)})}},qt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Ft,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ht="undefined"!==typeof window&&"undefined"!==typeof document,Vt="object"===typeof navigator&&navigator||void 0,Gt=Ht&&(!Vt||["ReactNative","NativeScript","NS"].indexOf(Vt.product)<0),Kt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Yt=Ht&&window.location.href||"http://localhost",Xt=Fe(Fe({},e),Wt);const Qt=function(e){function t(e,r,n,i){let a=e[i++];if("__proto__"===a)return!0;const s=Number.isFinite(+a),o=i>=e.length;if(a=!a&&kt.isArray(n)?n.length:a,o)return kt.hasOwnProp(n,a)?n[a]=[n[a],r]:n[a]=r,!s;n[a]&&kt.isObject(n[a])||(n[a]=[]);return t(e,r,n[a],i)&&kt.isArray(n[a])&&(n[a]=function(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}(n[a])),!s}if(kt.isFormData(e)&&kt.isFunction(e.entries)){const r={};return kt.forEachEntry(e,(e,n)=>{t(function(e){return kt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,r,0)}),r}return null};const $t={transitional:qt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=kt.isObject(e);i&&kt.isHTMLForm(e)&&(e=new FormData(e));if(kt.isFormData(e))return n?JSON.stringify(Qt(e)):e;if(kt.isArrayBuffer(e)||kt.isBuffer(e)||kt.isStream(e)||kt.isFile(e)||kt.isBlob(e)||kt.isReadableStream(e))return e;if(kt.isArrayBufferView(e))return e.buffer;if(kt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Lt(e,new Xt.classes.URLSearchParams,Fe({visitor:function(e,t,r,n){return Xt.isNode&&kt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=kt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Lt(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),function(e,t,r){if(kt.isString(e))try{return(t||JSON.parse)(e),kt.trim(e)}catch(UX){if("SyntaxError"!==UX.name)throw UX}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||$t.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(kt.isResponse(e)||kt.isReadableStream(e))return e;if(e&&kt.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(UX){if(r){if("SyntaxError"===UX.name)throw Et.from(UX,Et.ERR_BAD_RESPONSE,this,null,this.response);throw UX}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};kt.forEach(["delete","get","head","post","put","patch"],e=>{$t.headers[e]={}});const Zt=$t,Jt=kt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),er=Symbol("internals");function tr(e){return e&&String(e).trim().toLowerCase()}function rr(e){return!1===e||null==e?e:kt.isArray(e)?e.map(rr):String(e)}function nr(e,t,r,n,i){return kt.isFunction(n)?n.call(this,t,r):(i&&(t=r),kt.isString(t)?kt.isString(n)?-1!==t.indexOf(n):kt.isRegExp(n)?n.test(t):void 0:void 0)}class ir{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=tr(t);if(!i)throw new Error("header name must be a non-empty string");const a=kt.findKey(n,i);(!a||void 0===n[a]||!0===r||void 0===r&&!1!==n[a])&&(n[a||t]=rr(e))}const a=(e,t)=>kt.forEach(e,(e,r)=>i(e,r,t));if(kt.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(kt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let r,n,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&Jt[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t})(e),t);else if(kt.isObject(e)&&kt.isIterable(e)){let r,n,i={};for(const t of e){if(!kt.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[n=t[0]]=(r=i[n])?kt.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}a(i,t)}else null!=e&&i(t,e,r);return this}get(e,t){if(e=tr(e)){const r=kt.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(kt.isFunction(t))return t.call(this,e,r);if(kt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=tr(e)){const r=kt.findKey(this,e);return!(!r||void 0===this[r]||t&&!nr(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=tr(e)){const i=kt.findKey(r,e);!i||t&&!nr(0,r[i],i,t)||(delete r[i],n=!0)}}return kt.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const i=t[r];e&&!nr(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return kt.forEach(this,(n,i)=>{const a=kt.findKey(r,i);if(a)return t[a]=rr(n),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(i):String(i).trim();s!==i&&delete t[i],t[s]=rr(n),r[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return kt.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&kt.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[er]=this[er]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=tr(e);t[n]||(!function(e,t){const r=kt.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})})}(r,e),t[n]=!0)}return kt.isArray(e)?e.forEach(n):n(e),this}}ir.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),kt.reduceDescriptors(ir.prototype,(e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}}),kt.freezeMethods(ir);const ar=ir;function sr(e,t){const r=this||Zt,n=t||r,i=ar.from(n.headers);let a=n.data;return kt.forEach(e,function(e){a=e.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function or(e){return!(!e||!e.__CANCEL__)}function lr(e,t,r){Et.call(this,null==e?"canceled":e,Et.ERR_CANCELED,t,r),this.name="CanceledError"}kt.inherits(lr,Et,{__CANCEL__:!0});const cr=lr;function dr(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Et("Request failed with status code "+r.status,[Et.ERR_BAD_REQUEST,Et.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const ur=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,a=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=n[s];i||(i=l),r[a]=o,n[a]=l;let d=s,u=0;for(;d!==a;)u+=r[d++],d%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const hr=function(e,t){let r,n,i=0,a=1e3/t;const s=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=a,r=null,n&&(clearTimeout(n),n=null),e(...t)};return[function(){const e=Date.now(),t=e-i;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=a?s(l,e):(r=l,n||(n=setTimeout(()=>{n=null,s(r)},a-t)))},()=>r&&s(r)]},fr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const i=ur(50,250);return hr(r=>{const a=r.loaded,s=r.lengthComputable?r.total:void 0,o=a-n,l=i(o);n=a;e({loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:r,lengthComputable:null!=s,[t?"download":"upload"]:!0})},r)},pr=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},mr=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return kt.asap(()=>e(...r))},gr=Xt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Xt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,xr=Xt.hasStandardBrowserEnv?{write(e,t,r,n,i,a,s){if("undefined"===typeof document)return;const o=["".concat(e,"=").concat(encodeURIComponent(t))];kt.isNumber(r)&&o.push("expires=".concat(new Date(r).toUTCString())),kt.isString(n)&&o.push("path=".concat(n)),kt.isString(i)&&o.push("domain=".concat(i)),!0===a&&o.push("secure"),kt.isString(s)&&o.push("SameSite=".concat(s)),document.cookie=o.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function yr(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const vr=e=>e instanceof ar?Fe({},e):e;function br(e,t){t=t||{};const r={};function n(e,t,r,n){return kt.isPlainObject(e)&&kt.isPlainObject(t)?kt.merge.call({caseless:n},e,t):kt.isPlainObject(t)?kt.merge({},t):kt.isArray(t)?t.slice():t}function i(e,t,r,i){return kt.isUndefined(t)?kt.isUndefined(e)?void 0:n(void 0,e,0,i):n(e,t,0,i)}function a(e,t){if(!kt.isUndefined(t))return n(void 0,t)}function s(e,t){return kt.isUndefined(t)?kt.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(r,i,a){return a in t?n(r,i):a in e?n(void 0,r):void 0}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,r)=>i(vr(e),vr(t),0,!0)};return kt.forEach(Object.keys(Fe(Fe({},e),t)),function(n){const a=l[n]||i,s=a(e[n],t[n],n);kt.isUndefined(s)&&a!==o||(r[n]=s)}),r}const wr=e=>{const t=br({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:o}=t;if(t.headers=s=ar.from(s),t.url=zt(yr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),kt.isFormData(r))if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(kt.isFunction(r.getHeaders)){const e=r.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[r,n]=e;t.includes(r.toLowerCase())&&s.set(r,n)})}if(Xt.hasStandardBrowserEnv&&(n&&kt.isFunction(n)&&(n=n(t)),n||!1!==n&&gr(t.url))){const e=i&&a&&xr.read(a);e&&s.set(i,e)}return t},jr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const n=wr(e);let i=n.data;const a=ar.from(n.headers).normalize();let s,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:f}=n;function p(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const n=ar.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());dr(function(e){t(e),p()},function(e){r(e),p()},{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m}),m=null}m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(r(new Et("Request aborted",Et.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const n=t&&t.message?t.message:"Network Error",i=new Et(n,Et.ERR_NETWORK,e,m);i.event=t||null,r(i),m=null},m.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const i=n.transitional||qt;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new Et(t,i.clarifyTimeoutError?Et.ETIMEDOUT:Et.ECONNABORTED,e,m)),m=null},void 0===i&&a.setContentType(null),"setRequestHeader"in m&&kt.forEach(a.toJSON(),function(e,t){m.setRequestHeader(t,e)}),kt.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),u&&"json"!==u&&(m.responseType=n.responseType),f&&([l,d]=fr(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=fr(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(s=t=>{m&&(r(!t||t.type?new cr(null,e,m):t),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);x&&-1===Xt.protocols.indexOf(x)?r(new Et("Unsupported protocol "+x+":",Et.ERR_BAD_REQUEST,e)):m.send(i||null)})},Nr=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const i=function(e){if(!r){r=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Et?t:new cr(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,i(new Et("timeout ".concat(t," of ms exceeded"),Et.ETIMEDOUT))},t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:o}=n;return o.unsubscribe=()=>kt.asap(s),o}};function _r(e,t){this.v=e,this.k=t}function kr(e){return function(){return new Sr(e.apply(this,arguments))}}function Sr(e){var t,r;function n(t,r){try{var a=e[t](r),s=a.value,o=s instanceof _r;Promise.resolve(o?s.v:s).then(function(r){if(o){var l="return"===t?"return":"next";if(!s.k||r.done)return n(l,r);r=e[l](r).value}i(a.done?"return":"normal",r)},function(e){n("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise(function(a,s){var o={key:e,arg:i,resolve:a,reject:s,next:null};r?r=r.next=o:(t=r=o,n(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function Ar(e){return new _r(e,0)}function Cr(e){var t={},r=!1;function n(t,n){return r=!0,n=new Promise(function(r){r(e[t](n))}),{done:!1,value:new _r(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}function Er(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new Pr(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Pr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Pr=function(e){this.s=e,this.n=e.next},Pr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Pr(e)}Sr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Sr.prototype.next=function(e){return this._invoke("next",e)},Sr.prototype.throw=function(e){return this._invoke("throw",e)},Sr.prototype.return=function(e){return this._invoke("return",e)};const Tr=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,i=0;for(;i<r;)n=i+t,yield e.slice(i,n),i=n},Or=function(){var e=kr(function*(e,t){var r,n=!1,i=!1;try{for(var a,s=Er(Ir(e));n=!(a=yield Ar(s.next())).done;n=!1){const e=a.value;yield*Cr(Er(Tr(e,t)))}}catch(o){i=!0,r=o}finally{try{n&&null!=s.return&&(yield Ar(s.return()))}finally{if(i)throw r}}});return function(t,r){return e.apply(this,arguments)}}(),Ir=function(){var e=kr(function*(e){if(e[Symbol.asyncIterator])return void(yield*Cr(Er(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Ar(t.read());if(e)break;yield r}}finally{yield Ar(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Lr=(e,t,r,n)=>{const i=Or(e,t);let a,s=0,o=e=>{a||(a=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await i.next();if(t)return o(),void e.close();let a=n.byteLength;if(r){let e=s+=a;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw o(t),t}},cancel:e=>(o(e),i.return())},{highWaterMark:2})},{isFunction:Dr}=kt,Mr=(e=>{let{Request:t,Response:r}=e;return{Request:t,Response:r}})(kt.global),{ReadableStream:Rr,TextEncoder:Fr}=kt.global,Br=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(UX){return!1}},zr=e=>{e=kt.merge.call({skipUndefined:!0},Mr,e);const{fetch:t,Request:r,Response:n}=e,i=t?Dr(t):"function"===typeof fetch,a=Dr(r),s=Dr(n);if(!i)return!1;const o=i&&Dr(Rr),l=i&&("function"===typeof Fr?(c=new Fr,e=>c.encode(e)):async e=>new Uint8Array(await new r(e).arrayBuffer()));var c;const d=a&&o&&Br(()=>{let e=!1;const t=new r(Xt.origin,{body:new Rr,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=s&&o&&Br(()=>kt.isReadableStream(new n("").body)),h={stream:u&&(e=>e.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,r)=>{let n=t&&t[e];if(n)return n.call(t);throw new Et("Response type '".concat(e,"' is not supported"),Et.ERR_NOT_SUPPORT,r)})});const f=async(e,t)=>{const n=kt.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(kt.isBlob(e))return e.size;if(kt.isSpecCompliantForm(e)){const t=new r(Xt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return kt.isArrayBufferView(e)||kt.isArrayBuffer(e)?e.byteLength:(kt.isURLSearchParams(e)&&(e+=""),kt.isString(e)?(await l(e)).byteLength:void 0)})(t):n};return async e=>{let{url:i,method:s,data:o,signal:l,cancelToken:c,timeout:p,onDownloadProgress:m,onUploadProgress:g,responseType:x,headers:y,withCredentials:v="same-origin",fetchOptions:b}=wr(e),w=t||fetch;x=x?(x+"").toLowerCase():"text";let j=Nr([l,c&&c.toAbortSignal()],p),N=null;const _=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let k;try{if(g&&d&&"get"!==s&&"head"!==s&&0!==(k=await f(y,o))){let e,t=new r(i,{method:"POST",body:o,duplex:"half"});if(kt.isFormData(o)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,r]=pr(k,fr(mr(g)));o=Lr(t.body,65536,e,r)}}kt.isString(v)||(v=v?"include":"omit");const t=a&&"credentials"in r.prototype,l=Fe(Fe({},b),{},{signal:j,method:s.toUpperCase(),headers:y.normalize().toJSON(),body:o,duplex:"half",credentials:t?v:void 0});N=a&&new r(i,l);let c=await(a?w(N,b):w(i,l));const p=u&&("stream"===x||"response"===x);if(u&&(m||p&&_)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=kt.toFiniteNumber(c.headers.get("content-length")),[r,i]=m&&pr(t,fr(mr(m),!0))||[];c=new n(Lr(c.body,65536,r,()=>{i&&i(),_&&_()}),e)}x=x||"text";let S=await h[kt.findKey(h,x)||"text"](c,e);return!p&&_&&_(),await new Promise((t,r)=>{dr(t,r,{data:S,headers:ar.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:N})})}catch(S){if(_&&_(),S&&"TypeError"===S.name&&/Load failed|fetch/i.test(S.message))throw Object.assign(new Et("Network Error",Et.ERR_NETWORK,e,N),{cause:S.cause||S});throw Et.from(S,S&&S.code,e,N)}}},Ur=new Map,qr=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:i}=t,a=[n,i,r];let s,o,l=a.length,c=Ur;for(;l--;)s=a[l],o=c.get(s),void 0===o&&c.set(s,o=l?new Map:zr(t)),c=o;return o},Wr=(qr(),{http:null,xhr:jr,fetch:{get:qr}});kt.forEach(Wr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(UX){}Object.defineProperty(e,"adapterName",{value:t})}});const Hr=e=>"- ".concat(e),Vr=e=>kt.isFunction(e)||null===e||!1===e;const Gr={getAdapter:function(e,t){e=kt.isArray(e)?e:[e];const{length:r}=e;let n,i;const a={};for(let s=0;s<r;s++){let r;if(n=e[s],i=n,!Vr(n)&&(i=Wr[(r=String(n)).toLowerCase()],void 0===i))throw new Et("Unknown adapter '".concat(r,"'"));if(i&&(kt.isFunction(i)||(i=i.get(t))))break;a[r||"#"+s]=i}if(!i){const e=Object.entries(a).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let t=r?e.length>1?"since :\n"+e.map(Hr).join("\n"):" "+Hr(e[0]):"as no adapter specified";throw new Et("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return i},adapters:Wr};function Kr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cr(null,e)}function Yr(e){Kr(e),e.headers=ar.from(e.headers),e.data=sr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Gr.getAdapter(e.adapter||Zt.adapter,e)(e).then(function(t){return Kr(e),t.data=sr.call(e,e.transformResponse,t),t.headers=ar.from(t.headers),t},function(t){return or(t)||(Kr(e),t&&t.response&&(t.response.data=sr.call(e,e.transformResponse,t.response),t.response.headers=ar.from(t.response.headers))),Promise.reject(t)})}const Xr="1.13.2",Qr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Qr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const $r={};Qr.transitional=function(e,t,r){function n(e,t){return"[Axios v"+Xr+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,a)=>{if(!1===e)throw new Et(n(i," has been removed"+(t?" in "+t:"")),Et.ERR_DEPRECATED);return t&&!$r[i]&&($r[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,a)}},Qr.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const Zr={assertOptions:function(e,t,r){if("object"!==typeof e)throw new Et("options must be an object",Et.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],s=t[a];if(s){const t=e[a],r=void 0===t||s(t,a,e);if(!0!==r)throw new Et("option "+a+" must be "+r,Et.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new Et("Unknown option "+a,Et.ERR_BAD_OPTION)}},validators:Qr},Jr=Zr.validators;class en{constructor(e){this.defaults=e||{},this.interceptors={request:new Ut,response:new Ut}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(UX){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=br(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;void 0!==r&&Zr.assertOptions(r,{silentJSONParsing:Jr.transitional(Jr.boolean),forcedJSONParsing:Jr.transitional(Jr.boolean),clarifyTimeoutError:Jr.transitional(Jr.boolean)},!1),null!=n&&(kt.isFunction(n)?t.paramsSerializer={serialize:n}:Zr.assertOptions(n,{encode:Jr.function,serialize:Jr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Zr.assertOptions(t,{baseUrl:Jr.spelling("baseURL"),withXsrfToken:Jr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&kt.merge(i.common,i[t.method]);i&&kt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=ar.concat(a,i);const s=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[Yr.bind(this),void 0];for(e.unshift(...s),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let h=t;for(;u<d;){const e=s[u++],t=s[u++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=Yr.call(this,h)}catch(f){return Promise.reject(f)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return zt(yr((e=br(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}kt.forEach(["delete","get","head","options"],function(e){en.prototype[e]=function(t,r){return this.request(br(r||{},{method:e,url:t,data:(r||{}).data}))}}),kt.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,i){return this.request(br(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}en.prototype[e]=t(),en.prototype[e+"Form"]=t(!0)});const tn=en;class rn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,i){r.reason||(r.reason=new cr(e,n,i),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new rn(function(t){e=t});return{token:t,cancel:e}}}const nn=rn;const an={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(an).forEach(e=>{let[t,r]=e;an[r]=t});const sn=an;const on=function e(t){const r=new tn(t),n=Be(tn.prototype.request,r);return kt.extend(n,tn.prototype,r,{allOwnKeys:!0}),kt.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(br(t,r))},n}(Zt);on.Axios=tn,on.CanceledError=cr,on.CancelToken=nn,on.isCancel=or,on.VERSION=Xr,on.toFormData=Lt,on.AxiosError=Et,on.Cancel=on.CanceledError,on.all=function(e){return Promise.all(e)},on.spread=function(e){return function(t){return e.apply(null,t)}},on.isAxiosError=function(e){return kt.isObject(e)&&!0===e.isAxiosError},on.mergeConfig=br,on.AxiosHeaders=ar,on.formToJSON=e=>Qt(kt.isHTMLForm(e)?new FormData(e):e),on.getAdapter=Gr.getAdapter,on.HttpStatusCode=sn,on.default=on;const ln=on,cn=()=>{if("undefined"===typeof window)return!1;const e=window.location.pathname||"";return e.startsWith("/pommaadmin")||e.startsWith("/pommaholidays")},dn=()=>{if("undefined"===typeof window)return!1;const e=window.location.pathname||"";return e.startsWith("/orchidadmin")||e.startsWith("/orchid")},un=()=>{if("undefined"!==typeof window){const e=window.location.hostname||"";if("localhost"===e||"127.0.0.1"===e)return"http://localhost:8011"}return"undefined"!==typeof window&&dn()?"".concat(window.location.origin,"/orchidfiles"):"undefined"!==typeof window&&cn()?"".concat(window.location.origin,"/pomma"):{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_MEDIA_BASE_URL?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_MEDIA_BASE_URL:"https://www.teqmates.com"},hn=()=>{if("undefined"!==typeof window){const e=window.location.hostname||"",t=window.location.port||"";if(console.log("Hostname:",e,"Port:",t,"Pathname:",window.location.pathname),"localhost"===e||"127.0.0.1"===e){const e="http://localhost:8011/api";return console.log("Using localhost API URL (overriding env var):",e),e}}if({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL)return console.log("Using REACT_APP_API_BASE_URL:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL),{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL;if("undefined"!==typeof window&&dn()){const e="".concat(window.location.origin,"/orchidapi/api");return console.log("Using Orchid deployment API URL:",e),e}if("undefined"!==typeof window&&cn()){const e="".concat(window.location.origin,"/pommaapi/api");return console.log("Using Pomma deployment API URL:",e),e}const e="https://www.teqmates.com/orchidapi/api";return console.log("Using default API URL:",e),e},fn=hn();console.log("API Base URL:",fn);const pn=ln.create({baseURL:fn,timeout:3e4});pn.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),console.log("API Request:",e.method,e.url,"Base URL:",e.baseURL),e}),pn.interceptors.response.use(e=>e,e=>{var t,r,n,i,a;return"ECONNABORTED"===e.code||e.message.includes("timeout")?(console.error("Request timeout:",null===(r=e.config)||void 0===r?void 0:r.url),Promise.reject(Fe(Fe({},e),{},{message:"Request timed out. The server is taking too long to respond.",isTimeout:!0}))):e.response?503===(null===(t=e.response)||void 0===t?void 0:t.status)?(console.error("Service unavailable:",null===(a=e.response)||void 0===a?void 0:a.data),Promise.reject(Fe(Fe({},e),{},{message:"Service temporarily unavailable. Please try again in a moment.",isServiceUnavailable:!0}))):Promise.reject(e):(console.error("Network error:",e.message),console.error("Request URL:",null===(n=e.config)||void 0===n?void 0:n.url),console.error("Base URL:",null===(i=e.config)||void 0===i?void 0:i.baseURL),console.error("Full error:",e),Promise.reject(Fe(Fe({},e),{},{message:"Network error. Please check your connection. (".concat(e.message||"Unable to reach server",")"),isNetworkError:!0})))});const mn=pn,gn=r.p+"static/media/orchidlogo.f30f5147bac11ff9932e.png";var xn=r(579);function yn(){const[e,t]=(0,i.useState)(""),[r,n]=(0,i.useState)(""),[a,s]=(0,i.useState)(!1),o=se();return(0,xn.jsxs)("div",{className:"relative min-h-screen flex items-center justify-center overflow-hidden p-4",children:[(0,xn.jsx)("div",{className:"absolute inset-0 animate-gradient bg-gradient-to-br from-[#faf8f5] via-[#e8f5e9] to-[#c5e1a5]"}),(0,xn.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(15)].map((e,t)=>(0,xn.jsx)("div",{className:"absolute w-10 h-10 bg-[#8bc34a]/30 rounded-full animate-float",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(5*Math.random(),"s"),animationDuration:"".concat(5+10*Math.random(),"s")}},t))}),(0,xn.jsxs)("div",{className:"relative z-10 w-full max-w-md bg-white/95 backdrop-blur-lg rounded-2xl shadow-2xl p-6 sm:p-8 space-y-6 border border-[#c5e1a5]/50",children:[(0,xn.jsx)("div",{className:"flex justify-center mb-6",children:(0,xn.jsxs)("div",{className:"relative",children:[(0,xn.jsx)("div",{className:"absolute inset-0 bg-gray-800/30 rounded-full blur-xl"}),(0,xn.jsx)("div",{className:"relative bg-gradient-to-br from-gray-800 via-gray-900 to-black p-4 rounded-2xl shadow-lg border-2",style:{borderColor:"rgba(212, 175, 55, 0.3)"},children:(0,xn.jsx)("img",{src:gn,alt:"Orchid Resort Logo",className:"h-28 md:h-32 w-auto object-contain drop-shadow-md"})})]})}),(0,xn.jsx)("p",{className:"text-center text-[#2d5016] text-sm sm:text-base font-medium",children:"Sign in to your account"}),(0,xn.jsxs)("form",{className:"space-y-4",onSubmit:async t=>{t.preventDefault(),s(!0);try{const t=await mn.post("/auth/login",{email:e,password:r});t.data&&t.data.access_token?(localStorage.setItem("token",t.data.access_token),o("/dashboard",{replace:!0})):alert("Login failed: No token received from server.")}catch(a){var n,i;console.error("Login error:",a);const e=(null===(n=a.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.detail)||a.message||"Login failed. Please check your credentials.";alert(e)}finally{s(!1)}},children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Email / Username"}),(0,xn.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#8bc34a] focus:border-[#8bc34a] focus:outline-none transition-colors",required:!0})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Password"}),(0,xn.jsx)("input",{type:"password",value:r,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#8bc34a] focus:border-[#8bc34a] focus:outline-none transition-colors",required:!0})]}),(0,xn.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-[#8bc34a] to-[#7cb342] hover:from-[#7cb342] hover:to-[#689f38] text-white font-semibold py-2 px-4 rounded-lg shadow-lg transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98]",children:a?"Signing in...":"Sign In"})]}),(0,xn.jsx)("div",{className:"text-center text-sm text-gray-500",children:"\xa9 2025 Your Business. All rights reserved."})]}),(0,xn.jsx)("style",{children:"\n          @keyframes gradient-bg {\n            0%,100% { background-position: 0% 50%; }\n            50% { background-position: 100% 50%; }\n          }\n          .animate-gradient {\n            background-size: 200% 200%;\n            animation: gradient-bg 15s ease infinite;\n          }\n\n          @keyframes float {\n            0% { transform: translateY(0) translateX(0) rotate(0deg); opacity:0.5; }\n            50% { transform: translateY(-50px) translateX(20px) rotate(180deg); opacity:0.2; }\n            100% { transform: translateY(0) translateX(0) rotate(360deg); opacity:0.5; }\n          }\n          .animate-float {\n            animation-name: float;\n            animation-timing-function: ease-in-out;\n            animation-iteration-count: infinite;\n          }\n        "})]})}function vn(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy(function(){return e(...arguments)},{get:(r,n)=>"create"===n?e:(t.has(n)||t.set(n,e(n)),t.get(n))})}function bn(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function wn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const jn=e=>Array.isArray(e);function Nn(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function _n(e){return"string"===typeof e||Array.isArray(e)}function kn(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function Sn(e,t,r,n){if("function"===typeof t){const[i,a]=kn(n);t=t(void 0!==r?r:e.custom,i,a)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,a]=kn(n);t=t(void 0!==r?r:e.custom,i,a)}return t}function An(e,t,r){const n=e.getProps();return Sn(n,t,void 0!==r?r:n.custom,e)}const Cn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],En=["initial",...Cn];function Pn(e){let t;return()=>(void 0===t&&(t=e()),t)}const Tn=Pn(()=>void 0!==window.ScrollTimeline);class On{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(r=>Tn()&&r.attachTimeline?r.attachTimeline(e):"function"===typeof t?t(r):void 0);return()=>{r.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class In extends On{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Ln(e,t){return e?e[t]||e.default||e:void 0}const Dn=2e4;function Mn(e){let t=0;let r=e.next(t);for(;!r.done&&t<Dn;)t+=50,r=e.next(t);return t>=Dn?1/0:t}function Rn(e){return"function"===typeof e}function Fn(e,t){e.timeline=t,e.onfinish=null}const Bn=e=>Array.isArray(e)&&"number"===typeof e[0],zn={linearEasing:void 0};function Un(e,t){const r=Pn(e);return()=>{var e;return null!==(e=zn[t])&&void 0!==e?e:r()}}const qn=Un(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(UX){return!1}return!0},"linearEasing"),Wn=(e,t,r)=>{const n=t-e;return 0===n?1:(r-e)/n},Hn=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n="";const i=Math.max(Math.round(t/r),2);for(let a=0;a<i;a++)n+=e(Wn(0,i-1,a))+", ";return"linear(".concat(n.substring(0,n.length-2),")")};function Vn(e){return Boolean("function"===typeof e&&qn()||!e||"string"===typeof e&&(e in Kn||qn())||Bn(e)||Array.isArray(e)&&e.every(Vn))}const Gn=e=>{let[t,r,n,i]=e;return"cubic-bezier(".concat(t,", ").concat(r,", ").concat(n,", ").concat(i,")")},Kn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gn([0,.65,.55,1]),circOut:Gn([.55,0,1,.45]),backIn:Gn([.31,.01,.66,-.59]),backOut:Gn([.33,1.53,.69,.99])};function Yn(e,t){return e?"function"===typeof e&&qn()?Hn(e,t):Bn(e)?Gn(e):Array.isArray(e)?e.map(e=>Yn(e,t)||Kn.easeOut):Kn[e]:void 0}const Xn={x:!1,y:!1};function Qn(){return Xn.x||Xn.y}function $n(e,t){const r=function(e,t,r){var n;if(e instanceof Element)return[e];if("string"===typeof e){let i=document;t&&(i=t.current);const a=null!==(n=null===r||void 0===r?void 0:r[e])&&void 0!==n?n:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}(e),n=new AbortController;return[r,Fe(Fe({passive:!0},t),{},{signal:n.signal}),()=>n.abort()]}function Zn(e){return t=>{"touch"===t.pointerType||Qn()||e(t)}}const Jn=(e,t)=>!!t&&(e===t||Jn(e,t.parentElement)),ei=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,ti=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const ri=new WeakSet;function ni(e){return t=>{"Enter"===t.key&&e(t)}}function ii(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function ai(e){return ei(e)&&!Qn()}function si(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[n,i,a]=$n(e,r),s=e=>{const n=e.currentTarget;if(!ai(e)||ri.has(n))return;ri.add(n);const a=t(e),s=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),ai(e)&&ri.has(n)&&(ri.delete(n),"function"===typeof a&&a(e,{success:t}))},o=e=>{s(e,r.useGlobalTarget||Jn(n,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",o,i),window.addEventListener("pointercancel",l,i)};return n.forEach(e=>{(function(e){return ti.has(e.tagName)||-1!==e.tabIndex})(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0);(r.useGlobalTarget?window:e).addEventListener("pointerdown",s,i),e.addEventListener("focus",e=>((e,t)=>{const r=e.currentTarget;if(!r)return;const n=ni(()=>{if(ri.has(r))return;ii(r,"down");const e=ni(()=>{ii(r,"up")});r.addEventListener("keyup",e,t),r.addEventListener("blur",()=>ii(r,"cancel"),t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)})(e,i),i)}),a}const oi=e=>1e3*e,li=e=>e/1e3,ci=e=>e;const di=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ui=new Set(di),hi=new Set(["width","height","top","left","right","bottom",...di]),fi=e=>jn(e)?e[e.length-1]||0:e,pi=!1,mi=!1;const gi=["read","resolveKeyframes","update","preRender","render","postRender"];function xi(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,s=gi.reduce((e,t)=>(e[t]=function(e){let t=new Set,r=new Set,n=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(t){a.has(t)&&(l.schedule(t),e()),t(s)}const l={schedule:function(e){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&n?t:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),i.has(e)||i.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{s=e,n?i=!0:(n=!0,[t,r]=[r,t],t.forEach(o),t.clear(),n=!1,i&&(i=!1,l.process(e)))}};return l}(a),e),{}),{read:o,resolveKeyframes:l,update:c,preRender:d,render:u,postRender:h}=s,f=()=>{const a=mi?i.timestamp:performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(a-i.timestamp,40),1),i.timestamp=a,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(f))},p=gi.reduce((t,a)=>{const o=s[a];return t[a]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r||(r=!0,n=!0,i.isProcessing||e(f)),o.schedule(t,a,s)},t},{});return{schedule:p,cancel:e=>{for(let t=0;t<gi.length;t++)s[gi[t]].cancel(e)},state:i,steps:s}}const{schedule:yi,cancel:vi,state:bi,steps:wi}=xi("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:ci,!0);let ji;function Ni(){ji=void 0}const _i={now:()=>(void 0===ji&&_i.set(bi.isProcessing||mi?bi.timestamp:performance.now()),ji),set:e=>{ji=e,queueMicrotask(Ni)}};function ki(e,t){-1===e.indexOf(t)&&e.push(t)}function Si(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Ai{constructor(){this.subscriptions=[]}add(e){return ki(this.subscriptions,e),()=>Si(this.subscriptions,e)}notify(e,t,r){const n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,r);else for(let i=0;i<n;i++){const n=this.subscriptions[i];n&&n(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ci(e,t){return t?e*(1e3/t):0}const Ei={current:void 0};class Pi{constructor(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=_i.now();t.updatedAt!==n&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),r&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=_i.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Ai);const r=this.events[e].add(t);return"change"===e?()=>{r(),yi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Ei.current&&Ei.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=_i.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Ci(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ti(e,t){return new Pi(e,t)}const Oi=["transitionEnd","transition"];function Ii(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ti(r))}const Li=e=>Boolean(e&&e.getVelocity);function Di(e,t){const r=e.getValue("willChange");if(function(e){return Boolean(Li(e)&&e.add)}(r))return r.add(t)}const Mi=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ri="data-"+Mi("framerAppearId");function Fi(e){return e.props[Ri]}const Bi=!1,zi=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function Ui(e,t,r,n){if(e===t&&r===n)return ci;const i=t=>function(e,t,r,n,i){let a,s,o=0;do{s=t+(r-t)/2,a=zi(s,n,i)-e,a>0?r=s:t=s}while(Math.abs(a)>1e-7&&++o<12);return s}(t,0,1,e,r);return e=>0===e||1===e?e:zi(i(e),t,n)}const qi=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Wi=e=>t=>1-e(1-t),Hi=Ui(.33,1.53,.69,.99),Vi=Wi(Hi),Gi=qi(Vi),Ki=e=>(e*=2)<1?.5*Vi(e):.5*(2-Math.pow(2,-10*(e-1))),Yi=e=>1-Math.sin(Math.acos(e)),Xi=Wi(Yi),Qi=qi(Yi),$i=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function Zi(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||$i(e))}const Ji=(e,t,r)=>r>t?t:r<e?e:r,ea={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},ta=Fe(Fe({},ea),{},{transform:e=>Ji(0,1,e)}),ra=Fe(Fe({},ea),{},{default:1}),na=e=>Math.round(1e5*e)/1e5,ia=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const aa=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,sa=(e,t)=>r=>Boolean("string"===typeof r&&aa.test(r)&&r.startsWith(e)||t&&!function(e){return null==e}(r)&&Object.prototype.hasOwnProperty.call(r,t)),oa=(e,t,r)=>n=>{if("string"!==typeof n)return n;const[i,a,s,o]=n.match(ia);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(s),alpha:void 0!==o?parseFloat(o):1}},la=Fe(Fe({},ea),{},{transform:e=>Math.round((e=>Ji(0,255,e))(e))}),ca={test:sa("rgb","red"),parse:oa("red","green","blue"),transform:e=>{let{red:t,green:r,blue:n,alpha:i=1}=e;return"rgba("+la.transform(t)+", "+la.transform(r)+", "+la.transform(n)+", "+na(ta.transform(i))+")"}};const da={test:sa("#"),parse:function(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}},transform:ca.transform},ua=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),ha=ua("deg"),fa=ua("%"),pa=ua("px"),ma=ua("vh"),ga=ua("vw"),xa=Fe(Fe({},fa),{},{parse:e=>fa.parse(e)/100,transform:e=>fa.transform(100*e)}),ya={test:sa("hsl","hue"),parse:oa("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:r,lightness:n,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+fa.transform(na(r))+", "+fa.transform(na(n))+", "+na(ta.transform(i))+")"}},va={test:e=>ca.test(e)||da.test(e)||ya.test(e),parse:e=>ca.test(e)?ca.parse(e):ya.test(e)?ya.parse(e):da.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?ca.transform(e):ya.transform(e)},ba=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const wa="number",ja="color",Na=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function _a(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const s=t.replace(Na,e=>(va.test(e)?(n.color.push(a),i.push(ja),r.push(va.parse(e))):e.startsWith("var(")?(n.var.push(a),i.push("var"),r.push(e)):(n.number.push(a),i.push(wa),r.push(parseFloat(e))),++a,"${}")).split("${}");return{values:r,split:s,indexes:n,types:i}}function ka(e){return _a(e).values}function Sa(e){const{split:t,types:r}=_a(e),n=t.length;return e=>{let i="";for(let a=0;a<n;a++)if(i+=t[a],void 0!==e[a]){const t=r[a];i+=t===wa?na(e[a]):t===ja?va.transform(e[a]):e[a]}return i}}const Aa=e=>"number"===typeof e?0:e;const Ca={test:function(e){var t,r;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(ia))||void 0===t?void 0:t.length)||0)+((null===(r=e.match(ba))||void 0===r?void 0:r.length)||0)>0},parse:ka,createTransformer:Sa,getAnimatableNone:function(e){const t=ka(e);return Sa(e)(t.map(Aa))}},Ea=new Set(["brightness","contrast","saturate","opacity"]);function Pa(e){const[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[n]=r.match(ia)||[];if(!n)return e;const i=r.replace(n,"");let a=Ea.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const Ta=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,Oa=Fe(Fe({},Ca),{},{getAnimatableNone:e=>{const t=e.match(Ta);return t?t.map(Pa).join(" "):e}}),Ia={borderWidth:pa,borderTopWidth:pa,borderRightWidth:pa,borderBottomWidth:pa,borderLeftWidth:pa,borderRadius:pa,radius:pa,borderTopLeftRadius:pa,borderTopRightRadius:pa,borderBottomRightRadius:pa,borderBottomLeftRadius:pa,width:pa,maxWidth:pa,height:pa,maxHeight:pa,top:pa,right:pa,bottom:pa,left:pa,padding:pa,paddingTop:pa,paddingRight:pa,paddingBottom:pa,paddingLeft:pa,margin:pa,marginTop:pa,marginRight:pa,marginBottom:pa,marginLeft:pa,backgroundPositionX:pa,backgroundPositionY:pa},La={rotate:ha,rotateX:ha,rotateY:ha,rotateZ:ha,scale:ra,scaleX:ra,scaleY:ra,scaleZ:ra,skew:ha,skewX:ha,skewY:ha,distance:pa,translateX:pa,translateY:pa,translateZ:pa,x:pa,y:pa,z:pa,perspective:pa,transformPerspective:pa,opacity:ta,originX:xa,originY:xa,originZ:pa},Da=Fe(Fe({},ea),{},{transform:Math.round}),Ma=Fe(Fe(Fe({},Ia),La),{},{zIndex:Da,size:pa,fillOpacity:ta,strokeOpacity:ta,numOctaves:Da}),Ra=Fe(Fe({},Ma),{},{color:va,backgroundColor:va,outlineColor:va,fill:va,stroke:va,borderColor:va,borderTopColor:va,borderRightColor:va,borderBottomColor:va,borderLeftColor:va,filter:Oa,WebkitFilter:Oa}),Fa=e=>Ra[e];function Ba(e,t){let r=Fa(e);return r!==Oa&&(r=Ca),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const za=new Set(["auto","none","0"]);const Ua=e=>e===ea||e===pa,qa=(e,t)=>parseFloat(e.split(", ")[t]),Wa=(e,t)=>(r,n)=>{let{transform:i}=n;if("none"===i||!i)return 0;const a=i.match(/^matrix3d\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);if(a)return qa(a[1],t);{const t=i.match(/^matrix\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);return t?qa(t[1],e):0}},Ha=new Set(["x","y","z"]),Va=di.filter(e=>!Ha.has(e));const Ga={width:(e,t)=>{let{x:r}=e,{paddingLeft:n="0",paddingRight:i="0"}=t;return r.max-r.min-parseFloat(n)-parseFloat(i)},height:(e,t)=>{let{y:r}=e,{paddingTop:n="0",paddingBottom:i="0"}=t;return r.max-r.min-parseFloat(n)-parseFloat(i)},top:(e,t)=>{let{top:r}=t;return parseFloat(r)},left:(e,t)=>{let{left:r}=t;return parseFloat(r)},bottom:(e,t)=>{let{y:r}=e,{top:n}=t;return parseFloat(n)+(r.max-r.min)},right:(e,t)=>{let{x:r}=e,{left:n}=t;return parseFloat(n)+(r.max-r.min)},x:Wa(4,13),y:Wa(5,14)};Ga.translateX=Ga.x,Ga.translateY=Ga.y;const Ka=new Set;let Ya=!1,Xa=!1;function Qa(){if(Xa){const e=Array.from(Ka).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),r=new Map;t.forEach(e=>{const t=function(e){const t=[];return Va.forEach(r=>{const n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}(e);t.length&&(r.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=r.get(e);t&&t.forEach(t=>{let[r,n]=t;var i;null===(i=e.getValue(r))||void 0===i||i.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}Xa=!1,Ya=!1,Ka.forEach(e=>e.complete()),Ka.clear()}function $a(){Ka.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Xa=!0)})}class Za{constructor(e,t,r,n,i){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=n,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ka.add(this),Ya||(Ya=!0,yi.read($a),yi.resolveKeyframes(Qa))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:n}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null===n||void 0===n?void 0:n.get(),a=e[e.length-1];if(void 0!==i)e[0]=i;else if(r&&t){const n=r.readValue(t,a);void 0!==n&&null!==n&&(e[0]=n)}void 0===e[0]&&(e[0]=a),n&&void 0===i&&n.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ka.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ka.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let Ja=ci,es=ci;const ts=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),rs=e=>t=>"string"===typeof t&&t.startsWith(e),ns=rs("--"),is=rs("var(--"),as=e=>!!is(e)&&ss.test(e.split("/*")[0].trim()),ss=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,os=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function ls(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;es(r<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[n,i]=function(e){const t=os.exec(e);if(!t)return[,];const[,r,n,i]=t;return["--".concat(null!==r&&void 0!==r?r:n),i]}(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const e=a.trim();return ts(e)?parseFloat(e):e}return as(i)?ls(i,t,r+1):i}const cs=e=>t=>t.test(e),ds=[ea,pa,fa,ha,ga,ma,{test:e=>"auto"===e,parse:e=>e}],us=e=>ds.find(cs(e));class hs extends Za{constructor(e,t,r,n,i){super(e,t,r,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let r=e[o];if("string"===typeof r&&(r=r.trim(),as(r))){const n=ls(r,t.current);void 0!==n&&(e[o]=n),o===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!hi.has(r)||2!==e.length)return;const[n,i]=e,a=us(n),s=us(i);if(a!==s)if(Ua(a)&&Ua(s))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let n=0;n<e.length;n++)Zi(e[n])&&r.push(n);r.length&&function(e,t,r){let n,i=0;for(;i<e.length&&!n;){const t=e[i];"string"===typeof t&&!za.has(t)&&_a(t).values.length&&(n=e[i]),i++}if(n&&r)for(const a of t)e[a]=Ba(r,n)}(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ga[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const n=t[t.length-1];void 0!==n&&e.getValue(r,n).jump(n,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,s=n[a];n[a]=Ga[r](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach(e=>{let[r,n]=e;t.getValue(r).set(n)}),this.resolveNoneKeyframes()}}const fs=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Ca.test(e)&&"0"!==e||e.startsWith("url(")));function ps(e,t,r,n){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],s=fs(i,t),o=fs(a,t);return Ja(s===o,"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(a,'". ').concat(i," is not an animatable value - to enable this animation set ").concat(i," to a value animatable to ").concat(a," via the `style` property.")),!(!s||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}(e)||("spring"===r||Rn(r))&&n)}const ms=e=>null!==e;function gs(e,t,r){let{repeat:n,repeatType:i="loop"}=t;const a=e.filter(ms),s=n&&"loop"!==i&&n%2===1?0:a.length-1;return s&&void 0!==r?r:a[s]}const xs=["autoplay","delay","type","repeat","repeatDelay","repeatType"];class ys{constructor(e){let{autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop"}=e,o=wn(e,xs);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=_i.now(),this.options=Fe({autoplay:t,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:s},o),this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||($a(),Qa()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=_i.now(),this.hasAttemptedResolve=!0;const{name:r,type:n,velocity:i,delay:a,onComplete:s,onUpdate:o,isGenerator:l}=this.options;if(!l&&!ps(e,r,n,i)){if(Bi||!a)return o&&o(gs(e,this.options,t)),s&&s(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved=Fe({keyframes:e,finalKeyframe:t},c),this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const vs=(e,t,r)=>e+(t-e)*r;function bs(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ws(e,t){return r=>r>0?t:e}const js=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},Ns=[da,ca,ya];function _s(e){const t=(e=>Ns.find(t=>t.test(e)))(e);if(Ja(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")),!Boolean(t))return!1;let r=t.parse(e);return t===ya&&(r=function(e){let{hue:t,saturation:r,lightness:n,alpha:i}=e;t/=360,r/=100,n/=100;let a=0,s=0,o=0;if(r){const e=n<.5?n*(1+r):n+r-n*r,i=2*n-e;a=bs(i,e,t+1/3),s=bs(i,e,t),o=bs(i,e,t-1/3)}else a=s=o=n;return{red:Math.round(255*a),green:Math.round(255*s),blue:Math.round(255*o),alpha:i}}(r)),r}const ks=(e,t)=>{const r=_s(e),n=_s(t);if(!r||!n)return ws(e,t);const i=Fe({},r);return e=>(i.red=js(r.red,n.red,e),i.green=js(r.green,n.green,e),i.blue=js(r.blue,n.blue,e),i.alpha=vs(r.alpha,n.alpha,e),ca.transform(i))},Ss=(e,t)=>r=>t(e(r)),As=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(Ss)},Cs=new Set(["none","hidden"]);function Es(e,t){return r=>vs(e,t,r)}function Ps(e){return"number"===typeof e?Es:"string"===typeof e?as(e)?ws:va.test(e)?ks:Is:Array.isArray(e)?Ts:"object"===typeof e?va.test(e)?ks:Os:ws}function Ts(e,t){const r=[...e],n=r.length,i=e.map((e,r)=>Ps(e)(e,t[r]));return e=>{for(let t=0;t<n;t++)r[t]=i[t](e);return r}}function Os(e,t){const r=Fe(Fe({},e),t),n={};for(const i in r)void 0!==e[i]&&void 0!==t[i]&&(n[i]=Ps(e[i])(e[i],t[i]));return e=>{for(const t in n)r[t]=n[t](e);return r}}const Is=(e,t)=>{const r=Ca.createTransformer(t),n=_a(e),i=_a(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Cs.has(e)&&!i.values.length||Cs.has(t)&&!n.values.length?function(e,t){return Cs.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}(e,t):As(Ts(function(e,t){var r;const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],o=e.indexes[s][i[s]],l=null!==(r=e.values[o])&&void 0!==r?r:0;n[a]=l,i[s]++}return n}(n,i),i.values),r):(Ja(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),ws(e,t))};function Ls(e,t,r){if("number"===typeof e&&"number"===typeof t&&"number"===typeof r)return vs(e,t,r);return Ps(e)(e,t)}function Ds(e,t,r){const n=Math.max(t-5,0);return Ci(r-e(n),t-n)}const Ms={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rs=.001;function Fs(e){let t,r,{duration:n=Ms.duration,bounce:i=Ms.bounce,velocity:a=Ms.velocity,mass:s=Ms.mass}=e;Ja(n<=oi(Ms.maxDuration),"Spring duration must be 10 seconds or less");let o=1-i;o=Ji(Ms.minDamping,Ms.maxDamping,o),n=Ji(Ms.minDuration,Ms.maxDuration,li(n)),o<1?(t=e=>{const t=e*o,r=t*n,i=t-a,s=zs(e,o),l=Math.exp(-r);return Rs-i/s*l},r=e=>{const r=e*o*n,i=r*a+a,s=Math.pow(o,2)*Math.pow(e,2)*n,l=Math.exp(-r),c=zs(Math.pow(e,2),o);return(-t(e)+Rs>0?-1:1)*((i-s)*l)/c}):(t=e=>Math.exp(-e*n)*((e-a)*n+1)-.001,r=e=>Math.exp(-e*n)*(n*n*(a-e)));const l=function(e,t,r){let n=r;for(let i=1;i<Bs;i++)n-=e(n)/t(n);return n}(t,r,5/n);if(n=oi(n),isNaN(l))return{stiffness:Ms.stiffness,damping:Ms.damping,duration:n};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*o*Math.sqrt(s*e),duration:n}}}const Bs=12;function zs(e,t){return e*Math.sqrt(1-t*t)}const Us=["duration","bounce"],qs=["stiffness","damping","mass"];function Ws(e,t){return t.some(t=>void 0!==e[t])}function Hs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ms.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ms.bounce;const r="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:f}=function(e){let t=Fe({velocity:Ms.velocity,stiffness:Ms.stiffness,damping:Ms.damping,mass:Ms.mass,isResolvedFromDuration:!1},e);if(!Ws(e,qs)&&Ws(e,Us))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(1.2*r),i=n*n,a=2*Ji(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=Fe(Fe({},t),{},{mass:Ms.mass,stiffness:i,damping:a})}else{const r=Fs(e);t=Fe(Fe(Fe({},t),r),{},{mass:Ms.mass}),t.isResolvedFromDuration=!0}return t}(Fe(Fe({},r),{},{velocity:-li(r.velocity||0)})),p=h||0,m=c/(2*Math.sqrt(l*d)),g=s-a,x=li(Math.sqrt(l/d)),y=Math.abs(g)<5;let v;if(n||(n=y?Ms.restSpeed.granular:Ms.restSpeed.default),i||(i=y?Ms.restDelta.granular:Ms.restDelta.default),m<1){const e=zs(x,m);v=t=>{const r=Math.exp(-m*x*t);return s-r*((p+m*x*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)v=e=>s-Math.exp(-x*e)*(g+(p+x*g)*e);else{const e=x*Math.sqrt(m*m-1);v=t=>{const r=Math.exp(-m*x*t),n=Math.min(e*t,300);return s-r*((p+m*x*g)*Math.sinh(n)+e*g*Math.cosh(n))/e}}const b={calculatedDuration:f&&u||null,next:e=>{const t=v(e);if(f)o.done=e>=u;else{let r=0;m<1&&(r=0===e?oi(p):Ds(v,e,t));const a=Math.abs(r)<=n,l=Math.abs(s-t)<=i;o.done=a&&l}return o.value=o.done?s:t,o},toString:()=>{const e=Math.min(Mn(b),Dn),t=Hn(t=>b.next(e*t).value,e,30);return e+"ms "+t}};return b}function Vs(e){let{keyframes:t,velocity:r=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=n*r;const g=h+m,x=void 0===o?g:o(g);x!==g&&(m=x-h);const y=e=>-m*Math.exp(-e/i),v=e=>x+y(e),b=e=>{const t=y(e),r=v(e);f.done=Math.abs(t)<=d,f.value=f.done?x:r};let w,j;const N=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(w=e,j=Hs({keyframes:[f.value,p(f.value)],velocity:Ds(v,e,f.value),damping:a,stiffness:s,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==w||(t=!0,b(e),N(e)),void 0!==w&&e>=w?j.next(e-w):(!t&&b(e),f)}}}const Gs=Ui(.42,0,1,1),Ks=Ui(0,0,.58,1),Ys=Ui(.42,0,.58,1),Xs={linear:ci,easeIn:Gs,easeInOut:Ys,easeOut:Ks,circIn:Yi,circInOut:Qi,circOut:Xi,backIn:Vi,backInOut:Gi,backOut:Hi,anticipate:Ki},Qs=e=>{if(Bn(e)){es(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,r,n,i]=e;return Ui(t,r,n,i)}return"string"===typeof e?(es(void 0!==Xs[e],"Invalid easing type '".concat(e,"'")),Xs[e]):e};function $s(e,t){let{clamp:r=!0,ease:n,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(es(a===t.length,"Both input and output ranges must be the same length"),1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,r){const n=[],i=r||Ls,a=e.length-1;for(let s=0;s<a;s++){let r=i(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||ci:t;r=As(e,r)}n.push(r)}return n}(t,n,i),l=o.length,c=r=>{if(s&&r<e[0])return t[0];let n=0;if(l>1)for(;n<e.length-2&&!(r<e[n+1]);n++);const i=Wn(e[n],e[n+1],r);return o[n](i)};return r?t=>c(Ji(e[0],e[a-1],t)):c}function Zs(e){const t=[0];return function(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Wn(0,t,n);e.push(vs(r,1,i))}}(t,e.length-1),t}function Js(e){let{duration:t=300,keyframes:r,times:n,ease:i="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(Qs):Qs(i),s={done:!1,value:r[0]},o=function(e,t){return e.map(e=>e*t)}(n&&n.length===r.length?n:Zs(r),t),l=$s(o,r,{ease:Array.isArray(a)?a:(c=r,d=a,c.map(()=>d||Ys).splice(0,c.length-1))});var c,d;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const eo=e=>{const t=t=>{let{timestamp:r}=t;return e(r)};return{start:()=>yi.update(t,!0),stop:()=>vi(t),now:()=>bi.isProcessing?bi.timestamp:_i.now()}},to={decay:Vs,inertia:Vs,tween:Js,keyframes:Js,spring:Hs},ro=e=>e/100;class no extends ys{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:r,element:n,keyframes:i}=this.options,a=(null===n||void 0===n?void 0:n.KeyframeResolver)||Za;this.resolver=new a(i,(e,t)=>this.onKeyframesResolved(e,t),t,r,n),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:n=0,repeatType:i,velocity:a=0}=this.options,s=Rn(t)?t:to[t]||Js;let o,l;s!==Js&&"number"!==typeof e[0]&&(o=As(ro,Ls(e[0],e[1])),e=[0,100]);const c=s(Fe(Fe({},this.options),{},{keyframes:e}));"mirror"===i&&(l=s(Fe(Fe({},this.options),{},{keyframes:[...e].reverse(),velocity:-a}))),null===c.calculatedDuration&&(c.calculatedDuration=Mn(c));const{calculatedDuration:d}=c,u=d+n;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:d,resolvedDuration:u,totalDuration:u*(r+1)-n}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:r}=this;if(!r){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:n,generator:i,mirroredGenerator:a,mapPercentToKeyframes:s,keyframes:o,calculatedDuration:l,totalDuration:c,resolvedDuration:d}=r;if(null===this.startTime)return i.next(0);const{delay:u,repeat:h,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-u*(this.speed>=0?1:-1),x=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,v=i;if(h){const e=Math.min(this.currentTime,c)/d;let t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===f?(r=1-r,p&&(r-=p/d)):"mirror"===f&&(v=a)),y=Ji(0,1,r)*d}const b=x?{done:!1,value:o[0]}:v.next(y);s&&(b.value=s(b.value));let{done:w}=b;x||null===l||(w=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&void 0!==n&&(b.value=gs(o,this.options,n)),m&&m(b.value),j&&this.finish(),b}get duration(){const{resolved:e}=this;return e?li(e.calculatedDuration):0}get time(){return li(this.currentTime)}set time(e){e=oi(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=li(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=eo,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();const n=this.driver.now();null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=n):this.startTime=null!==r&&void 0!==r?r:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const io=new Set(["opacity","clipPath","filter","transform"]);const ao=Pn(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),so=["onComplete","onUpdate","motionValue","element"],oo=["motionValue","onUpdate","onComplete","element"];const lo={anticipate:Ki,backInOut:Gi,circInOut:Qi};class co extends ys{constructor(e){super(e);const{name:t,motionValue:r,element:n,keyframes:i}=this.options;this.resolver=new hs(i,(e,t)=>this.onKeyframesResolved(e,t),t,r,n),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:n,ease:i,type:a,motionValue:s,name:o,startTime:l}=this.options;if(!s.owner||!s.owner.current)return!1;var c;if("string"===typeof i&&qn()&&i in lo&&(i=lo[i]),Rn((c=this.options).type)||"spring"===c.type||!Vn(c.ease)){const t=this.options,{onComplete:s,onUpdate:o,motionValue:l,element:c}=t,d=wn(t,so),u=function(e,t){const r=new no(Fe(Fe({},t),{},{keyframes:e,repeat:0,delay:0,isGenerator:!0}));let n={done:!1,value:e[0]};const i=[];let a=0;for(;!n.done&&a<2e4;)n=r.sample(a),i.push(n.value),a+=10;return{times:void 0,keyframes:i,duration:a-10,ease:"linear"}}(e,d);1===(e=u.keyframes).length&&(e[1]=e[0]),r=u.duration,n=u.times,i=u.ease,a="keyframes"}const d=function(e,t,r){let{delay:n=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:r};l&&(c.offset=l);const d=Yn(o,i);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===s?"alternate":"normal"})}(s.owner.current,o,e,Fe(Fe({},this.options),{},{duration:r,times:n,ease:i}));return d.startTime=null!==l&&void 0!==l?l:this.calcStartTime(),this.pendingTimeline?(Fn(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:r}=this.options;s.set(gs(e,this.options,t)),r&&r(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:n,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return li(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return li(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=oi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return ci;const{animation:r}=t;Fn(r,e)}else this.pendingTimeline=e;return ci}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:n,type:i,ease:a,times:s}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const e=this.options,{motionValue:t,onUpdate:o,onComplete:l,element:c}=e,d=wn(e,oo),u=new no(Fe(Fe({},d),{},{keyframes:r,duration:n,type:i,ease:a,times:s,isGenerator:!0})),h=oi(this.time);t.setWithVelocity(u.sample(h-10).value,u.sample(h).value,10)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:a,type:s}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return ao()&&r&&io.has(r)&&!o&&!l&&!n&&"mirror"!==i&&0!==a&&"inertia"!==s}}const uo={type:"spring",stiffness:500,damping:25,restSpeed:10},ho={type:"keyframes",duration:.8},fo={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},po=(e,t)=>{let{keyframes:r}=t;return r.length>2?ho:ui.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===r[1]?2*Math.sqrt(550):30,restSpeed:10}:uo:fo},mo=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const go=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return s=>{const o=Ln(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c-=oi(l);let d=Fe(Fe({keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity()},o),{},{delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:i});(function(e){let{when:t,delay:r,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:d}=e,u=wn(e,mo);return!!Object.keys(u).length})(o)||(d=Fe(Fe({},d),po(e,d))),d.duration&&(d.duration=oi(d.duration)),d.repeatDelay&&(d.repeatDelay=oi(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(u=!0)),(Bi||pi)&&(u=!0,d.duration=0,d.delay=0),u&&!a&&void 0!==t.get()){const e=gs(d.keyframes,o);if(void 0!==e)return yi.update(()=>{d.onUpdate(e),d.onComplete()}),new In([])}return!a&&co.supports(d)?new co(d):new no(d)}},xo=["transition","transitionEnd"];function yo(e,t){let{protectedKeys:r,needsAnimating:n}=e;const i=r.hasOwnProperty(t)&&!0!==n[t];return n[t]=!1,i}function vo(e,t){let{delay:r=0,transitionOverride:n,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var a;let{transition:s=e.getDefaultTransition(),transitionEnd:o}=t,l=wn(t,xo);n&&(s=n);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const u in l){const t=e.getValue(u,null!==(a=e.latestValues[u])&&void 0!==a?a:null),n=l[u];if(void 0===n||d&&yo(d,u))continue;const i=Fe({delay:r},Ln(s||{},u));let o=!1;if(window.MotionHandoffAnimation){const t=Fi(e);if(t){const e=window.MotionHandoffAnimation(t,u,yi);null!==e&&(i.startTime=e,o=!0)}}Di(e,u),t.start(go(u,t,n,e.shouldReduceMotion&&hi.has(u)?{type:!1}:i,e,o));const h=t.animation;h&&c.push(h)}return o&&Promise.all(c).then(()=>{yi.update(()=>{o&&function(e,t){let r=An(e,t)||{},{transitionEnd:n={},transition:i={}}=r,a=wn(r,Oi);a=Fe(Fe({},a),n);for(const s in a)Ii(e,s,fi(a[s]))}(e,o)})}),c}function bo(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n;const i=An(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const s=i?()=>Promise.all(vo(e,i,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:s,staggerDirection:o}=a;return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0;const s=[],o=(e.variantChildren.size-1)*n,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*n}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*n};return Array.from(e.variantChildren).sort(wo).forEach((e,n)=>{e.notify("AnimationStart",t),s.push(bo(e,t,Fe(Fe({},a),{},{delay:r+l(n)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(s)}(e,t,i+n,s,o,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[e,t]="beforeChildren"===l?[s,o]:[o,s];return e().then(()=>t())}return Promise.all([s(),o(r.delay)])}function wo(e,t){return e.sortNodePosition(t)}const jo=En.length;function No(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&No(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let r=0;r<jo;r++){const n=En[r],i=e.props[n];(_n(i)||!1===i)&&(t[n]=i)}return t}const _o=["transition","transitionEnd"],ko=[...Cn].reverse(),So=Cn.length;function Ao(e){return t=>Promise.all(t.map(t=>{let{animation:r,options:n}=t;return function(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>bo(e,t,n));r=Promise.all(i)}else if("string"===typeof t)r=bo(e,t,n);else{const i="function"===typeof t?An(e,t,n.custom):t;r=Promise.all(vo(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}(e,r,n)}))}function Co(e){let t=Ao(e),r=To(),n=!0;const i=t=>(r,n)=>{var i;const a=An(e,n,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(a){const{transition:e,transitionEnd:t}=a,n=wn(a,_o);r=Fe(Fe(Fe({},r),n),t)}return r};function a(a){const{props:s}=e,o=No(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<So;t++){const h=ko[t],f=r[h],p=void 0!==s[h]?s[h]:o[h],m=_n(p),g=h===a?f.isActive:null;!1===g&&(u=t);let x=p===o[h]&&p!==s[h]&&m;if(x&&n&&e.manuallyAnimateOnMount&&(x=!1),f.protectedKeys=Fe({},d),!f.isActive&&null===g||!p&&!f.prevProp||bn(p)||"boolean"===typeof p)continue;const y=Eo(f.prevProp,p);let v=y||h===a&&f.isActive&&!x&&m||t>u&&m,b=!1;const w=Array.isArray(p)?p:[p];let j=w.reduce(i(h),{});!1===g&&(j={});const{prevResolvedValues:N={}}=f,_=Fe(Fe({},N),j),k=t=>{v=!0,c.has(t)&&(b=!0,c.delete(t)),f.needsAnimating[t]=!0;const r=e.getValue(t);r&&(r.liveStyle=!1)};for(const e in _){const t=j[e],r=N[e];if(d.hasOwnProperty(e))continue;let n=!1;n=jn(t)&&jn(r)?!Nn(t,r):t!==r,n?void 0!==t&&null!==t?k(e):c.add(e):void 0!==t&&c.has(e)?k(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=j,f.isActive&&(d=Fe(Fe({},d),j)),n&&e.blockInitialAnimation&&(v=!1);v&&(!(x&&y)||b)&&l.push(...w.map(e=>({animation:e,options:{type:h}})))}if(c.size){const t={};c.forEach(r=>{const n=e.getBaseTarget(r),i=e.getValue(r);i&&(i.liveStyle=!0),t[r]=null!==n&&void 0!==n?n:null}),l.push({animation:t})}let h=Boolean(l.length);return!n||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(h=!1),n=!1,h?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,n){var i;if(r[t].isActive===n)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)}),r[t].isActive=n;const s=a(t);for(const e in r)r[e].protectedKeys={};return s},setAnimateFunction:function(r){t=r(e)},getState:()=>r,reset:()=>{r=To(),n=!0}}}function Eo(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Nn(t,e)}function Po(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function To(){return{animate:Po(!0),whileInView:Po(),whileHover:Po(),whileTap:Po(),whileDrag:Po(),whileFocus:Po(),exit:Po()}}class Oo{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Io=0;const Lo={animation:{Feature:class extends Oo{constructor(e){super(e),e.animationState||(e.animationState=Co(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bn(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Oo{constructor(){super(...arguments),this.id=Io++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const n=this.node.animationState.setActive("exit",!e);t&&!e&&n.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};function Do(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Mo(e){return{point:{x:e.pageX,y:e.pageY}}}function Ro(e,t,r,n){return Do(e,t,(e=>t=>ei(t)&&e(t,Mo(t)))(r),n)}const Fo=(e,t)=>Math.abs(e-t);class Bo{constructor(e,t){let{transformPagePoint:r,contextWindow:n,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=qo(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,r=function(e,t){const r=Fo(e.x,t.x),n=Fo(e.y,t.y);return Math.sqrt(r**2+n**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!r)return;const{point:n}=e,{timestamp:i}=bi;this.history.push(Fe(Fe({},n),{},{timestamp:i}));const{onStart:a,onMove:s}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=zo(t,this.transformPagePoint),yi.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:r,onSessionEnd:n,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=qo("pointercancel"===e.type?this.lastMoveEventInfo:zo(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,a),n&&n(e,a)},!ei(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=r,this.contextWindow=n||window;const a=zo(Mo(e),this.transformPagePoint),{point:s}=a,{timestamp:o}=bi;this.history=[Fe(Fe({},s),{},{timestamp:o})];const{onSessionStart:l}=t;l&&l(e,qo(a,this.history)),this.removeListeners=As(Ro(this.contextWindow,"pointermove",this.handlePointerMove),Ro(this.contextWindow,"pointerup",this.handlePointerUp),Ro(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vi(this.updatePoint)}}function zo(e,t){return t?{point:t(e.point)}:e}function Uo(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qo(e,t){let{point:r}=e;return{point:r,delta:Uo(r,Ho(t)),offset:Uo(r,Wo(t)),velocity:Vo(t,.1)}}function Wo(e){return e[0]}function Ho(e){return e[e.length-1]}function Vo(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=Ho(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>oi(t)));)r--;if(!n)return{x:0,y:0};const a=li(i.timestamp-n.timestamp);if(0===a)return{x:0,y:0};const s={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Go(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Ko(e){return e.max-e.min}function Yo(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=n,e.originPoint=vs(t.min,t.max,e.origin),e.scale=Ko(r)/Ko(t),e.translate=vs(r.min,r.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Xo(e,t,r,n){Yo(e.x,t.x,r.x,n?n.originX:void 0),Yo(e.y,t.y,r.y,n?n.originY:void 0)}function Qo(e,t,r){e.min=r.min+t.min,e.max=e.min+Ko(t)}function $o(e,t,r){e.min=t.min-r.min,e.max=e.min+Ko(t)}function Zo(e,t,r){$o(e.x,t.x,r.x),$o(e.y,t.y,r.y)}function Jo(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function el(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}const tl=.35;function rl(e,t,r){return{min:nl(e,t),max:nl(e,r)}}function nl(e,t){return"number"===typeof e?e:e[t]||0}const il=()=>({x:{min:0,max:0},y:{min:0,max:0}});function al(e){return[e("x"),e("y")]}function sl(e){let{top:t,left:r,right:n,bottom:i}=e;return{x:{min:r,max:n},y:{min:t,max:i}}}function ol(e){return void 0===e||1===e}function ll(e){let{scale:t,scaleX:r,scaleY:n}=e;return!ol(t)||!ol(r)||!ol(n)}function cl(e){return ll(e)||dl(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function dl(e){return ul(e.x)||ul(e.y)}function ul(e){return e&&"0%"!==e}function hl(e,t,r){return r+t*(e-r)}function fl(e,t,r,n,i){return void 0!==i&&(e=hl(e,i,n)),hl(e,r,n)+t}function pl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=fl(e.min,t,r,n,i),e.max=fl(e.max,t,r,n,i)}function ml(e,t){let{x:r,y:n}=t;pl(e.x,r.translate,r.scale,r.originPoint),pl(e.y,n.translate,n.scale,n.originPoint)}const gl=.999999999999,xl=1.0000000000001;function yl(e,t){e.min=e.min+t,e.max=e.max+t}function vl(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;pl(e,t,r,vs(e.min,e.max,i),n)}function bl(e,t){vl(e.x,t.x,t.scaleX,t.scale,t.originX),vl(e.y,t.y,t.scaleY,t.scale,t.originY)}function wl(e,t){return sl(function(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}const jl=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Nl=new WeakMap;class _l{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:n}=this.getProps();this.panSession=new Bo(e,{onSessionStart:e=>{const{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Mo(e).point)},onStart:(e,t)=>{const{drag:r,dragPropagation:n,onDragStart:i}=this.getProps();if(r&&!n&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=r)||"y"===a?Xn[a]?null:(Xn[a]=!0,()=>{Xn[a]=!1}):Xn.x||Xn.y?null:(Xn.x=Xn.y=!0,()=>{Xn.x=Xn.y=!1}),!this.openDragLock))return;var a;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),al(e=>{let t=this.getAxisMotionValue(e).get()||0;if(fa.test(t)){const{projection:r}=this.visualElement;if(r&&r.layout){const n=r.layout.layoutBox[e];if(n){t=Ko(n)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&yi.postRender(()=>i(e,t)),Di(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:r,dragDirectionLock:n,onDirectionLock:i,onDrag:a}=this.getProps();if(!r&&!this.openDragLock)return;const{offset:s}=t;if(n&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=null;Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x");return r}(s),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>al(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:n,contextWindow:jl(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:n}=t;this.startAnimation(n);const{onDragEnd:i}=this.getProps();i&&yi.postRender(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:n}=this.getProps();if(!r||!kl(e,n,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=function(e,t,r){let{min:n,max:i}=t;return void 0!==n&&e<n?e=r?vs(n,e,r.min):Math.max(e,n):void 0!==i&&e>i&&(e=r?vs(i,e,r.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Go(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(e,t){let{top:r,left:n,bottom:i,right:a}=t;return{x:Jo(e.x,n,a),y:Jo(e.y,r,i)}}(n.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tl;return!1===e?e=0:!0===e&&(e=tl),{x:rl(e,"left","right"),y:rl(e,"top","bottom")}}(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&al(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Go(e))return!1;const r=e.current;es(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=function(e,t,r){const n=wl(e,r),{scroll:i}=t;return i&&(yl(n.x,i.offset.x),yl(n.y,i.offset.y)),n}(r,n.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:el(e.x,t.x),y:el(e.y,t.y)}}(n.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:r}=e;return{top:r.min,right:t.max,bottom:r.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=sl(e))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:n,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),o=this.constraints||{},l=al(s=>{if(!kl(s,t,this.currentDirection))return;let l=o&&o[s]||{};a&&(l={min:0,max:0});const c=n?200:1e6,d=n?40:1e7,u=Fe(Fe({type:"inertia",velocity:r?e[s]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(s,u)});return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Di(this.visualElement,e),r.start(go(e,r,0,t,this.visualElement,!1))}stopAnimation(){al(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){al(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),r=this.visualElement.getProps(),n=r[t];return n||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){al(t=>{const{drag:r}=this.getProps();if(!kl(t,r,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(t);if(n&&n.layout){const{min:r,max:a}=n.layout.layoutBox[t];i.set(e[t]-vs(r,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Go(t)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};al(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const r=t.get();n[e]=function(e,t){let r=.5;const n=Ko(e),i=Ko(t);return i>n?r=Wn(t.min,t.max-n,e.min):n>i&&(r=Wn(e.min,e.max-i,t.min)),Ji(0,1,r)}({min:r,max:r},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),al(t=>{if(!kl(t,e,null))return;const r=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];r.set(vs(i,a,n[t]))})}addListeners(){if(!this.visualElement.current)return;Nl.set(this.visualElement,this);const e=Ro(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Go(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,n=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),yi.read(t);const i=Do(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:r}=e;this.isDragging&&r&&(al(e=>{const r=this.getAxisMotionValue(e);r&&(this.originPoint[e]+=t[e].translate,r.set(r.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),n(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:a=tl,dragMomentum:s=!0}=e;return Fe(Fe({},e),{},{drag:t,dragDirectionLock:r,dragPropagation:n,dragConstraints:i,dragElastic:a,dragMomentum:s})}}function kl(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}const Sl=e=>(t,r)=>{e&&yi.postRender(()=>e(t,r))};const Al=(0,i.createContext)(null);function Cl(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,i.useContext)(Al);if(null===t)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,s=(0,i.useId)();(0,i.useEffect)(()=>{e&&a(s)},[e]);const o=(0,i.useCallback)(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,o]:[!0]}const El=(0,i.createContext)({}),Pl=(0,i.createContext)({}),Tl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ol(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Il={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!pa.test(e))return e;e=parseFloat(e)}const r=Ol(e,t.target.x),n=Ol(e,t.target.y);return"".concat(r,"% ").concat(n,"%")}},Ll={correct:(e,t)=>{let{treeScale:r,projectionDelta:n}=t;const i=e,a=Ca.parse(e);if(a.length>5)return i;const s=Ca.createTransformer(e),o="number"!==typeof a[0]?1:0,l=n.x.scale*r.x,c=n.y.scale*r.y;a[0+o]/=l,a[1+o]/=c;const d=vs(l,c,.5);return"number"===typeof a[2+o]&&(a[2+o]/=d),"number"===typeof a[3+o]&&(a[3+o]/=d),s(a)}},Dl={};const{schedule:Ml,cancel:Rl}=xi(queueMicrotask,!1);class Fl extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:n}=this.props,{projection:i}=e;var a;a=zl,Object.assign(Dl,a),i&&(t.group&&t.group.add(i),r&&r.register&&n&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(Fe(Fe({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),Tl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:n,isPresent:i}=this.props,a=r.projection;return a?(a.isPresent=i,n||e.layoutDependency!==t||void 0===t?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||yi.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ml.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Bl(e){const[t,r]=Cl(),n=(0,i.useContext)(El);return(0,xn.jsx)(Fl,Fe(Fe({},e),{},{layoutGroup:n,switchLayoutGroup:(0,i.useContext)(Pl),isPresent:t,safeToRemove:r}))}const zl={borderRadius:Fe(Fe({},Il),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Il,borderTopRightRadius:Il,borderBottomLeftRadius:Il,borderBottomRightRadius:Il,boxShadow:Ll};const Ul=(e,t)=>e.depth-t.depth;class ql{constructor(){this.children=[],this.isDirty=!1}add(e){ki(this.children,e),this.isDirty=!0}remove(e){Si(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ul),this.isDirty=!1,this.children.forEach(e)}}function Wl(e,t){const r=_i.now(),n=i=>{let{timestamp:a}=i;const s=a-r;s>=t&&(vi(n),e(s-t))};return yi.read(n,!0),()=>vi(n)}function Hl(e){const t=Li(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const Vl=["TopLeft","TopRight","BottomLeft","BottomRight"],Gl=Vl.length,Kl=e=>"string"===typeof e?parseFloat(e):e,Yl=e=>"number"===typeof e||pa.test(e);function Xl(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Ql=Zl(0,.5,Xi),$l=Zl(.5,.95,ci);function Zl(e,t,r){return n=>n<e?0:n>t?1:r(Wn(e,t,n))}function Jl(e,t){e.min=t.min,e.max=t.max}function ec(e,t){Jl(e.x,t.x),Jl(e.y,t.y)}function tc(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function rc(e,t,r,n,i){return e=hl(e-=t,1/r,n),void 0!==i&&(e=hl(e,1/i,n)),e}function nc(e,t,r,n,i){let[a,s,o]=r;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;fa.test(t)&&(t=parseFloat(t),t=vs(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let o=vs(a.min,a.max,n);e===a&&(o-=t),e.min=rc(e.min,t,r,o,i),e.max=rc(e.max,t,r,o,i)}(e,t[a],t[s],t[o],t.scale,n,i)}const ic=["x","scaleX","originX"],ac=["y","scaleY","originY"];function sc(e,t,r,n){nc(e.x,t,ic,r?r.x:void 0,n?n.x:void 0),nc(e.y,t,ac,r?r.y:void 0,n?n.y:void 0)}function oc(e){return 0===e.translate&&1===e.scale}function lc(e){return oc(e.x)&&oc(e.y)}function cc(e,t){return e.min===t.min&&e.max===t.max}function dc(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function uc(e,t){return dc(e.x,t.x)&&dc(e.y,t.y)}function hc(e){return Ko(e.x)/Ko(e.y)}function fc(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class pc{constructor(){this.members=[]}add(e){ki(this.members,e),e.scheduleRender()}remove(e){if(Si(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let r;for(let n=t;n>=0;n--){const e=this.members[n];if(!1!==e.isPresent){r=e;break}}return!!r&&(this.promote(r),!0)}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const mc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},gc="undefined"!==typeof window&&void 0!==window.MotionDebug,xc=["","X","Y","Z"],yc={visibility:"hidden"};let vc=0;function bc(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function wc(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Fi(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:t,layoutId:n}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",yi,!(t||n))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&wc(n)}function jc(e){let{attachResizeListener:t,defaultParent:r,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===r||void 0===r?void 0:r();this.id=vc++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,gc&&(mc.totalNodes=mc.resolvedTargetDeltas=mc.recalculatedProjection=0),this.nodes.forEach(kc),this.nodes.forEach(Oc),this.nodes.forEach(Ic),this.nodes.forEach(Sc),gc&&window.MotionDebug.record(mc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let r=0;r<this.path.length;r++)this.path[r].shouldResetTransform=!0;this.root===this&&(this.nodes=new ql)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Ai),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t&&t.notify(...n)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var n;this.isSVG=(n=e)instanceof SVGElement&&"svg"!==n.tagName,this.instance=e;const{layoutId:i,layout:a,visualElement:s}=this.options;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(a||i)&&(this.isLayoutDirty=!0),t){let r;const n=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=Wl(n,250),Tl.hasAnimatedSinceResize&&(Tl.hasAnimatedSinceResize=!1,this.nodes.forEach(Tc))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&s&&(i||a)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:r,hasRelativeTargetChanged:n,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||s.getDefaultTransition()||Bc,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=s.getProps(),c=!this.targetLayout||!uc(this.targetLayout,i)||n,d=!r&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||d||r&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,d);const e=Fe(Fe({},Ln(a,"layout")),{},{onPlay:o,onComplete:l});(s.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else r||Tc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lc),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;const n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Cc);this.isUpdating||this.nodes.forEach(Ec),this.isUpdating=!1,this.nodes.forEach(Pc),this.nodes.forEach(Nc),this.nodes.forEach(_c),this.clearAllSnapshots();const e=_i.now();bi.delta=Ji(0,1e3/60,e-bi.timestamp),bi.timestamp=e,bi.isProcessing=!0,wi.update.process(bi),wi.preRender.process(bi),wi.render.process(bi),bi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ml.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ac),this.sharedNodes.forEach(Dc)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let r=0;r<this.path.length;r++){this.path[r].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!lc(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,i=n!==this.prevTransformTemplateValue;e&&(t||cl(this.latestValues)||i)&&(a(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let r=this.removeElementScroll(t);var n;return e&&(r=this.removeTransform(r)),qc((n=r).x),qc(n.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const r=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Hc))){const{scroll:e}=this.root;e&&(yl(r.x,e.offset.x),yl(r.y,e.offset.y))}return r}removeElementScroll(e){var t;const r={x:{min:0,max:0},y:{min:0,max:0}};if(ec(r,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return r;for(let n=0;n<this.path.length;n++){const t=this.path[n],{scroll:i,options:a}=t;t!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&ec(r,e),yl(r.x,i.offset.x),yl(r.y,i.offset.y))}return r}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r={x:{min:0,max:0},y:{min:0,max:0}};ec(r,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&bl(r,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),cl(e.latestValues)&&bl(r,e.latestValues)}return cl(this.latestValues)&&bl(r,this.latestValues),r}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};ec(t,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];if(!e.instance)continue;if(!cl(e.latestValues))continue;ll(e.latestValues)&&e.updateSnapshot();const n=il();ec(n,e.measurePageBox()),sc(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,n)}return cl(this.latestValues)&&sc(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=Fe(Fe(Fe({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==r;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:a}=this.options;if(this.layout&&(i||a)){if(this.resolvedRelativeTargetAt=bi.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Zo(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),ec(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,o=this.relativeTarget,l=this.relativeParent.target,Qo(s.x,o.x,l.x),Qo(s.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ec(this.target,this.layout.layoutBox),ml(this.target,this.targetDelta)):ec(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Zo(this.relativeTargetOrigin,this.target,e.target),ec(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}gc&&mc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!ll(this.parent.latestValues)&&!dl(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),r=Boolean(this.resumingFrom)||this!==t;let n=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(n=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===bi.timestamp&&(n=!1),n)return;const{layout:i,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!a)return;ec(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,o=this.treeScale.y;!function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=r.length;if(!i)return;let a,s;t.x=t.y=1;for(let o=0;o<i;o++){a=r[o],s=a.projectionDelta;const{visualElement:i}=a.options;i&&i.props.style&&"contents"===i.props.style.display||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&bl(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,ml(e,s)),n&&cl(a.latestValues)&&bl(e,a.latestValues))}t.x<xl&&t.x>gl&&(t.x=1),t.y<xl&&t.y>gl&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,r),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(tc(this.prevProjectionDelta.x,this.projectionDelta.x),tc(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Xo(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===o&&fc(this.projectionDelta.x,this.prevProjectionDelta.x)&&fc(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),gc&&mc.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.snapshot,n=r?r.latestValues:{},i=Fe({},this.latestValues),a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},o=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Fc));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const r=t/1e3;Mc(a.x,e.x,r),Mc(a.y,e.y,r),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zo(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,r,n){Rc(e.x,t.x,r.x,n),Rc(e.y,t.y,r.y,n)}(this.relativeTarget,this.relativeTargetOrigin,s,r),u&&function(e,t){return cc(e.x,t.x)&&cc(e.y,t.y)}(this.relativeTarget,u)&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),ec(u,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,r,n,i,a){i?(e.opacity=vs(0,void 0!==r.opacity?r.opacity:1,Ql(n)),e.opacityExit=vs(void 0!==t.opacity?t.opacity:1,0,$l(n))):a&&(e.opacity=vs(void 0!==t.opacity?t.opacity:1,void 0!==r.opacity?r.opacity:1,n));for(let s=0;s<Gl;s++){const i="border".concat(Vl[s],"Radius");let a=Xl(t,i),o=Xl(r,i);void 0===a&&void 0===o||(a||(a=0),o||(o=0),0===a||0===o||Yl(a)===Yl(o)?(e[i]=Math.max(vs(Kl(a),Kl(o),n),0),(fa.test(o)||fa.test(a))&&(e[i]+="%")):e[i]=o)}(t.rotate||r.rotate)&&(e.rotate=vs(t.rotate||0,r.rotate||0,n))}(i,n,this.latestValues,r,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yi.update(()=>{Tl.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,r){const n=Li(e)?e:Ti(e);return n.start(go("",n,t,r)),n.animation}(0,1e3,Fe(Fe({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:r,layout:n,latestValues:i}=e;if(t&&r&&n){if(this!==e&&this.layout&&n&&Wc(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Ko(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;const n=Ko(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+n}ec(t,r),bl(t,i),Xo(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new pc);this.sharedNodes.get(e).add(t);const r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=this.getStack();n&&n.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:r}=e;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(t=!0),!t)return;const n={};r.z&&bc("z",e,n,this.animationValues);for(let i=0;i<xc.length;i++)bc("rotate".concat(xc[i]),e,n,this.animationValues),bc("skew".concat(xc[i]),e,n,this.animationValues);e.render();for(const i in n)e.setStaticValue(i,n[i]),this.animationValues&&(this.animationValues[i]=n[i]);e.scheduleRender()}getProjectionStyles(e){var t,r;if(!this.instance||this.isSVG)return;if(!this.isVisible)return yc;const n={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,n.opacity="",n.pointerEvents=Hl(null===e||void 0===e?void 0:e.pointerEvents)||"",n.transform=i?i(this.latestValues,""):"none",n;const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Hl(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!cl(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const s=a.animationValues||a.latestValues;this.applyTransformsToTarget(),n.transform=function(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,s=(null===r||void 0===r?void 0:r.z)||0;if((i||a||s)&&(n="translate3d(".concat(i,"px, ").concat(a,"px, ").concat(s,"px) ")),1===t.x&&1===t.y||(n+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),r){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:s,skewY:o}=r;e&&(n="perspective(".concat(e,"px) ").concat(n)),t&&(n+="rotate(".concat(t,"deg) ")),i&&(n+="rotateX(".concat(i,"deg) ")),a&&(n+="rotateY(".concat(a,"deg) ")),s&&(n+="skewX(".concat(s,"deg) ")),o&&(n+="skewY(".concat(o,"deg) "))}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(n+="scale(".concat(o,", ").concat(l,")")),n||"none"}(this.projectionDeltaWithTransform,this.treeScale,s),i&&(n.transform=i(s,n.transform));const{x:o,y:l}=this.projectionDelta;n.transformOrigin="".concat(100*o.origin,"% ").concat(100*l.origin,"% 0"),a.animationValues?n.opacity=a===this?null!==(r=null!==(t=s.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:n.opacity=a===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const c in Dl){if(void 0===s[c])continue;const{correct:e,applyTo:t}=Dl[c],r="none"===n.transform?s[c]:e(s[c],a);if(t){const e=t.length;for(let i=0;i<e;i++)n[t[i]]=r}else n[c]=r}return this.options.layoutId&&(n.pointerEvents=a===this?Hl(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),n}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Cc),this.root.sharedNodes.clear()}}}function Nc(e){e.updateLayout()}function _c(e){var t;const r=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=e.layout,{animationType:i}=e.options,a=r.source!==e.layout.source;"size"===i?al(e=>{const n=a?r.measuredBox[e]:r.layoutBox[e],i=Ko(n);n.min=t[e].min,n.max=n.min+i}):Wc(i,r.layoutBox,t)&&al(n=>{const i=a?r.measuredBox[n]:r.layoutBox[n],s=Ko(t[n]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+s)});const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Xo(s,t,r.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?Xo(o,e.applyTransform(n,!0),r.measuredBox):Xo(o,t,r.layoutBox);const l=!lc(s);let c=!1;if(!e.resumeFrom){const n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:i,layout:a}=n;if(i&&a){const s={x:{min:0,max:0},y:{min:0,max:0}};Zo(s,r.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};Zo(o,t,a.layoutBox),uc(s,o)||(c=!0),n.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=s,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:r,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function kc(e){gc&&mc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Sc(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ac(e){e.clearSnapshot()}function Cc(e){e.clearMeasurements()}function Ec(e){e.isLayoutDirty=!1}function Pc(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Tc(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Oc(e){e.resolveTargetDelta()}function Ic(e){e.calcProjection()}function Lc(e){e.resetSkewAndRotation()}function Dc(e){e.removeLeadSnapshot()}function Mc(e,t,r){e.translate=vs(t.translate,0,r),e.scale=vs(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Rc(e,t,r,n){e.min=vs(t.min,r.min,n),e.max=vs(t.max,r.max,n)}function Fc(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Bc={duration:.45,ease:[.4,0,.1,1]},zc=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Uc=zc("applewebkit/")&&!zc("chrome/")?Math.round:ci;function qc(e){e.min=Uc(e.min),e.max=Uc(e.max)}function Wc(e,t,r){return"position"===e||"preserve-aspect"===e&&!function(e,t,r){return Math.abs(e-t)<=r}(hc(t),hc(r),.2)}function Hc(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Vc=jc({attachResizeListener:(e,t)=>Do(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gc={current:void 0},Kc=jc({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Gc.current){const e=new Vc({});e.mount(window),e.setOptions({layoutScroll:!0}),Gc.current=e}return Gc.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Yc={pan:{Feature:class extends Oo{constructor(){super(...arguments),this.removePointerDownListener=ci}onPointerDown(e){this.session=new Bo(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jl(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:Sl(e),onStart:Sl(t),onMove:r,onEnd:(e,t)=>{delete this.session,n&&yi.postRender(()=>n(e,t))}}}mount(){this.removePointerDownListener=Ro(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Oo{constructor(e){super(e),this.removeGroupControls=ci,this.removeListeners=ci,this.controls=new _l(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ci}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Kc,MeasureLayout:Bl}};function Xc(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover","Start"===r);const i=n["onHover"+r];i&&yi.postRender(()=>i(t,Mo(t)))}function Qc(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap","Start"===r);const i=n["onTap"+("End"===r?"":r)];i&&yi.postRender(()=>i(t,Mo(t)))}const $c=["root"],Zc=new WeakMap,Jc=new WeakMap,ed=e=>{const t=Zc.get(e.target);t&&t(e)},td=e=>{e.forEach(ed)};function rd(e,t,r){const n=function(e){let{root:t}=e,r=wn(e,$c);const n=t||document;Jc.has(n)||Jc.set(n,{});const i=Jc.get(n),a=JSON.stringify(r);return i[a]||(i[a]=new IntersectionObserver(td,Fe({root:t},r))),i[a]}(t);return Zc.set(e,r),n.observe(e),()=>{Zc.delete(e),n.unobserve(e)}}const nd={some:0,all:1};const id={inView:{Feature:class extends Oo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:n="some",once:i}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:"number"===typeof n?n:nd[n]};return rd(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:r,onViewportLeave:n}=this.node.getProps(),a=t?r:n;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,r=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:r={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==r[e]}(e,t));r&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Oo{mount(){const{current:e}=this.node;e&&(this.unmount=si(e,e=>(Qc(this.node,e,"Start"),(e,t)=>{let{success:r}=t;return Qc(this.node,e,r?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Oo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(UX){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=As(Do(this.node.current,"focus",()=>this.onFocus()),Do(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Oo{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[n,i,a]=$n(e,r),s=Zn(e=>{const{target:r}=e,n=t(e);if("function"!==typeof n||!r)return;const a=Zn(e=>{n(e),r.removeEventListener("pointerleave",a)});r.addEventListener("pointerleave",a,i)});return n.forEach(e=>{e.addEventListener("pointerenter",s,i)}),a}(e,e=>(Xc(this.node,e,"Start"),e=>Xc(this.node,e,"End"))))}unmount(){}}}},ad={layout:{ProjectionNode:Kc,MeasureLayout:Bl}},sd=(0,i.createContext)({strict:!1}),od=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ld=(0,i.createContext)({});function cd(e){return bn(e.animate)||En.some(t=>_n(e[t]))}function dd(e){return Boolean(cd(e)||e.variants)}function ud(e){const{initial:t,animate:r}=function(e,t){if(cd(e)){const{initial:t,animate:r}=e;return{initial:!1===t||_n(t)?t:void 0,animate:_n(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(ld));return(0,i.useMemo)(()=>({initial:t,animate:r}),[hd(t),hd(r)])}function hd(e){return Array.isArray(e)?e.join(" "):e}const fd="undefined"!==typeof window,pd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},md={};for(const r in pd)md[r]={isEnabled:e=>pd[r].some(t=>!!e[t])};const gd=Symbol.for("motionComponentSymbol");function xd(e,t,r){return(0,i.useCallback)(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&("function"===typeof r?r(n):Go(r)&&(r.current=n))},[t])}const yd=fd?i.useLayoutEffect:i.useEffect;function vd(e,t,r,n,a){var s,o;const{visualElement:l}=(0,i.useContext)(ld),c=(0,i.useContext)(sd),d=(0,i.useContext)(Al),u=(0,i.useContext)(od).reducedMotion,h=(0,i.useRef)(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:l,props:r,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:u}));const f=h.current,p=(0,i.useContext)(Pl);!f||f.projection||!a||"html"!==f.type&&"svg"!==f.type||function(e,t,r,n){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:bd(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:Boolean(s)||o&&Go(o),visualElement:e,animationType:"string"===typeof a?a:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:c})}(h.current,r,a,p);const m=(0,i.useRef)(!1);(0,i.useInsertionEffect)(()=>{f&&m.current&&f.update(r,d)});const g=r[Ri],x=(0,i.useRef)(Boolean(g)&&!(null===(s=window.MotionHandoffIsComplete)||void 0===s?void 0:s.call(window,g))&&(null===(o=window.MotionHasOptimisedAnimation)||void 0===o?void 0:o.call(window,g)));return yd(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Ml.render(f.render),x.current&&f.animationState&&f.animationState.animateChanges())}),(0,i.useEffect)(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)}),x.current=!1))}),f}function bd(e){if(e)return!1!==e.options.allowProjection?e.projection:bd(e.parent)}function wd(e){let{preloadedFeatures:t,createVisualElement:r,useRender:n,useVisualState:a,Component:s}=e;var o,l;function c(e,t){let o;const l=Fe(Fe(Fe({},(0,i.useContext)(od)),e),{},{layoutId:jd(e)}),{isStatic:c}=l,d=ud(e),u=a(e,c);if(!c&&fd){!function(){(0,i.useContext)(sd).strict;0}();const e=function(e){const{drag:t,layout:r}=md;if(!t&&!r)return{};const n=Fe(Fe({},t),r);return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===r||void 0===r?void 0:r.isEnabled(e))?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}(l);o=e.MeasureLayout,d.visualElement=vd(s,u,l,r,e.ProjectionNode)}return(0,xn.jsxs)(ld.Provider,{value:d,children:[o&&d.visualElement?(0,xn.jsx)(o,Fe({visualElement:d.visualElement},l)):null,n(s,e,xd(u,d.visualElement,t),u,c,d.visualElement)]})}t&&function(e){for(const t in e)md[t]=Fe(Fe({},md[t]),e[t])}(t),c.displayName="motion.".concat("string"===typeof s?s:"create(".concat(null!==(l=null!==(o=s.displayName)&&void 0!==o?o:s.name)&&void 0!==l?l:"",")"));const d=(0,i.forwardRef)(c);return d[gd]=s,d}function jd(e){let{layoutId:t}=e;const r=(0,i.useContext)(El).id;return r&&void 0!==t?r+"-"+t:t}const Nd=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _d(e){return"string"===typeof e&&!e.includes("-")&&!!(Nd.indexOf(e)>-1||/[A-Z]/.test(e))}function kd(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}const Sd=["transitionEnd","transition"];const Ad=e=>(t,r)=>{const n=(0,i.useContext)(ld),a=(0,i.useContext)(Al),s=()=>function(e,t,r,n){let{scrapeMotionValuesFromProps:i,createRenderState:a,onUpdate:s}=e;const o={latestValues:Cd(t,r,n,i),renderState:a()};return s&&(o.onMount=e=>s(Fe({props:t,current:e},o)),o.onUpdate=e=>s(e)),o}(e,t,n,a);return r?s():kd(s)};function Cd(e,t,r,n){const i={},a=n(e,{});for(const h in a)i[h]=Hl(a[h]);let{initial:s,animate:o}=e;const l=cd(e),c=dd(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===o&&(o=t.animate));let d=!!r&&!1===r.initial;d=d||!1===s;const u=d?o:s;if(u&&"boolean"!==typeof u&&!bn(u)){const t=Array.isArray(u)?u:[u];for(let r=0;r<t.length;r++){const n=Sn(e,t[r]);if(n){const{transitionEnd:e,transition:t}=n,r=wn(n,Sd);for(const n in r){let e=r[n];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(i[n]=e)}for(const n in e)i[n]=e[n]}}}return i}const Ed=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Pd={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Td=di.length;function Od(e,t,r){const{style:n,vars:i,transformOrigin:a}=e;let s=!1,o=!1;for(const l in t){const e=t[l];if(ui.has(l))s=!0;else if(ns(l))i[l]=e;else{const t=Ed(e,Ma[l]);l.startsWith("origin")?(o=!0,a[l]=t):n[l]=t}}if(t.transform||(s||r?n.transform=function(e,t,r){let n="",i=!0;for(let a=0;a<Td;a++){const s=di[a],o=e[s];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(s.startsWith("scale")?1:0):0===parseFloat(o),!l||r){const e=Ed(o,Ma[s]);l||(i=!1,n+="".concat(Pd[s]||s,"(").concat(e,") ")),r&&(t[s]=e)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:r=0}=a;n.transformOrigin="".concat(e," ").concat(t," ").concat(r)}}const Id={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ld={offset:"strokeDashoffset",array:"strokeDasharray"};function Dd(e,t,r){return"string"===typeof e?e:pa.transform(t+r*e)}const Md=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Rd(e,t,r,n){let{attrX:i,attrY:a,attrScale:s,originX:o,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:u=0}=t;if(Od(e,wn(t,Md),n),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:f,dimensions:p}=e;h.transform&&(p&&(f.transform=h.transform),delete h.transform),p&&(void 0!==o||void 0!==l||f.transform)&&(f.transformOrigin=function(e,t,r){const n=Dd(t,e.x,e.width),i=Dd(r,e.y,e.height);return"".concat(n," ").concat(i)}(p,void 0!==o?o:.5,void 0!==l?l:.5)),void 0!==i&&(h.x=i),void 0!==a&&(h.y=a),void 0!==s&&(h.scale=s),void 0!==c&&function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=i?Id:Ld;e[a.offset]=pa.transform(-n);const s=pa.transform(t),o=pa.transform(r);e[a.array]="".concat(s," ").concat(o)}(h,c,d,u,!1)}const Fd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Bd=()=>Fe(Fe({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),zd=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Ud(e,t,r,n){let{style:i,vars:a}=t;Object.assign(e.style,i,n&&n.getProjectionStyles(r));for(const s in a)e.style.setProperty(s,a[s])}const qd=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wd(e,t,r,n){Ud(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(qd.has(i)?i:Mi(i),t.attrs[i])}function Hd(e,t){let{layout:r,layoutId:n}=t;return ui.has(e)||e.startsWith("origin")||(r||void 0!==n)&&(!!Dl[e]||"opacity"===e)}function Vd(e,t,r){var n;const{style:i}=e,a={};for(const s in i)(Li(i[s])||t.style&&Li(t.style[s])||Hd(s,e)||void 0!==(null===(n=null===r||void 0===r?void 0:r.getValue(s))||void 0===n?void 0:n.liveStyle))&&(a[s]=i[s]);return a}function Gd(e,t,r){const n=Vd(e,t,r);for(const i in e)if(Li(e[i])||Li(t[i])){n[-1!==di.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return n}const Kd=["x","y","width","height","cx","cy","r"],Yd={useVisualState:Ad({scrapeMotionValuesFromProps:Gd,createRenderState:Bd,onUpdate:e=>{let{props:t,prevProps:r,current:n,renderState:i,latestValues:a}=e;if(!n)return;let s=!!t.drag;if(!s)for(const l in a)if(ui.has(l)){s=!0;break}if(!s)return;let o=!r;if(r)for(let l=0;l<Kd.length;l++){const e=Kd[l];t[e]!==r[e]&&(o=!0)}o&&yi.read(()=>{!function(e,t){try{t.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(UX){t.dimensions={x:0,y:0,width:0,height:0}}}(n,i),yi.render(()=>{Rd(i,a,zd(n.tagName),t.transformTemplate),Wd(n,i)})})}})},Xd={useVisualState:Ad({scrapeMotionValuesFromProps:Vd,createRenderState:Fd})};function Qd(e,t,r){for(const n in t)Li(t[n])||Hd(n,r)||(e[n]=t[n])}function $d(e,t){const r={};return Qd(r,e.style||{},e),Object.assign(r,function(e,t){let{transformTemplate:r}=e;return(0,i.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Od(e,t,r),Object.assign({},e.vars,e.style)},[t])}(e,t)),r}function Zd(e,t){const r={},n=$d(e,t);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Jd=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function eu(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Jd.has(e)}let tu=e=>!eu(e);try{(ru=require("@emotion/is-prop-valid").default)&&(tu=e=>e.startsWith("on")?!eu(e):ru(e))}catch(e7){}var ru;function nu(e,t,r,n){const a=(0,i.useMemo)(()=>{const r=Bd();return Rd(r,t,zd(n),e.transformTemplate),Fe(Fe({},r.attrs),{},{style:Fe({},r.style)})},[t]);if(e.style){const t={};Qd(t,e.style,e),a.style=Fe(Fe({},t),a.style)}return a}function iu(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,r,n,a,s)=>{let{latestValues:o}=a;const l=(_d(t)?nu:Zd)(r,o,s,t),c=function(e,t,r){const n={};for(const i in e)"values"===i&&"object"===typeof e.values||(tu(i)||!0===r&&eu(i)||!t&&!eu(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}(r,"string"===typeof t,e),d=t!==i.Fragment?Fe(Fe(Fe({},c),l),{},{ref:n}):{},{children:u}=r,h=(0,i.useMemo)(()=>Li(u)?u.get():u,[u]);return(0,i.createElement)(t,Fe(Fe({},d),{},{children:h}))}}function au(e,t){return function(r){let{forwardMotionProps:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return wd(Fe(Fe({},_d(r)?Yd:Xd),{},{preloadedFeatures:e,useRender:iu(n),createVisualElement:t,Component:r}))}}const su={current:null},ou={current:!1};const lu=[...ds,va,Ca],cu=new WeakMap;const du=["willChange"],uu=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hu{scrapeMotionValuesFromProps(e,t,r){return{}}constructor(e){let{parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Za,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=_i.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,yi.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=s;this.onUpdate=d,this.latestValues=l,this.baseTarget=Fe({},l),this.initialValues=r.initial?Fe({},l):{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=cd(r),this.isVariantNode=dd(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const u=this.scrapeMotionValuesFromProps(r,{},this),{willChange:h}=u,f=wn(u,du);for(const p in f){const e=f[p];void 0!==l[p]&&Li(e)&&e.set(l[p],!1)}}mount(e){this.current=e,cu.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),ou.current||function(){if(ou.current=!0,fd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>su.current=e.matches;e.addListener(t),t()}else su.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||su.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){cu.delete(this.current),this.projection&&this.projection.unmount(),vi(this.notifyUpdate),vi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ui.has(e),n=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&yi.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{n(),i(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in md){const t=md[e];if(!t)continue;const{isEnabled:r,Feature:n}=t;if(!this.features[e]&&n&&r(this.props)&&(this.features[e]=new n(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<uu.length;r++){const t=uu[r];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const n=e["on"+t];n&&(this.propEventSubscriptions[t]=this.on(t,n))}this.prevMotionValues=function(e,t,r){for(const n in t){const i=t[n],a=r[n];if(Li(i))e.addValue(n,i);else if(Li(a))e.addValue(n,Ti(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const t=e.getValue(n);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(n);e.addValue(n,Ti(void 0!==t?t:i,{owner:e}))}}for(const n in r)void 0===t[n]&&e.removeValue(n);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=Ti(null===t?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let n=void 0===this.latestValues[e]&&this.current?null!==(r=this.getBaseTargetFromProps(this.props,e))&&void 0!==r?r:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==n&&null!==n&&("string"===typeof n&&(ts(n)||$i(n))?n=parseFloat(n):!(e=>lu.find(cs(e)))(n)&&Ca.test(t)&&(n=Ba(e,t)),this.setBaseTarget(e,Li(n)?n.get():n)),Li(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let n;if("string"===typeof r||"object"===typeof r){const i=Sn(this.props,r,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(n=i[e])}if(r&&void 0!==n)return n;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Li(i)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Ai),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.events[e].notify(...r)}}}class fu extends hu{constructor(){super(...arguments),this.KeyframeResolver=hs}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:r,style:n}=t;delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Li(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}class pu extends fu{constructor(){super(...arguments),this.type="html",this.renderInstance=Ud}readValueFromInstance(e,t){if(ui.has(t)){const e=Fa(t);return e&&e.default||0}{const n=(r=e,window.getComputedStyle(r)),i=(ns(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof i?i.trim():i}var r}measureInstanceViewportBox(e,t){let{transformPagePoint:r}=t;return wl(e,r)}build(e,t,r){Od(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Vd(e,t,r)}}class mu extends fu{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=il}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ui.has(t)){const e=Fa(t);return e&&e.default||0}return t=qd.has(t)?t:Mi(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return Gd(e,t,r)}build(e,t,r){Rd(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,n){Wd(e,t,0,n)}mount(e){this.isSVGTag=zd(e.tagName),super.mount(e)}}const gu=(e,t)=>_d(e)?new mu(t):new pu(t,{allowProjection:e!==i.Fragment}),xu=vn(au(Fe(Fe(Fe(Fe({},Lo),id),Yc),ad),gu));class yu extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function vu(e){let{children:t,isPresent:r}=e;const n=(0,i.useId)(),a=(0,i.useRef)(null),s=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:o}=(0,i.useContext)(od);return(0,i.useInsertionEffect)(()=>{const{width:e,height:t,top:i,left:l}=s.current;if(r||!a.current||!e||!t)return;a.current.dataset.motionPopId=n;const c=document.createElement("style");return o&&(c.nonce=o),document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(n,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(i,"px !important;\n            left: ").concat(l,"px !important;\n          }\n        ")),()=>{document.head.removeChild(c)}},[r]),(0,xn.jsx)(yu,{isPresent:r,childRef:a,sizeRef:s,children:i.cloneElement(t,{ref:a})})}const bu=e=>{let{children:t,initial:r,isPresent:n,onExitComplete:a,custom:s,presenceAffectsLayout:o,mode:l}=e;const c=kd(wu),d=(0,i.useId)(),u=(0,i.useCallback)(e=>{c.set(e,!0);for(const t of c.values())if(!t)return;a&&a()},[c,a]),h=(0,i.useMemo)(()=>({id:d,initial:r,isPresent:n,custom:s,onExitComplete:u,register:e=>(c.set(e,!1),()=>c.delete(e))}),o?[Math.random(),u]:[n,u]);return(0,i.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[n]),i.useEffect(()=>{!n&&!c.size&&a&&a()},[n]),"popLayout"===l&&(t=(0,xn.jsx)(vu,{isPresent:n,children:t})),(0,xn.jsx)(Al.Provider,{value:h,children:t})};function wu(){return new Map}const ju=e=>e.key||"";function Nu(e){const t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}const _u=e=>{let{children:t,custom:r,initial:n=!0,onExitComplete:a,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1}=e;const[c,d]=Cl(l),u=(0,i.useMemo)(()=>Nu(t),[t]),h=l&&!c?[]:u.map(ju),f=(0,i.useRef)(!0),p=(0,i.useRef)(u),m=kd(()=>new Map),[g,x]=(0,i.useState)(u),[y,v]=(0,i.useState)(u);yd(()=>{f.current=!1,p.current=u;for(let e=0;e<y.length;e++){const t=ju(y[e]);h.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}},[y,h.length,h.join("-")]);const b=[];if(u!==g){let e=[...u];for(let t=0;t<y.length;t++){const r=y[t],n=ju(r);h.includes(n)||(e.splice(t,0,r),b.push(r))}return"wait"===o&&b.length&&(e=b),v(Nu(e)),void x(u)}const{forceRender:w}=(0,i.useContext)(El);return(0,xn.jsx)(xn.Fragment,{children:y.map(e=>{const t=ju(e),i=!(l&&!c)&&(u===y||h.includes(t));return(0,xn.jsx)(bu,{isPresent:i,initial:!(f.current&&!n)&&void 0,custom:i?void 0:r,presenceAffectsLayout:s,mode:o,onExitComplete:i?void 0:()=>{if(!m.has(t))return;m.set(t,!0);let e=!0;m.forEach(t=>{t||(e=!1)}),e&&(null===w||void 0===w||w(),v(p.current),l&&(null===d||void 0===d||d()),a&&a())},children:e},t)})})};var ku={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Su=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],Au=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Cu=(e,t)=>{const r=(0,i.forwardRef)((r,n)=>{let{color:a="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d}=r,u=wn(r,Su);return(0,i.createElement)("svg",Fe(Fe({ref:n},ku),{},{width:s,height:s,stroke:a,strokeWidth:l?24*Number(o)/Number(s):o,className:["lucide","lucide-".concat(Au(e)),c].join(" ")},u),[...t.map(e=>{let[t,r]=e;return(0,i.createElement)(t,r)}),...Array.isArray(d)?d:[d]])});return r.displayName="".concat(e),r},Eu=Cu("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Pu=Cu("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),Tu=Cu("CalendarCheck2",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]),Ou=Cu("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]),Iu=Cu("ConciergeBell",[["path",{d:"M2 18a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v2H2v-2Z",key:"1co3i8"}],["path",{d:"M20 16a8 8 0 1 0-16 0",key:"1pa543"}],["path",{d:"M12 4v4",key:"1bq03y"}],["path",{d:"M10 4h4",key:"1xpv9s"}]]),Lu=Cu("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Du=Cu("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]),Mu=Cu("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Ru=Cu("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),Fu=Cu("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Bu=Cu("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),zu=Cu("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Uu=Cu("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),qu=Cu("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Wu=Cu("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]),Hu=Cu("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Vu=Cu("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);class Gu extends Error{}function Ku(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(t)}catch(r){return atob(t)}}Gu.prototype.name="InvalidTokenError";const Yu={"eco-friendly":{"--bg-primary":"#f0f7f4","--bg-secondary":"#ffffff","--text-primary":"#1a4d3a","--text-secondary":"#5a7c6a","--accent-bg":"#c8e6d5","--accent-text":"#2d6a4f","--bubble-color":"rgba(76, 175, 80, 0.3)","--primary-button":"#22c55e","--primary-button-hover":"#16a34a","--border-color":"#a7d4b8"},platinum:{"--bg-primary":"#f4f7f9","--bg-secondary":"#ffffff","--text-primary":"#2c3e50","--text-secondary":"#7f8c8d","--accent-bg":"#e7edf1","--accent-text":"#34495e","--bubble-color":"rgba(175, 215, 255, 0.4)","--primary-button":"#6366f1","--primary-button-hover":"#4f46e5","--border-color":"#e2e8f0"},onyx:{"--bg-primary":"#1c1c1c","--bg-secondary":"#2b2b2b","--text-primary":"#ecf0f1","--text-secondary":"#bdc3c7","--accent-bg":"#34495e","--accent-text":"#f1c40f","--bubble-color":"rgba(255, 223, 186, 0.2)","--primary-button":"#f1c40f","--primary-button-hover":"#f39c12","--border-color":"#34495e"},"gilded-age":{"--bg-primary":"#fdf8f0","--bg-secondary":"#ffffff","--text-primary":"#4a4a4a","--text-secondary":"#8b7c6c","--accent-bg":"#f5ecde","--accent-text":"#4a4a4a","--bubble-color":"rgba(212, 172, 97, 0.3)","--primary-button":"#d4ac61","--primary-button-hover":"#b8945f","--border-color":"#e8dcc6"},orchid:{"--bg-primary":"#faf8f5","--bg-secondary":"#ffffff","--text-primary":"#2d3748","--text-secondary":"#718096","--accent-bg":"#e8f5e9","--accent-text":"#2d5016","--bubble-color":"rgba(139, 195, 74, 0.25)","--primary-button":"#8bc34a","--primary-button-hover":"#7cb342","--border-color":"#c5e1a5"}},Xu=e=>{const t=Yu[e];t&&(Object.keys(t).forEach(e=>{document.documentElement.style.setProperty(e,t[e])}),document.documentElement.setAttribute("data-theme",e),localStorage.setItem("dashboard-theme",e))},Qu=()=>{const e=localStorage.getItem("token");if(!e)return{role:"guest",permissions:[],user:null};try{const t=function(e,t){if("string"!==typeof e)throw new Gu("Invalid token specified: must be a string");t||(t={});const r=!0===t.header?0:1,n=e.split(".")[r];if("string"!==typeof n)throw new Gu("Invalid token specified: missing part #".concat(r+1));let i;try{i=Ku(n)}catch(UX){throw new Gu("Invalid token specified: invalid base64 for part #".concat(r+1," (").concat(UX.message,")"))}try{return JSON.parse(i)}catch(UX){throw new Gu("Invalid token specified: invalid json for part #".concat(r+1," (").concat(UX.message,")"))}}(e);return{role:null!==t&&void 0!==t&&t.role?t.role.toLowerCase():"guest",permissions:(null===t||void 0===t?void 0:t.permissions)||[],user:t}}catch(t){return console.error("Invalid token",t),{role:"guest",permissions:[],user:null}}},$u=e=>{let{children:t,requiredPermission:r}=e;const{role:n,permissions:i}=Qu();return("admin"===n||i.includes(r))&&t?(0,xn.jsx)(xn.Fragment,{children:t}):(0,xn.jsx)(we,{to:"/dashboard",replace:!0})};function Zu(e){let{children:t}=e;const[r,n]=(0,i.useState)(!1),a=ie(),[s,o]=(0,i.useState)("orchid"),l=(0,i.useRef)(null),[c,d]=(0,i.useState)(0);(0,i.useEffect)(()=>{const e=localStorage.getItem("dashboard-theme");e&&Yu[e]?(o(e),Xu(e)):(o("orchid"),Xu("orchid"))},[]),(0,i.useEffect)(()=>{l.current&&(l.current.scrollTop=c)},[a.pathname,c]),(0,i.useEffect)(()=>{const e=document.getElementById("bubble-background");if(!e)return;e.innerHTML="";const t=()=>{const t=document.createElement("span"),r=60*Math.random()+20,n=10*Math.random()+10,i=5*Math.random(),a=100*Math.random();t.style.width="".concat(r,"px"),t.style.height="".concat(r,"px"),t.style.left="".concat(a,"%"),t.style.animationDuration="".concat(n,"s"),t.style.animationDelay="".concat(i,"s"),t.style.backgroundColor="var(--bubble-color)",t.classList.add("bubble"),e.appendChild(t)};for(let r=0;r<30;r++)t()},[s]);const{role:u,permissions:h,user:f}=Qu(),p=[{label:"Dashboard",icon:(0,xn.jsx)(Eu,{size:18}),to:"/dashboard"},{label:"Account",icon:(0,xn.jsx)(Pu,{size:18}),to:"/account",roles:["admin"]},{label:"Bookings",icon:(0,xn.jsx)(Tu,{size:18}),to:"/bookings"},{label:"Rooms",icon:(0,xn.jsx)(Ou,{size:18}),to:"/rooms"},{label:"Services",icon:(0,xn.jsx)(Iu,{size:18}),to:"/services"},{label:"Role",icon:(0,xn.jsx)(Lu,{size:18}),to:"/roles",roles:["admin"]},{label:"Expenses",icon:(0,xn.jsx)(Du,{size:18}),to:"/expenses"},{label:"Food Management",icon:(0,xn.jsx)(Mu,{size:18}),to:"/food-orders",roles:["admin","manager","fnb"]},{label:"Billing",icon:(0,xn.jsx)(Ru,{size:18}),to:"/billing",roles:["admin","manager","fnb"]},{label:"WEB Management",icon:(0,xn.jsx)(Fu,{size:18}),to:"/Userfrontend_data",roles:["admin","manager","fnb"]},{label:"Packages",icon:(0,xn.jsx)(Bu,{size:18}),to:"/package",roles:["admin","manager","fnb"]},{label:"Reports",icon:(0,xn.jsx)(zu,{size:18}),to:"/report",roles:["admin","manager","fnb"]},{label:"GuestProfiles",icon:(0,xn.jsx)(zu,{size:18}),to:"/guestprofiles",roles:["admin","manager","fnb"]},{label:"User History",icon:(0,xn.jsx)(Uu,{size:18}),to:"/user-history",roles:["admin","manager"]},{label:"Employee Mgt",icon:(0,xn.jsx)(qu,{size:18}),to:"/employee-management",roles:["admin","manager"]},{label:"Inventory",icon:(0,xn.jsx)(Wu,{size:18}),to:"/inventory",roles:["admin","manager"]}].filter(e=>"admin"===u||h.includes(e.to));return(0,xn.jsxs)("div",{className:"flex h-screen overflow-hidden transition-colors duration-300 font-sans",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:[!r&&(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>n(!0)}),(0,xn.jsx)("style",{children:"\n        @keyframes moveBubbles {\n          0% { transform: translateY(0) rotate(0deg); opacity: 0; border-radius: 0; }\n          50% { opacity: 1; border-radius: 50%; }\n          100% { transform: translateY(-100vh) rotate(720deg); opacity: 0; }\n        }\n\n        .bubble {\n          position: absolute;\n          bottom: -150px;\n          animation: moveBubbles infinite ease-in;\n          filter: blur(2px);\n          border-radius: 50%;\n        }\n\n        @media (max-width: 1024px) {\n          .bubble {\n            display: none; /* Hide bubbles on mobile for better performance */\n          }\n        }\n        "}),(0,xn.jsx)("div",{id:"bubble-background",className:"absolute top-0 left-0 w-full h-full pointer-events-none overflow-hidden z-0"}),(0,xn.jsxs)("div",{className:"flex h-full w-full relative z-10",children:[(0,xn.jsxs)("div",{className:"shadow-xl transition-all duration-300 ".concat(r?"w-16 lg:w-20":"w-72"," flex flex-col flex-shrink-0 z-50 rounded-r-2xl overflow-hidden fixed lg:relative h-full ").concat(r?"-translate-x-full lg:translate-x-0":"translate-x-0"),style:{backgroundColor:"var(--bg-secondary)"},children:[(0,xn.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--accent-bg)"},children:[(0,xn.jsx)("div",{className:"flex items-center gap-4",children:(0,xn.jsx)("div",{className:"p-4 rounded-xl flex items-center justify-center shadow-lg border-2 bg-gradient-to-br from-gray-800 via-gray-900 to-black",style:{borderColor:"var(--accent-bg)"},children:(0,xn.jsx)("img",{src:gn,className:"h-20 w-auto object-contain drop-shadow-md",alt:"Orchid Resort Logo"})})}),(0,xn.jsx)("button",{onClick:()=>n(!r),className:"p-2 rounded-full transition-colors duration-200",style:{color:"var(--text-secondary)"},children:(0,xn.jsx)(Hu,{size:20})})]}),(0,xn.jsxs)("div",{className:"p-4 transition-all duration-300 flex justify-center gap-2 border-b",style:{borderColor:"var(--accent-bg)"},children:[(0,xn.jsx)(xu.button,{animate:{scale:"orchid"===s?1.15:1,y:"orchid"===s?-2:0},whileHover:{scale:1.2,y:-2},whileTap:{scale:1.1},transition:{type:"spring",stiffness:300},className:"w-8 h-8 rounded-full overflow-hidden ".concat("orchid"===s?"shadow-lg border-2 border-[#8bc34a]":""),onClick:()=>{o("orchid"),Xu("orchid")},title:"Orchid",children:(0,xn.jsx)("img",{src:gn,alt:"Orchid Theme",className:"w-full h-full object-cover"})}),(0,xn.jsx)(xu.button,{animate:{scale:"eco-friendly"===s?1.15:1,y:"eco-friendly"===s?-2:0},whileHover:{scale:1.2,y:-2},whileTap:{scale:1.1},transition:{type:"spring",stiffness:300},className:"w-8 h-8 rounded-full overflow-hidden ".concat("eco-friendly"===s?"shadow-lg border-2 border-green-500":""),onClick:()=>{o("eco-friendly"),Xu("eco-friendly")},title:"Eco-Friendly",children:(0,xn.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-emerald-600 flex items-center justify-center text-white font-bold text-xs",children:"\ud83c\udf3f"})}),(0,xn.jsx)(xu.button,{animate:{scale:"platinum"===s?1.15:1,y:"platinum"===s?-2:0},whileHover:{scale:1.2,y:-2},whileTap:{scale:1.1},transition:{type:"spring",stiffness:300},className:"w-8 h-8 rounded-full overflow-hidden ".concat("platinum"===s?"shadow-lg border-2 border-gray-400":""),onClick:()=>{o("platinum"),Xu("platinum")},title:"Platinum",children:(0,xn.jsx)("img",{src:"https://placehold.co/32x32/f4f7f9/2c3e50?text=P",alt:"Platinum Theme",className:"w-full h-full object-cover"})}),(0,xn.jsx)(xu.button,{animate:{scale:"onyx"===s?1.15:1,y:"onyx"===s?-2:0},whileHover:{scale:1.2,y:-2},whileTap:{scale:1.1},transition:{type:"spring",stiffness:300},className:"w-8 h-8 rounded-full overflow-hidden ".concat("onyx"===s?"shadow-lg border-2 border-yellow-600":""),onClick:()=>{o("onyx"),Xu("onyx")},title:"Onyx",children:(0,xn.jsx)("img",{src:"https://placehold.co/32x32/1c1c1c/f1c40f?text=O",alt:"Onyx Theme",className:"w-full h-full object-cover"})}),(0,xn.jsx)(xu.button,{animate:{scale:"gilded-age"===s?1.15:1,y:"gilded-age"===s?-2:0},whileHover:{scale:1.2,y:-2},whileTap:{scale:1.1},transition:{type:"spring",stiffness:300},className:"w-8 h-8 rounded-full overflow-hidden ".concat("gilded-age"===s?"shadow-lg border-2 border-yellow-800":""),onClick:()=>{o("gilded-age"),Xu("gilded-age")},title:"Gilded Age",children:(0,xn.jsx)("img",{src:"https://placehold.co/32x32/fdf8f0/d4ac61?text=G",alt:"Gilded Age Theme",className:"w-full h-full object-cover"})})]}),(0,xn.jsx)("nav",{ref:l,className:"flex-1 p-4 space-y-2 z-30 overflow-y-auto",onScroll:()=>{l.current&&d(l.current.scrollTop)},children:p.map((e,t)=>{const n=a.pathname===e.to,i="/dashboard"!==e.to&&a.pathname.startsWith(e.to),s=n||i;return(0,xn.jsxs)(Ie,{to:e.to,className:"\n                    group block flex items-center gap-4 p-3 rounded-xl\n                    transition-all duration-200 cursor-pointer\n                    ".concat(s?"font-semibold":"","\n                  "),style:{backgroundColor:s?"var(--accent-bg)":"transparent",color:s?"var(--accent-text)":"var(--text-secondary)",boxShadow:s?"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)":"none"},children:[(0,xn.jsx)(xu.span,{whileHover:{scale:s?1:1.1,rotate:s?0:-5},className:"transition-transform duration-200",children:e.icon}),!r&&(0,xn.jsx)(xu.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"transition-opacity duration-200",children:e.label})]},t)})}),(0,xn.jsx)("div",{className:"p-4 border-t",style:{borderColor:"var(--accent-bg)"},children:(0,xn.jsxs)(Ie,{to:"/",className:"group block flex items-center gap-4 p-3 rounded-xl transition-all duration-200 cursor-pointer hover:opacity-75",style:{backgroundColor:"transparent",color:"var(--text-secondary)"},children:[(0,xn.jsx)("span",{className:"group-hover:scale-110 transition-transform duration-200",children:(0,xn.jsx)(Vu,{size:18})}),!r&&(0,xn.jsx)("span",{className:"transition-opacity duration-200",children:"Log Out"})]})}),(0,xn.jsx)("div",{className:"p-6 border-t z-20",style:{borderColor:"var(--accent-bg)"},children:!r&&(0,xn.jsx)("div",{className:"text-sm mb-2",style:{color:"var(--text-secondary)"},children:f?"Logged in as: ".concat(f.name||f.email||u):"Not logged in"})})]}),(0,xn.jsx)("main",{className:"flex-1 overflow-y-auto p-2 sm:p-4 md:p-6 lg:p-8 z-10 lg:ml-0 ml-0",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:(0,xn.jsx)(_u,{mode:"wait",initial:!1,children:(0,xn.jsx)(xu.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:15},transition:{duration:.2,ease:"easeInOut"},children:t},a.pathname)})})]})]})}const Ju=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n="string"===typeof e?parseFloat(e)||0:e||0,i=new Intl.NumberFormat("en-IN",{minimumFractionDigits:r,maximumFractionDigits:r}).format(n);return t?"\u20b9".concat(i):i};function eh(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=eh(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function th(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=eh(e))&&(n&&(n+=" "),n+=t);return n}var rh=r(7820),nh=r.n(rh),ih=r(7770),ah=r.n(ih),sh=e=>0===e?0:e>0?1:-1,oh=e=>"number"==typeof e&&e!=+e,lh=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,ch=e=>("number"===typeof e||e instanceof Number)&&!oh(e),dh=e=>ch(e)||"string"===typeof e,uh=0,hh=e=>{var t=++uh;return"".concat(e||"").concat(t)},fh=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!ch(e)&&"string"!==typeof e)return n;if(lh(e)){if(null==t)return n;var a=e.indexOf("%");r=t*parseFloat(e.slice(0,a))/100}else r=+e;return oh(r)&&(r=n),i&&null!=t&&r>t&&(r=t),r},ph=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1};function mh(e,t,r){return ch(e)&&ch(t)?e+r*(t-e):t}function gh(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):ah()(e,t))===r)}var xh=e=>null===e||"undefined"===typeof e,yh=e=>xh(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function vh(e){return null!=e}function bh(){}var wh=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if("undefined"!==typeof console&&console.warn&&(void 0===t&&console.warn("LogUtils requires an error message argument"),!e))if(void 0===t)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>n[a++]))}},jh=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,o=lh(n)?e:Number(n),l=lh(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&null!=l&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},Nh={width:0,height:0,overflow:"visible"},_h={width:0,overflowX:"visible"},kh={height:0,overflowY:"visible"},Sh={},Ah=e=>{var{width:t,height:r}=e,n=lh(t),i=lh(r);return n&&i?Nh:n?_h:i?kh:Sh};function Ch(e){return Number.isFinite(e)}function Eh(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(null,arguments)}function Th(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Oh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Th(Object(r),!0).forEach(function(t){Ih(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Th(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ih(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Lh=(0,i.createContext)({width:-1,height:-1});function Dh(e){var{children:t,width:r,height:n}=e,a=(0,i.useMemo)(()=>({width:r,height:n}),[r,n]);return function(e){return Eh(e.width)&&Eh(e.height)}(a)?i.createElement(Lh.Provider,{value:a},t):null}var Mh=()=>(0,i.useContext)(Lh),Rh=(0,i.forwardRef)((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:h,className:f,onResize:p,style:m={}}=e,g=(0,i.useRef)(null),x=(0,i.useRef)();x.current=p,(0,i.useImperativeHandle)(t,()=>g.current);var[y,v]=(0,i.useState)({containerWidth:n.width,containerHeight:n.height}),b=(0,i.useCallback)((e,t)=>{v(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]);(0,i.useEffect)(()=>{if(null==g.current||"undefined"===typeof ResizeObserver)return bh;var e=e=>{var t,{width:r,height:n}=e[0].contentRect;b(r,n),null===(t=x.current)||void 0===t||t.call(x,r,n)};u>0&&(e=nh()(e,u,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:n}=g.current.getBoundingClientRect();return b(r,n),t.observe(g.current),()=>{t.disconnect()}},[b,u]);var{containerWidth:w,containerHeight:j}=y;wh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:N,calculatedHeight:_}=jh(w,j,{width:a,height:s,aspect:r,maxHeight:c});return wh(null!=N&&N>0||null!=_&&_>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",N,_,a,s,o,l,r),i.createElement("div",{id:h?"".concat(h):void 0,className:th("recharts-responsive-container",f),style:Oh(Oh({},m),{},{width:a,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:g},i.createElement("div",{style:Ah({width:a,height:s})},i.createElement(Dh,{width:N,height:_},d)))}),Fh=(0,i.forwardRef)((e,t)=>{var r=Mh();if(Eh(r.width)&&Eh(r.height))return e.children;var{width:n,height:a}=function(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return void 0===i&&void 0===a?(i="100%",a="100%"):void 0===i?i=n&&n>0?void 0:"100%":void 0===a&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=jh(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return ch(s)&&ch(o)?i.createElement(Dh,{width:s,height:o},e.children):i.createElement(Rh,Ph({},e,{width:n,height:a,ref:t}))}),Bh=Symbol.for("immer-nothing"),zh=Symbol.for("immer-draftable"),Uh=Symbol.for("immer-state");function qh(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Wh=Object,Hh=Wh.getPrototypeOf,Vh="constructor",Gh="prototype",Kh="configurable",Yh="enumerable",Xh="writable",Qh="value",$h=e=>!!e&&!!e[Uh];function Zh(e){var t;return!!e&&(tf(e)||lf(e)||!!e[zh]||!(null===(t=e[Vh])||void 0===t||!t[zh])||cf(e)||df(e))}var Jh=Wh[Gh][Vh].toString(),ef=new WeakMap;function tf(e){if(!e||!uf(e))return!1;const t=Hh(e);if(null===t||t===Wh[Gh])return!0;const r=Wh.hasOwnProperty.call(t,Vh)&&t[Vh];if(r===Object)return!0;if(!hf(r))return!1;let n=ef.get(r);return void 0===n&&(n=Function.toString.call(r),ef.set(r,n)),n===Jh}function rf(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===nf(e)){(r?Reflect.ownKeys(e):Wh.keys(e)).forEach(r=>{t(r,e[r],e)})}else e.forEach((r,n)=>t(n,r,e))}function nf(e){const t=e[Uh];return t?t.type_:lf(e)?1:cf(e)?2:df(e)?3:0}var af=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:nf(e))?e.has(t):Wh[Gh].hasOwnProperty.call(e,t)},sf=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:nf(e))?e.get(t):e[t]},of=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:nf(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r};var lf=Array.isArray,cf=e=>e instanceof Map,df=e=>e instanceof Set,uf=e=>"object"===typeof e,hf=e=>"function"===typeof e,ff=e=>"boolean"===typeof e,pf=e=>e.copy_||e.base_,mf=e=>e.modified_?e.copy_:e.base_;function gf(e,t){if(cf(e))return new Map(e);if(df(e))return new Set(e);if(lf(e))return Array[Gh].slice.call(e);const r=tf(e);if(!0===t||"class_only"===t&&!r){const t=Wh.getOwnPropertyDescriptors(e);delete t[Uh];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const i=r[n],a=t[i];!1===a[Xh]&&(a[Xh]=!0,a[Kh]=!0),(a.get||a.set)&&(t[i]={[Kh]:!0,[Xh]:!0,[Yh]:a[Yh],[Qh]:e[i]})}return Wh.create(Hh(e),t)}{const t=Hh(e);if(null!==t&&r)return Fe({},e);const n=Wh.create(t);return Wh.assign(n,e)}}function xf(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return vf(e)||$h(e)||(nf(e)>1&&Wh.defineProperties(e,{set:yf,add:yf,clear:yf,delete:yf}),Wh.freeze(e),t&&rf(e,(e,t)=>{xf(t,!0)},!1)),e}var yf={[Qh]:function(){qh(2)}};function vf(e){return null===e||!uf(e)||Wh.isFrozen(e)}var bf="MapSet",wf="Patches",jf={};function Nf(e){const t=jf[e];return t||qh(0),t}var _f;var kf=()=>_f;function Sf(e,t){t&&(e.patchPlugin_=Nf(wf),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Af(e){Cf(e),e.drafts_.forEach(Pf),e.drafts_=null}function Cf(e){e===_f&&(_f=e.parent_)}var Ef=e=>_f=((e,t)=>{return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:(r=bf,jf[r]?Nf(bf):void 0)};var r})(_f,e);function Pf(e){const t=e[Uh];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Tf(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(void 0!==e&&e!==r){r[Uh].modified_&&(Af(t),qh(4)),Zh(e)&&(e=Of(t,e));const{patchPlugin_:n}=t;n&&n.generateReplacementPatches_(r[Uh].base_,e,t)}else e=Of(t,r);return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&xf(t,r)}(t,e,!0),Af(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Bh?e:void 0}function Of(e,t){if(vf(t))return t;const r=t[Uh];if(!r){return Ff(t,e.handledSet_,e)}if(!Lf(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:t}=r;if(t)for(;t.length>0;){t.pop()(e)}Rf(r,e)}return r.copy_}function If(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Lf=(e,t)=>e.scope_===t,Df=[];function Mf(e,t,r,n){var i;const a=pf(e),s=e.type_;if(void 0!==n){if(sf(a,n,s)===t)return void of(a,n,r,s)}if(!e.draftLocations_){const t=e.draftLocations_=new Map;rf(a,(e,r)=>{if($h(r)){const n=t.get(r)||[];n.push(e),t.set(r,n)}})}const o=null!==(i=e.draftLocations_.get(t))&&void 0!==i?i:Df;for(const l of o)of(a,l,r,s)}function Rf(e,t){var r,n;if(e.modified_&&!e.finalized_&&(3===e.type_||(null!==(r=null===(n=e.assigned_)||void 0===n?void 0:n.size)&&void 0!==r?r:0)>0)){const{patchPlugin_:r}=t;if(r){const n=r.getPath(e);n&&r.generatePatches_(e,n,t)}If(e)}}function Ff(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||$h(e)||t.has(e)||!Zh(e)||vf(e)||(t.add(e),rf(e,(n,i)=>{if($h(i)){const t=i[Uh];if(Lf(t,r)){const r=mf(t);of(e,n,r,e.type_),If(t)}}else Zh(i)&&Ff(i,t,r)})),e}var Bf={get(e,t){if(t===Uh)return e;const r=pf(e);if(!af(r,t,e.type_))return function(e,t,r){var n;const i=qf(t,r);return i?Qh in i?i[Qh]:null===(n=i.get)||void 0===n?void 0:n.call(e.draft_):void 0}(e,r,t);const n=r[t];if(e.finalized_||!Zh(n))return n;if(n===Uf(e.base_,t)){Hf(e);const r=1===e.type_?+t:t,i=Vf(e.scope_,n,e,r);return e.copy_[r]=i}return n},has:(e,t)=>t in pf(e),ownKeys:e=>Reflect.ownKeys(pf(e)),set(e,t,r){const n=qf(pf(e),t);if(null!==n&&void 0!==n&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=Uf(pf(e),t),i=null===n||void 0===n?void 0:n[Uh];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,n)&&(void 0!==r||af(e.base_,t,e.type_)))return!0;Hf(e),Wf(e)}return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),function(e,t,r){const{scope_:n}=e;if($h(r)){const i=r[Uh];Lf(i,n)&&i.callbacks_.push(function(){Hf(e);const n=mf(i);Mf(e,r,n,t)})}else Zh(r)&&e.callbacks_.push(function(){const i=pf(e);var a;sf(i,t,e.type_)===r&&n.drafts_.length>1&&!0===(null!==(a=e.assigned_.get(t))&&void 0!==a&&a)&&e.copy_&&Ff(sf(e.copy_,t,e.type_),n.handledSet_,n)})}(e,t,r)),!0},deleteProperty:(e,t)=>(Hf(e),void 0!==Uf(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),Wf(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=pf(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{[Xh]:!0,[Kh]:1!==e.type_||"length"!==t,[Yh]:n[Yh],[Qh]:r[t]}:n},defineProperty(){qh(11)},getPrototypeOf:e=>Hh(e.base_),setPrototypeOf(){qh(12)}},zf={};function Uf(e,t){const r=e[Uh];return(r?pf(r):e)[t]}function qf(e,t){if(!(t in e))return;let r=Hh(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Hh(r)}}function Wf(e){e.modified_||(e.modified_=!0,e.parent_&&Wf(e.parent_))}function Hf(e){e.copy_||(e.assigned_=new Map,e.copy_=gf(e.base_,e.scope_.immer_.useStrictShallowCopy_))}rf(Bf,(e,t)=>{zf[e]=function(){const e=arguments;return e[0]=e[0][0],t.apply(this,e)}}),zf.deleteProperty=function(e,t){return zf.set.call(this,e,t,void 0)},zf.set=function(e,t,r){return Bf.set.call(this,e[0],t,r,e[0])};function Vf(e,t,r,n){var i,a;const[s,o]=cf(t)?Nf(bf).proxyMap_(t,r):df(t)?Nf(bf).proxySet_(t,r):function(e,t){const r=lf(e),n={type_:r?1:0,scope_:t?t.scope_:kf(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=Bf;r&&(i=[n],a=zf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}(t,r);return(null!==(i=null===r||void 0===r?void 0:r.scope_)&&void 0!==i?i:kf()).drafts_.push(s),o.callbacks_=null!==(a=null===r||void 0===r?void 0:r.callbacks_)&&void 0!==a?a:[],o.key_=n,r&&void 0!==n?function(e,t,r){e.callbacks_.push(function(n){var i,a;const s=t;if(!s||!Lf(s,n))return;null===(i=n.mapSetPlugin_)||void 0===i||i.fixSetContents(s);const o=mf(s);Mf(e,null!==(a=s.draft_)&&void 0!==a?a:s,o,r),Rf(s,n)})}(r,o,n):o.callbacks_.push(function(e){var t;null===(t=e.mapSetPlugin_)||void 0===t||t.fixSetContents(o);const{patchPlugin_:r}=e;o.modified_&&r&&r.generatePatches_(o,[],e)}),s}function Gf(e){return $h(e)||qh(10),Kf(e)}function Kf(e){if(!Zh(e)||vf(e))return e;const t=e[Uh];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=gf(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=gf(e,!0);return rf(r,(e,t)=>{of(r,e,Kf(t))},n),t&&(t.finalized_=!1),r}var Yf=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,r)=>{if(hf(e)&&!hf(t)){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return n.produce(e,e=>t.call(this,e,...a))}}let n;if(hf(t)||qh(6),void 0===r||hf(r)||qh(7),Zh(e)){const i=Ef(this),a=Vf(i,e,void 0);let s=!0;try{n=t(a),s=!1}finally{s?Af(i):Cf(i)}return Sf(i,r),Tf(n,i)}if(!e||!uf(e)){if(n=t(e),void 0===n&&(n=e),n===Bh&&(n=void 0),this.autoFreeze_&&xf(n,!0),r){const t=[],i=[];Nf(wf).generateReplacementPatches_(e,n,{patches_:t,inversePatches_:i}),r(t,i)}return n}qh(1)},this.produceWithPatches=(e,r)=>{if(hf(e))return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return t.produceWithPatches(r,t=>e(t,...i))};let n,i;const a=this.produce(e,r,(e,t)=>{n=e,i=t});return[a,n,i]},ff(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),ff(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),ff(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Zh(e)||qh(8),$h(e)&&(e=Gf(e));const t=Ef(this),r=Vf(t,e,void 0);return r[Uh].isManual_=!0,Cf(t),r}finishDraft(e,t){const r=e&&e[Uh];r&&r.isManual_||qh(9);const{scope_:n}=r;return Sf(n,t),Tf(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=Nf(wf).applyPatches_;return $h(e)?n(e,t):this.produce(e,e=>n(e,t))}},Xf=Yf.produce;function Qf(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var $f=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Zf=()=>Math.random().toString(36).substring(7).split("").join("."),Jf={INIT:"@@redux/INIT".concat(Zf()),REPLACE:"@@redux/REPLACE".concat(Zf()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(Zf())};function ep(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function tp(e,t,r){if("function"!==typeof e)throw new Error(Qf(2));if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(Qf(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(Qf(1));return r(tp)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((e,t)=>{s.set(t,e)}))}function d(){if(l)throw new Error(Qf(3));return i}function u(e){if("function"!==typeof e)throw new Error(Qf(4));if(l)throw new Error(Qf(5));let t=!0;c();const r=o++;return s.set(r,e),function(){if(t){if(l)throw new Error(Qf(6));t=!1,c(),s.delete(r),a=null}}}function h(e){if(!ep(e))throw new Error(Qf(7));if("undefined"===typeof e.type)throw new Error(Qf(8));if("string"!==typeof e.type)throw new Error(Qf(17));if(l)throw new Error(Qf(9));try{l=!0,i=n(i,e)}finally{l=!1}return(a=s).forEach(e=>{e()}),e}h({type:Jf.INIT});return{dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Qf(10));n=e,h({type:Jf.REPLACE})},[$f]:function(){const e=u;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Qf(11));function r(){const e=t;e.next&&e.next(d())}r();return{unsubscribe:e(r)}},[$f](){return this}}}}}function rp(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const n=t[a];0,"function"===typeof e[n]&&(r[n]=e[n])}const n=Object.keys(r);let i;try{!function(e){Object.keys(e).forEach(t=>{const r=e[t];if("undefined"===typeof r(void 0,{type:Jf.INIT}))throw new Error(Qf(12));if("undefined"===typeof r(void 0,{type:Jf.PROBE_UNKNOWN_ACTION()}))throw new Error(Qf(13))})}(r)}catch(UX){i=UX}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let a=!1;const s={};for(let i=0;i<n.length;i++){const o=n[i],l=r[o],c=e[o],d=l(c,t);if("undefined"===typeof d){t&&t.type;throw new Error(Qf(14))}s[o]=d,a=a||d!==c}return a=a||n.length!==Object.keys(e).length,a?s:e}}function np(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function ip(e){return ep(e)&&"type"in e&&"string"===typeof e.type}function ap(e){return t=>{let{dispatch:r,getState:n}=t;return t=>i=>"function"===typeof i?i(r,n,e):t(i)}}var sp=ap(),op=ap;const lp=["reducerPath"];var cp="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?np:np.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function dp(e,t){function r(){if(t){let r=t(...arguments);if(!r)throw new Error(am(0));return Fe(Fe({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return r.toString=()=>"".concat(e),r.type=e,r.match=t=>ip(t)&&t.type===e,r}var up=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return 1===r.length&&Array.isArray(r[0])?new e(...r[0].concat(this)):new e(...r.concat(this))}};function hp(e){return Zh(e)?Xf(e,()=>{}):e}function fp(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var pp="RTK_autoBatch",mp=()=>e=>({payload:e,meta:{[pp]:!0}}),gp=e=>t=>{setTimeout(t,e)},xp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const r=t(...arguments);let n=!0,i=!1,a=!1;const s=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:gp(10):"callback"===e.type?e.queueNotification:gp(e.timeout),l=()=>{a=!1,i&&(i=!1,s.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>n&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{var t;return n=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[pp]),i=!n,i&&(a||(a=!0,o(l))),r.dispatch(e)}finally{n=!0}}})}};function yp(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let a=new up;return t&&(function(e){return"boolean"===typeof e}(t)?a.push(sp):a.push(op(t.extraArgument))),a},{reducer:r,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s,enhancers:o}=e||{};let l,c;if("function"===typeof r)l=r;else{if(!ep(r))throw new Error(am(1));l=rp(r)}c="function"===typeof n?n(t):t();let d=np;i&&(d=cp(Fe({trace:!1},"object"===typeof i&&i)));const u=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(Qf(15))};const s={getState:i.getState,dispatch:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return a(e,...r)}},o=t.map(e=>e(s));return a=np(...o)(i.dispatch),Fe(Fe({},i),{},{dispatch:a})}}(...c),h=(e=>function(t){const{autoBatch:r=!0}=null!==t&&void 0!==t?t:{};let n=new up(e);return r&&n.push(xp("object"===typeof r?r:void 0)),n})(u);return tp(l,s,d(..."function"===typeof o?o(h):h()))}function vp(e){const t={},r=[];let n;const i={addCase(e,r){const n="string"===typeof e?e:e.type;if(!n)throw new Error(am(28));if(n in t)throw new Error(am(29));return t[n]=r,i},addAsyncThunk:(e,n)=>(n.pending&&(t[e.pending.type]=n.pending),n.rejected&&(t[e.rejected.type]=n.rejected),n.fulfilled&&(t[e.fulfilled.type]=n.fulfilled),n.settled&&r.push({matcher:e.settled,reducer:n.settled}),i),addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(n=e,i)};return e(i),[t,r,n]}var bp=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var wp=Symbol.for("rtk-slice-createasyncthunk");function jp(e,t){return"".concat(e,"/").concat(t)}function Np(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[wp];return function(e){const{name:t,reducerPath:n=t}=e;if(!t)throw new Error(am(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return Fe({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(i),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const r="string"===typeof e?e:e.type;if(!r)throw new Error(am(12));if(r in s.sliceCaseReducersByType)throw new Error(am(13));return s.sliceCaseReducersByType[r]=t,o},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(s.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},r=[],n]="function"===typeof e.extraReducers?vp(e.extraReducers):[e.extraReducers],i=Fe(Fe({},t),s.sliceCaseReducersByType);return function(e,t){let r,[n,i,a]=vp(t);if(function(e){return"function"===typeof e}(e))r=()=>hp(e());else{const t=hp(e);r=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(),t=arguments.length>1?arguments[1]:void 0,s=[n[t.type],...i.filter(e=>{let{matcher:r}=e;return r(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===s.filter(e=>!!e).length&&(s=[a]),s.reduce((e,r)=>{if(r){if($h(e)){const n=r(e,t);return void 0===n?e:n}if(Zh(e))return Xf(e,e=>r(e,t));{const n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return s.getInitialState=r,s}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}a.forEach(n=>{const a=i[n],s={reducerName:n,type:jp(t,n),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,r){let n,i,{type:a,reducerName:s,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(am(17));n=t.reducer,i=t.prepare}else n=t;r.addCase(a,n).exposeCaseReducer(s,n).exposeAction(s,i?dp(a,i):dp(a))}(s,a,o):function(e,t,r,n){let{type:i,reducerName:a}=e;if(!n)throw new Error(am(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=t,h=n(i,s,u);r.exposeAction(a,h),o&&r.addCase(h.fulfilled,o);l&&r.addCase(h.pending,l);c&&r.addCase(h.rejected,c);d&&r.addMatcher(h.settled,d);r.exposeCaseReducer(a,{fulfilled:o||Sp,pending:l||Sp,rejected:c||Sp,settled:d||Sp})}(s,a,o,r)});const c=e=>e,d=new Map,u=new WeakMap;let h;function f(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function m(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e){let i=e[t];return"undefined"===typeof i&&r&&(i=fp(u,n,p)),i}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const n=fp(d,r,()=>new WeakMap);return fp(n,t,()=>{const n={};for(const[a,s]of Object.entries(null!==(i=e.selectors)&&void 0!==i?i:{})){var i;n[a]=_p(s,t,()=>fp(u,t,p),r)}return n})}return{reducerPath:t,getSelectors:i,get selectors(){return i(n)},selectSlice:n}}const g=Fe(Fe({name:t,reducer:f,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:p},m(n)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:r}=t,i=wn(t,lp);const a=null!==r&&void 0!==r?r:n;return e.inject({reducerPath:a,reducer:f},i),Fe(Fe({},g),m(a,!0))}});return g}}function _p(e,t,r,n){function i(i){let a=t(i);"undefined"===typeof a&&n&&(a=r());for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return e(a,...o)}return i.unwrapped=e,i}var kp=Np();function Sp(){}var Ap="listener",Cp="completed",Ep="cancelled",Pp="task-".concat(Ep),Tp="task-".concat(Cp),Op="".concat(Ap,"-").concat(Ep),Ip="".concat(Ap,"-").concat(Cp),Lp=class{constructor(e){(0,Me.A)(this,"name","TaskAbortError"),(0,Me.A)(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat(Ep," (reason: ").concat(e,")")}},Dp=(e,t)=>{if("function"!==typeof e)throw new TypeError(am(32))},Mp=()=>{},Rp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mp;return e.catch(t),e},Fp=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Bp=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},zp=e=>{if(e.aborted){const{reason:t}=e;throw new Lp(t)}};function Up(e,t){let r=Mp;return new Promise((n,i)=>{const a=()=>i(new Lp(e.reason));e.aborted?a():(r=Fp(e,a),t.finally(()=>r()).then(n,i))}).finally(()=>{r=Mp})}var qp=e=>t=>Rp(Up(e,t).then(t=>(zp(e),t))),Wp=e=>{const t=qp(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:Hp}=Object,Vp={},Gp="listenerMiddleware",Kp=(e,t)=>(r,n)=>{Dp(r);const i=new AbortController;var a;a=i,Fp(e,()=>Bp(a,e.reason));const s=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Lp?"cancelled":"rejected",error:r}}finally{null===t||void 0===t||t()}})(async()=>{zp(e),zp(i.signal);const t=await r({pause:qp(i.signal),delay:Wp(i.signal),signal:i.signal});return zp(i.signal),t},()=>Bp(i,Tp));return null!==n&&void 0!==n&&n.autoJoin&&t.push(s.catch(Mp)),{result:qp(e)(s),cancel(){Bp(i,Pp)}}},Yp=(e,t)=>(r,n)=>Rp((async(r,n)=>{zp(t);let i=()=>{};const a=new Promise((t,n)=>{let a=e({predicate:r,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});i=()=>{a(),n()}}),s=[a];null!=n&&s.push(new Promise(e=>setTimeout(e,n,null)));try{const e=await Up(t,Promise.race(s));return zp(t),e}finally{i()}})(r,n)),Xp=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=dp(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(am(21));return Dp(a),{predicate:i,type:t,effect:a}},Qp=Hp(e=>{const{type:t,predicate:r,effect:n}=Xp(e);return{id:bp(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(am(22))}}},{withTypes:()=>Qp}),$p=(e,t)=>{const{type:r,effect:n,predicate:i}=Xp(t);return Array.from(e.values()).find(e=>("string"===typeof r?e.type===r:e.predicate===i)&&e.effect===n)},Zp=e=>{e.pending.forEach(e=>{Bp(e,Op)})},Jp=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},em=Hp(dp("".concat(Gp,"/add")),{withTypes:()=>em}),tm=dp("".concat(Gp,"/removeAll")),rm=Hp(dp("".concat(Gp,"/remove")),{withTypes:()=>rm}),nm=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.error("".concat(Gp,"/error"),...t)},im=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,r=new Map,{extra:n,onError:i=nm}=e;Dp(i);const a=e=>{var r;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&Zp(e)}))(null!==(r=$p(t,e))&&void 0!==r?r:Qp(e))};Hp(a,{withTypes:()=>a});const s=e=>{const r=$p(t,e);return r&&(r.unsubscribe(),e.cancelActive&&Zp(r)),!!r};Hp(s,{withTypes:()=>s});const o=async(e,s,o,l)=>{const c=new AbortController,d=Yp(a,c.signal),u=[];try{e.pending.add(c),(e=>{var t;const n=null!==(t=r.get(e))&&void 0!==t?t:0;r.set(e,n+1)})(e),await Promise.resolve(e.effect(s,Hp({},o,{getOriginalState:l,condition:(e,t)=>d(e,t).then(Boolean),take:d,delay:Wp(c.signal),pause:qp(c.signal),extra:n,signal:c.signal,fork:Kp(c.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==c&&(Bp(e,Op),r.delete(e))})},cancel:()=>{Bp(c,Op),e.pending.delete(c)},throwIfCancelled:()=>{zp(c.signal)}})))}catch(h){h instanceof Lp||Jp(i,h,{raisedBy:"effect"})}finally{await Promise.all(u),Bp(c,Ip),(e=>{var t;const n=null!==(t=r.get(e))&&void 0!==t?t:1;1===n?r.delete(e):r.set(e,n-1)})(e),e.pending.delete(c)}},l=((e,t)=>()=>{for(const e of t.keys())Zp(e);e.clear()})(t,r);return{middleware:e=>r=>n=>{if(!ip(n))return r(n);if(em.match(n))return a(n.payload);if(tm.match(n))return void l();if(rm.match(n))return s(n.payload);let c=e.getState();const d=()=>{if(c===Vp)throw new Error(am(23));return c};let u;try{if(u=r(n),t.size>0){const r=e.getState(),a=Array.from(t.values());for(const t of a){let a=!1;try{a=t.predicate(n,r,c)}catch(h){a=!1,Jp(i,h,{raisedBy:"predicate"})}a&&o(t,n,e,d)}}}finally{c=Vp}return u},startListening:a,stopListening:s,clearListeners:l}};Symbol.for("rtk-state-proxy-original");function am(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}function sm(e,t){if(t){var r=Number.parseInt(t,10);if(!oh(r))return null===e||void 0===e?void 0:e[r]}}var om=kp({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lm=om.reducer,{createEventEmitter:cm}=om.actions;r(7237);function dm(e){e()}var um={notify(){},get:()=>[]};function hm(e,t){let r,n=um,i=0,a=!1;function s(){c.onStateChange&&c.onStateChange()}function o(){i++,r||(r=t?t.addNestedSub(s):e.subscribe(s),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){dm(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){n&&null!==e&&(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,r&&0===i&&(r(),r=void 0,n.clear(),n=um)}const c={addNestedSub:function(e){o();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:s,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,o())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>n};return c}var fm=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),pm=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),mm=(()=>fm||pm?i.useLayoutEffect:i.useEffect)();function gm(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function xm(e,t){if(gm(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!gm(e[r[i]],t[r[i]]))return!1;return!0}Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var ym=Symbol.for("react-redux-context"),vm="undefined"!==typeof globalThis?globalThis:{};function bm(){var e;if(!i.createContext)return{};const t=null!==(e=vm[ym])&&void 0!==e?e:vm[ym]=new Map;let r=t.get(i.createContext);return r||(r=i.createContext(null),t.set(i.createContext,r)),r}var wm=bm();var jm=function(e){const{children:t,context:r,serverState:n,store:a}=e,s=i.useMemo(()=>{const e=hm(a);return{store:a,subscription:e,getServerState:n?()=>n:void 0}},[a,n]),o=i.useMemo(()=>a.getState(),[a]);mm(()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[s,o]);const l=r||wm;return i.createElement(l.Provider,{value:s},t)};var Nm=Symbol.for("immer-nothing"),_m=Symbol.for("immer-draftable"),km=Symbol.for("immer-state");function Sm(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Am=Object.getPrototypeOf;function Cm(e){return!!e&&!!e[km]}function Em(e){var t;return!!e&&(Om(e)||Array.isArray(e)||!!e[_m]||!(null===(t=e.constructor)||void 0===t||!t[_m])||Rm(e)||Fm(e))}var Pm=Object.prototype.constructor.toString(),Tm=new WeakMap;function Om(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if("function"!==typeof r)return!1;let n=Tm.get(r);return void 0===n&&(n=Function.toString.call(r),Tm.set(r,n)),n===Pm}function Im(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===Lm(e)){(r?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)})}else e.forEach((r,n)=>t(n,r,e))}function Lm(e){const t=e[km];return t?t.type_:Array.isArray(e)?1:Rm(e)?2:Fm(e)?3:0}function Dm(e,t){return 2===Lm(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Mm(e,t,r){const n=Lm(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function Rm(e){return e instanceof Map}function Fm(e){return e instanceof Set}function Bm(e){return e.copy_||e.base_}function zm(e,t){if(Rm(e))return new Map(e);if(Fm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Om(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[km];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const i=r[n],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Am(e),t)}{const t=Am(e);if(null!==t&&r)return Fe({},e);const n=Object.create(t);return Object.assign(n,e)}}function Um(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Wm(e)||Cm(e)||!Em(e)||(Lm(e)>1&&Object.defineProperties(e,{set:qm,add:qm,clear:qm,delete:qm}),Object.freeze(e),t&&Object.values(e).forEach(e=>Um(e,!0))),e}var qm={value:function(){Sm(2)}};function Wm(e){return null===e||"object"!==typeof e||Object.isFrozen(e)}var Hm,Vm={};function Gm(e){const t=Vm[e];return t||Sm(0),t}function Km(){return Hm}function Ym(e,t){t&&(Gm("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Xm(e){Qm(e),e.drafts_.forEach(Zm),e.drafts_=null}function Qm(e){e===Hm&&(Hm=e.parent_)}function $m(e){return Hm={drafts_:[],parent_:Hm,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Zm(e){const t=e[km];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Jm(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[km].modified_&&(Xm(t),Sm(4)),Em(e)&&(e=eg(t,e),t.parent_||rg(t,e)),t.patches_&&Gm("Patches").generateReplacementPatches_(r[km].base_,e,t.patches_,t.inversePatches_)):e=eg(t,r,[]),Xm(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Nm?e:void 0}function eg(e,t,r){if(Wm(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[km];if(!i)return Im(t,(n,a)=>tg(e,i,t,n,a,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return rg(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const t=i.copy_;let a=t,s=!1;3===i.type_&&(a=new Set(t),t.clear(),s=!0),Im(a,(n,a)=>tg(e,i,t,n,a,r,s),n),rg(e,t,!1),r&&e.patches_&&Gm("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function tg(e,t,r,n,i,a,s){if(null==i)return;if("object"!==typeof i&&!s)return;const o=Wm(i);if(!o||s){if(Cm(i)){const s=eg(e,i,a&&t&&3!==t.type_&&!Dm(t.assigned_,n)?a.concat(n):void 0);if(Mm(r,n,s),!Cm(s))return;e.canAutoFreeze_=!1}else s&&r.add(i);if(Em(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[n]===i&&o)return;eg(e,i),t&&t.scope_.parent_||"symbol"===typeof n||!(Rm(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))||rg(e,i)}}}function rg(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Um(t,r)}var ng={get(e,t){if(t===km)return e;const r=Bm(e);if(!Dm(r,t))return function(e,t,r){var n;const i=sg(t,r);return i?"value"in i?i.value:null===(n=i.get)||void 0===n?void 0:n.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!Em(n)?n:n===ag(e.base_,t)?(lg(e),e.copy_[t]=cg(n,e)):n},has:(e,t)=>t in Bm(e),ownKeys:e=>Reflect.ownKeys(Bm(e)),set(e,t,r){const n=sg(Bm(e),t);if(null!==n&&void 0!==n&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=ag(Bm(e),t),i=null===n||void 0===n?void 0:n[km];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,n)&&(void 0!==r||Dm(e.base_,t)))return!0;lg(e),og(e)}return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==ag(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,lg(e),og(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=Bm(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){Sm(11)},getPrototypeOf:e=>Am(e.base_),setPrototypeOf(){Sm(12)}},ig={};function ag(e,t){const r=e[km];return(r?Bm(r):e)[t]}function sg(e,t){if(!(t in e))return;let r=Am(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Am(r)}}function og(e){e.modified_||(e.modified_=!0,e.parent_&&og(e.parent_))}function lg(e){e.copy_||(e.copy_=zm(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Im(ng,(e,t)=>{ig[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),ig.deleteProperty=function(e,t){return ig.set.call(this,e,t,void 0)},ig.set=function(e,t,r){return ng.set.call(this,e[0],t,r,e[0])};function cg(e,t){const r=Rm(e)?Gm("MapSet").proxyMap_(e,t):Fm(e)?Gm("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Km(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=ng;r&&(i=[n],a=ig);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}(e,t);return(t?t.scope_:Km()).drafts_.push(r),r}function dg(e){if(!Em(e)||Wm(e))return e;const t=e[km];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=zm(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=zm(e,!0);return Im(r,(e,t)=>{Mm(r,e,dg(t))},n),t&&(t.finalized_=!1),r}var ug=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{if("function"===typeof e&&"function"!==typeof t){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return n.produce(e,e=>t.call(this,e,...a))}}let n;if("function"!==typeof t&&Sm(6),void 0!==r&&"function"!==typeof r&&Sm(7),Em(e)){const i=$m(this),a=cg(e,void 0);let s=!0;try{n=t(a),s=!1}finally{s?Xm(i):Qm(i)}return Ym(i,r),Jm(n,i)}if(!e||"object"!==typeof e){if(n=t(e),void 0===n&&(n=e),n===Nm&&(n=void 0),this.autoFreeze_&&Um(n,!0),r){const t=[],i=[];Gm("Patches").generateReplacementPatches_(e,n,t,i),r(t,i)}return n}Sm(1)},this.produceWithPatches=(e,r)=>{if("function"===typeof e)return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return t.produceWithPatches(r,t=>e(t,...i))};let n,i;const a=this.produce(e,r,(e,t)=>{n=e,i=t});return[a,n,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Em(e)||Sm(8),Cm(e)&&(e=function(e){Cm(e)||Sm(10);return dg(e)}(e));const t=$m(this),r=cg(e,void 0);return r[km].isManual_=!0,Qm(t),r}finishDraft(e,t){const r=e&&e[km];r&&r.isManual_||Sm(9);const{scope_:n}=r;return Ym(n,t),Jm(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=Gm("Patches").applyPatches_;return Cm(e)?n(e,t):this.produce(e,e=>n(e,t))}};ug.produce;var hg={active:!1,index:null,dataKey:void 0,coordinate:void 0},fg=kp({name:"tooltip",initialState:{itemInteraction:{click:hg,hover:hg},axisInteraction:{click:hg,hover:hg},keyboardInteraction:hg,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:mp()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Gf(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:mp()},removeTooltipEntrySettings:{reducer(e,t){var r=Gf(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:mp()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:pg,replaceTooltipEntrySettings:mg,removeTooltipEntrySettings:gg,setTooltipSettingsState:xg,setActiveMouseOverItemIndex:yg,mouseLeaveItem:vg,mouseLeaveChart:bg,setActiveClickItemIndex:wg,setMouseOverAxisIndex:jg,setMouseClickAxisIndex:Ng,setSyncInteraction:_g,setKeyboardInteraction:kg}=fg.actions,Sg=fg.reducer,Ag=kp({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;null!=r&&(e.dataStartIndex=r),null!=n&&(e.dataEndIndex=n)}}}),{setChartData:Cg,setDataStartEndIndexes:Eg,setComputedData:Pg}=Ag.actions,Tg=Ag.reducer,Og=kp({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=null!==(r=t.payload.top)&&void 0!==r?r:0,e.margin.right=null!==(n=t.payload.right)&&void 0!==n?n:0,e.margin.bottom=null!==(i=t.payload.bottom)&&void 0!==i?i:0,e.margin.left=null!==(a=t.payload.left)&&void 0!==a?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Ig,setLayout:Lg,setChartSize:Dg,setScale:Mg}=Og.actions,Rg=Og.reducer;function Fg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var Bg=e=>Array.isArray(e)?e:[e];function zg(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const r=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(r,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var Ug="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function qg(){return{s:0,v:void 0,o:null,p:null}}function Wg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=t;let i,a=0;function s(){let t=r;const{length:s}=arguments;for(let e=0,r=s;e<r;e++){const r=arguments[e];if("function"===typeof r||"object"===typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const n=e.get(r);void 0===n?(t=qg(),e.set(r,t)):t=n}else{let e=t.p;null===e&&(t.p=e=new Map);const n=e.get(r);void 0===n?(t=qg(),e.set(r,t)):t=n}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),a++,n){var c,d,u;const e=null!==(c=null===(d=i)||void 0===d||null===(u=d.deref)||void 0===u?void 0:u.call(d))&&void 0!==c?c:i;null!=e&&n(e,l)&&(l=e,0!==a&&a--);i="object"===typeof l&&null!==l||"function"===typeof l?new Ug(l):l}return o.s=1,o.v=l,l}return s.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function Hg(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const i="function"===typeof e?{memoize:e,memoizeOptions:r}:e,a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n,a=0,s=0,o={},l=t.pop();"object"===typeof l&&(o=l,l=t.pop()),Fg(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c=Fe(Fe({},i),o),{memoize:d,memoizeOptions:u=[],argsMemoize:h=Wg,argsMemoizeOptions:f=[],devModeChecks:p={}}=c,m=Bg(u),g=Bg(f),x=zg(t),y=d(function(){return a++,l.apply(null,arguments)},...m);const v=h(function(){s++;const e=function(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}(x,arguments);return n=y.apply(null,e),n},...g);return Object.assign(v,{resultFunc:l,memoizedResultFunc:y,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>n,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:h})};return Object.assign(a,{withTypes:()=>a}),a}var Vg=Hg(Wg),Gg=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vg;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const r=Object.keys(e),n=t(r.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t,n)=>(e[r[n]]=t,e),{})});return n},{withTypes:()=>Gg}),Kg=r(8443),Yg=(0,i.createContext)(null),Xg=e=>e,Qg=()=>{var e=(0,i.useContext)(Yg);return e?e.store.dispatch:Xg},$g=()=>{},Zg=()=>$g,Jg=(e,t)=>e===t;function ex(e){var t=(0,i.useContext)(Yg);return(0,Kg.useSyncExternalStoreWithSelector)(t?t.subscription.addNestedSub:Zg,t?t.store.getState:$g,t?t.store.getState:$g,t?e:$g,Jg)}var tx=r(3821),rx=r.n(tx),nx=e=>e.legend.settings,ix=Vg([e=>e.legend.payload,nx],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?rx()(n,r):n});function ax(e,t){if((i=e.length)>1)for(var r,n,i,a=1,s=e[t[0]],o=s.length;a<i;++a)for(n=s,s=e[t[a]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}Array.prototype.slice;function sx(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function ox(e){return function(){return e}}function lx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function cx(e,t){return e[t]}function dx(e){const t=[];return t.key=e,t}function ux(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function hx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hx(Object(r),!0).forEach(function(t){px(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hx(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function px(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mx(e,t,r){return xh(e)||xh(t)?r:dh(t)?ah()(e,t,r):"function"===typeof t?t(e):r}var gx=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,xx=(e,t,r,n)=>{if(n)return e.map(e=>e.coordinate);var i,a,s=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===r&&(a=!0),e.coordinate));return i||s.push(t),a||s.push(r),s},yx=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:u,niceTicks:h,axisType:f}=e;if(!s)return null;var p="scaleBand"===o&&s.bandwidth?s.bandwidth()/2:2,m=(t||r)&&"category"===i&&s.bandwidth?s.bandwidth()/p:0;if(m="angleAxis"===f&&a&&a.length>=2?2*sh(a[0]-a[1])*m:m,t&&(u||h)){var g=(u||h||[]).map((e,t)=>{var r=n?n.indexOf(e):e;return{coordinate:s(r)+m,value:e,offset:m,index:t}});return g.filter(e=>!oh(e.coordinate))}return l&&c?c.map((e,t)=>({coordinate:s(e)+m,value:e,index:t,offset:m})):s.ticks&&!r&&null!=d?s.ticks(d).map((e,t)=>({coordinate:s(e)+m,value:e,offset:m,index:t})):s.domain().map((e,t)=>({coordinate:s(e)+m,value:n?n[e]:e,index:t,offset:m}))},vx=1e-4,bx={sign:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var o=oh(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,i,a=0,s=e[0].length;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}ax(e,t)}},none:ax,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,i=e[t[0]],a=i.length;n<a;++n){for(var s=0,o=0;s<r;++s)o+=e[s][n][1]||0;i[n][1]+=i[n][0]=-o/2}ax(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,i,a=0,s=1;s<n;++s){for(var o=0,l=0,c=0;o<i;++o){for(var d=e[t[o]],u=d[s][1]||0,h=(u-(d[s-1][1]||0))/2,f=0;f<o;++f){var p=e[t[f]];h+=(p[s][1]||0)-(p[s-1][1]||0)}l+=u,c+=h*u}r[s-1][1]+=r[s-1][0]=a,l&&(a-=c/l)}r[s-1][1]+=r[s-1][0]=a,ax(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=oh(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}}},wx=(e,t,r)=>{var n=bx[r],i=function(){var e=ox([]),t=lx,r=ax,n=cx;function i(i){var a,s,o=Array.from(e.apply(this,arguments),dx),l=o.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(o[a][c]=[0,+n(e,o[a].key,c,i)]).data=e;for(a=0,s=sx(t(o));a<l;++a)o[s[a]].index=a;return r(o,s),o}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:ox(Array.from(t)),i):e},i.value=function(e){return arguments.length?(n="function"===typeof e?e:ox(+e),i):n},i.order=function(e){return arguments.length?(t=null==e?lx:"function"===typeof e?e:ox(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(r=null==e?ax:e,i):r},i}().keys(t).value((e,t)=>Number(mx(e,t,0))).order(lx).offset(n);return i(e)};function jx(e){return null==e?void 0:String(e)}function Nx(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!xh(i[t.dataKey])){var o=gh(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=mx(i,xh(s)?t.dataKey:s);return xh(l)?null:t.scale(l)}var _x=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if("category"===t.type)return r[s]?r[s].coordinate+n:null;var o=mx(a,t.dataKey,t.scale.domain()[s]);return xh(o)?null:t.scale(o)-i/2+n},kx=(e,t,r)=>{var n;if(null!=e)return n=Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((e,n)=>{var i=(e=>{var t=e.flat(2).filter(ch);return[Math.min(...t),Math.max(...t)]})(ux(n,t,r));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]),[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]]},Sx=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ax=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cx=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=rx()(t,e=>e.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function Ex(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return fx(fx({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Px(e,t){return e?String(e):"string"===typeof t?t:void 0}var Tx=e=>e.layout.width,Ox=e=>e.layout.height,Ix=e=>e.layout.scale,Lx=e=>e.layout.margin,Dx=Vg(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Mx=Vg(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Rx="data-recharts-item-index",Fx="data-recharts-item-data-key";function Bx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bx(Object(r),!0).forEach(function(t){Ux(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bx(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ux(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qx=Vg([Tx,Ox,Lx,e=>e.brush.height,function(e){return Mx(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Mx(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Dx(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return Dx(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},nx,e=>e.legend.size],(e,t,r,n,i,a,s,o,l,c)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},u=zx(zx({},{top:(r.top||0)+s,bottom:(r.bottom||0)+o}),d),h=u.bottom;u.bottom+=n,u=((e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===s)&&"center"!==a&&ch(e[a]))return fx(fx({},e),{},{[a]:e[a]+(n||0)});if(("horizontal"===o||"vertical"===o&&"center"===a)&&"middle"!==s&&ch(e[s]))return fx(fx({},e),{},{[s]:e[s]+(i||0)})}return e})(u,l,c);var f=e-u.left-u.right,p=t-u.top-u.bottom;return zx(zx({brushBottom:h},u),{},{width:Math.max(f,0),height:Math.max(p,0)})}),Wx=Vg(qx,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Hx=Vg(Tx,Ox,(e,t)=>({x:0,y:0,width:e,height:t})),Vx=(0,i.createContext)(null),Gx=()=>null!=(0,i.useContext)(Vx),Kx=e=>e.brush,Yx=Vg([Kx,qx,Lx],(e,t,r)=>({height:e.height,x:ch(e.x)?e.x:t.left,y:ch(e.y)?e.y:t.top+t.height+t.brushBottom-((null===r||void 0===r?void 0:r.bottom)||0),width:ch(e.width)?e.width:t.width}));function Xx(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Qx=()=>{var e,t=Gx(),r=ex(Wx),n=ex(Yx),i=null===(e=ex(Kx))||void 0===e?void 0:e.padding;return t&&n&&i?{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}:r},$x={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Zx=()=>{var e;return null!==(e=ex(qx))&&void 0!==e?e:$x},Jx=()=>ex(Tx),ey=()=>ex(Ox),ty=e=>e.layout.layoutType,ry=()=>ex(ty),ny=e=>{var t=Qg(),r=Gx(),{width:n,height:a}=e,s=Mh(),o=n,l=a;return s&&(o=s.width>0?s.width:n,l=s.height>0?s.height:a),(0,i.useEffect)(()=>{!r&&Eh(o)&&Eh(l)&&t(Dg({width:o,height:l}))},[t,r,o,l]),null},iy=r(9859),ay=r.n(iy);function sy(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function oy(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class ly extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hy;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(cy(this,e))}has(e){return super.has(cy(this,e))}set(e,t){return super.set(dy(this,e),t)}delete(e){return super.delete(uy(this,e))}}Set;function cy(e,t){let{_intern:r,_key:n}=e;const i=n(t);return r.has(i)?r.get(i):t}function dy(e,t){let{_intern:r,_key:n}=e;const i=n(t);return r.has(i)?r.get(i):(r.set(i,t),t)}function uy(e,t){let{_intern:r,_key:n}=e;const i=n(t);return r.has(i)&&(t=r.get(i),r.delete(i)),t}function hy(e){return null!==e&&"object"===typeof e?e.valueOf():e}const fy=Symbol("implicit");function py(){var e=new ly,t=[],r=[],n=fy;function i(i){let a=e.get(i);if(void 0===a){if(n!==fy)return n;e.set(i,a=t.push(i)-1)}return r[a%r.length]}return i.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new ly;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return py(t,r).unknown(n)},sy.apply(i,arguments),i}function my(){var e,t,r=py().unknown(void 0),n=r.domain,i=r.range,a=0,s=1,o=!1,l=0,c=0,d=.5;function u(){var r=n().length,u=s<a,h=u?s:a,f=u?a:s;e=(f-h)/Math.max(1,r-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(r-l))*d,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((t-e)/r)),a=new Array(i);++n<i;)a[n]=e+n*r;return a}(r).map(function(t){return h+e*t});return i(u?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),u()):n()},r.range=function(e){return arguments.length?([a,s]=e,a=+a,s=+s,u()):[a,s]},r.rangeRound=function(e){return[a,s]=e,a=+a,s=+s,o=!0,u()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,u()):o},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},r.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},r.copy=function(){return my(n(),[a,s]).round(o).paddingInner(l).paddingOuter(c).align(d)},sy.apply(u(),arguments)}function gy(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return gy(t())},e}function xy(){return gy(my.apply(null,arguments).paddingInner(1))}const yy=Math.sqrt(50),vy=Math.sqrt(10),by=Math.sqrt(2);function wy(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=yy?10:a>=vy?5:a>=by?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?wy(e,t,2*r):[o,l,c]}function jy(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[i,a,s]=n?wy(t,e,r):wy(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Ny(e,t,r){return wy(e=+e,t=+t,r=+r)[2]}function _y(e,t,r){r=+r;const n=(t=+t)<(e=+e),i=n?Ny(t,e,r):Ny(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function ky(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Sy(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ay(e){let t,r,n;function i(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(n,n))return a;do{const t=i+a>>>1;r(e[t],n)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=ky,r=(t,r)=>ky(e(t),r),n=(t,r)=>e(t)-r):(t=e===ky||e===Sy?e:Cy,r=e,n=e),{left:i,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=i(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>r&&n(e[a-1],t)>-n(e[a],t)?a-1:a},right:function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(n,n))return a;do{const t=i+a>>>1;r(e[t],n)<=0?i=t+1:a=t}while(i<a)}return i}}}function Cy(){return 0}function Ey(e){return null===e?NaN:+e}const Py=Ay(ky),Ty=Py.right,Oy=(Py.left,Ay(Ey).center,Ty);function Iy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Ly(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Dy(){}var My=.7,Ry=1/My,Fy="\\s*([+-]?\\d+)\\s*",By="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uy=/^#([0-9a-f]{3,8})$/,qy=new RegExp("^rgb\\(".concat(Fy,",").concat(Fy,",").concat(Fy,"\\)$")),Wy=new RegExp("^rgb\\(".concat(zy,",").concat(zy,",").concat(zy,"\\)$")),Hy=new RegExp("^rgba\\(".concat(Fy,",").concat(Fy,",").concat(Fy,",").concat(By,"\\)$")),Vy=new RegExp("^rgba\\(".concat(zy,",").concat(zy,",").concat(zy,",").concat(By,"\\)$")),Gy=new RegExp("^hsl\\(".concat(By,",").concat(zy,",").concat(zy,"\\)$")),Ky=new RegExp("^hsla\\(".concat(By,",").concat(zy,",").concat(zy,",").concat(By,"\\)$")),Yy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xy(){return this.rgb().formatHex()}function Qy(){return this.rgb().formatRgb()}function $y(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Uy.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Zy(t):3===r?new tv(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?Jy(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?Jy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=qy.exec(e))?new tv(t[1],t[2],t[3],1):(t=Wy.exec(e))?new tv(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Hy.exec(e))?Jy(t[1],t[2],t[3],t[4]):(t=Vy.exec(e))?Jy(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Gy.exec(e))?ov(t[1],t[2]/100,t[3]/100,1):(t=Ky.exec(e))?ov(t[1],t[2]/100,t[3]/100,t[4]):Yy.hasOwnProperty(e)?Zy(Yy[e]):"transparent"===e?new tv(NaN,NaN,NaN,0):null}function Zy(e){return new tv(e>>16&255,e>>8&255,255&e,1)}function Jy(e,t,r,n){return n<=0&&(e=t=r=NaN),new tv(e,t,r,n)}function ev(e,t,r,n){return 1===arguments.length?function(e){return e instanceof Dy||(e=$y(e)),e?new tv((e=e.rgb()).r,e.g,e.b,e.opacity):new tv}(e):new tv(e,t,r,null==n?1:n)}function tv(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function rv(){return"#".concat(sv(this.r)).concat(sv(this.g)).concat(sv(this.b))}function nv(){const e=iv(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(av(this.r),", ").concat(av(this.g),", ").concat(av(this.b)).concat(1===e?")":", ".concat(e,")"))}function iv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function av(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sv(e){return((e=av(e))<16?"0":"")+e.toString(16)}function ov(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new cv(e,t,r,n)}function lv(e){if(e instanceof cv)return new cv(e.h,e.s,e.l,e.opacity);if(e instanceof Dy||(e=$y(e)),!e)return new cv;if(e instanceof cv)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(s=t===a?(r-n)/o+6*(r<n):r===a?(n-t)/o+2:(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new cv(s,o,l,e.opacity)}function cv(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function dv(e){return(e=(e||0)%360)<0?e+360:e}function uv(e){return Math.max(0,Math.min(1,e||0))}function hv(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function fv(e,t,r,n,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*r+(1+3*e+3*a-3*s)*n+s*i)/6}Iy(Dy,$y,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Xy,formatHex:Xy,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return lv(this).formatHsl()},formatRgb:Qy,toString:Qy}),Iy(tv,ev,Ly(Dy,{brighter(e){return e=null==e?Ry:Math.pow(Ry,e),new tv(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?My:Math.pow(My,e),new tv(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tv(av(this.r),av(this.g),av(this.b),iv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rv,formatHex:rv,formatHex8:function(){return"#".concat(sv(this.r)).concat(sv(this.g)).concat(sv(this.b)).concat(sv(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:nv,toString:nv})),Iy(cv,function(e,t,r,n){return 1===arguments.length?lv(e):new cv(e,t,r,null==n?1:n)},Ly(Dy,{brighter(e){return e=null==e?Ry:Math.pow(Ry,e),new cv(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?My:Math.pow(My,e),new cv(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new tv(hv(e>=240?e-240:e+120,i,n),hv(e,i,n),hv(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new cv(dv(this.h),uv(this.s),uv(this.l),iv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=iv(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(dv(this.h),", ").concat(100*uv(this.s),"%, ").concat(100*uv(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const pv=e=>()=>e;function mv(e,t){return function(r){return e+r*t}}function gv(e){return 1===(e=+e)?xv:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):pv(isNaN(t)?r:t)}}function xv(e,t){var r=t-e;return r?mv(e,r):pv(isNaN(e)?t:e)}const yv=function e(t){var r=gv(t);function n(e,t){var n=r((e=ev(e)).r,(t=ev(t)).r),i=r(e.g,t.g),a=r(e.b,t.b),s=xv(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=a(t),e.opacity=s(t),e+""}}return n.gamma=e,n}(1);function vv(e){return function(t){var r,n,i=t.length,a=new Array(i),s=new Array(i),o=new Array(i);for(r=0;r<i;++r)n=ev(t[r]),a[r]=n.r||0,s[r]=n.g||0,o[r]=n.b||0;return a=e(a),s=e(s),o=e(o),n.opacity=1,function(e){return n.r=a(e),n.g=s(e),n.b=o(e),n+""}}}vv(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],s=n>0?e[n-1]:2*i-a,o=n<t-1?e[n+2]:2*a-i;return fv((r-n/t)*t,s,i,a,o)}}),vv(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],s=e[(n+1)%t],o=e[(n+2)%t];return fv((r-n/t)*t,i,a,s,o)}});function bv(e,t){var r,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=new Array(i),s=new Array(n);for(r=0;r<i;++r)a[r]=Cv(e[r],t[r]);for(;r<n;++r)s[r]=t[r];return function(e){for(r=0;r<i;++r)s[r]=a[r](e);return s}}function wv(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function jv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Nv(e,t){var r,n={},i={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=Cv(e[r],t[r]):i[r]=t[r];return function(e){for(r in n)i[r]=n[r](e);return i}}var _v=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kv=new RegExp(_v.source,"g");function Sv(e,t){var r,n,i,a=_v.lastIndex=kv.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(r=_v.exec(e))&&(n=kv.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,l.push({i:s,x:jv(r,n)})),a=kv.lastIndex;return a<t.length&&(i=t.slice(a),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)o[(r=l[n]).i]=r.x(e);return o.join("")})}function Av(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}}function Cv(e,t){var r,n=typeof t;return null==t||"boolean"===n?pv(t):("number"===n?jv:"string"===n?(r=$y(t))?(t=r,yv):Sv:t instanceof $y?yv:t instanceof Date?wv:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Av:Array.isArray(t)?bv:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Nv:jv)(e,t)}function Ev(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Pv(e){return+e}var Tv=[0,1];function Ov(e){return e}function Iv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Lv(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Iv(i,n),a=r(s,a)):(n=Iv(n,i),a=r(a,s)),function(e){return a(n(e))}}function Dv(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Iv(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var r=Oy(e,t,1,n)-1;return a[r](i[r](t))}}function Mv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rv(){var e,t,r,n,i,a,s=Tv,o=Tv,l=Cv,c=Ov;function d(){var e=Math.min(s.length,o.length);return c!==Ov&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(s[0],s[e-1])),n=e>2?Dv:Lv,i=a=null,u}function u(t){return null==t||isNaN(t=+t)?r:(i||(i=n(s.map(e),o,l)))(e(c(t)))}return u.invert=function(r){return c(t((a||(a=n(o,s.map(e),jv)))(r)))},u.domain=function(e){return arguments.length?(s=Array.from(e,Pv),d()):s.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=Ev,d()},u.clamp=function(e){return arguments.length?(c=!!e||Ov,d()):c!==Ov},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(r=e,u):r},function(r,n){return e=r,t=n,d()}}function Fv(){return Rv()(Ov,Ov)}var Bv,zv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uv(e){if(!(t=zv.exec(e)))throw new Error("invalid format: "+e);var t;return new qv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function qv(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Wv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Hv(e){return(e=Wv(Math.abs(e)))?e[1]:NaN}function Vv(e,t){var r=Wv(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}Uv.prototype=qv.prototype,qv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Gv={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Vv(100*e,t),r:Vv,s:function(e,t){var r=Wv(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(Bv=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Wv(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Kv(e){return e}var Yv,Xv,Qv,$v=Array.prototype.map,Zv=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Jv(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?Kv:(t=$v.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var i=e.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(e.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(r)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?Kv:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}($v.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=Uv(e)).fill,r=e.align,u=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,x=e.trim,y=e.type;"n"===y?(m=!0,y="g"):Gv[y]||(void 0===g&&(g=12),x=!0,y="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var v="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?a:/[%p]/.test(y)?l:"",w=Gv[y],j=/[defgprs%]/.test(y);function N(e){var i,a,l,h=v,N=b;if("c"===y)N=w(e)+N,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:w(Math.abs(e),g),x&&(e=function(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),_&&0===+e&&"+"!==u&&(_=!1),h=(_?"("===u?u:c:"-"===u||"("===u?"":u)+h,N=("s"===y?Zv[8+Bv/3]:"")+N+(_&&"("===u?")":""),j)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){N=(46===l?s+e.slice(i+1):e.slice(i))+N,e=e.slice(0,i);break}}m&&!f&&(e=n(e,1/0));var k=h.length+e.length+N.length,S=k<p?new Array(p-k+1).join(t):"";switch(m&&f&&(e=n(S+e,S.length?p-N.length:1/0),S=""),r){case"<":e=h+e+N+S;break;case"=":e=h+S+e+N;break;case"^":e=S.slice(0,k=S.length>>1)+h+e+N+S.slice(k);break;default:e=S+h+e+N}return o(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var r=u(((e=Uv(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(Hv(t)/3))),i=Math.pow(10,-n),a=Zv[8+n/3];return function(e){return r(i*e)+a}}}}function eb(e,t,r,n){var i,a=_y(e,t,r);switch((n=Uv(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Hv(t)/3)))-Hv(Math.abs(e)))}(a,s))||(n.precision=i),Qv(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hv(t)-Hv(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=function(e){return Math.max(0,-Hv(Math.abs(e)))}(a))||(n.precision=i-2*("%"===n.type))}return Xv(n)}function tb(e){var t=e.domain;return e.ticks=function(e){var r=t();return jy(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return eb(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,i,a=t(),s=0,o=a.length-1,l=a[s],c=a[o],d=10;for(c<l&&(i=l,l=c,c=i,i=s,s=o,o=i);d-- >0;){if((i=Ny(l,c,r))===n)return a[s]=l,a[o]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}n=i}return e},e}function rb(){var e=Fv();return e.copy=function(){return Mv(e,rb())},sy.apply(e,arguments),tb(e)}function nb(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,Pv),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return nb(e).unknown(t)},e=arguments.length?Array.from(e,Pv):[0,1],tb(r)}function ib(e,t){var r,n=0,i=(e=e.slice()).length-1,a=e[n],s=e[i];return s<a&&(r=n,n=i,i=r,r=a,a=s,s=r),e[n]=t.floor(a),e[i]=t.ceil(s),e}function ab(e){return Math.log(e)}function sb(e){return Math.exp(e)}function ob(e){return-Math.log(-e)}function lb(e){return-Math.exp(-e)}function cb(e){return isFinite(e)?+("1e"+e):e<0?0:e}function db(e){return(t,r)=>-e(-t,r)}function ub(e){const t=e(ab,sb),r=t.domain;let n,i,a=10;function s(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?cb:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),r()[0]<0?(n=db(n),i=db(i),e(ob,lb)):e(ab,sb),t}return t.base=function(e){return arguments.length?(a=+e,s()):a},t.domain=function(e){return arguments.length?(r(e),s()):r()},t.ticks=e=>{const t=r();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,d,u=n(s),h=n(o);const f=null==e?10:+e;let p=[];if(!(a%1)&&h-u<f){if(u=Math.floor(u),h=Math.ceil(h),s>0){for(;u<=h;++u)for(c=1;c<a;++c)if(d=u<0?c/i(-u):c*i(u),!(d<s)){if(d>o)break;p.push(d)}}else for(;u<=h;++u)for(c=a-1;c>=1;--c)if(d=u>0?c/i(-u):c*i(u),!(d<s)){if(d>o)break;p.push(d)}2*p.length<f&&(p=jy(s,o,f))}else p=jy(u,h,Math.min(h-u,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===a?"s":","),"function"!==typeof r&&(a%1||null!=(r=Uv(r)).precision||(r.trim=!0),r=Xv(r)),e===1/0)return r;const s=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(n(e)));return t*a<a-.5&&(t*=a),t<=s?r(e):""}},t.nice=()=>r(ib(r(),{floor:e=>i(Math.floor(n(e))),ceil:e=>i(Math.ceil(n(e)))})),t}function hb(){const e=ub(Rv()).domain([1,10]);return e.copy=()=>Mv(e,hb()).base(e.base()),sy.apply(e,arguments),e}function fb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mb(e){var t=1,r=e(fb(t),pb(t));return r.constant=function(r){return arguments.length?e(fb(t=+r),pb(t)):t},tb(r)}function gb(){var e=mb(Rv());return e.copy=function(){return Mv(e,gb()).constant(e.constant())},sy.apply(e,arguments)}function xb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function yb(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vb(e){return e<0?-e*e:e*e}function bb(e){var t=e(Ov,Ov),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(Ov,Ov):.5===r?e(yb,vb):e(xb(r),xb(1/r)):r},tb(t)}function wb(){var e=bb(Rv());return e.copy=function(){return Mv(e,wb()).exponent(e.exponent())},sy.apply(e,arguments),e}function jb(){return wb.apply(null,arguments).exponent(.5)}function Nb(e){return Math.sign(e)*e*e}function _b(){var e,t=Fv(),r=[0,1],n=!1;function i(r){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(i)?e:n?Math.round(i):i}return i.invert=function(e){return t.invert(Nb(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((r=Array.from(e,Pv)).map(Nb)),i):r.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(n=!!e,i):n},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return _b(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},sy.apply(i,arguments),tb(i)}function kb(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r<i||void 0===r&&i>=i)&&(r=i)}return r}function Sb(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r>i||void 0===r&&i>=i)&&(r=i)}return r}function Ab(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ky;if(e===ky)return Cb;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function Cb(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Eb(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=void 0===i?Cb:Ab(i);n>r;){if(n-r>600){const a=n-r+1,s=t-r+1,o=Math.log(a),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(a-l)/a)*(s-a/2<0?-1:1);Eb(e,t,Math.max(r,Math.floor(t-s*l/a+c)),Math.min(n,Math.floor(t+(a-s)*l/a+c)),i)}const a=e[t];let s=r,o=n;for(Pb(e,r,t),i(e[n],a)>0&&Pb(e,r,n);s<o;){for(Pb(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}0===i(e[r],a)?Pb(e,r,o):(++o,Pb(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Pb(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Tb(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return Sb(e);if(t>=1)return kb(e);var n,i=(n-1)*t,a=Math.floor(i),s=kb(Eb(e,a).subarray(0,a+1));return s+(Sb(e.subarray(a+1))-s)*(i-a)}}function Ob(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ey;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e);return s+(+r(e[a+1],a+1,e)-s)*(i-a)}}function Ib(){var e,t=[],r=[],n=[];function i(){var e=0,i=Math.max(1,r.length);for(n=new Array(i-1);++e<i;)n[e-1]=Ob(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:r[Oy(n,t)]}return a.invertExtent=function(e){var i=r.indexOf(e);return i<0?[NaN,NaN]:[i>0?n[i-1]:t[0],i<n.length?n[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(ky),i()},a.range=function(e){return arguments.length?(r=Array.from(e),i()):r.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return n.slice()},a.copy=function(){return Ib().domain(t).range(r).unknown(e)},sy.apply(a,arguments)}function Lb(){var e,t=0,r=1,n=1,i=[.5],a=[0,1];function s(t){return null!=t&&t<=t?a[Oy(i,t,0,n)]:e}function o(){var e=-1;for(i=new Array(n);++e<n;)i[e]=((e+1)*r-(e-n)*t)/(n+1);return s}return s.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,o()):[t,r]},s.range=function(e){return arguments.length?(n=(a=Array.from(e)).length-1,o()):a.slice()},s.invertExtent=function(e){var s=a.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,i[0]]:s>=n?[i[n-1],r]:[i[s-1],i[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return Lb().domain([t,r]).range(a).unknown(e)},sy.apply(tb(s),arguments)}function Db(){var e,t=[.5],r=[0,1],n=1;function i(i){return null!=i&&i<=i?r[Oy(t,i,0,n)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),i):t.slice()},i.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),i):r.slice()},i.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Db().domain(t).range(r).unknown(e)},sy.apply(i,arguments)}Yv=Jv({thousands:",",grouping:[3],currency:["$",""]}),Xv=Yv.format,Qv=Yv.formatPrefix;const Mb=1e3,Rb=6e4,Fb=36e5,Bb=864e5,zb=6048e5,Ub=2592e6,qb=31536e6,Wb=new Date,Hb=new Date;function Vb(e,t,r,n){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),i.round=e=>{const t=i(e),r=i.ceil(e);return e-t<r-e?t:r},i.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),i.range=(r,n,a)=>{const s=[];if(r=i.ceil(r),a=null==a?1:Math.floor(a),!(r<n)||!(a>0))return s;let o;do{s.push(o=new Date(+r)),t(r,a),e(r)}while(o<r&&r<n);return s},i.filter=r=>Vb(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(i.count=(t,n)=>(Wb.setTime(+t),Hb.setTime(+n),e(Wb),e(Hb),Math.floor(r(Wb,Hb))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(n?t=>n(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const Gb=Vb(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Gb.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Vb(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Gb:null);Gb.range;const Kb=Vb(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Mb)},(e,t)=>(t-e)/Mb,e=>e.getUTCSeconds()),Yb=(Kb.range,Vb(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mb)},(e,t)=>{e.setTime(+e+t*Rb)},(e,t)=>(t-e)/Rb,e=>e.getMinutes())),Xb=(Yb.range,Vb(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rb)},(e,t)=>(t-e)/Rb,e=>e.getUTCMinutes())),Qb=(Xb.range,Vb(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mb-e.getMinutes()*Rb)},(e,t)=>{e.setTime(+e+t*Fb)},(e,t)=>(t-e)/Fb,e=>e.getHours())),$b=(Qb.range,Vb(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fb)},(e,t)=>(t-e)/Fb,e=>e.getUTCHours())),Zb=($b.range,Vb(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rb)/Bb,e=>e.getDate()-1)),Jb=(Zb.range,Vb(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bb,e=>e.getUTCDate()-1)),ew=(Jb.range,Vb(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bb,e=>Math.floor(e/Bb)));ew.range;function tw(e){return Vb(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rb)/zb)}const rw=tw(0),nw=tw(1),iw=tw(2),aw=tw(3),sw=tw(4),ow=tw(5),lw=tw(6);rw.range,nw.range,iw.range,aw.range,sw.range,ow.range,lw.range;function cw(e){return Vb(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/zb)}const dw=cw(0),uw=cw(1),hw=cw(2),fw=cw(3),pw=cw(4),mw=cw(5),gw=cw(6),xw=(dw.range,uw.range,hw.range,fw.range,pw.range,mw.range,gw.range,Vb(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),yw=(xw.range,Vb(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),vw=(yw.range,Vb(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));vw.every=e=>isFinite(e=Math.floor(e))&&e>0?Vb(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null;vw.range;const bw=Vb(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bw.every=e=>isFinite(e=Math.floor(e))&&e>0?Vb(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null;bw.range;function ww(e,t,r,n,i,a){const s=[[Kb,1,Mb],[Kb,5,5e3],[Kb,15,15e3],[Kb,30,3e4],[a,1,Rb],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,Fb],[i,3,108e5],[i,6,216e5],[i,12,432e5],[n,1,Bb],[n,2,1728e5],[r,1,zb],[t,1,Ub],[t,3,7776e6],[e,1,qb]];function o(t,r,n){const i=Math.abs(r-t)/n,a=Ay(e=>{let[,,t]=e;return t}).right(s,i);if(a===s.length)return e.every(_y(t/qb,r/qb,n));if(0===a)return Gb.every(Math.max(_y(t,r,n),1));const[o,l]=s[i/s[a-1][2]<s[a][2]/i?a-1:a];return o.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const i=r&&"function"===typeof r.range?r:o(e,t,r),a=i?i.range(e,+t+1):[];return n?a.reverse():a},o]}const[jw,Nw]=ww(bw,yw,dw,ew,$b,Xb),[_w,kw]=ww(vw,xw,rw,Zb,Qb,Yb);function Sw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Aw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cw(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var Ew,Pw,Tw,Ow={"-":"",_:" ",0:"0"},Iw=/^\s*\d+/,Lw=/^%/,Dw=/[\\^$*+?|[\]().{}]/g;function Mw(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Rw(e){return e.replace(Dw,"\\$&")}function Fw(e){return new RegExp("^(?:"+e.map(Rw).join("|")+")","i")}function Bw(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function zw(e,t,r){var n=Iw.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Uw(e,t,r){var n=Iw.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function qw(e,t,r){var n=Iw.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Ww(e,t,r){var n=Iw.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Hw(e,t,r){var n=Iw.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Vw(e,t,r){var n=Iw.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Gw(e,t,r){var n=Iw.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Kw(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Yw(e,t,r){var n=Iw.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function Xw(e,t,r){var n=Iw.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Qw(e,t,r){var n=Iw.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function $w(e,t,r){var n=Iw.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Zw(e,t,r){var n=Iw.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Jw(e,t,r){var n=Iw.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ej(e,t,r){var n=Iw.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function tj(e,t,r){var n=Iw.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function rj(e,t,r){var n=Iw.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nj(e,t,r){var n=Lw.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ij(e,t,r){var n=Iw.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function aj(e,t,r){var n=Iw.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function sj(e,t){return Mw(e.getDate(),t,2)}function oj(e,t){return Mw(e.getHours(),t,2)}function lj(e,t){return Mw(e.getHours()%12||12,t,2)}function cj(e,t){return Mw(1+Zb.count(vw(e),e),t,3)}function dj(e,t){return Mw(e.getMilliseconds(),t,3)}function uj(e,t){return dj(e,t)+"000"}function hj(e,t){return Mw(e.getMonth()+1,t,2)}function fj(e,t){return Mw(e.getMinutes(),t,2)}function pj(e,t){return Mw(e.getSeconds(),t,2)}function mj(e){var t=e.getDay();return 0===t?7:t}function gj(e,t){return Mw(rw.count(vw(e)-1,e),t,2)}function xj(e){var t=e.getDay();return t>=4||0===t?sw(e):sw.ceil(e)}function yj(e,t){return e=xj(e),Mw(sw.count(vw(e),e)+(4===vw(e).getDay()),t,2)}function vj(e){return e.getDay()}function bj(e,t){return Mw(nw.count(vw(e)-1,e),t,2)}function wj(e,t){return Mw(e.getFullYear()%100,t,2)}function jj(e,t){return Mw((e=xj(e)).getFullYear()%100,t,2)}function Nj(e,t){return Mw(e.getFullYear()%1e4,t,4)}function _j(e,t){var r=e.getDay();return Mw((e=r>=4||0===r?sw(e):sw.ceil(e)).getFullYear()%1e4,t,4)}function kj(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Mw(t/60|0,"0",2)+Mw(t%60,"0",2)}function Sj(e,t){return Mw(e.getUTCDate(),t,2)}function Aj(e,t){return Mw(e.getUTCHours(),t,2)}function Cj(e,t){return Mw(e.getUTCHours()%12||12,t,2)}function Ej(e,t){return Mw(1+Jb.count(bw(e),e),t,3)}function Pj(e,t){return Mw(e.getUTCMilliseconds(),t,3)}function Tj(e,t){return Pj(e,t)+"000"}function Oj(e,t){return Mw(e.getUTCMonth()+1,t,2)}function Ij(e,t){return Mw(e.getUTCMinutes(),t,2)}function Lj(e,t){return Mw(e.getUTCSeconds(),t,2)}function Dj(e){var t=e.getUTCDay();return 0===t?7:t}function Mj(e,t){return Mw(dw.count(bw(e)-1,e),t,2)}function Rj(e){var t=e.getUTCDay();return t>=4||0===t?pw(e):pw.ceil(e)}function Fj(e,t){return e=Rj(e),Mw(pw.count(bw(e),e)+(4===bw(e).getUTCDay()),t,2)}function Bj(e){return e.getUTCDay()}function zj(e,t){return Mw(uw.count(bw(e)-1,e),t,2)}function Uj(e,t){return Mw(e.getUTCFullYear()%100,t,2)}function qj(e,t){return Mw((e=Rj(e)).getUTCFullYear()%100,t,2)}function Wj(e,t){return Mw(e.getUTCFullYear()%1e4,t,4)}function Hj(e,t){var r=e.getUTCDay();return Mw((e=r>=4||0===r?pw(e):pw.ceil(e)).getUTCFullYear()%1e4,t,4)}function Vj(){return"+0000"}function Gj(){return"%"}function Kj(e){return+e}function Yj(e){return Math.floor(+e/1e3)}function Xj(e){return new Date(e)}function Qj(e){return e instanceof Date?+e:+new Date(+e)}function $j(e,t,r,n,i,a,s,o,l,c){var d=Fv(),u=d.invert,h=d.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),y=c("%b %d"),v=c("%B"),b=c("%Y");function w(e){return(l(e)<e?f:o(e)<e?p:s(e)<e?m:a(e)<e?g:n(e)<e?i(e)<e?x:y:r(e)<e?v:b)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?h(Array.from(e,Qj)):h().map(Xj)},d.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?w:c(t)},d.nice=function(e){var r=h();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(ib(r,e)):d},d.copy=function(){return Mv(d,$j(e,t,r,n,i,a,s,o,l,c))},d}function Zj(){return sy.apply($j(_w,kw,vw,xw,rw,Zb,Qb,Yb,Kb,Pw).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Jj(){return sy.apply($j(jw,Nw,bw,yw,dw,Jb,$b,Xb,Kb,Tw).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function eN(){var e,t,r,n,i,a=0,s=1,o=Ov,l=!1;function c(t){return null==t||isNaN(t=+t)?i:o(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var r,n;return arguments.length?([r,n]=t,o=e(r,n),c):[o(0),o(1)]}}return c.domain=function(i){return arguments.length?([a,s]=i,e=n(a=+a),t=n(s=+s),r=e===t?0:1/(t-e),c):[a,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(Cv),c.rangeRound=d(Ev),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return n=i,e=i(a),t=i(s),r=e===t?0:1/(t-e),c}}function tN(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rN(){var e=tb(eN()(Ov));return e.copy=function(){return tN(e,rN())},oy.apply(e,arguments)}function nN(){var e=ub(eN()).domain([1,10]);return e.copy=function(){return tN(e,nN()).base(e.base())},oy.apply(e,arguments)}function iN(){var e=mb(eN());return e.copy=function(){return tN(e,iN()).constant(e.constant())},oy.apply(e,arguments)}function aN(){var e=bb(eN());return e.copy=function(){return tN(e,aN()).exponent(e.exponent())},oy.apply(e,arguments)}function sN(){return aN.apply(null,arguments).exponent(.5)}function oN(){var e=[],t=Ov;function r(r){if(null!=r&&!isNaN(r=+r))return t((Oy(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(ky),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,n)=>Tb(e,n/t))},r.copy=function(){return oN(t).domain(e)},oy.apply(r,arguments)}function lN(){var e,t,r,n,i,a,s,o=0,l=.5,c=1,d=1,u=Ov,h=!1;function f(e){return isNaN(e=+e)?s:(e=.5+((e=+a(e))-t)*(d*e<d*t?n:i),u(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,i;return arguments.length?([r,n,i]=t,u=function(e,t){void 0===t&&(t=e,e=Cv);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return a[t](e-t)}}(e,[r,n,i]),f):[u(0),u(.5),u(1)]}}return f.domain=function(s){return arguments.length?([o,l,c]=s,e=a(o=+o),t=a(l=+l),r=a(c=+c),n=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),d=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(u=e,f):u},f.range=p(Cv),f.rangeRound=p(Ev),f.unknown=function(e){return arguments.length?(s=e,f):s},function(s){return a=s,e=s(o),t=s(l),r=s(c),n=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),d=t<e?-1:1,f}}function cN(){var e=tb(lN()(Ov));return e.copy=function(){return tN(e,cN())},oy.apply(e,arguments)}function dN(){var e=ub(lN()).domain([.1,1,10]);return e.copy=function(){return tN(e,dN()).base(e.base())},oy.apply(e,arguments)}function uN(){var e=mb(lN());return e.copy=function(){return tN(e,uN()).constant(e.constant())},oy.apply(e,arguments)}function hN(){var e=bb(lN());return e.copy=function(){return tN(e,hN()).exponent(e.exponent())},oy.apply(e,arguments)}function fN(){return hN.apply(null,arguments).exponent(.5)}!function(e){Ew=function(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Fw(i),d=Bw(i),u=Fw(a),h=Bw(a),f=Fw(s),p=Bw(s),m=Fw(o),g=Bw(o),x=Fw(l),y=Bw(l),v={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:sj,e:sj,f:uj,g:jj,G:_j,H:oj,I:lj,j:cj,L:dj,m:hj,M:fj,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Kj,s:Yj,S:pj,u:mj,U:gj,V:yj,w:vj,W:bj,x:null,X:null,y:wj,Y:Nj,Z:kj,"%":Gj},b={a:function(e){return s[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:Sj,e:Sj,f:Tj,g:qj,G:Hj,H:Aj,I:Cj,j:Ej,L:Pj,m:Oj,M:Ij,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Kj,s:Yj,S:Lj,u:Dj,U:Mj,V:Fj,w:Bj,W:zj,x:null,X:null,y:Uj,Y:Wj,Z:Vj,"%":Gj},w={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=u.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=x.exec(t.slice(r));return n?(e.m=y.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return _(e,t,r,n)},d:Qw,e:Qw,f:rj,g:Gw,G:Vw,H:Zw,I:Zw,j:$w,L:tj,m:Xw,M:Jw,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=d.get(n[0].toLowerCase()),r+n[0].length):-1},q:Yw,Q:ij,s:aj,S:ej,u:Uw,U:qw,V:Ww,w:zw,W:Hw,x:function(e,t,n){return _(e,r,t,n)},X:function(e,t,r){return _(e,n,t,r)},y:Gw,Y:Vw,Z:Kw,"%":nj};function j(e,t){return function(r){var n,i,a,s=[],o=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(i=Ow[n=e.charAt(++o)])?n=e.charAt(++o):i="e"===n?" ":"0",(a=t[n])&&(n=a(r,i)),s.push(n),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function N(e,t){return function(r){var n,i,a=Cw(1900,void 0,1);if(_(a,e,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(n=Aw(Cw(a.y,0,1))).getUTCDay(),n=i>4||0===i?uw.ceil(n):uw(n),n=Jb.offset(n,7*(a.V-1)),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(i=(n=Sw(Cw(a.y,0,1))).getDay(),n=i>4||0===i?nw.ceil(n):nw(n),n=Zb.offset(n,7*(a.V-1)),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Aw(Cw(a.y,0,1)).getUTCDay():Sw(Cw(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Aw(a)):Sw(a)}}function _(e,t,r,n){for(var i,a,s=0,o=t.length,l=r.length;s<o;){if(n>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(a=w[i in Ow?t.charAt(s++):i])||(n=a(e,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}return v.x=j(r,v),v.X=j(n,v),v.c=j(t,v),b.x=j(r,b),b.X=j(n,b),b.c=j(t,b),{format:function(e){var t=j(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),Pw=Ew.format,Ew.parse,Tw=Ew.utcFormat,Ew.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var pN=e=>e.chartData,mN=Vg([pN],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),gN=(e,t,r,n)=>n?mN(e):pN(e);function xN(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(Ch(t)&&Ch(r))return!0}return!1}function yN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function vN(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var r,n,[i,a]=e;if(Ch(i))r=i;else if("function"===typeof i)return;if(Ch(a))n=a;else if("function"===typeof a)return;var s=[r,n];if(xN(s))return s}}var bN,wN=r(8210),jN=r.n(wN),NN=e=>e,_N={"@@functional/placeholder":!0},kN=e=>e===_N,SN=e=>function t(){return 0===arguments.length||1===arguments.length&&kN(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},AN=(e,t)=>1===e?t:SN(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(e=>e!==_N).length;return a>=e?t(...n):AN(e-a,SN(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=n.map(e=>kN(e)?r.shift():e);return t(...a,...r)}))}),CN=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},EN=AN((bN=(e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)).length,bN),PN=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function TN(e){return 0===e?1:Math.floor(new(jN())(e).abs().log(10).toNumber())+1}function ON(e,t,r){for(var n=new(jN())(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var IN=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},LN=(e,t,r)=>{if(e.lte(0))return new(jN())(0);var n=TN(e.toNumber()),i=new(jN())(10).pow(n),a=e.div(i),s=1!==n?.05:.1,o=new(jN())(Math.ceil(a.div(s).toNumber())).add(r).mul(s).mul(i);return t?new(jN())(o.toNumber()):new(jN())(Math.ceil(o.toNumber()))},DN=(e,t,r)=>{var n=new(jN())(1),i=new(jN())(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new(jN())(10).pow(TN(e)-1),i=new(jN())(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new(jN())(Math.floor(e)))}else 0===e?i=new(jN())(Math.floor((t-1)/2)):r||(i=new(jN())(Math.floor(e)));var s=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return NN;var n=t.reverse(),i=n[0],a=n.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}}(EN(e=>i.add(new(jN())(e-s).mul(n)).toNumber()),CN);return o(0,t)},MN=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(jN())(0),tickMin:new(jN())(0),tickMax:new(jN())(0)};var a,s=LN(new(jN())(t).sub(e).div(r-1),n,i);a=e<=0&&t>=0?new(jN())(0):(a=new(jN())(e).add(t).div(2)).sub(new(jN())(a).mod(s));var o=Math.ceil(a.sub(e).div(s).toNumber()),l=Math.ceil(new(jN())(t).sub(a).div(s).toNumber()),c=o+l+1;return c>r?MN(e,t,r,n,i+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:s,tickMin:a.sub(new(jN())(o).mul(s)),tickMax:a.add(new(jN())(l).mul(s))})},RN=e=>e.rootProps.maxBarSize,FN=e=>e.rootProps.barCategoryGap,BN=e=>e.rootProps.stackOffset,zN=e=>e.rootProps.reverseStackOrder,UN=e=>e.options.chartName,qN=e=>e.rootProps.syncId,WN=e=>e.rootProps.syncMethod,HN=e=>e.options.eventEmitter;function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function GN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(t){KN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function KN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var YN=Math.PI/180,XN=e=>180*e/Math.PI,QN=(e,t,r,n)=>({x:e+Math.cos(-YN*n)*r,y:t+Math.sin(-YN*n)*r}),$N=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},ZN=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=((e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)})({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:XN(l),angleInRadian:l}},JN=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360);return e+360*Math.min(i,a)},e_=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=ZN({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o)return null;if(0===i)return null;var l,{startAngle:c,endAngle:d}=(e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-360*a,endAngle:r-360*a}})(t),u=a;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;l=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;l=u>=d&&u<=c}return l?GN(GN({},t),{},{radius:i,angle:JN(u,t)}):null},t_={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},r_=!0,n_=0,i_=!1,a_="auto",s_=!0,o_="category",l_=(t_.axis,!1),c_=!0,d_=0,u_="auto",h_=!0,f_=5,p_="number",m_=(t_.axis,(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t}),g_={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:n_,includeHidden:!1,name:void 0,reversed:i_,scale:a_,tick:s_,tickCount:void 0,ticks:void 0,type:o_,unit:void 0},x_={allowDataOverflow:l_,allowDecimals:!1,allowDuplicatedCategory:c_,dataKey:void 0,domain:void 0,id:d_,includeHidden:!1,name:void 0,reversed:!1,scale:u_,tick:h_,tickCount:f_,ticks:void 0,type:p_,unit:void 0},y_={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:r_,dataKey:void 0,domain:void 0,id:n_,includeHidden:!1,name:void 0,reversed:!1,scale:a_,tick:s_,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},v_={allowDataOverflow:l_,allowDecimals:!1,allowDuplicatedCategory:c_,dataKey:void 0,domain:void 0,id:d_,includeHidden:!1,name:void 0,reversed:!1,scale:u_,tick:h_,tickCount:f_,ticks:void 0,type:"category",unit:void 0},b_=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?y_:g_,w_=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?v_:x_,j_=e=>e.polarOptions,N_=Vg([Tx,Ox,qx],$N),__=Vg([j_,N_],(e,t)=>{if(null!=e)return fh(e.innerRadius,t,0)}),k_=Vg([j_,N_],(e,t)=>{if(null!=e)return fh(e.outerRadius,t,.8*t)}),S_=Vg([j_],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]}),A_=(Vg([b_,S_],m_),Vg([N_,__,k_],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]})),C_=(Vg([w_,A_],m_),Vg([ty,j_,__,k_,Tx,Ox],(e,t,r,n,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=n){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:fh(s,i,i/2),cy:fh(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}})),E_=(e,t)=>t,P_=(e,t,r)=>r;function T_(e){return null===e||void 0===e?void 0:e.id}function O_(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(e=>{var t,r=null!==(t=e.data)&&void 0!==t?t:n;if(null!=r&&0!==r.length){var o=T_(e);r.forEach((t,r)=>{var n,l=null==a||i?r:String(mx(t,a,null)),c=mx(t,e.dataKey,0);n=s.has(l)?s.get(l):{},Object.assign(n,{[o]:c}),s.set(l,n)})}}),Array.from(s.values())}function I_(e){return null!=e.stackId&&null!=e.dataKey}var L_=(e,t)=>e===t||null!=e&&null!=t&&(e[0]===t[0]&&e[1]===t[1]);function D_(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t}var M_=e=>{var t=ty(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},R_=e=>e.tooltip.settings.axisId;function F_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function B_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F_(Object(r),!0).forEach(function(t){z_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function z_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U_=[0,"auto"],q_={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},W_=(e,t)=>e.cartesianAxis.xAxis[t],H_=(e,t)=>{var r=W_(e,t);return null==r?q_:r},V_={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:U_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},G_=(e,t)=>e.cartesianAxis.yAxis[t],K_=(e,t)=>{var r=G_(e,t);return null==r?V_:r},Y_={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},X_=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?Y_:r},Q_=(e,t,r)=>{switch(t){case"xAxis":return H_(e,r);case"yAxis":return K_(e,r);case"zAxis":return X_(e,r);case"angleAxis":return b_(e,r);case"radiusAxis":return w_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$_=(e,t,r)=>{switch(t){case"xAxis":return H_(e,r);case"yAxis":return K_(e,r);case"angleAxis":return b_(e,r);case"radiusAxis":return w_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Z_=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function J_(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ek=e=>e.graphicalItems.cartesianItems,tk=Vg([E_,P_],J_),rk=(e,t,r)=>e.filter(r).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),nk=Vg([ek,Q_,tk],rk,{memoizeOptions:{resultEqualityCheck:D_}}),ik=Vg([nk],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(I_)),ak=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),sk=Vg([nk],ak),ok=e=>e.map(e=>e.data).filter(Boolean).flat(1),lk=Vg([nk],ok,{memoizeOptions:{resultEqualityCheck:D_}}),ck=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},dk=Vg([lk,gN],ck),uk=(e,t,r)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:mx(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:mx(e,t)}))):e.map(e=>({value:e})),hk=Vg([dk,Q_,nk],uk);function fk(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function pk(e){if(dh(e)||e instanceof Date){var t=Number(e);if(Ch(t))return t}}function mk(e){if(Array.isArray(e)){var t=[pk(e[0]),pk(e[1])];return xN(t)?t:void 0}var r=pk(e);if(null!=r)return[r,r]}function gk(e){return e.map(pk).filter(vh)}var xk=e=>{var t=M_(e),r=R_(e);return $_(e,t,r)},yk=Vg([xk],e=>null===e||void 0===e?void 0:e.dataKey),vk=Vg([ik,gN,xk],O_),bk=(e,t,r,n)=>{var i=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(i).map(t=>{var[i,a]=t,s=n?[...a].reverse():a,o=s.map(T_);return[i,{stackedData:wx(e,o,r),graphicalItems:s}]}))},wk=Vg([vk,ik,BN,zN],bk),jk=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(null==n&&"zAxis"!==r){var s=kx(e,i,a);if(null==s||0!==s[0]||0!==s[1])return s}},Nk=Vg([Q_],e=>e.allowDataOverflow),_k=e=>{var t;if(null==e||!("domain"in e))return U_;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var r=gk(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:U_},kk=Vg([Q_],_k),Sk=Vg([kk,Nk],vN),Ak=Vg([wk,pN,E_,Sk],jk,{memoizeOptions:{resultEqualityCheck:L_}}),Ck=e=>e.errorBars,Ek=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(Boolean);if(0!==n.length){var i=n.flat();return[Math.min(...i),Math.max(...i)]}},Pk=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(e=>{r.forEach(r=>{var o,l,c=null===(o=n[r.id])||void 0===o?void 0:o.filter(e=>fk(i,e)),d=mx(e,null!==(l=t.dataKey)&&void 0!==l?l:r.dataKey),u=function(e,t,r){return!r||"number"!==typeof t||oh(t)?[]:r.length?gk(r.flatMap(r=>{var n,i,a=mx(e,r.dataKey);if(Array.isArray(a)?[n,i]=a:n=i=a,Ch(n)&&Ch(i))return[t-n,t+i]})):[]}(e,d,c);if(u.length>=2){var h=Math.min(...u),f=Math.max(...u);(null==a||h<a)&&(a=h),(null==s||f>s)&&(s=f)}var p=mk(d);null!=p&&(a=null==a?p[0]:Math.min(a,p[0]),s=null==s?p[1]:Math.max(s,p[1]))})}),null!=(null===t||void 0===t?void 0:t.dataKey)&&e.forEach(e=>{var r=mk(mx(e,t.dataKey));null!=r&&(a=null==a?r[0]:Math.min(a,r[0]),s=null==s?r[1]:Math.max(s,r[1]))}),Ch(a)&&Ch(s))return[a,s]},Tk=Vg([dk,Q_,sk,Ck,E_],Pk,{memoizeOptions:{resultEqualityCheck:L_}});function Ok(e){var{value:t}=e;if(dh(t)||t instanceof Date)return t}var Ik=e=>e.referenceElements.dots,Lk=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),Dk=Vg([Ik,E_,P_],Lk),Mk=e=>e.referenceElements.areas,Rk=Vg([Mk,E_,P_],Lk),Fk=e=>e.referenceElements.lines,Bk=Vg([Fk,E_,P_],Lk),zk=(e,t)=>{var r=gk(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},Uk=Vg(Dk,E_,zk),qk=(e,t)=>{var r=gk(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},Wk=Vg([Rk,E_],qk);var Hk=(e,t)=>{var r=e.flatMap(e=>"xAxis"===t?function(e){var t;if(null!=e.x)return gk([e.x]);var r=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.x);return null==r||0===r.length?[]:gk(r)}(e):function(e){var t;if(null!=e.y)return gk([e.y]);var r=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.y);return null==r||0===r.length?[]:gk(r)}(e));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},Vk=Vg([Bk,E_],Hk),Gk=Vg(Uk,Vk,Wk,(e,t,r)=>Ek(e,r,t)),Kk=(e,t,r,n,i,a,s,o)=>null!=r?r:function(e,t,r){if(r||null!=t){if("function"===typeof e&&null!=t)try{var n=e(t,r);if(xN(n))return yN(n,t,r)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,a,[s,o]=e;if("auto"===s)null!=t&&(i=Math.min(...t));else if(ch(s))i=s;else if("function"===typeof s)try{null!=t&&(i=s(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof s&&Sx.test(s)){var l=Sx.exec(s);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null===t||void 0===t?void 0:t[0];if("auto"===o)null!=t&&(a=Math.max(...t));else if(ch(o))a=o;else if("function"===typeof o)try{null!=t&&(a=o(null===t||void 0===t?void 0:t[1]))}catch(m){}else if("string"===typeof o&&Ax.test(o)){var d=Ax.exec(o);if(null==d||null==t)a=void 0;else{var u=+d[1];a=t[1]+u}}else a=null===t||void 0===t?void 0:t[1];var h=[i,a];if(xN(h))return null==t?h:yN(h,t,r)}}}(t,"vertical"===s&&"xAxis"===o||"horizontal"===s&&"yAxis"===o?Ek(n,a,i):Ek(a,i),e.allowDataOverflow),Yk=Vg([Q_,kk,Sk,Ak,Tk,Gk,ty,E_],Kk,{memoizeOptions:{resultEqualityCheck:L_}}),Xk=[0,1],Qk=(e,t,r,n,i,a,s)=>{if(null!=e&&null!=r&&0!==r.length||void 0!==s){var o,{dataKey:l,type:c}=e,d=gx(t,a);return d&&null==l?ay()(0,null!==(o=null===r||void 0===r?void 0:r.length)&&void 0!==o?o:0):"category"===c?((e,t,r)=>{var n=e.map(Ok).filter(e=>null!=e);return r&&(null==t.dataKey||t.allowDuplicatedCategory&&ph(n))?ay()(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))})(n,e,d):"expand"===i?Xk:s}},$k=Vg([Q_,ty,dk,hk,BN,E_,Yk],Qk),Zk=(e,r,n,i,a)=>{if(null!=e){var{scale:s,type:o}=e;if("auto"===s)return"radial"===r&&"radiusAxis"===a?"band":"radial"===r&&"angleAxis"===a?"linear":"category"===o&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?"point":"category"===o?"band":"linear";if("string"===typeof s){var l="scale".concat(yh(s));return l in t?l:"point"}}},Jk=Vg([Q_,ty,Z_,UN,E_],Zk);function eS(e,r,n,i){if(null!=n&&null!=i){if("function"===typeof e.scale)return e.scale.copy().domain(n).range(i);var a=function(e){if(null!=e){if(e in t)return t[e]();var r="scale".concat(yh(e));return r in t?t[r]():void 0}}(r);if(null!=a){var s=a.domain(n).range(i);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-vx,a=Math.max(n[0],n[1])+vx,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}})(s),s}}}var tS=(e,t,r)=>{var n=_k(t);if("auto"===r||"linear"===r)return null!=t&&t.tickCount&&Array.isArray(n)&&("auto"===n[0]||"auto"===n[1])&&xN(e)?function(e){var[t,r]=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(n,2),[s,o]=IN([t,r]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...CN(0,n-1).map(()=>1/0)]:[...CN(0,n-1).map(()=>-1/0),o];return t>r?PN(l):l}if(s===o)return DN(s,n,i);var{step:c,tickMin:d,tickMax:u}=MN(s,o,a,i,0),h=ON(d,u.add(new(jN())(.1).mul(c)),c);return t>r?PN(h):h}(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&xN(e)?function(e,t){var[r,n]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,s]=IN([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var o=Math.max(t,2),l=LN(new(jN())(s).sub(a).div(o-1),i,0),c=[...ON(new(jN())(a),new(jN())(s),l),s];return!1===i&&(c=c.map(e=>Math.round(e))),r>n?PN(c):c}(e,t.tickCount,t.allowDecimals):void 0},rS=Vg([$k,$_,Jk],tS),nS=(e,t,r,n)=>{if("angleAxis"!==n&&"number"===(null===e||void 0===e?void 0:e.type)&&xN(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},iS=Vg([Q_,$k,rS,E_],nS),aS=Vg(hk,Q_,(e,t)=>{if(t&&"number"===t.type){var r=1/0,n=Array.from(gk(e.map(e=>e.value))).sort((e,t)=>e-t);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(0===i)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),sS=Vg(aS,ty,FN,qx,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Ch(e))return 0;var a="vertical"===t?n.height:n.width;if("gap"===i)return e*a/2;if("no-gap"===i){var s=fh(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),oS=Vg(H_,(e,t)=>{var r=H_(e,t);return null==r||"string"!==typeof r.padding?0:sS(e,"xAxis",t,r.padding)},(e,t)=>{var r,n;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"===typeof i?{left:t,right:t}:{left:(null!==(r=i.left)&&void 0!==r?r:0)+t,right:(null!==(n=i.right)&&void 0!==n?n:0)+t}}),lS=Vg(K_,(e,t)=>{var r=K_(e,t);return null==r||"string"!==typeof r.padding?0:sS(e,"yAxis",t,r.padding)},(e,t)=>{var r,n;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"===typeof i?{top:t,bottom:t}:{top:(null!==(r=i.top)&&void 0!==r?r:0)+t,bottom:(null!==(n=i.bottom)&&void 0!==n?n:0)+t}}),cS=Vg([qx,oS,Yx,Kx,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),dS=Vg([qx,ty,lS,Yx,Kx,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),uS=(e,t,r,n)=>{var i;switch(t){case"xAxis":return cS(e,r,n);case"yAxis":return dS(e,r,n);case"zAxis":return null===(i=X_(e,r))||void 0===i?void 0:i.range;case"angleAxis":return S_(e);case"radiusAxis":return A_(e,r);default:return}},hS=Vg([Q_,uS],m_),fS=Vg([Q_,Jk,iS,hS],eS);Vg([nk,Ck,E_],(e,t,r)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>fk(r,e)));function pS(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var mS=(e,t)=>t,gS=(e,t,r)=>r,xS=Vg(Dx,mS,gS,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(pS)),yS=Vg(Mx,mS,gS,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(pS)),vS=(e,t)=>({width:e.width,height:t.height}),bS=Vg(qx,H_,vS),wS=Vg(Ox,qx,xS,mS,gS,(e,t,r,n,i)=>{var a,s={};return r.forEach(r=>{var o=vS(t,r);null==a&&(a=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,n,e));var l="top"===n&&!i||"bottom"===n&&i;s[r.id]=a-Number(l)*o.height,a+=(l?-1:1)*o.height}),s}),jS=Vg(Tx,qx,yS,mS,gS,(e,t,r,n,i)=>{var a,s={};return r.forEach(r=>{var o=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,r);null==a&&(a=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,n,e));var l="left"===n&&!i||"right"===n&&i;s[r.id]=a-Number(l)*o.width,a+=(l?-1:1)*o.width}),s}),NS=Vg([qx,H_,(e,t)=>{var r=H_(e,t);if(null!=r)return wS(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var i=null===r||void 0===r?void 0:r[n];return null==i?{x:e.left,y:0}:{x:e.left,y:i}}}),_S=Vg([qx,K_,(e,t)=>{var r=K_(e,t);if(null!=r)return jS(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var i=null===r||void 0===r?void 0:r[n];return null==i?{x:0,y:e.top}:{x:i,y:e.top}}}),kS=Vg(qx,K_,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),SS=(e,t,r)=>{switch(t){case"xAxis":return bS(e,r).width;case"yAxis":return kS(e,r).height;default:return}},AS=(e,t,r,n)=>{if(null!=r){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=gx(e,n),l=t.map(e=>e.value);return s&&o&&"category"===a&&i&&ph(l)?l:void 0}},CS=Vg([ty,hk,Q_,E_],AS),ES=(e,t,r,n)=>{if(null!=r&&null!=r.dataKey){var{type:i,scale:a}=r;return!gx(e,n)||"number"!==i&&"auto"===a?void 0:t.map(e=>e.value)}},PS=Vg([ty,hk,$_,E_],ES),TS=Vg([ty,(e,t,r)=>{switch(t){case"xAxis":return H_(e,r);case"yAxis":return K_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Jk,fS,CS,PS,uS,rS,E_],(e,t,r,n,i,a,s,o,l)=>{if(null!=t){var c=gx(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:r,scale:n}}}),OS=Vg([ty,$_,Jk,fS,rS,uS,CS,PS,E_],(e,t,r,n,i,a,s,o,l)=>{if(null!=t&&null!=n){var c=gx(e,l),{type:d,ticks:u,tickCount:h}=t,f="scaleBand"===r&&"function"===typeof n.bandwidth?n.bandwidth()/2:2,p="category"===d&&n.bandwidth?n.bandwidth()/f:0;p="angleAxis"===l&&null!=a&&a.length>=2?2*sh(a[0]-a[1])*p:p;var m=u||i;if(m){var g=m.map((e,t)=>{var r=s?s.indexOf(e):e;return{index:t,coordinate:n(r)+p,value:e,offset:p}});return g.filter(e=>Ch(e.coordinate))}return c&&o?o.map((e,t)=>({coordinate:n(e)+p,value:e,index:t,offset:p})).filter(e=>Ch(e.coordinate)):n.ticks?n.ticks(h).map(e=>({coordinate:n(e)+p,value:e,offset:p})):n.domain().map((e,t)=>({coordinate:n(e)+p,value:s?s[e]:e,index:t,offset:p}))}}),IS=Vg([ty,$_,fS,uS,CS,PS,E_],(e,t,r,n,i,a,s)=>{if(null!=t&&null!=r&&null!=n&&n[0]!==n[1]){var o=gx(e,s),{tickCount:l}=t,c=0;return c="angleAxis"===s&&(null===n||void 0===n?void 0:n.length)>=2?2*sh(n[0]-n[1])*c:c,o&&a?a.map((e,t)=>({coordinate:r(e)+c,value:e,index:t,offset:c})):r.ticks?r.ticks(l).map(e=>({coordinate:r(e)+c,value:e,offset:c})):r.domain().map((e,t)=>({coordinate:r(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),LS=Vg(Q_,fS,(e,t)=>{if(null!=e&&null!=t)return B_(B_({},e),{},{scale:t})}),DS=Vg([Q_,Jk,$k,hS],eS),MS=(Vg((e,t,r)=>X_(e,r),DS,(e,t)=>{if(null!=e&&null!=t)return B_(B_({},e),{},{scale:t})}),Vg([ty,Dx,Mx],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),RS=e=>e.options.defaultTooltipEventType,FS=e=>e.options.validateTooltipEventTypes;function BS(e,t,r){if(null==e)return t;var n=e?"axis":"item";return null==r?t:r.includes(n)?n:t}function zS(e,t){return BS(t,RS(e),FS(e))}var US=(e,t)=>{var r,n=Number(t);if(!oh(n)&&null!=t)return n>=0?null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.value:void 0};function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function WS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(t){HS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function HS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VS=(e,t,r,n)=>{if(null==t)return hg;var i=function(e,t,r){return"axis"===t?"click"===r?e.axisInteraction.click:e.axisInteraction.hover:"click"===r?e.itemInteraction.click:e.itemInteraction.hover}(e,t,r);if(null==i)return hg;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return WS(WS({},i),{},{active:!0})}else if(null!=n)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return WS(WS({},hg),{},{coordinate:i.coordinate})};function GS(e,t){var r=function(e){if("number"===typeof e)return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}(e),n=t[0],i=t[1];if(void 0===r)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}var KS=(e,t,r,n)=>{var i=null===e||void 0===e?void 0:e.index;if(null==i)return null;var a=Number(i);if(!Ch(a))return i;var s=1/0;t.length>0&&(s=t.length-1);var o=Math.max(0,Math.min(a,s)),l=t[o];return null==l||function(e,t,r){if(null==r||null==t)return!0;var n=mx(e,t);return null==n||!xN(r)||GS(n,r)}(l,r,n)?String(o):null},YS=(e,t,r,n,i,a,s,o)=>{if(null!=a&&null!=o){var l=s[0],c=null==l?void 0:o(l.positions,a);if(null!=c)return c;var d=null===i||void 0===i?void 0:i[Number(a)];if(d)return"horizontal"===r?{x:d.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:d.coordinate}}},XS=(e,t,r,n)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===r?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=n?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},QS=e=>e.options.tooltipPayloadSearcher,$S=e=>e.tooltip;function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function JS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(t){eA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eA(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tA=(e,t,r,n,i,a,s)=>{if(null!=t&&null!=a){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=r;return e.reduce((e,r)=>{var u,h,f,{dataDefinedOnItem:p,settings:m}=r,g=function(e,t){return null!=e?e:t}(p,o),x=Array.isArray(g)?ux(g,c,d):g,y=null!==(u=null===m||void 0===m?void 0:m.dataKey)&&void 0!==u?u:n,v=null===m||void 0===m?void 0:m.nameKey;(h=n&&Array.isArray(x)&&!Array.isArray(x[0])&&"axis"===s?gh(x,n,i):a(x,t,l,v),Array.isArray(h))?h.forEach(t=>{var r=JS(JS({},m),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(Ex({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:mx(t.payload,t.dataKey),name:t.name}))}):e.push(Ex({tooltipEntrySettings:m,dataKey:y,payload:h,value:mx(h,y),name:null!==(f=mx(h,v))&&void 0!==f?f:null===m||void 0===m?void 0:m.name}));return e},[])}},rA=Vg([xk,ty,Z_,UN,M_],Zk),nA=Vg([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),iA=Vg([M_,R_],J_),aA=Vg([nA,xk,iA],rk,{memoizeOptions:{resultEqualityCheck:D_}}),sA=Vg([aA],e=>e.filter(I_)),oA=Vg([aA],ok,{memoizeOptions:{resultEqualityCheck:D_}}),lA=Vg([oA,pN],ck),cA=Vg([sA,pN,xk],O_),dA=Vg([lA,xk,aA],uk),uA=Vg([xk],_k),hA=Vg([xk],e=>e.allowDataOverflow),fA=Vg([uA,hA],vN),pA=Vg([aA],e=>e.filter(I_)),mA=Vg([cA,pA,BN,zN],bk),gA=Vg([mA,pN,M_,fA],jk),xA=Vg([aA],ak),yA=Vg([lA,xk,xA,Ck,M_],Pk,{memoizeOptions:{resultEqualityCheck:L_}}),vA=Vg([Ik,M_,R_],Lk),bA=Vg([vA,M_],zk),wA=Vg([Mk,M_,R_],Lk),jA=Vg([wA,M_],qk),NA=Vg([Fk,M_,R_],Lk),_A=Vg([NA,M_],Hk),kA=Vg([bA,_A,jA],Ek),SA=Vg([xk,uA,fA,gA,yA,kA,ty,M_],Kk),AA=Vg([xk,ty,lA,dA,BN,M_,SA],Qk),CA=Vg([AA,xk,rA],tS),EA=Vg([xk,AA,CA,M_],nS),PA=e=>{var t=M_(e),r=R_(e);return uS(e,t,r,!1)},TA=Vg([xk,PA],m_),OA=Vg([xk,rA,EA,TA],eS),IA=Vg([ty,dA,xk,M_],AS),LA=Vg([ty,dA,xk,M_],ES),DA=Vg([ty,xk,rA,OA,PA,IA,LA,M_],(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,c=gx(e,o);if(n){var d="scaleBand"===r&&n.bandwidth?n.bandwidth()/2:2,u="category"===l&&n.bandwidth?n.bandwidth()/d:0;return u="angleAxis"===o&&null!=i&&(null===i||void 0===i?void 0:i.length)>=2?2*sh(i[0]-i[1])*u:u,c&&s?s.map((e,t)=>({coordinate:n(e)+u,value:e,index:t,offset:u})):n.domain().map((e,t)=>({coordinate:n(e)+u,value:a?a[e]:e,index:t,offset:u}))}}}),MA=Vg([RS,FS,e=>e.tooltip.settings],(e,t,r)=>BS(r.shared,e,t)),RA=e=>e.tooltip.settings.trigger,FA=e=>e.tooltip.settings.defaultIndex,BA=Vg([$S,MA,RA,FA],VS),zA=Vg([BA,lA,yk,AA],KS),UA=Vg([DA,zA],US),qA=Vg([BA],e=>{if(e)return e.dataKey}),WA=Vg([$S,MA,RA,FA],XS),HA=Vg([Tx,Ox,ty,qx,DA,FA,WA,QS],YS),VA=Vg([BA,HA],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),GA=Vg([BA],e=>e.active),KA=Vg([WA,zA,pN,yk,UA,QS,MA],tA),YA=Vg([KA],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});function XA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function QA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XA(Object(r),!0).forEach(function(t){$A(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $A(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ZA=(e,t,r,n,i)=>{var a,s=-1,o=null!==(a=null===t||void 0===t?void 0:t.length)&&void 0!==a?a:0;if(o<=1||null==e)return 0;if("angleAxis"===n&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,d=r[l].coordinate,u=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(sh(d-c)!==sh(u-d)){var f=[];if(sh(u-d)===sh(i[1]-i[0])){h=u;var p=d+i[1]-i[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=u+i[1]-i[0];f[0]=Math.min(d,(m+d)/2),f[1]=Math.max(d,(m+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:s}=r[l]);break}}else{var x=Math.min(c,u),y=Math.max(c,u);if(e>(x+d)/2&&e<=(y+d)/2){({index:s}=r[l]);break}}}else if(t)for(var v=0;v<o;v++)if(0===v&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v>0&&v<o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v===o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2){({index:s}=t[v]);break}return s},JA=()=>ex(UN),eC=(e,t)=>t,tC=(e,t,r)=>r,rC=(e,t,r,n)=>n,nC=Vg(DA,e=>rx()(e,e=>e.coordinate)),iC=Vg([$S,eC,tC,rC],VS),aC=Vg([iC,lA,yk,AA],KS),sC=Vg([$S,eC,tC,rC],XS),oC=Vg([Tx,Ox,ty,qx,DA,rC,sC,QS],YS),lC=Vg([iC,oC],(e,t)=>{var r;return null!==(r=e.coordinate)&&void 0!==r?r:t}),cC=Vg([DA,aC],US),dC=Vg([sC,aC,pN,yk,cC,QS,eC],tA),uC=Vg([iC,aC],(e,t)=>({isActive:e.active&&null!=t,activeIndex:t})),hC=(e,t,r,n,i,a,s)=>{if(e&&n&&i&&a&&r){var o=e_(e,r);if(o){var l=((e,t)=>"centric"===t?e.angle:e.radius)(o,t),c=ZA(l,s,a,n,i),d=((e,t,r,n)=>{var i=t.find(e=>e&&e.index===r);if(i){if("centric"===e){var a=i.coordinate,{radius:s}=n;return QA(QA(QA({},n),QN(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return QA(QA(QA({},n),QN(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(t,a,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},fC=Vg([(e,t)=>t,ty,C_,M_,TA,DA,nC,qx],(e,t,r,n,i,a,s,o)=>{if(e&&t&&n&&i&&a)return"horizontal"===t||"vertical"===t?((e,t,r,n,i,a,s)=>{if(e&&r&&n&&i&&function(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}(e,s)){var o=((e,t)=>"horizontal"===t?e.chartX:"vertical"===t?e.chartY:void 0)(e,t),l=ZA(o,a,i,r,n),c=((e,t,r,n)=>{var i=t.find(e=>e&&e.index===r);if(i){if("horizontal"===e)return{x:i.coordinate,y:n.chartY};if("vertical"===e)return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}})(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}})(e,t,n,i,a,s,o):hC(e,t,r,n,i,a,s)}),pC=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},mC=dp("mouseClick"),gC=im();gC.startListening({actionCreator:mC,effect:(e,t)=>{var r=e.payload,n=fC(t.getState(),pC(r));null!=(null===n||void 0===n?void 0:n.activeIndex)&&t.dispatch(Ng({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var xC=dp("mouseMove"),yC=im(),vC=null;function bC(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":"children"===e&&"object"===typeof t&&null!==t?"<<CHILDREN>>":t}function wC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function jC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wC(Object(r),!0).forEach(function(t){NC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function NC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}yC.startListening({actionCreator:xC,effect:(e,t)=>{var r=e.payload;null!==vC&&cancelAnimationFrame(vC);var n=pC(r);vC=requestAnimationFrame(()=>{var e=t.getState();if("axis"===zS(e,e.tooltip.settings.shared)){var r=fC(e,n);null!=(null===r||void 0===r?void 0:r.activeIndex)?t.dispatch(jg({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate})):t.dispatch(bg())}vC=null})}});var _C=kp({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:mp()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.xAxis[r.id]&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:mp()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:mp()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:mp()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.yAxis[r.id]&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:mp()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:mp()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:mp()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.zAxis[r.id]&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:mp()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:mp()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(3===a.length&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);e.yAxis[r]=jC(jC({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:kC,replaceXAxis:SC,removeXAxis:AC,addYAxis:CC,replaceYAxis:EC,removeYAxis:PC,addZAxis:TC,replaceZAxis:OC,removeZAxis:IC,updateYAxisWidth:LC}=_C.actions,DC=_C.reducer,MC=kp({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:mp()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Gf(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:mp()},removeCartesianGraphicalItem:{reducer(e,t){var r=Gf(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:mp()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:mp()},removePolarGraphicalItem:{reducer(e,t){var r=Gf(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:mp()}}}),{addCartesianGraphicalItem:RC,replaceCartesianGraphicalItem:FC,removeCartesianGraphicalItem:BC,addPolarGraphicalItem:zC,removePolarGraphicalItem:UC}=MC.actions,qC=MC.reducer,WC=kp({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Gf(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Gf(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Gf(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:HC,removeDot:VC,addArea:GC,removeArea:KC,addLine:YC,removeLine:XC}=WC.actions,QC=WC.reducer,$C={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ZC=kp({name:"brush",initialState:$C,reducers:{setBrushSettings:(e,t)=>null==t.payload?$C:t.payload}}),{setBrushSettings:JC}=ZC.actions,eE=ZC.reducer,tE=kp({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:mp()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Gf(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:mp()},removeLegendPayload:{reducer(e,t){var r=Gf(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:mp()}}}),{setLegendSize:rE,setLegendSettings:nE,addLegendPayload:iE,replaceLegendPayload:aE,removeLegendPayload:sE}=tE.actions,oE=tE.reducer,lE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},cE=kp({name:"rootProps",initialState:lE,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(r=t.payload.barGap)&&void 0!==r?r:lE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),dE=cE.reducer,{updateOptions:uE}=cE.actions,hE=kp({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:fE,removeRadiusAxis:pE,addAngleAxis:mE,removeAngleAxis:gE}=hE.actions,xE=hE.reducer,yE=kp({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:vE}=yE.actions,bE=yE.reducer,wE=dp("keyDown"),jE=dp("focus"),NE=im();NE.startListening({actionCreator:wE,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=KS(n,lA(r),yk(r),AA(r)),s=null==a?-1:Number(a);if(Number.isFinite(s)&&!(s<0)){var o=DA(r);if("Enter"!==i){var l=s+("ArrowRight"===i?1:-1)*("left-to-right"===MS(r)?1:-1);if(!(null==o||l>=o.length||l<0)){var c=oC(r,"axis","hover",String(l));t.dispatch(kg({active:!0,activeIndex:l.toString(),activeDataKey:void 0,activeCoordinate:c}))}}else{var d=oC(r,"axis","hover",String(n.index));t.dispatch(kg({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:d}))}}}}}}),NE.startListening({actionCreator:jE,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&null==n.index){var i=oC(r,"axis","hover",String("0"));t.dispatch(kg({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var _E=dp("externalEvent"),kE=im(),SE=new Map;kE.startListening({actionCreator:_E,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(null!=r){n.persist();var i=n.type,a=SE.get(i);void 0!==a&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var e=t.getState(),a={activeCoordinate:VA(e),activeDataKey:qA(e),activeIndex:zA(e),activeLabel:UA(e),activeTooltipIndex:zA(e),isTooltipActive:GA(e)};r(a,n)}finally{SE.delete(i)}});SE.set(i,s)}}});var AE=Vg([$S],e=>e.tooltipItemPayloads),CE=Vg([AE,QS,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(e=>e.settings.dataKey===n);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,r)}}),EE=dp("touchMove"),PE=im();PE.startListening({actionCreator:EE,effect:(e,t)=>{var r=e.payload;if(null!=r.touches&&0!==r.touches.length){var n=t.getState(),i=zS(n,n.tooltip.settings.shared);if("axis"===i){var a=fC(n,pC({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));null!=(null===a||void 0===a?void 0:a.activeIndex)&&t.dispatch(jg({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var s,o=r.touches[0];if(null==document.elementFromPoint)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(Rx),d=null!==(s=l.getAttribute(Fx))&&void 0!==s?s:void 0,u=CE(t.getState(),c,d);t.dispatch(yg({activeDataKey:d,activeIndex:c,activeCoordinate:u}))}}}});var TE=kp({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(e=>e.dataKey===n.dataKey&&e.direction===n.direction?i:e))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(e=>e.dataKey!==n.dataKey||e.direction!==n.direction))}}}),{addErrorBar:OE,replaceErrorBar:IE,removeErrorBar:LE}=TE.actions,DE=TE.reducer,ME=!1,RE=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function FE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function BE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FE(Object(r),!0).forEach(function(t){zE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zE(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var UE={zIndexMap:Object.values(t_).reduce((e,t)=>BE(BE({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),{})},qE=new Set(Object.values(t_));var WE=kp({name:"zIndex",initialState:UE,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:mp()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!function(e){return qE.has(e)}(r)&&delete e.zIndexMap[r])},prepare:mp()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:mp()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:mp()}}}),{registerZIndexPortal:HE,unregisterZIndexPortal:VE,registerZIndexPortalId:GE,unregisterZIndexPortalId:KE}=WE.actions,YE=rp({brush:eE,cartesianAxis:DC,chartData:Tg,errorBars:DE,graphicalItems:qC,layout:Rg,legend:oE,options:lm,polarAxis:xE,polarOptions:bE,referenceElements:QC,rootProps:dE,tooltip:Sg,zIndex:WE.reducer});function XE(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Gx(),s=(0,i.useRef)(null);if(a)return r;null==s.current&&(s.current=function(e){return yp({reducer:YE,preloadedState:e,middleware:e=>e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("es6")}).concat([gC.middleware,yC.middleware,NE.middleware,kE.middleware,PE.middleware]),enhancers:e=>{var t=e;return"function"===typeof e&&(t=e()),t.concat(xp({type:"raf"}))},devTools:ME&&{serialize:{replacer:bC},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(t,n));var o=Yg;return i.createElement(jm,{context:o,store:s.current},r)}var QE=e=>{var{chartData:t}=e,r=Qg(),n=Gx();return(0,i.useEffect)(()=>n?()=>{}:(r(Cg(t)),()=>{r(Cg(void 0))}),[t,r,n]),null},$E=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function ZE(e,t){return null==e&&null==t||("number"===typeof e&&"number"===typeof t?e===t||e!==e&&t!==t:e===t)}function JE(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if($E.has(n)){if(null==e[n]&&null==t[n])continue;if(!xm(e[n],t[n]))return!1}else if(!ZE(e[n],t[n]))return!1;return!0}function eP(e){var{layout:t,margin:r}=e,n=Qg(),a=Gx();return(0,i.useEffect)(()=>{a||(n(Lg(t)),n(Ig(r)))},[n,a,t,r]),null}var tP=(0,i.memo)(eP,JE);function rP(e){var t=Qg();return(0,i.useEffect)(()=>{t(uE(e))},[t,e]),null}var nP=()=>{var e;return null===(e=ex(e=>e.rootProps.accessibilityLayer))||void 0===e||e},iP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function aP(e){return"string"===typeof e&&iP.includes(e)}var sP=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function oP(e){return"string"===typeof e&&sP.has(e)}function lP(e){return"string"===typeof e&&e.startsWith("data-")}function cP(e){if("object"!==typeof e||null===e)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(oP(r)||lP(r))&&(t[r]=e[r]);return t}function dP(e){return null==e?null:(0,i.isValidElement)(e)&&"object"===typeof e.props&&null!==e.props?cP(e.props):"object"!==typeof e||Array.isArray(e)?null:cP(e)}function uP(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(oP(r)||lP(r)||aP(r))&&(t[r]=e[r]);return t}var hP=["children","width","height","viewBox","className","style","title","desc"];function fP(){return fP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fP.apply(null,arguments)}var pP,mP=(0,i.forwardRef)((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:o,style:l,title:c,desc:d}=e,u=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,hP),h=s||{width:n,height:a,x:0,y:0},f=th("recharts-surface",o);return i.createElement("svg",fP({},uP(u),{className:f,width:n,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),i.createElement("title",null,c),i.createElement("desc",null,d),r)}),gP=null!==(pP=a["useId".toString()])&&void 0!==pP?pP:()=>{var[e]=i.useState(()=>hh("uid-"));return e};function xP(e,t){var r=gP();return t||(e?"".concat(e,"-").concat(r):r)}var yP=Vg(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(null!=t){var n=e[t];if(null!=n)return r?n.panoramaElementId:n.elementId}}),vP=Vg(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(e=>parseInt(e,10)).concat(Object.values(t_));return Array.from(new Set(t)).sort((e,t)=>e-t)},{memoizeOptions:{resultEqualityCheck:function(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}}});function bP(e){var{zIndex:t,isPanorama:r}=e,n=xP("".concat(r?"recharts-zindex-panorama-":"recharts-zindex-").concat(t)),a=Qg();return(0,i.useLayoutEffect)(()=>(a(GE({zIndex:t,elementId:n,isPanorama:r})),()=>{a(KE({zIndex:t,isPanorama:r}))}),[a,t,n,r]),i.createElement("g",{id:n})}function wP(e){var{children:t,isPanorama:r}=e,n=ex(vP);if(!n||0===n.length)return t;var a=n.filter(e=>e<0),s=n.filter(e=>e>0);return i.createElement(i.Fragment,null,a.map(e=>i.createElement(bP,{key:e,zIndex:e,isPanorama:r})),t,s.map(e=>i.createElement(bP,{key:e,zIndex:e,isPanorama:r})))}var jP=["children"];function NP(){return NP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NP.apply(null,arguments)}var _P={width:"100%",height:"100%",display:"block"},kP=(0,i.forwardRef)((e,t)=>{var r=Jx(),n=ey(),a=nP();if(!Eh(r)||!Eh(n))return null;var s,o,{children:l,otherAttributes:c,title:d,desc:u}=e;return null!=c&&(s="number"===typeof c.tabIndex?c.tabIndex:a?0:void 0,o="string"===typeof c.role?c.role:a?"application":void 0),i.createElement(mP,NP({},c,{title:d,desc:u,role:o,tabIndex:s,width:r,height:n,style:_P,ref:t}),l)}),SP=e=>{var{children:t}=e,r=ex(Yx);if(!r)return null;var{width:n,height:a,y:s,x:o}=r;return i.createElement(mP,{width:n,height:a,x:o,y:s},t)},AP=(0,i.forwardRef)((e,t)=>{var{children:r}=e,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,jP);return Gx()?i.createElement(SP,null,i.createElement(wP,{isPanorama:!0},r)):i.createElement(kP,NP({ref:t},n),i.createElement(wP,{isPanorama:!1},r))});var CP=new(r(7283)),EP="recharts.syncEvent.tooltip",PP="recharts.syncEvent.brush";function TP(e){return e.tooltip.syncInteraction}var OP=["x","y"];function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function LP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(t){DP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function DP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MP(){var e=ex(qN),t=ex(HN),r=Qg(),n=ex(WN),a=ex(DA),s=ry(),o=Qx(),l=ex(e=>e.rootProps.className);(0,i.useEffect)(()=>{if(null==e)return bh;var i=(i,l,c)=>{var d;if(t!==c&&e===i)if("index"!==n){if(null!=a){var u;if("function"===typeof n){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},f=n(a,h);u=a[f]}else"value"===n&&(u=a.find(e=>String(e.value)===l.payload.label));var{coordinate:p}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=p&&null!=o){var{x:m,y:g}=p,x=Math.min(m,o.x+o.width),y=Math.min(g,o.y+o.height),v={x:"horizontal"===s?u.coordinate:x,y:"horizontal"===s?y:u.coordinate},b=_g({active:l.payload.active,coordinate:v,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox});r(b)}else r(_g({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}))}}else if(o&&null!==l&&void 0!==l&&null!==(d=l.payload)&&void 0!==d&&d.coordinate&&l.payload.sourceViewBox){var w=l.payload.coordinate,{x:j,y:N}=w,_=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(w,OP),{x:k,y:S,width:A,height:C}=l.payload.sourceViewBox,E=LP(LP({},_),{},{x:o.x+(A?(j-k)/A:0)*o.width,y:o.y+(C?(N-S)/C:0)*o.height});r(LP(LP({},l),{},{payload:LP(LP({},l.payload),{},{coordinate:E})}))}else r(l)};return CP.on(EP,i),()=>{CP.off(EP,i)}},[l,r,t,e,n,a,s,o])}function RP(){var e=Qg();(0,i.useEffect)(()=>{e(cm())},[e]),MP(),function(){var e=ex(qN),t=ex(HN),r=Qg();(0,i.useEffect)(()=>{if(null==e)return bh;var n=(n,i,a)=>{t!==a&&e===n&&r(Eg(i))};return CP.on(PP,n),()=>{CP.off(PP,n)}},[r,t,e])}()}function FP(e,t,r,n,a,s){var o=ex(r=>((e,t,r)=>{if(null!=t){var n=$S(e);return"axis"===t?"hover"===r?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:"hover"===r?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}})(r,e,t)),l=ex(HN),c=ex(qN),d=ex(WN),u=ex(TP),h=null===u||void 0===u?void 0:u.active,f=Qx();(0,i.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=_g({active:s,coordinate:r,dataKey:o,index:a,label:"number"===typeof n?String(n):n,sourceViewBox:f});CP.emit(EP,c,e,l)}},[h,r,o,a,n,l,c,d,s,f])}var BP=(0,i.createContext)(null),zP=(0,i.createContext)(null);function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(t){WP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function WP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HP(){return HP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HP.apply(null,arguments)}var VP=()=>(RP(),null);function GP(e){if("number"===typeof e)return e;if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var KP=(0,i.forwardRef)((e,t)=>{var r,n,a=(0,i.useRef)(null),[s,o]=(0,i.useState)({containerWidth:GP(null===(r=e.style)||void 0===r?void 0:r.width),containerHeight:GP(null===(n=e.style)||void 0===n?void 0:n.height)}),l=(0,i.useCallback)((e,t)=>{o(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]),c=(0,i.useCallback)(e=>{if("function"===typeof t&&t(e),null!=e&&"undefined"!==typeof ResizeObserver){var{width:r,height:n}=e.getBoundingClientRect();l(r,n);var i=new ResizeObserver(e=>{var{width:t,height:r}=e[0].contentRect;l(t,r)});i.observe(e),a.current=i}},[t,l]);return(0,i.useEffect)(()=>()=>{var e=a.current;null!=e&&e.disconnect()},[l]),i.createElement(i.Fragment,null,i.createElement(ny,{width:s.containerWidth,height:s.containerHeight}),i.createElement("div",HP({ref:c},e)))}),YP=(0,i.forwardRef)((e,t)=>{var{width:r,height:n}=e,[a,s]=(0,i.useState)({containerWidth:GP(r),containerHeight:GP(n)}),o=(0,i.useCallback)((e,t)=>{s(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]),l=(0,i.useCallback)(e=>{if("function"===typeof t&&t(e),null!=e){var{width:r,height:n}=e.getBoundingClientRect();o(r,n)}},[t,o]);return i.createElement(i.Fragment,null,i.createElement(ny,{width:a.containerWidth,height:a.containerHeight}),i.createElement("div",HP({ref:l},e)))}),XP=(0,i.forwardRef)((e,t)=>{var{width:r,height:n}=e;return i.createElement(i.Fragment,null,i.createElement(ny,{width:r,height:n}),i.createElement("div",HP({ref:t},e)))}),QP=(0,i.forwardRef)((e,t)=>{var{width:r,height:n}=e;return lh(r)||lh(n)?i.createElement(YP,HP({},e,{ref:t})):i.createElement(XP,HP({},e,{ref:t}))});var $P=(0,i.forwardRef)((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:x,width:y,responsive:v,dispatchTouchEvents:b=!0}=e,w=(0,i.useRef)(null),j=Qg(),[N,_]=(0,i.useState)(null),[k,S]=(0,i.useState)(null),A=function(){var e=Qg(),[t,r]=(0,i.useState)(null),n=ex(Ix);return(0,i.useEffect)(()=>{if(null!=t){var r=t.getBoundingClientRect().width/t.offsetWidth;Ch(r)&&r!==n&&e(Mg(r))}},[t,e,n]),r}(),C=Mh(),E=(null===C||void 0===C?void 0:C.width)>0?C.width:y,P=(null===C||void 0===C?void 0:C.height)>0?C.height:a,T=(0,i.useCallback)(e=>{A(e),"function"===typeof t&&t(e),_(e),S(e),null!=e&&(w.current=e)},[A,t,_,S]),O=(0,i.useCallback)(e=>{j(mC(e)),j(_E({handler:s,reactEvent:e}))},[j,s]),I=(0,i.useCallback)(e=>{j(xC(e)),j(_E({handler:d,reactEvent:e}))},[j,d]),L=(0,i.useCallback)(e=>{j(bg()),j(_E({handler:u,reactEvent:e}))},[j,u]),D=(0,i.useCallback)(e=>{j(xC(e)),j(_E({handler:h,reactEvent:e}))},[j,h]),M=(0,i.useCallback)(()=>{j(jE())},[j]),R=(0,i.useCallback)(e=>{j(wE(e.key))},[j]),F=(0,i.useCallback)(e=>{j(_E({handler:o,reactEvent:e}))},[j,o]),B=(0,i.useCallback)(e=>{j(_E({handler:l,reactEvent:e}))},[j,l]),z=(0,i.useCallback)(e=>{j(_E({handler:c,reactEvent:e}))},[j,c]),U=(0,i.useCallback)(e=>{j(_E({handler:f,reactEvent:e}))},[j,f]),q=(0,i.useCallback)(e=>{j(_E({handler:g,reactEvent:e}))},[j,g]),W=(0,i.useCallback)(e=>{b&&j(EE(e)),j(_E({handler:m,reactEvent:e}))},[j,b,m]),H=(0,i.useCallback)(e=>{j(_E({handler:p,reactEvent:e}))},[j,p]),V=function(e){return!0===e?KP:QP}(v);return i.createElement(BP.Provider,{value:N},i.createElement(zP.Provider,{value:k},i.createElement(V,{width:null!==E&&void 0!==E?E:null===x||void 0===x?void 0:x.width,height:null!==P&&void 0!==P?P:null===x||void 0===x?void 0:x.height,className:th("recharts-wrapper",n),style:qP({position:"relative",cursor:"default",width:E,height:P},x),onClick:O,onContextMenu:F,onDoubleClick:B,onFocus:M,onKeyDown:R,onMouseDown:z,onMouseEnter:I,onMouseLeave:L,onMouseMove:D,onMouseUp:U,onTouchEnd:H,onTouchMove:W,onTouchStart:q,ref:T},i.createElement(VP,null),r)))}),ZP=Vg([qx],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),JP=Vg([ZP,Tx,Ox],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),eT=()=>ex(JP),tT=(0,i.createContext)(void 0),rT=e=>{var{children:t}=e,[r]=(0,i.useState)("".concat(hh("recharts"),"-clip")),n=eT();if(null==n)return null;var{x:a,y:s,width:o,height:l}=n;return i.createElement(tT.Provider,{value:r},i.createElement("defs",null,i.createElement("clipPath",{id:r},i.createElement("rect",{x:a,y:s,height:l,width:o}))),t)},nT=["width","height","responsive","children","className","style","compact","title","desc"];var iT=(0,i.forwardRef)((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:o,style:l,compact:c,title:d,desc:u}=e,h=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,nT),f=cP(h);return c?i.createElement(i.Fragment,null,i.createElement(ny,{width:r,height:n}),i.createElement(AP,{otherAttributes:f,title:d,desc:u},s)):i.createElement($P,{className:o,style:l,width:r,height:n,responsive:null!==a&&void 0!==a&&a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},i.createElement(AP,{otherAttributes:f,title:d,desc:u,ref:t},i.createElement(rT,null,s)))});function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oT(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(t){sT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),n=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==n[t]&&(e[t]=n[t]),e),r)}function lT(){return lT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lT.apply(null,arguments)}var cT={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",responsive:!1},dT=(0,i.forwardRef)(function(e,t){var r,n=oT(e.categoricalChartProps,cT),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return i.createElement(XE,{preloadedState:{options:d},reduxStoreName:null!==(r=c.id)&&void 0!==r?r:a},i.createElement(QE,{chartData:c.data}),i.createElement(tP,{layout:n.layout,margin:n.margin}),i.createElement(rP,{baseValue:n.baseValue,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),i.createElement(iT,lT({},n,{ref:t})))}),uT=["axis"],hT=(0,i.forwardRef)((e,t)=>i.createElement(dT,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uT,tooltipPayloadSearcher:sm,categoricalChartProps:e,ref:t}));function fT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pT(Object(r),!0).forEach(function(t){gT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function gT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xT=mT({},{cacheSize:2e3,enableCache:!0}),yT=new class{constructor(e){fT(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;null!=r&&this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(xT.cacheSize),vT={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bT="recharts_measurement_span";var wT=(e,t)=>{try{var r=document.getElementById(bT);r||((r=document.createElement("span")).setAttribute("id",bT),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,vT,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch(i){return{width:0,height:0}}},jT=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||RE)return{width:0,height:0};if(!xT.enableCache)return wT(e,t);var r=function(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}(e,t),n=yT.get(r);if(n)return n;var i=wT(e,t);return yT.set(r,i),i};function NT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class _T{static create(e){return new _T(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+n;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}NT(_T,"EPS",1e-4);function kT(e,t){if(t<1)return[];if(1===t)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function ST(e,t,r){return function(e){var{width:t,height:r}=e,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=n*Math.PI/180,a=Math.atan(r/t),s=i>a&&i<Math.PI-a?r/Math.sin(i):t/Math.cos(i);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},r)}function AT(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ET(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(t){PT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function PT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TT(e,t,r){var n,{tick:i,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:h}=e;if(!a||!a.length||!i)return[];if(ch(c)||RE)return null!==(n=function(e,t){return kT(e,t+1)}(a,ch(c)?c:0))&&void 0!==n?n:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=u&&"width"===p?jT(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(e,n)=>{var i="function"===typeof d?d(e.value,n):e.value;return"width"===p?ST(jT(i,{fontSize:t,letterSpacing:r}),m,h):jT(i,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?sh(a[1].coordinate-a[0].coordinate):1,y=function(e,t,r){var n="width"===r,{x:i,y:a,width:s,height:o}=e;return 1===t?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}(s,x,p);return"equidistantPreserveStart"===c?function(e,t,r,n,i){for(var a,s=(n||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,h=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:kT(n,d)};var a,s=c,h=()=>(void 0===a&&(a=r(t,s)),a),f=t.coordinate,p=0===c||AT(e,f,h,u,l);p||(c=0,u=o,d+=1),p&&(u=f+e*(h()/2+i),c+=d)};d<=s.length;)if(a=h())return a.v;return[]}(x,y,g,a,o):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var d=n[o-1],u=r(d,o-1),h=e*(d.coordinate+e*u/2-c);s[o-1]=d=ET(ET({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),null!=d.tickCoord&&AT(e,d.tickCoord,()=>u,l,c)&&(c=d.tickCoord-e*(u/2+i),s[o-1]=ET(ET({},d),{},{isShow:!0}))}for(var f=a?o-1:o,p=function(t){var n,a=s[t],o=()=>(void 0===n&&(n=r(a,t)),n);if(0===t){var d=e*(a.coordinate-e*o()/2-l);s[t]=a=ET(ET({},a),{},{tickCoord:d<0?a.coordinate-d*e:a.coordinate})}else s[t]=a=ET(ET({},a),{},{tickCoord:a.coordinate});null!=a.tickCoord&&AT(e,a.tickCoord,o,l,c)&&(l=a.tickCoord+e*(o()/2+i),s[t]=ET(ET({},a),{},{isShow:!0}))},m=0;m<f;m++)p(m);return s}(x,y,g,a,o,"preserveStartEnd"===c):function(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(t){var n,c=a[t],d=()=>(void 0===n&&(n=r(c,t)),n);if(t===s-1){var u=e*(c.coordinate+e*d()/2-l);a[t]=c=ET(ET({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else a[t]=c=ET(ET({},c),{},{tickCoord:c.coordinate});null!=c.tickCoord&&AT(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+i),a[t]=ET(ET({},c),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return a}(x,y,g,a,o),f.filter(e=>e.isShow))}var OT=["children","className"];function IT(){return IT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IT.apply(null,arguments)}var LT=i.forwardRef((e,t)=>{var{children:r,className:n}=e,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,OT),s=th("recharts-layer",n);return i.createElement("g",IT({className:s},uP(a),{ref:t}),r)}),DT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RT=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,FT=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},zT=Object.keys(BT),UT="NaN";class qT{static parse(e){var t,[,r,n]=null!==(t=FT.exec(e))&&void 0!==t?t:[];return new qT(parseFloat(r),null!==n&&void 0!==n?n:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,oh(e)&&(this.unit=""),""===t||RT.test(t)||(this.num=NaN,this.unit=""),zT.includes(t)&&(this.num=function(e,t){return e*BT[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new qT(NaN,""):new qT(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new qT(NaN,""):new qT(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new qT(NaN,""):new qT(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new qT(NaN,""):new qT(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return oh(this.num)}}function WT(e){if(e.includes(UT))return UT;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=null!==(r=DT.exec(t))&&void 0!==r?r:[],s=qT.parse(null!==n&&void 0!==n?n:""),o=qT.parse(null!==a&&void 0!==a?a:""),l="*"===i?s.multiply(o):s.divide(o);if(l.isNaN())return UT;t=t.replace(DT,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,u,h]=null!==(c=MT.exec(t))&&void 0!==c?c:[],f=qT.parse(null!==d&&void 0!==d?d:""),p=qT.parse(null!==h&&void 0!==h?h:""),m="+"===u?f.add(p):f.subtract(p);if(m.isNaN())return UT;t=t.replace(MT,m.toString())}return t}var HT=/\(([^()]*)\)/;function VT(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,r=e;null!=(t=HT.exec(r));){var[,n]=t;r=r.replace(HT,WT(n))}return r}(t),t=WT(t)}function GT(e){var t=function(e){try{return VT(e)}catch(t){return UT}}(e.slice(5,-1));return t===UT?"":t}var KT=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],YT=["dx","dy","angle","className","breakAll"];function XT(){return XT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XT.apply(null,arguments)}function QT(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var $T=/[ \f\n\r\t\v\u2028\u2029]+/,ZT=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];return xh(t)||(i=r?t.toString().split(""):t.toString().split($T)),{wordsWithComputedWidth:i.map(e=>({word:e,width:jT(e,n).width})),spaceWidth:r?0:jT("\xa0",n).width}}catch(a){return null}};function JT(e){return"start"===e||"middle"===e||"end"===e||"inherit"===e}var eO=(e,t,r,n)=>e.reduce((e,i)=>{var{word:a,width:s}=i,o=e[e.length-1];if(o&&null!=s&&(null==t||n||o.width+s+r<Number(t)))o.words.push(a),o.width+=s+r;else{var l={words:[a],width:s};e.push(l)}return e},[]),tO=e=>e.reduce((e,t)=>e.width>t.width?e:t),rO=(e,t,r,n,i,a,s,o)=>{var l=e.slice(0,t),c=ZT({breakAll:r,style:n,children:l+"\u2026"});if(!c)return[!1,[]];var d=eO(c.wordsWithComputedWidth,a,s,o);return[d.length>i||tO(d).width>Number(a),d]},nO=e=>[{words:xh(e)?[]:e.toString().split($T),width:void 0}],iO=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!RE){var o=ZT({breakAll:a,children:n,style:i});if(!o)return nO(n);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=ch(a),d=String(s),u=eO(t,n,r,i);if(!c||i)return u;if(!(u.length>a||tO(u).width>Number(n)))return u;for(var h,f=0,p=d.length-1,m=0;f<=p&&m<=d.length-1;){var g=Math.floor((f+p)/2),x=g-1,[y,v]=rO(d,x,l,o,a,n,r,i),[b]=rO(d,g,l,o,a,n,r,i);if(y||b||(f=g+1),y&&b&&(p=g-1),!y&&b){h=v;break}m++}return h||u})({breakAll:a,children:n,maxLines:s,style:i},l,c,t,Boolean(r))}return nO(n)},aO="#808080",sO={angle:0,breakAll:!1,capHeight:"0.71em",fill:aO,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},oO=(0,i.forwardRef)((e,t)=>{var r=oT(e,sO),{x:n,y:a,lineHeight:s,capHeight:o,fill:l,scaleToFit:c,textAnchor:d,verticalAnchor:u}=r,h=QT(r,KT),f=(0,i.useMemo)(()=>iO({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:p,dy:m,angle:g,className:x,breakAll:y}=h,v=QT(h,YT);if(!dh(n)||!dh(a)||0===f.length)return null;var b,w=Number(n)+(ch(p)?p:0),j=Number(a)+(ch(m)?m:0);if(!Ch(w)||!Ch(j))return null;switch(u){case"start":b=GT("calc(".concat(o,")"));break;case"middle":b=GT("calc(".concat((f.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:b=GT("calc(".concat(f.length-1," * -").concat(s,")"))}var N=[];if(c){var _=f[0].width,{width:k}=h;N.push("scale(".concat(ch(k)&&ch(_)?k/_:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(w,", ").concat(j,")")),N.length&&(v.transform=N.join(" ")),i.createElement("text",XT({},uP(v),{ref:t,x:w,y:j,className:th("recharts-text",x),textAnchor:d,fill:l.includes("url")?aO:l}),f.map((e,t)=>{var r=e.words.join(y?"":" ");return i.createElement("tspan",{x:w,dy:0===t?b:s,key:"".concat(r,"-").concat(t)},r)}))});function lO(e){var{zIndex:t,children:r}=e,n=void 0!==ry()&&void 0!==t&&0!==t,a=Gx(),s=Qg();(0,i.useLayoutEffect)(()=>n?(s(HE({zIndex:t})),()=>{s(VE({zIndex:t}))}):bh,[s,t,n]);var l=ex(e=>yP(e,t,a));if(!n)return r;if(!l)return null;var c=document.getElementById(l);return c?(0,o.createPortal)(r,c):null}oO.displayName="Text";var cO=["labelRef"];function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function uO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(t){hO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fO(){return fO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fO.apply(null,arguments)}var pO=(0,i.createContext)(null),mO=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:o,children:l}=e,c=(0,i.useMemo)(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:o}),[t,r,n,a,s,o]);return i.createElement(pO.Provider,{value:c},l)},gO=()=>{var e=(0,i.useContext)(pO),t=Qx();return e||Xx(t)},xO=(0,i.createContext)(null),yO=()=>{var e=(0,i.useContext)(xO),t=ex(C_);return e||t},vO=e=>null!=e&&"function"===typeof e,bO=(e,t,r,n,a)=>{var s,o,{offset:l,className:c}=e,{cx:d,cy:u,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=a,x=(h+f)/2,y=((e,t)=>sh(t-e)*Math.min(Math.abs(t-e),360))(p,m),v=y>=0?1:-1;switch(t){case"insideStart":s=p+v*l,o=g;break;case"insideEnd":s=m-v*l,o=!g;break;case"end":s=m+v*l,o=g;break;default:throw new Error("Unsupported position ".concat(t))}o=y<=0?o:!o;var b=QN(d,u,x,s),w=QN(d,u,x,s+359*(o?1:-1)),j="M".concat(b.x,",").concat(b.y,"\n    A").concat(x,",").concat(x,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),N=xh(e.id)?hh("recharts-radial-line-"):e.id;return i.createElement("text",fO({},n,{dominantBaseline:"central",className:th("recharts-radial-bar-label",c)}),i.createElement("defs",null,i.createElement("path",{id:N,d:j})),i.createElement("textPath",{xlinkHref:"#".concat(N)},r))},wO=e=>"cx"in e&&ch(e.cx),jO={angle:0,offset:5,zIndex:t_.label,position:"middle",textBreakAll:!1};function NO(e){var t,r,n,a=oT(e,jO),{viewBox:s,position:o,value:l,children:c,content:d,className:u="",textBreakAll:h,labelRef:f}=a,p=yO(),m=gO();if(!(t=null==s?"center"===o?m:null!==p&&void 0!==p?p:m:wO(s)?s:Xx(s))||xh(l)&&xh(c)&&!(0,i.isValidElement)(d)&&"function"!==typeof d)return null;var g=uO(uO({},a),{},{viewBox:t});if((0,i.isValidElement)(d)){var{labelRef:x}=g,y=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(g,cO);return(0,i.cloneElement)(d,y)}if("function"===typeof d){if(r=(0,i.createElement)(d,g),(0,i.isValidElement)(r))return r}else r=(e=>{var{value:t,formatter:r}=e,n=xh(e.children)?t:e.children;return"function"===typeof r?r(n):n})(a);var v=uP(a);if(wO(t)){if("insideStart"===o||"insideEnd"===o||"end"===o)return bO(a,o,r,v,t);n=((e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if("outside"===r){var{x:d,y:u}=QN(n,i,s+t,c);return{x:d,y:u,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:f,y:p}=QN(n,i,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(t,a.offset,a.position)}else n=((e,t)=>{var r,{parentViewBox:n,offset:i,position:a}=e;null==n||wO(n)||(r=n);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:d}=t,u=s,h=s+(l-c)/2,f=(u+h)/2,p=(l+c)/2,m=u+l/2,g=d>=0?1:-1,x=g*i,y=g>0?"end":"start",v=g>0?"start":"end",b=l>=0?1:-1,w=b*i,j=b>0?"end":"start",N=b>0?"start":"end";if("top"===a)return uO(uO({},{x:u+l/2,y:o-x,textAnchor:"middle",verticalAnchor:y}),r?{height:Math.max(o-r.y,0),width:l}:{});if("bottom"===a)return uO(uO({},{x:h+c/2,y:o+d+x,textAnchor:"middle",verticalAnchor:v}),r?{height:Math.max(r.y+r.height-(o+d),0),width:c}:{});if("left"===a){var _={x:f-w,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return uO(uO({},_),r?{width:Math.max(_.x-r.x,0),height:d}:{})}if("right"===a){var k={x:f+p+w,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return uO(uO({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:d}:{})}var S=r?{width:p,height:d}:{};return"insideLeft"===a?uO({x:f+w,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},S):"insideRight"===a?uO({x:f+p-w,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},S):"insideTop"===a?uO({x:u+l/2,y:o+x,textAnchor:"middle",verticalAnchor:v},S):"insideBottom"===a?uO({x:h+c/2,y:o+d-x,textAnchor:"middle",verticalAnchor:y},S):"insideTopLeft"===a?uO({x:u+w,y:o+x,textAnchor:N,verticalAnchor:v},S):"insideTopRight"===a?uO({x:u+l-w,y:o+x,textAnchor:j,verticalAnchor:v},S):"insideBottomLeft"===a?uO({x:h+w,y:o+d-x,textAnchor:N,verticalAnchor:y},S):"insideBottomRight"===a?uO({x:h+c-w,y:o+d-x,textAnchor:j,verticalAnchor:y},S):a&&"object"===typeof a&&(ch(a.x)||lh(a.x))&&(ch(a.y)||lh(a.y))?uO({x:s+fh(a.x,p),y:o+fh(a.y,d),textAnchor:"end",verticalAnchor:"end"},S):uO({x:m,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)})(a,t);return i.createElement(lO,{zIndex:a.zIndex},i.createElement(oO,fO({ref:f,className:th("recharts-label",u)},v,n,{textAnchor:JT(v.textAnchor)?v.textAnchor:n.textAnchor,breakAll:h}),r))}NO.displayName="Label";var _O=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return!0===e?i.createElement(NO,fO({key:"label-implicit"},n)):dh(e)?i.createElement(NO,fO({key:"label-implicit",value:e},n)):(0,i.isValidElement)(e)?e.type===NO?(0,i.cloneElement)(e,uO({key:"label-implicit"},n)):i.createElement(NO,fO({key:"label-implicit",content:e},n)):vO(e)?i.createElement(NO,fO({key:"label-implicit",content:e},n)):e&&"object"===typeof e?i.createElement(NO,fO({},e,{key:"label-implicit"},n)):null};function kO(e){var{label:t,labelRef:r}=e,n=gO();return _O(t,n,r)||null}var SO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,AO=(e,t)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,i.isValidElement)(e)&&(r=e.props),"object"!==typeof r&&"function"!==typeof r)return null;var n={};return Object.keys(r).forEach(e=>{aP(e)&&(n[e]=t||(t=>r[e](r,t)))}),n},CO=(e,t,r)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];aP(i)&&"function"===typeof a&&(n||(n={}),n[i]=((e,t,r)=>n=>(e(t,r,n),null))(a,t,r))}),n},EO=["axisLine","width","height","className","hide","ticks","axisType"];function PO(){return PO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PO.apply(null,arguments)}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function OO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(t){IO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function IO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var LO={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:t_.axis};function DO(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var d=OO(OO(OO({},c),cP(l)),{},{fill:"none"});if("top"===s||"bottom"===s){var u=+("top"===s&&!o||"bottom"===s&&o);d=OO(OO({},d),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var h=+("left"===s&&!o||"right"===s&&o);d=OO(OO({},d),{},{x1:t+h*n,y1:r,x2:t+h*n,y2:r+a})}return i.createElement("line",PO({},d,{className:th("recharts-cartesian-axis-line",ah()(l,"className"))}))}function MO(e){var t,{option:r,tickProps:n,value:a}=e,s=th(n.className,"recharts-cartesian-axis-tick-value");if(i.isValidElement(r))t=i.cloneElement(r,OO(OO({},n),{},{className:s}));else if("function"===typeof r)t=r(OO(OO({},n),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!==typeof r&&(o=th(o,null===r||void 0===r?void 0:r.className)),t=i.createElement(oO,PO({},n,{className:o}),a)}return t}var RO=(0,i.forwardRef)((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:o,unit:l,padding:c,tickTextProps:d,orientation:u,mirror:h,x:f,y:p,width:m,height:g,tickSize:x,tickMargin:y,fontSize:v,letterSpacing:b,getTicksConfig:w,events:j,axisType:N}=e,_=TT(OO(OO({},w),{},{ticks:r}),v,b),k=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(u,h),S=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(u,h),A=cP(w),C=dP(n),E={};"object"===typeof a&&(E=a);var P=OO(OO({},A),{},{fill:"none"},E),T=_.map(e=>OO({entry:e},function(e,t,r,n,i,a,s,o,l){var c,d,u,h,f,p,m=o?-1:1,g=e.tickSize||s,x=ch(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,p=(u=(h=r+ +!o*i)-m*g)-m*l,f=x;break;case"left":u=h=e.coordinate,f=(c=(d=t+ +!o*n)-m*g)-m*l,p=x;break;case"right":u=h=e.coordinate,f=(c=(d=t+ +o*n)+m*g)+m*l,p=x;break;default:c=d=e.coordinate,p=(u=(h=r+ +o*i)+m*g)+m*l,f=x}return{line:{x1:c,y1:u,x2:d,y2:h},tick:{x:f,y:p}}}(e,f,p,m,g,u,x,h,y))),O=T.map(e=>{var{entry:t,line:r}=e;return i.createElement(LT,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},a&&i.createElement("line",PO({},P,r,{className:th("recharts-cartesian-axis-tick-line",ah()(a,"className"))})))}),I=T.map((e,t)=>{var{entry:r,tick:a}=e,u=OO(OO(OO(OO({textAnchor:k,verticalAnchor:S},A),{},{stroke:"none",fill:s},C),a),{},{index:t,payload:r,visibleTicksCount:_.length,tickFormatter:o,padding:c},d);return i.createElement(LT,PO({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(r.value,"-").concat(r.coordinate,"-").concat(r.tickCoord)},CO(j,r,t)),n&&i.createElement(MO,{option:n,tickProps:u,value:"".concat("function"===typeof o?o(r.value,t):r.value).concat(l||"")}))});return i.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},I.length>0&&i.createElement(lO,{zIndex:t_.label},i.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},I)),O.length>0&&i.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},O))}),FO=(0,i.forwardRef)((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:o,ticks:l,axisType:c}=e,d=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,EO),[u,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),m=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>s&&(s=t.width)}});var o=r?r.getBoundingClientRect().width:0,l=s+(i+a)+o+(r?n:0);return Math.round(l)}return 0})({ticks:m.current,label:null===(t=e.labelRef)||void 0===t?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=(0,i.useCallback)(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=t;var r=t[0];if(r){var n=window.getComputedStyle(r),i=n.fontSize,a=n.letterSpacing;i===u&&a===f||(h(i),p(a))}}},[u,f]);return o||null!=n&&n<=0||null!=a&&a<=0?null:i.createElement(lO,{zIndex:e.zIndex},i.createElement(LT,{className:th("recharts-cartesian-axis",s)},i.createElement(DO,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:cP(e)}),i.createElement(RO,{ref:g,axisType:c,events:d,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:f,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),i.createElement(mO,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},i.createElement(kO,{label:e.label,labelRef:e.labelRef}),e.children)))}),BO=i.forwardRef((e,t)=>{var r=oT(e,LO);return i.createElement(FO,PO({},r,{ref:t}))});BO.displayName="CartesianAxis";var zO=["x1","y1","x2","y2","key"],UO=["offset"],qO=["xAxisId","yAxisId"],WO=["xAxisId","yAxisId"];function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function VO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(t){GO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function GO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KO(){return KO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KO.apply(null,arguments)}function YO(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var XO=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:r,x:n,y:a,width:s,height:o,ry:l}=e;return i.createElement("rect",{x:n,y:a,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function QO(e){var t,{option:r,lineItemProps:n}=e;if(i.isValidElement(r))t=i.cloneElement(r,n);else if("function"===typeof r)t=r(n);else{var a,{x1:s,y1:o,x2:l,y2:c,key:d}=n,u=null!==(a=cP(YO(n,zO)))&&void 0!==a?a:{},{offset:h}=u,f=YO(u,UO);t=i.createElement("line",KO({},f,{x1:s,y1:o,x2:l,y2:c,fill:"none",key:d}))}return t}function $O(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=YO(e,qO),c=a.map((e,a)=>{var s=VO(VO({},l),{},{x1:t,y1:e,x2:t+r,y2:e,key:"line-".concat(a),index:a});return i.createElement(QO,{key:"line-".concat(a),option:n,lineItemProps:s})});return i.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function ZO(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=YO(e,WO),c=a.map((e,a)=>{var s=VO(VO({},l),{},{x1:e,y1:t,x2:e,y2:t+r,key:"line-".concat(a),index:a});return i.createElement(QO,{option:n,lineItemProps:s,key:"line-".concat(a)})});return i.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function JO(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||null==l)return null;var d=l.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==d[0]&&d.unshift(0);var u=d.map((e,l)=>{var c=!d[l+1]?a+o-e:d[l+1]-e;if(c<=0)return null;var u=l%t.length;return i.createElement("rect",{key:"react-".concat(l),y:e,x:n,height:c,width:s,stroke:"none",fill:t[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return i.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function eI(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==d[0]&&d.unshift(0);var u=d.map((e,t)=>{var c=!d[t+1]?a+o-e:d[t+1]-e;if(c<=0)return null;var u=t%r.length;return i.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:c,height:l,stroke:"none",fill:r[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return i.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var tI=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return xx(TT(VO(VO(VO({},LO),r),{},{ticks:yx(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},rI=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return xx(TT(VO(VO(VO({},LO),r),{},{ticks:yx(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},nI={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:t_.grid};function iI(e){var t=Jx(),r=ey(),n=Zx(),a=VO(VO({},oT(e,nI)),{},{x:ch(e.x)?e.x:n.left,y:ch(e.y)?e.y:n.top,width:ch(e.width)?e.width:n.width,height:ch(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:h,horizontalValues:f,verticalValues:p}=a,m=Gx(),g=ex(e=>TS(e,"xAxis",s,m)),x=ex(e=>TS(e,"yAxis",o,m));if(!Eh(d)||!Eh(u)||!ch(l)||!ch(c))return null;var y=a.verticalCoordinatesGenerator||tI,v=a.horizontalCoordinatesGenerator||rI,{horizontalPoints:b,verticalPoints:w}=a;if((!b||!b.length)&&"function"===typeof v){var j=f&&f.length,N=v({yAxis:x?VO(VO({},x),{},{ticks:j?f:x.ticks}):void 0,width:null!==t&&void 0!==t?t:d,height:null!==r&&void 0!==r?r:u,offset:n},!!j||h);wh(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(b=N)}if((!w||!w.length)&&"function"===typeof y){var _=p&&p.length,k=y({xAxis:g?VO(VO({},g),{},{ticks:_?p:g.ticks}):void 0,width:null!==t&&void 0!==t?t:d,height:null!==r&&void 0!==r?r:u,offset:n},!!_||h);wh(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}return i.createElement(lO,{zIndex:a.zIndex},i.createElement("g",{className:"recharts-cartesian-grid"},i.createElement(XO,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),i.createElement(JO,KO({},a,{horizontalPoints:b})),i.createElement(eI,KO({},a,{verticalPoints:w})),i.createElement($O,KO({},a,{offset:n,horizontalPoints:b,xAxis:g,yAxis:x})),i.createElement(ZO,KO({},a,{offset:n,verticalPoints:w,xAxis:g,yAxis:x}))))}iI.displayName="CartesianGrid";var aI=["domain","range"],sI=["domain","range"];function oI(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lI(e,t){return e===t||!(!Array.isArray(e)||2!==e.length||!Array.isArray(t)||2!==t.length)&&(e[0]===t[0]&&e[1]===t[1])}function cI(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=oI(e,aI),{domain:a,range:s}=t,o=oI(t,sI);return!!lI(r,a)&&(!!lI(n,s)&&JE(i,o))}var dI=["dangerouslySetInnerHTML","ticks"],uI=["id"];function hI(){return hI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hI.apply(null,arguments)}function fI(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pI(e){var t=Qg(),r=(0,i.useRef)(null);return(0,i.useLayoutEffect)(()=>{null===r.current?t(kC(e)):r.current!==e&&t(SC({prev:r.current,next:e})),r.current=e},[e,t]),(0,i.useLayoutEffect)(()=>()=>{r.current&&(t(AC(r.current)),r.current=null)},[t]),null}var mI=e=>{var{xAxisId:t,className:r}=e,n=ex(Hx),a=Gx(),s="xAxis",o=ex(e=>fS(e,s,t,a)),l=ex(e=>OS(e,s,t,a)),c=ex(e=>bS(e,t)),d=ex(e=>NS(e,t)),u=ex(e=>W_(e,t));if(null==c||null==d||null==u)return null;var{dangerouslySetInnerHTML:h,ticks:f}=e,p=fI(e,dI),{id:m}=u,g=fI(u,uI);return i.createElement(BO,hI({},p,g,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:th("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},gI={allowDataOverflow:q_.allowDataOverflow,allowDecimals:q_.allowDecimals,allowDuplicatedCategory:q_.allowDuplicatedCategory,angle:q_.angle,axisLine:LO.axisLine,height:q_.height,hide:!1,includeHidden:q_.includeHidden,interval:q_.interval,minTickGap:q_.minTickGap,mirror:q_.mirror,orientation:q_.orientation,padding:q_.padding,reversed:q_.reversed,scale:q_.scale,tick:q_.tick,tickCount:q_.tickCount,tickLine:LO.tickLine,tickSize:LO.tickSize,type:q_.type,xAxisId:0},xI=e=>{var t=oT(e,gI);return i.createElement(i.Fragment,null,i.createElement(pI,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),i.createElement(mI,t))},yI=i.memo(xI,cI);yI.displayName="XAxis";var vI=["dangerouslySetInnerHTML","ticks"],bI=["id"];function wI(){return wI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wI.apply(null,arguments)}function jI(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NI(e){var t=Qg(),r=(0,i.useRef)(null);return(0,i.useLayoutEffect)(()=>{null===r.current?t(CC(e)):r.current!==e&&t(EC({prev:r.current,next:e})),r.current=e},[e,t]),(0,i.useLayoutEffect)(()=>()=>{r.current&&(t(PC(r.current)),r.current=null)},[t]),null}var _I=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=(0,i.useRef)(null),o=(0,i.useRef)(null),l=ex(Hx),c=Gx(),d=Qg(),u="yAxis",h=ex(e=>fS(e,u,t,c)),f=ex(e=>kS(e,t)),p=ex(e=>_S(e,t)),m=ex(e=>OS(e,u,t,c)),g=ex(e=>G_(e,t));if((0,i.useLayoutEffect)(()=>{if("auto"===n&&f&&!vO(a)&&!(0,i.isValidElement)(a)&&null!=g){var e=s.current;if(e){var r=e.getCalculatedWidth();Math.round(f.width)!==Math.round(r)&&d(LC({id:t,width:r}))}}},[m,f,d,a,t,n,g]),null==f||null==p||null==g)return null;var{dangerouslySetInnerHTML:x,ticks:y}=e,v=jI(e,vI),{id:b}=g,w=jI(g,bI);return i.createElement(BO,wI({},v,w,{ref:s,labelRef:o,scale:h,x:p.x,y:p.y,tickTextProps:"auto"===n?{width:void 0}:{width:n},width:f.width,height:f.height,className:th("recharts-".concat(u," ").concat(u),r),viewBox:l,ticks:m,axisType:u}))},kI={allowDataOverflow:V_.allowDataOverflow,allowDecimals:V_.allowDecimals,allowDuplicatedCategory:V_.allowDuplicatedCategory,angle:V_.angle,axisLine:LO.axisLine,hide:!1,includeHidden:V_.includeHidden,interval:V_.interval,minTickGap:V_.minTickGap,mirror:V_.mirror,orientation:V_.orientation,padding:V_.padding,reversed:V_.reversed,scale:V_.scale,tick:V_.tick,tickCount:V_.tickCount,tickLine:LO.tickLine,tickSize:LO.tickSize,type:V_.type,width:V_.width,yAxisId:0},SI=e=>{var t=oT(e,kI);return i.createElement(i.Fragment,null,i.createElement(NI,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),i.createElement(_I,t))},AI=i.memo(SI,cI);function CI(){return CI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CI.apply(null,arguments)}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function PI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(t){TI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function TI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OI(e){return Array.isArray(e)&&dh(e[0])&&dh(e[1])?e.join(" ~ "):e}AI.displayName="YAxis";var II=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:h,accessibilityLayer:f=!1}=e,p=PI({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=PI({margin:0},a),g=!xh(u),x=g?u:"",y=th("recharts-default-tooltip",c),v=th("recharts-tooltip-label",d);g&&h&&void 0!==s&&null!==s&&(x=h(u,s));var b=f?{role:"status","aria-live":"assertive"}:{};return i.createElement("div",CI({className:y,style:p},b),i.createElement("p",{className:v,style:m},i.isValidElement(x)?x:"".concat(x)),(()=>{if(s&&s.length){var e=(l?rx()(s,l):s).map((e,r)=>{if("none"===e.type)return null;var a=e.formatter||o||OI,{value:l,name:c}=e,d=l,u=c;if(a){var h=a(l,c,e,r,s);if(Array.isArray(h))[d,u]=h;else{if(null==h)return null;d=h}}var f=PI({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},n);return i.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:f},dh(u)?i.createElement("span",{className:"recharts-tooltip-item-name"},u):null,dh(u)?i.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,i.createElement("span",{className:"recharts-tooltip-item-value"},d),i.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return i.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},LI="recharts-tooltip-wrapper",DI={visibility:"hidden"};function MI(e){var{coordinate:t,translateX:r,translateY:n}=e;return th(LI,{["".concat(LI,"-right")]:ch(r)&&t&&ch(t.x)&&r>=t.x,["".concat(LI,"-left")]:ch(r)&&t&&ch(t.x)&&r<t.x,["".concat(LI,"-bottom")]:ch(n)&&t&&ch(t.y)&&n>=t.y,["".concat(LI,"-top")]:ch(n)&&t&&ch(t.y)&&n<t.y})}function RI(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&ch(a[n]))return a[n];var d=r[n]-o-(i>0?i:0),u=r[n]+i;if(t[n])return s[n]?d:u;var h=l[n];return null==h?0:s[n]?d<h?Math.max(u,h):Math.max(d,h):null==c?0:u+o>h+c?Math.max(d,h):Math.max(u,h)}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function BI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(t){zI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class UI extends i.PureComponent{constructor(){super(...arguments),zI(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),zI(this,"handleKeyDown",e=>{var t,r,n,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(r=this.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==t?t:0,y:null!==(n=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==n?n:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:n,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:u,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:x}=this.props,{cssClasses:y,cssProperties:v}=function(e){var t,r,n,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:s,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:u}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=RI({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=RI({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:d}):DI,{cssProperties:t,cssClasses:MI({translateX:r,translateY:n,coordinate:a})}}({allowEscapeViewBox:t,coordinate:s,offsetTopLeft:c,position:d,reverseDirection:u,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),b=x?{}:BI(BI({transition:l&&e?"transform ".concat(r,"ms ").concat(n):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),w=BI(BI({},b),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},p);return i.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:w,ref:g},a)}}var qI=r(4332),WI=r.n(qI);function HI(e,t,r){return!0===t?WI()(e,r):"function"===typeof t?WI()(e,t):e}var VI,GI,KI,YI,XI,QI,$I,ZI,JI,eL,tL,rL,nL,iL;function aL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,r]=(0,i.useState)({height:0,left:0,top:0,width:0}),n=(0,i.useCallback)(e=>{if(null!=e){var n=e.getBoundingClientRect(),i={height:n.height,left:n.left,top:n.top,width:n.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function sL(){}function oL(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function lL(e){this._context=e}function cL(e){this._context=e}function dL(e){this._context=e}lL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:oL(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:oL(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},cL.prototype={areaStart:sL,areaEnd:sL,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:oL(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},dL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:oL(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class uL{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function hL(e){this._context=e}function fL(e){this._context=e}function pL(e){return new fL(e)}function mL(e){return e<0?-1:1}function gL(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(mL(a)+mL(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function xL(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function yL(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function vL(e){this._context=e}function bL(e){this._context=new wL(e)}function wL(e){this._context=e}function jL(e){this._context=e}function NL(e){var t,r,n=e.length-1,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function _L(e,t){this._context=e,this._t=t}function kL(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}hL.prototype={areaStart:sL,areaEnd:sL,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},fL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},vL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yL(this,this._t0,xL(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,yL(this,xL(this,r=gL(this,e,t)),r);break;default:yL(this,this._t0,r=gL(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(bL.prototype=Object.create(vL.prototype)).point=function(e,t){vL.prototype.point.call(this,t,e)},wL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}},jL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=NL(e),i=NL(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},_L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};const SL=Math.PI,AL=2*SL,CL=1e-6,EL=AL-CL;function PL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class TL{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?PL:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return PL;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append(VI||(VI=kL(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(GI||(GI=kL(["Z"]))))}lineTo(e,t){this._append(KI||(KI=kL(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,r,n){this._append(YI||(YI=kL(["Q",",",",",",",""])),+e,+t,this._x1=+r,this._y1=+n)}bezierCurveTo(e,t,r,n,i,a){this._append(XI||(XI=kL(["C",",",",",",",",",",",""])),+e,+t,+r,+n,this._x1=+i,this._y1=+a)}arcTo(e,t,r,n,i){if(e=+e,t=+t,r=+r,n=+n,(i=+i)<0)throw new Error("negative radius: ".concat(i));let a=this._x1,s=this._y1,o=r-e,l=n-t,c=a-e,d=s-t,u=c*c+d*d;if(null===this._x1)this._append(QI||(QI=kL(["M",",",""])),this._x1=e,this._y1=t);else if(u>CL)if(Math.abs(d*o-l*c)>CL&&i){let h=r-a,f=n-s,p=o*o+l*l,m=h*h+f*f,g=Math.sqrt(p),x=Math.sqrt(u),y=i*Math.tan((SL-Math.acos((p+u-m)/(2*g*x)))/2),v=y/x,b=y/g;Math.abs(v-1)>CL&&this._append(ZI||(ZI=kL(["L",",",""])),e+v*c,t+v*d),this._append(JI||(JI=kL(["A",",",",0,0,",",",",",""])),i,i,+(d*h>c*f),this._x1=e+b*o,this._y1=t+b*l)}else this._append($I||($I=kL(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,r,n,i,a){if(e=+e,t=+t,a=!!a,(r=+r)<0)throw new Error("negative radius: ".concat(r));let s=r*Math.cos(n),o=r*Math.sin(n),l=e+s,c=t+o,d=1^a,u=a?n-i:i-n;null===this._x1?this._append(eL||(eL=kL(["M",",",""])),l,c):(Math.abs(this._x1-l)>CL||Math.abs(this._y1-c)>CL)&&this._append(tL||(tL=kL(["L",",",""])),l,c),r&&(u<0&&(u=u%AL+AL),u>EL?this._append(rL||(rL=kL(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),r,r,d,e-s,t-o,r,r,d,this._x1=l,this._y1=c):u>CL&&this._append(nL||(nL=kL(["A",",",",0,",",",",",",",""])),r,r,+(u>=SL),d,this._x1=e+r*Math.cos(i),this._y1=t+r*Math.sin(i)))}rect(e,t,r,n){this._append(iL||(iL=kL(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,r=+r,+n,-r)}toString(){return this._}}function OL(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError("invalid digits: ".concat(r));t=e}return e},()=>new TL(t)}function IL(e){return e[0]}function LL(e){return e[1]}function DL(e,t){var r=ox(!0),n=null,i=pL,a=null,s=OL(o);function o(o){var l,c,d,u=(o=sx(o)).length,h=!1;for(null==n&&(a=i(d=s())),l=0;l<=u;++l)!(l<u&&r(c=o[l],l,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,o),+t(c,l,o));if(d)return a=null,d+""||null}return e="function"===typeof e?e:void 0===e?IL:ox(e),t="function"===typeof t?t:void 0===t?LL:ox(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:ox(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:ox(+e),o):t},o.defined=function(e){return arguments.length?(r="function"===typeof e?e:ox(!!e),o):r},o.curve=function(e){return arguments.length?(i=e,null!=n&&(a=i(n)),o):i},o.context=function(e){return arguments.length?(null==e?n=a=null:a=i(n=e),o):n},o}function ML(e,t,r){var n=null,i=ox(!0),a=null,s=pL,o=null,l=OL(c);function c(c){var d,u,h,f,p,m=(c=sx(c)).length,g=!1,x=new Array(m),y=new Array(m);for(null==a&&(o=s(p=l())),d=0;d<=m;++d){if(!(d<m&&i(f=c[d],d,c))===g)if(g=!g)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=d-1;h>=u;--h)o.point(x[h],y[h]);o.lineEnd(),o.areaEnd()}g&&(x[d]=+e(f,d,c),y[d]=+t(f,d,c),o.point(n?+n(f,d,c):x[d],r?+r(f,d,c):y[d]))}if(p)return o=null,p+""||null}function d(){return DL().defined(i).curve(s).context(a)}return e="function"===typeof e?e:void 0===e?IL:ox(+e),t="function"===typeof t?t:ox(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?LL:ox(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:ox(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:ox(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:ox(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:ox(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:ox(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:ox(+e),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:ox(!!e),c):i},c.curve=function(e){return arguments.length?(s=e,null!=a&&(o=s(a)),c):s},c.context=function(e){return arguments.length?(null==e?a=o=null:o=s(a=e),c):a},c}function RL(){return RL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RL.apply(null,arguments)}function FL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function BL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FL(Object(r),!0).forEach(function(t){zL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var UL={curveBasisClosed:function(e){return new cL(e)},curveBasisOpen:function(e){return new dL(e)},curveBasis:function(e){return new lL(e)},curveBumpX:function(e){return new uL(e,!0)},curveBumpY:function(e){return new uL(e,!1)},curveLinearClosed:function(e){return new hL(e)},curveLinear:pL,curveMonotoneX:function(e){return new vL(e)},curveMonotoneY:function(e){return new bL(e)},curveNatural:function(e){return new jL(e)},curveStep:function(e){return new _L(e,.5)},curveStepAfter:function(e){return new _L(e,1)},curveStepBefore:function(e){return new _L(e,0)}},qL=e=>Ch(e.x)&&Ch(e.y),WL=e=>null!=e.base&&qL(e.base)&&qL(e),HL=e=>e.x,VL=e=>e.y,GL=e=>{var t,{type:r="linear",points:n=[],baseLine:i,layout:a,connectNulls:s=!1}=e,o=((e,t)=>{if("function"===typeof e)return e;var r="curve".concat(yh(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?UL[r]||pL:UL["".concat(r).concat("vertical"===t?"Y":"X")]})(r,a),l=s?n.filter(qL):n;if(Array.isArray(i)){var c=n.map((e,t)=>BL(BL({},e),{},{base:i[t]}));return t="vertical"===a?ML().y(VL).x1(HL).x0(e=>e.base.x):ML().x(HL).y1(VL).y0(e=>e.base.y),t.defined(WL).curve(o)(s?c.filter(WL):c)}return(t="vertical"===a&&ch(i)?ML().y(VL).x1(HL).x0(i):ch(i)?ML().x(HL).y1(VL).y0(i):DL().x(HL).y(VL)).defined(qL).curve(o)(l)},KL=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?GL(e):n;return i.createElement("path",RL({},cP(e),AO(e),{className:th("recharts-curve",t),d:null===s?void 0:s,ref:a}))},YL=["x","y","top","left","width","height","className"];function XL(){return XL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XL.apply(null,arguments)}function QL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $L(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ZL=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),JL=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:o=0,className:l}=e,c=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,YL),d=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QL(Object(r),!0).forEach(function(t){$L(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:t,y:r,top:n,left:a,width:s,height:o},c);return ch(t)&&ch(r)&&ch(s)&&ch(o)&&ch(n)&&ch(a)?i.createElement("path",XL({},uP(d),{className:th("recharts-cross",l),d:ZL(t,r,s,o,n,a)})):null};function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(t){rD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nD=(e,t,r)=>e.map(e=>{return"".concat((n=e,n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(r);var n}).join(","),iD=(e,t)=>Object.keys(t).reduce((r,n)=>tD(tD({},r),{},{[n]:e(n,t[n])}),{});function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(t){oD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lD=(e,t,r)=>e+(t-e)*r,cD=e=>{var{from:t,to:r}=e;return t!==r},dD=(e,t,r)=>{var n=iD((t,r)=>{if(cD(r)){var[n,i]=e(r.from,r.to,r.velocity);return sD(sD({},r),{},{from:n,velocity:i})}return r},t);return r<1?iD((e,t)=>cD(t)?sD(sD({},t),{},{velocity:lD(t.velocity,n[e].velocity,r),from:lD(t.from,n[e].from,r)}):t,t):dD(e,n,r-1)};function uD(e,t,r,n,i,a){var s,o=n.reduce((r,n)=>sD(sD({},r),{},{[n]:{from:e[n],velocity:0,to:t[n]}}),{}),l=null,c=n=>{s||(s=n);var d=(n-s)/r.dt;o=dD(r,o,d),i(sD(sD(sD({},e),t),iD((e,t)=>t.from,o))),s=n,Object.values(o).filter(cD).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{var e;null===(e=l)||void 0===e||e()})}const hD=(e,t,r,n,i,a)=>{var s,o,l=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return null==r?()=>(i(sD(sD({},e),t)),()=>{}):!0===r.isStepper?uD(e,t,r,l,i,a):function(e,t,r,n,i,a,s){var o,l=null,c=i.reduce((r,n)=>sD(sD({},r),{},{[n]:[e[n],t[n]]}),{}),d=i=>{o||(o=i);var u=(i-o)/n,h=iD((e,t)=>lD(...t,r(u)),c);if(a(sD(sD(sD({},e),t),h)),u<1)l=s.setTimeout(d);else{var f=iD((e,t)=>lD(...t,r(1)),c);a(sD(sD(sD({},e),t),f))}};return()=>(l=s.setTimeout(d),()=>{var e;null===(e=l)||void 0===e||e()})}(e,t,r,n,l,i,a)};var fD=1e-4,pD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],mD=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),gD=(e,t)=>r=>{var n=pD(e,t);return mD(n,r)},xD=(e,t,r,n)=>{var i,a,s=gD(e,r),o=gD(t,n),l=(i=e,a=r,e=>{var t=[...pD(i,a).map((e,t)=>e*t).slice(1),0];return mD(t,e)}),c=e=>e>1?1:e<0?0:e,d=e=>{for(var t=e>1?1:e,r=t,n=0;n<8;++n){var i=s(r)-t,a=l(r);if(Math.abs(i-t)<fD||a<fD)return o(r);r=c(r-i/a)}return o(r)};return d.isStepper=!1,d},yD=function(){return xD(...function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1===t.length)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var n,i=t[0].split("(");if("cubic-bezier"===i[0]&&4===(null===(n=i[1])||void 0===n?void 0:n.split(")")[0].split(",").length)){var a=i[1].split(")")[0].split(",").map(e=>parseFloat(e));return[a[0],a[1],a[2],a[3]]}}return 4===t.length?t:[0,0,1,1]}(...arguments))},vD=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yD(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:n=17}=e,i=(e,i,a)=>{var s=a+(-(e-i)*t-a*r)*n/1e3,o=a*n/1e3+e;return Math.abs(o-i)<fD&&Math.abs(s)<fD?[i,0]:[o,s]};return i.isStepper=!0,i.dt=n,i}();default:if("cubic-bezier"===e.split("(")[0])return yD(e)}return"function"===typeof e?e:null};class bD{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),n=null,i=a=>{a-r>=t?e(a):"function"===typeof requestAnimationFrame&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{null!=n&&cancelAnimationFrame(n)}}}function wD(){return function(e){var t=()=>null,r=!1,n=null,i=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,[o,...l]=s;return"number"===typeof o?void(n=e.setTimeout(i.bind(null,l),o)):(i(o),void(n=e.setTimeout(i.bind(null,l))))}"string"===typeof a&&t(a),"object"===typeof a&&t(a),"function"===typeof a&&a()}};return{stop:()=>{r=!0},start:e=>{r=!1,n&&(n(),n=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new bD)}var jD=(0,i.createContext)(wD);var ND={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},_D={t:0},kD={t:1};function SD(e){var t=oT(e,ND),{isActive:r,canBegin:n,duration:a,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:c,children:d}=t,u="auto"===r?!RE:r,h=function(e,t){var r=(0,i.useContext)(jD);return(0,i.useMemo)(()=>null!==t&&void 0!==t?t:r(e),[e,t,r])}(t.animationId,t.animationManager),[f,p]=(0,i.useState)(u?_D:kD),m=(0,i.useRef)(null);return(0,i.useEffect)(()=>{u||p(kD)},[u]),(0,i.useEffect)(()=>{if(!u||!n)return bh;var e=hD(_D,kD,vD(s),a,p,h.getTimeoutController());return h.start([c,o,()=>{m.current=e()},a,l]),()=>{h.stop(),m.current&&m.current(),l()}},[u,n,a,s,o,c,l,h]),d(f.t)}function AD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,i.useRef)(hh(t)),n=(0,i.useRef)(e);return n.current!==e&&(r.current=hh(t),n.current=e),r.current}var CD=["radius"],ED=["radius"];function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function TD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PD(Object(r),!0).forEach(function(t){OD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function OD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ID(){return ID=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ID.apply(null,arguments)}function LD(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var DD=(e,t,r,n,i)=>{var a,s=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=i[u]>s?s:i[u];a="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(a+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),a+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(a+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+o*d[1])),a+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(a+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+r-l*d[2],",").concat(t+n)),a+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(a+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-o*d[3])),a+="Z"}else if(s>0&&i===+i&&i>0){var h=Math.min(s,i);a="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+r-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*h,"\n            L ").concat(e+r,",").concat(t+n-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,"\n            L ").concat(e+l*h,",").concat(t+n,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return a},MD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RD=e=>{var t=oT(e,MD),r=(0,i.useRef)(null),[n,a]=(0,i.useState)(-1);(0,i.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:s,y:o,width:l,height:c,radius:d,className:u}=t,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=t,x=(0,i.useRef)(l),y=(0,i.useRef)(c),v=(0,i.useRef)(s),b=(0,i.useRef)(o),w=AD((0,i.useMemo)(()=>({x:s,y:o,width:l,height:c,radius:d}),[s,o,l,c,d]),"rectangle-");if(s!==+s||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var j=th("recharts-rectangle",u);if(!g){var N=uP(t),{radius:_}=N,k=LD(N,CD);return i.createElement("path",ID({},k,{radius:"number"===typeof d?d:void 0,className:j,d:DD(s,o,l,c,d)}))}var S=x.current,A=y.current,C=v.current,E=b.current,P="0px ".concat(-1===n?1:n,"px"),T="".concat(n,"px 0px"),O=nD(["strokeDasharray"],f,"string"===typeof h?h:MD.animationEasing);return i.createElement(SD,{animationId:w,key:w,canBegin:n>0,duration:f,easing:h,isActive:g,begin:p},e=>{var n,a=mh(S,l,e),u=mh(A,c,e),h=mh(C,s,e),f=mh(E,o,e);r.current&&(x.current=a,y.current=u,v.current=h,b.current=f),n=m?e>0?{transition:O,strokeDasharray:T}:{strokeDasharray:P}:{strokeDasharray:T};var p=uP(t),{radius:g}=p,w=LD(p,ED);return i.createElement("path",ID({},w,{radius:"number"===typeof d?d:void 0,className:j,d:DD(h,f,a,u,d),ref:r,style:TD(TD({},n),t.style)}))})};function FD(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e;return{points:[QN(t,r,n,i),QN(t,r,n,a)],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function BD(){return BD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BD.apply(null,arguments)}var zD=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+n,d=Math.asin(o/c)/YN,u=l?i:i+a*d,h=l?i-a*d:i;return{center:QN(t,r,c,u),circleTangency:QN(t,r,n,u),lineTangency:QN(t,r,c*Math.cos(d*YN),h),theta:d}},UD=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=((e,t)=>sh(t-e)*Math.min(Math.abs(t-e),359.999))(a,s),l=a+o,c=QN(t,r,i,a),d=QN(t,r,i,l),u="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(a>l),",\n    ").concat(d.x,",").concat(d.y,"\n  ");if(n>0){var h=QN(t,r,n,a),f=QN(t,r,n,l);u+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(a<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},qD={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WD=e=>{var t=oT(e,qD),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:h}=t;if(s<a||d===u)return null;var f,p=th("recharts-sector",h),m=s-a,g=fh(o,m,0,!0);return f=g>0&&Math.abs(d-u)<360?(e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=sh(c-l),{circleTangency:u,lineTangency:h,theta:f}=zD({cx:t,cy:r,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:m,theta:g}=zD({cx:t,cy:r,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-f-g;if(x<0)return s?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):UD({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(u.x,",").concat(u.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,"\n  ");if(n>0){var{circleTangency:v,lineTangency:b,theta:w}=zD({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:j,lineTangency:N,theta:_}=zD({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),k=o?Math.abs(l-c):Math.abs(l-c)-w-_;if(k<0&&0===a)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+="L".concat(N.x,",").concat(N.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(k>180),",").concat(+(d>0),",").concat(v.x,",").concat(v.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,"Z")}else y+="L".concat(t,",").concat(r,"Z");return y})({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):UD({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:d,endAngle:u}),i.createElement("path",BD({},uP(t),{className:p,d:f}))};function HD(e,t,r){if("horizontal"===e)return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if("vertical"===e)return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(SO(t)){if("centric"===e){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=QN(n,i,a,o),c=QN(n,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return FD(t)}}function VD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function GD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VD(Object(r),!0).forEach(function(t){KD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function KD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var YD=()=>{var e=ex(xk),t=ex(DA),r=ex(OA);return Cx(e&&r?GD(GD({},e),{},{scale:r}):void 0,t)};function XD(){return XD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XD.apply(null,arguments)}function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(t){ZD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ZD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JD(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return(0,i.isValidElement)(t)?(0,i.cloneElement)(t,n):(0,i.createElement)(r,n)}function eM(e){var t,r,n,a,{coordinate:s,payload:o,index:l,offset:c,tooltipAxisBandSize:d,layout:u,cursor:h,tooltipEventType:f,chartName:p}=e,m=s,g=o,x=l;if(!h||!m||"ScatterChart"!==p&&"axis"!==f)return null;if("ScatterChart"===p)r=m,n=JL,a=t_.cursorLine;else if("BarChart"===p)r=function(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-i,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(u,m,c,d),n=RD,a=t_.cursorRectangle;else if("radial"===u&&SO(m)){var{cx:y,cy:v,radius:b,startAngle:w,endAngle:j}=FD(m);r={cx:y,cy:v,startAngle:w,endAngle:j,innerRadius:b,outerRadius:b},n=WD,a=t_.cursorLine}else r={points:HD(u,m,c)},n=KL,a=t_.cursorLine;var N="object"===typeof h&&"className"in h?h.className:void 0,_=$D($D($D($D({stroke:"#ccc",pointerEvents:"none"},c),r),dP(h)),{},{payload:g,payloadIndex:x,className:th("recharts-tooltip-cursor",N)});return i.createElement(lO,{zIndex:null!==(t=e.zIndex)&&void 0!==t?t:a},i.createElement(JD,{cursor:h,cursorComp:n,cursorProps:_}))}function tM(e){var t=YD(),r=Zx(),n=ry(),a=JA();return null==t||null==r||null==n||null==a?null:i.createElement(eM,XD({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rM(Object(r),!0).forEach(function(t){iM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function iM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aM(e){return e.dataKey}var sM=[],oM={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!RE,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function lM(e){var t,r,n=oT(e,oM),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:c,content:d,filterNull:u,isAnimationActive:h,offset:f,payloadUniqBy:p,position:m,reverseDirection:g,useTranslate3d:x,wrapperStyle:y,cursor:v,shared:b,trigger:w,defaultIndex:j,portal:N,axisId:_}=n,k=Qg(),S="number"===typeof j?String(j):j;(0,i.useEffect)(()=>{k(xg({shared:b,trigger:w,axisId:_,active:a,defaultIndex:S}))},[k,b,w,_,a,S]);var A=Qx(),C=nP(),E=function(e){return ex(t=>zS(t,e))}(b),{activeIndex:P,isActive:T}=null!==(t=ex(e=>uC(e,E,w,S)))&&void 0!==t?t:{},O=ex(e=>dC(e,E,w,S)),I=ex(e=>cC(e,E,w,S)),L=ex(e=>lC(e,E,w,S)),D=O,M=(0,i.useContext)(BP),R=null!==(r=null!==a&&void 0!==a?a:T)&&void 0!==r&&r,[F,B]=aL([D,R]),z="axis"===E?I:void 0;FP(E,w,L,z,P,R);var U=null!==N&&void 0!==N?N:M;if(null==U||null==A||null==E)return null;var q=null!==D&&void 0!==D?D:sM;R||(q=sM),u&&q.length&&(q=HI(q.filter(e=>null!=e.value&&(!0!==e.hide||n.includeHidden)),p,aM));var W=q.length>0,H=i.createElement(UI,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:R,coordinate:L,hasPayload:W,offset:f,position:m,reverseDirection:g,useTranslate3d:x,viewBox:A,wrapperStyle:y,lastBoundingBox:F,innerRef:B,hasPortalFromProps:Boolean(N)},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):"function"===typeof e?i.createElement(e,t):i.createElement(II,t)}(d,nM(nM({},n),{},{payload:q,label:z,active:R,activeIndex:P,coordinate:L,accessibilityLayer:C})));return i.createElement(i.Fragment,null,(0,o.createPortal)(H,U),R&&i.createElement(tM,{cursor:v,tooltipEventType:E,coordinate:L,payload:q,index:P}))}var cM=r(356),dM=r.n(cM),uM=["valueAccessor"],hM=["dataKey","clockWise","id","textBreakAll","zIndex"];function fM(){return fM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fM.apply(null,arguments)}function pM(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var mM=e=>Array.isArray(e.value)?dM()(e.value):e.value,gM=(0,i.createContext)(void 0),xM=gM.Provider,yM=(0,i.createContext)(void 0),vM=yM.Provider;function bM(e){var{valueAccessor:t=mM}=e,r=pM(e,uM),{dataKey:n,clockWise:a,id:s,textBreakAll:o,zIndex:l}=r,c=pM(r,hM),d=(0,i.useContext)(gM),u=(0,i.useContext)(yM),h=d||u;return h&&h.length?i.createElement(lO,{zIndex:null!==l&&void 0!==l?l:t_.label},i.createElement(LT,{className:"recharts-label-list"},h.map((e,a)=>{var l,d=xh(n)?t(e,a):mx(e&&e.payload,n),u=xh(s)?{}:{id:"".concat(s,"-").concat(a)};return i.createElement(NO,fM({key:"label-".concat(a)},uP(e),c,u,{fill:null!==(l=r.fill)&&void 0!==l?l:e.fill,parentViewBox:e.parentViewBox,value:d,textBreakAll:o,viewBox:e.viewBox,index:a,zIndex:0}))}))):null}function wM(e){var{label:t}=e;return t?!0===t?i.createElement(bM,{key:"labelList-implicit"}):i.isValidElement(t)||vO(t)?i.createElement(bM,{key:"labelList-implicit",content:t}):"object"===typeof t?i.createElement(bM,fM({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function jM(){return jM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jM.apply(null,arguments)}bM.displayName="LabelList";var NM=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=th("recharts-dot",a);return ch(t)&&ch(r)&&ch(n)?i.createElement("circle",jM({},cP(e),AO(e),{className:s,cx:t,cy:r,r:n})):null},_M=r(2086),kM=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",SM=null,AM=null,CM=e=>{if(e===SM&&Array.isArray(AM))return AM;var t=[];return i.Children.forEach(e,e=>{xh(e)||((0,_M.isFragment)(e)?t=t.concat(CM(e.props.children)):t.push(e))}),AM=t,SM=e,t};function EM(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(e=>kM(e)):[kM(t)],CM(e).forEach(e=>{var t=ah()(e,"type.displayName")||ah()(e,"type.name");t&&-1!==n.indexOf(t)&&r.push(e)}),r}var PM=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),TM=["points"];function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function IM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(t){LM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function LM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DM(){return DM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DM.apply(null,arguments)}function MM(e){var{option:t,dotProps:r,className:n}=e;if((0,i.isValidElement)(t))return(0,i.cloneElement)(t,r);if("function"===typeof t)return t(r);var a=th(n,"boolean"!==typeof t?t.className:""),s=null!==r&&void 0!==r?r:{},{points:o}=s,l=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(s,TM);return i.createElement(NM,DM({},l,{className:a}))}function RM(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:o,needClip:l,clipPathId:c,zIndex:d=t_.scatter}=e;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(t,r))return null;var u,h=PM(r),f=null==(u=r)?null:(0,i.isValidElement)(u)?uP(u.props):"object"!==typeof u||Array.isArray(u)?null:uP(u),p=t.map((e,n)=>{var l,c,d=IM(IM(IM({r:3},o),f),{},{index:n,cx:null!==(l=e.x)&&void 0!==l?l:void 0,cy:null!==(c=e.y)&&void 0!==c?c:void 0,dataKey:s,value:e.value,payload:e.payload,points:t});return i.createElement(MM,{key:"dot-".concat(n),option:r,dotProps:d,className:a})}),m={};return l&&null!=c&&(m.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),i.createElement(lO,{zIndex:d},i.createElement(LT,DM({className:n},m),p))}function FM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function BM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FM(Object(r),!0).forEach(function(t){zM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var UM=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:o}=e;if(!1===a||null==t.x||null==t.y)return null;var l,c=BM(BM(BM({},{index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:null!==n&&void 0!==n?n:"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value}),dP(a)),AO(a));return l=(0,i.isValidElement)(a)?(0,i.cloneElement)(a,c):"function"===typeof a?a(c):i.createElement(NM,c),i.createElement(LT,{className:"recharts-active-dot",clipPath:o},l)};function qM(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:o=t_.activeDot}=e,l=ex(zA),c=ex(YA);if(null==t||null==c)return null;var d=t.find(e=>c.includes(e.payload));return xh(d)?null:i.createElement(lO,{zIndex:o},i.createElement(UM,{point:d,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}function WM(e){var{tooltipEntrySettings:t}=e,r=Qg(),n=Gx(),a=(0,i.useRef)(null);return(0,i.useLayoutEffect)(()=>{n||(null===a.current?r(pg(t)):a.current!==t&&r(mg({prev:a.current,next:t})),a.current=t)},[t,r,n]),(0,i.useLayoutEffect)(()=>()=>{a.current&&(r(gg(a.current)),a.current=null)},[r]),null}function HM(e,t){var r,n,i=ex(t=>H_(t,e)),a=ex(e=>K_(e,t)),s=null!==(r=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==r?r:q_.allowDataOverflow,o=null!==(n=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==n?n:V_.allowDataOverflow;return{needClip:s||o,needClipX:s,needClipY:o}}function VM(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=eT(),{needClipX:s,needClipY:o,needClip:l}=HM(t,r);if(!l||!a)return null;var{x:c,y:d,width:u,height:h}=a;return i.createElement("clipPath",{id:"clipPath-".concat(n)},i.createElement("rect",{x:s?c:c-u/2,y:o?d:d-h/2,width:s?u:2*u,height:o?h:2*h}))}var GM=(e,t,r,n)=>LS(e,"xAxis",t,n),KM=(e,t,r,n)=>IS(e,"xAxis",t,n),YM=(e,t,r,n)=>LS(e,"yAxis",r,n),XM=(e,t,r,n)=>IS(e,"yAxis",r,n),QM=Vg([ty,GM,YM,KM,XM],(e,t,r,n,i)=>gx(e,"xAxis")?Cx(t,n,!1):Cx(r,i,!1)),$M=Vg([ek,(e,t,r,n,i)=>i],(e,t)=>e.filter(e=>"area"===e.type).find(e=>e.id===t)),ZM=Vg([ty,GM,YM,KM,XM,(e,t,r,n,i)=>{var a,s=$M(e,t,r,n,i);if(null!=s){var o,l=ty(e);if(null!=(o=gx(l,"xAxis")?wk(e,"yAxis",r,n):wk(e,"xAxis",t,n))){var{stackId:c}=s,d=T_(s);if(null!=c&&null!=d){var u=null===(a=o[c])||void 0===a?void 0:a.stackedData;return null===u||void 0===u?void 0:u.find(e=>e.key===d)}}}},gN,QM,$M,e=>e.rootProps.baseValue],(e,t,r,n,i,a,s,o,l,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:h}=s;if(null!=l&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=r&&null!=n&&null!=i&&0!==n.length&&0!==i.length&&null!=o){var f,{data:p}=l;if(null!=(f=p&&p.length>0?p:null===d||void 0===d?void 0:d.slice(u,h+1)))return function(e){var t,{areaSettings:{connectNulls:r,baseValue:n,dataKey:i},stackedData:a,layout:s,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:h,yAxisTicks:f,bandSize:p}=e,m=a&&a.length,g=CR(s,o,n,l,c),x="horizontal"===s,y=!1,v=d.map((e,t)=>{var n;m?n=a[u+t]:(n=mx(e,i),Array.isArray(n)?y=!0:n=[g,n]);var s=null==n[1]||m&&!r&&null==mx(e,i);return x?{x:Nx({axis:l,ticks:h,bandSize:p,entry:e,index:t}),y:s?null:c.scale(n[1]),value:n,payload:e}:{x:s?null:l.scale(n[1]),y:Nx({axis:c,ticks:f,bandSize:p,entry:e,index:t}),value:n,payload:e}});t=m||y?v.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return x?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null,payload:e.payload}:{x:null!=t?l.scale(t):null,y:e.y,payload:e.payload}}):x?c.scale(g):l.scale(g);return{points:v,baseLine:t,isRange:y}}({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:u,areaSettings:l,stackedData:a,displayedData:f,chartBaseValue:c,bandSize:o})}});function JM(e){var{legendPayload:t}=e,r=Qg(),n=Gx(),a=(0,i.useRef)(null);return(0,i.useLayoutEffect)(()=>{n||(null===a.current?r(iE(t)):a.current!==t&&r(aE({prev:a.current,next:t})),a.current=t)},[r,n,t]),(0,i.useLayoutEffect)(()=>()=>{a.current&&(r(sE(a.current)),a.current=null)},[r]),null}function eR(e){var{legendPayload:t}=e,r=Qg(),n=ex(ty),a=(0,i.useRef)(null);return(0,i.useLayoutEffect)(()=>{"centric"!==n&&"radial"!==n||(null===a.current?r(iE(t)):a.current!==t&&r(aE({prev:a.current,next:t})),a.current=t)},[r,n,t]),(0,i.useLayoutEffect)(()=>()=>{a.current&&(r(sE(a.current)),a.current=null)},[r]),null}var tR=(0,i.createContext)(void 0),rR=e=>{var{id:t,type:r,children:n}=e,a=xP("recharts-".concat(r),t);return i.createElement(tR.Provider,{value:a},n(a))};var nR=e=>{var t=Qg(),r=(0,i.useRef)(null);return(0,i.useLayoutEffect)(()=>{null===r.current?t(RC(e)):r.current!==e&&t(FC({prev:r.current,next:e})),r.current=e},[t,e]),(0,i.useLayoutEffect)(()=>()=>{r.current&&(t(BC(r.current)),r.current=null)},[t]),null},iR=(0,i.memo)(nR);function aR(e){var t=Qg();return(0,i.useLayoutEffect)(()=>(t(zC(e)),()=>{t(UC(e))}),[t,e]),null}function sR(e){var t=dP(e);if(null!=t){var{r:r,strokeWidth:n}=t,i=Number(r),a=Number(n);return(Number.isNaN(i)||i<0)&&(i=3),(Number.isNaN(a)||a<0)&&(a=2),{r:i,strokeWidth:a}}return{r:3,strokeWidth:2}}var oR=["id"],lR=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function cR(){return cR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cR.apply(null,arguments)}function dR(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(t){fR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pR(e,t){return e&&"none"!==e?e:t}var mR=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:pR(n,i),value:Px(r,t),payload:e}]},gR=i.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:o,hide:l,unit:c,tooltipType:d}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Px(o,t),hide:l,type:d,color:pR(n,s),unit:c}};return i.createElement(WM,{tooltipEntrySettings:u})});function xR(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:s,dataKey:o}=n,l=cP(n);return i.createElement(RM,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:a,clipPathId:t})}function yR(e){var{showLabels:t,children:r,points:n}=e,a=n.map(e=>{var t,r,n={x:null!==(t=e.x)&&void 0!==t?t:0,y:null!==(r=e.y)&&void 0!==r?r:0,width:0,lowerWidth:0,upperWidth:0,height:0};return hR(hR({},n),{},{value:e.value,payload:e.payload,parentViewBox:void 0,viewBox:n,fill:void 0})});return i.createElement(xM,{value:t?a:void 0},r)}function vR(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:s}=e,{layout:o,type:l,stroke:c,connectNulls:d,isRange:u}=s,{id:h}=s,f=dR(s,oR),p=cP(f),m=uP(f);return i.createElement(i.Fragment,null,(null===t||void 0===t?void 0:t.length)>1&&i.createElement(LT,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},i.createElement(KL,cR({},m,{id:h,points:t,connectNulls:d,type:l,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),"none"!==c&&i.createElement(KL,cR({},p,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),"none"!==c&&u&&i.createElement(KL,cR({},p,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:r}))),i.createElement(xR,{points:t,props:f,clipPathId:a}))}function bR(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].y,o=n[n.length-1].y;if(!Ch(s)||!Ch(o))return null;var l=t*Math.abs(s-o),c=Math.max(...n.map(e=>e.x||0));return ch(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(e=>e.x||0),c)),ch(c)?i.createElement("rect",{x:0,y:s<o?s:s-l,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}function wR(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].x,o=n[n.length-1].x;if(!Ch(s)||!Ch(o))return null;var l=t*Math.abs(s-o),c=Math.max(...n.map(e=>e.y||0));return ch(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(e=>e.y||0),c)),ch(c)?i.createElement("rect",{x:s<o?s:s-l,y:0,width:l,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function jR(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:s}=e;return"vertical"===r?i.createElement(bR,{alpha:t,points:n,baseLine:a,strokeWidth:s}):i.createElement(wR,{alpha:t,points:n,baseLine:a,strokeWidth:s})}function NR(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:h,onAnimationStart:f,onAnimationEnd:p}=n,m=AD((0,i.useMemo)(()=>({points:o,baseLine:l}),[o,l]),"recharts-area-"),g=(()=>{var e=ry();if("horizontal"===e||"vertical"===e)return e})(),[x,y]=(0,i.useState)(!1),v=!x,b=(0,i.useCallback)(()=>{"function"===typeof p&&p(),y(!1)},[p]),w=(0,i.useCallback)(()=>{"function"===typeof f&&f(),y(!0)},[f]);if(null==g)return null;var j=a.current,N=s.current;return i.createElement(yR,{showLabels:v,points:o},n.children,i.createElement(SD,{animationId:m,begin:d,duration:u,isActive:c,easing:h,onAnimationEnd:b,onAnimationStart:w,key:m},e=>{if(j){var d,u=j.length/o.length,h=1===e?o:o.map((t,r)=>{var n=Math.floor(r*u);if(j[n]){var i=j[n];return hR(hR({},t),{},{x:mh(i.x,t.x,e),y:mh(i.y,t.y,e)})}return t});return d=ch(l)?mh(N,l,e):xh(l)||oh(l)?mh(N,0,e):l.map((t,r)=>{var n=Math.floor(r*u);if(Array.isArray(N)&&N[n]){var i=N[n];return hR(hR({},t),{},{x:mh(i.x,t.x,e),y:mh(i.y,t.y,e)})}return t}),e>0&&(a.current=h,s.current=d),i.createElement(vR,{points:h,baseLine:d,needClip:t,clipPathId:r,props:n})}return e>0&&(a.current=o,s.current=l),i.createElement(LT,null,c&&i.createElement("defs",null,i.createElement("clipPath",{id:"animationClipPath-".concat(r)},i.createElement(jR,{alpha:e,points:o,baseLine:l,layout:g,strokeWidth:n.strokeWidth}))),i.createElement(LT,{clipPath:"url(#animationClipPath-".concat(r,")")},i.createElement(vR,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n})))}),i.createElement(wM,{label:n.label}))}function _R(e){var{needClip:t,clipPathId:r,props:n}=e,a=(0,i.useRef)(null),s=(0,i.useRef)();return i.createElement(NR,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s})}class kR extends i.PureComponent{render(){var{hide:e,dot:t,points:r,className:n,top:a,left:s,needClip:o,xAxisId:l,yAxisId:c,width:d,height:u,id:h,baseLine:f,zIndex:p}=this.props;if(e)return null;var m=th("recharts-area",n),g=h,{r:x,strokeWidth:y}=sR(t),v=PM(t),b=2*x+y,w=o?"url(#clipPath-".concat(v?"":"dots-").concat(g,")"):void 0;return i.createElement(lO,{zIndex:p},i.createElement(LT,{className:m},o&&i.createElement("defs",null,i.createElement(VM,{clipPathId:g,xAxisId:l,yAxisId:c}),!v&&i.createElement("clipPath",{id:"clipPath-dots-".concat(g)},i.createElement("rect",{x:s-b/2,y:a-b/2,width:d+b,height:u+b}))),i.createElement(_R,{needClip:o,clipPathId:g,props:this.props})),i.createElement(qM,{points:r,mainColor:pR(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:w}),this.props.isRange&&Array.isArray(f)&&i.createElement(qM,{points:f,mainColor:pR(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:w}))}}var SR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:t_.area};function AR(e){var t,r=oT(e,SR),{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,fill:d,fillOpacity:u,hide:h,isAnimationActive:f,legendType:p,stroke:m,xAxisId:g,yAxisId:x}=r,y=dR(r,lR),v=ry(),b=JA(),{needClip:w}=HM(g,x),j=Gx(),{points:N,isRange:_,baseLine:k}=null!==(t=ex(t=>ZM(t,g,x,j,e.id)))&&void 0!==t?t:{},S=eT();if("horizontal"!==v&&"vertical"!==v||null==S)return null;if("AreaChart"!==b&&"ComposedChart"!==b)return null;var{height:A,width:C,x:E,y:P}=S;return N&&N.length?i.createElement(kR,cR({},y,{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:o,baseLine:k,connectNulls:l,dot:c,fill:d,fillOpacity:u,height:A,hide:h,layout:v,isAnimationActive:"auto"===f?!RE:f,isRange:_,legendType:p,needClip:w,points:N,stroke:m,width:C,left:E,top:P,xAxisId:g,yAxisId:x})):null}var CR=(e,t,r,n,i)=>{var a=null!==r&&void 0!==r?r:t;if(ch(a))return a;var s="horizontal"===e?i:n,o=s.scale.domain();if("number"===s.type){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return"dataMin"===a?c:"dataMax"===a||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return"dataMin"===a?o[0]:"dataMax"===a?o[1]:o[0]};function ER(e){var t=oT(e,SR),r=Gx();return i.createElement(rR,{id:t.id,type:"area"},e=>i.createElement(i.Fragment,null,i.createElement(JM,{legendPayload:mR(t)}),i.createElement(gR,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),i.createElement(iR,{type:"area",id:e,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:jx(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),i.createElement(AR,cR({},t,{id:e}))))}var PR=i.memo(ER,JE);function TR(e){var t=Qg();return(0,i.useEffect)(()=>{t(vE(e))},[t,e]),null}PR.displayName="Area";var OR=["layout"];function IR(){return IR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IR.apply(null,arguments)}var LR={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},DR=(0,i.forwardRef)(function(e,t){var r,n=oT(e.categoricalChartProps,LR),{layout:a}=n,s=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(n,OR),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=e,u={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return i.createElement(XE,{preloadedState:{options:u},reduxStoreName:null!==(r=n.id)&&void 0!==r?r:o},i.createElement(QE,{chartData:n.data}),i.createElement(tP,{layout:a,margin:n.margin}),i.createElement(rP,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),i.createElement(TR,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),i.createElement(iT,IR({},s,{ref:t})))}),MR=["item"],RR={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},FR=(0,i.forwardRef)((e,t)=>{var r=oT(e,RR);return i.createElement(DR,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:MR,tooltipPayloadSearcher:sm,categoricalChartProps:r,ref:t})}),BR=e=>e.graphicalItems.polarItems,zR=Vg([E_,P_],J_),UR=Vg([BR,Q_,zR],rk),qR=Vg([UR],ok),WR=Vg([qR,mN],ck),HR=Vg([WR,Q_,UR],uk),VR=(Vg([WR,Q_,UR],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var n;return{value:mx(e,null!==(n=t.dataKey)&&void 0!==n?n:r.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:mx(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),()=>{}),GR=Vg([WR,Q_,UR,Ck,E_],Pk),KR=Vg([Q_,kk,Sk,VR,GR,VR,ty,E_],Kk),YR=Vg([Q_,ty,WR,HR,BN,E_,KR],Qk),XR=Vg([YR,Q_,Jk],tS);Vg([Q_,YR,XR,E_],nS);function QR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QR(Object(r),!0).forEach(function(t){ZR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ZR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var JR=Vg([BR,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),eF=[],tF=(e,t,r)=>0===(null===r||void 0===r?void 0:r.length)?eF:r,rF=Vg([mN,JR,tF],(e,t,r)=>{var n,{chartData:i}=e;if(null!=t&&((n=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:i)&&n.length||null==r||(n=r.map(e=>$R($R({},t.presentationProps),e.props))),null!=n))return n}),nF=Vg([rF,JR,tF],(e,t,r)=>{if(null!=e&&null!=t)return e.map((e,n)=>{var i,a,s=mx(e,t.nameKey,t.name);return a=null!==r&&void 0!==r&&null!==(i=r[n])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?r[n].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:Px(s,t.dataKey),color:a,payload:e,type:t.legendType}})}),iF=Vg([rF,JR,tF,qx],(e,t,r,n)=>{if(null!=t&&null!=e)return function(e){var t,r,n,{pieSettings:i,displayedData:a,cells:s,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:u,nameKey:h,tooltipType:f}=i,p=Math.abs(i.minAngle),m=pB(c,d),g=Math.abs(m),x=a.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,y=a.filter(e=>0!==mx(e,u,0)).length,v=g-y*p-(g>=360?y:y-1)*x,b=a.reduce((e,t)=>{var r=mx(t,u,0);return e+(ch(r)?r:0)},0);b>0&&(r=a.map((e,t)=>{var r,a=mx(e,u,0),d=mx(e,h,t),g=fB(i,o,e),y=(ch(a)?a:0)/b,w=sB(sB({},e),s&&s[t]&&s[t].props),j=(r=t?n.endAngle+sh(m)*x*(0!==a?1:0):c)+sh(m)*((0!==a?p:0)+y*v),N=(r+j)/2,_=(g.innerRadius+g.outerRadius)/2,k=[{name:d,value:a,payload:w,dataKey:u,type:f}],S=QN(g.cx,g.cy,_,N);return n=sB(sB(sB(sB({},i.presentationProps),{},{percent:y,cornerRadius:"string"===typeof l?parseFloat(l):l,name:d,tooltipPayload:k,midAngle:N,middleRadius:_,tooltipPosition:S},w),g),{},{value:a,startAngle:r,endAngle:j,payload:w,paddingAngle:sh(m)*x})}));return r}({offset:n,pieSettings:t,displayedData:e,cells:r})}),aF=e=>null;aF.displayName="Cell";var sF=r(9397),oF=r.n(sF);function lF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lF(Object(r),!0).forEach(function(t){dF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(){return uF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uF.apply(null,arguments)}var hF=(e,t,r,n,i)=>{var a,s=r-n;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-s/2,",").concat(t+i),a+="L ".concat(e+r-s/2-n,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z")},fF={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pF=e=>{var t=oT(e,fF),{x:r,y:n,upperWidth:a,lowerWidth:s,height:o,className:l}=t,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:h}=t,f=(0,i.useRef)(null),[p,m]=(0,i.useState)(-1),g=(0,i.useRef)(a),x=(0,i.useRef)(s),y=(0,i.useRef)(o),v=(0,i.useRef)(r),b=(0,i.useRef)(n),w=AD(e,"trapezoid-");if((0,i.useEffect)(()=>{if(f.current&&f.current.getTotalLength)try{var e=f.current.getTotalLength();e&&m(e)}catch(t){}},[]),r!==+r||n!==+n||a!==+a||s!==+s||o!==+o||0===a&&0===s||0===o)return null;var j=th("recharts-trapezoid",l);if(!h)return i.createElement("g",null,i.createElement("path",uF({},uP(t),{className:j,d:hF(r,n,a,s,o)})));var N=g.current,_=x.current,k=y.current,S=v.current,A=b.current,C="0px ".concat(-1===p?1:p,"px"),E="".concat(p,"px 0px"),P=nD(["strokeDasharray"],d,c);return i.createElement(SD,{animationId:w,key:w,canBegin:p>0,duration:d,easing:c,isActive:h,begin:u},e=>{var l=mh(N,a,e),c=mh(_,s,e),d=mh(k,o,e),u=mh(S,r,e),h=mh(A,n,e);f.current&&(g.current=l,x.current=c,y.current=d,v.current=u,b.current=h);var p=e>0?{transition:P,strokeDasharray:E}:{strokeDasharray:C};return i.createElement("path",uF({},uP(t),{className:j,d:hF(u,h,l,c,d),ref:f,style:cF(cF({},p),t.style)}))})};Math.abs,Math.atan2;const mF=Math.cos,gF=(Math.max,Math.min,Math.sin),xF=Math.sqrt,yF=Math.PI,vF=2*yF;const bF={draw(e,t){const r=xF(t/yF);e.moveTo(r,0),e.arc(0,0,r,0,vF)}},wF={draw(e,t){const r=xF(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},jF=xF(1/3),NF=2*jF,_F={draw(e,t){const r=xF(t/NF),n=r*jF;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},kF={draw(e,t){const r=xF(t),n=-r/2;e.rect(n,n,r,r)}},SF=gF(yF/10)/gF(7*yF/10),AF=gF(vF/10)*SF,CF=-mF(vF/10)*SF,EF={draw(e,t){const r=xF(.8908130915292852*t),n=AF*r,i=CF*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const t=vF*a/5,s=mF(t),o=gF(t);e.lineTo(o*r,-s*r),e.lineTo(s*n-o*i,o*n+s*i)}e.closePath()}},PF=xF(3),TF={draw(e,t){const r=-xF(t/(3*PF));e.moveTo(0,2*r),e.lineTo(-PF*r,-r),e.lineTo(PF*r,-r),e.closePath()}},OF=-.5,IF=xF(3)/2,LF=1/xF(12),DF=3*(LF/2+1),MF={draw(e,t){const r=xF(t/DF),n=r/2,i=r*LF,a=n,s=r*LF+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(OF*n-IF*i,IF*n+OF*i),e.lineTo(OF*a-IF*s,IF*a+OF*s),e.lineTo(OF*o-IF*l,IF*o+OF*l),e.lineTo(OF*n+IF*i,OF*i-IF*n),e.lineTo(OF*a+IF*s,OF*s-IF*a),e.lineTo(OF*o+IF*l,OF*l-IF*o),e.closePath()}};xF(3),xF(3);var RF=["type","size","sizeType"];function FF(){return FF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FF.apply(null,arguments)}function BF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?BF(Object(r),!0).forEach(function(t){UF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function UF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qF={symbolCircle:bF,symbolCross:wF,symbolDiamond:_F,symbolSquare:kF,symbolStar:EF,symbolTriangle:TF,symbolWye:MF},WF=Math.PI/180,HF=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,RF),s=zF(zF({},a),{},{type:t,size:r,sizeType:n}),o="circle";"string"===typeof t&&(o=t);var{className:l,cx:c,cy:d}=s,u=uP(s);return ch(c)&&ch(d)&&ch(r)?i.createElement("path",FF({},u,{className:th("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:(()=>{var e=(e=>{var t="symbol".concat(yh(e));return qF[t]||bF})(o),t=function(e,t){let r=null,n=OL(i);function i(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return e="function"===typeof e?e:ox(e||bF),t="function"===typeof t?t:ox(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:ox(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:ox(+e),i):t},i.context=function(e){return arguments.length?(r=null==e?null:e,i):r},i}().type(e).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*WF;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.tan(n)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,n,o)),i=t();if(null!==i)return i})()})):null};HF.registerSymbol=(e,t)=>{qF["symbol".concat(yh(e))]=t};var VF=["option","shapeType","propTransformer","activeClassName"];function GF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function KF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GF(Object(r),!0).forEach(function(t){YF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function YF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XF(e,t){return KF(KF({},t),e)}function QF(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return i.createElement(RD,r);case"trapezoid":return i.createElement(pF,r);case"sector":return i.createElement(WD,r);case"symbols":if(function(e){return"symbols"===e}(t))return i.createElement(HF,r);break;case"curve":return i.createElement(KL,r);default:return null}}function $F(e){var t,{option:r,shapeType:n,propTransformer:a=XF,activeClassName:s="recharts-active-shape"}=e,o=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,VF);if((0,i.isValidElement)(r))t=(0,i.cloneElement)(r,KF(KF({},o),function(e){return(0,i.isValidElement)(e)?e.props:e}(r)));else if("function"===typeof r)t=r(o);else if(oF()(r)&&"boolean"!==typeof r){var l=a(r,o);t=i.createElement(QF,{shapeType:n,elementProps:l})}else{var c=o;t=i.createElement(QF,{shapeType:n,elementProps:c})}return o.isActive?i.createElement(LT,{className:s},t):t}var ZF=(e,t)=>{var r=Qg();return(n,i)=>a=>{null===e||void 0===e||e(n,i,a),r(yg({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},JF=e=>{var t=Qg();return(r,n)=>i=>{null===e||void 0===e||e(r,n,i),t(vg())}},eB=(e,t)=>{var r=Qg();return(n,i)=>a=>{null===e||void 0===e||e(n,i,a),r(wg({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},tB=["key"],rB=["onMouseEnter","onClick","onMouseLeave"],nB=["id"],iB=["id"];function aB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aB(Object(r),!0).forEach(function(t){oB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lB(){return lB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lB.apply(null,arguments)}function cB(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dB(e){var t=(0,i.useMemo)(()=>EM(e.children,aF),[e.children]),r=ex(r=>nF(r,e.id,t));return null==r?null:i.createElement(eR,{legendPayload:r})}var uB=i.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:o,name:l,hide:c,tooltipType:d}=e,u={dataDefinedOnItem:n.map(e=>e.tooltipPayload),positions:n.map(e=>e.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:o,dataKey:t,nameKey:r,name:Px(l,t),hide:c,type:d,color:o,unit:""}};return i.createElement(WM,{tooltipEntrySettings:u})}),hB=(e,t)=>e>t?"start":e<t?"end":"middle",fB=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=$N(a,s),l=i+fh(e.cx,a,a/2),c=n+fh(e.cy,s,s/2),d=fh(e.innerRadius,o,0),u=((e,t,r)=>fh("function"===typeof t?t(e):t,r,.8*r))(r,e.outerRadius,o);return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:e.maxRadius||Math.sqrt(a*a+s*s)/2}},pB=(e,t)=>sh(t-e)*Math.min(Math.abs(t-e),360);function mB(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:o}=r;if(!n||!a||!t)return null;var l=cP(r),c=dP(a),d=dP(s),u="object"===typeof a&&"offsetRadius"in a&&"number"===typeof a.offsetRadius&&a.offsetRadius||20,h=t.map((e,t)=>{var r=(e.startAngle+e.endAngle)/2,n=QN(e.cx,e.cy,e.outerRadius+u,r),h=sB(sB(sB(sB({},l),e),{},{stroke:"none"},c),{},{index:t,textAnchor:hB(n.x,e.cx)},n),f=sB(sB(sB(sB({},l),e),{},{fill:"none",stroke:e.fill},d),{},{index:t,points:[QN(e.cx,e.cy,e.outerRadius,r),n],key:"line"});return i.createElement(lO,{zIndex:t_.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},i.createElement(LT,null,s&&((e,t)=>{if(i.isValidElement(e))return i.cloneElement(e,t);if("function"===typeof e)return e(t);var r=th("recharts-pie-label-line","boolean"!==typeof e?e.className:""),{key:n}=t,a=cB(t,tB);return i.createElement(KL,lB({},a,{type:"linear",className:r}))})(s,f),((e,t,r)=>{if(i.isValidElement(e))return i.cloneElement(e,t);var n=r;if("function"===typeof e&&(n=e(t),i.isValidElement(n)))return n;var a=th("recharts-pie-label-text",function(e){return e&&"object"===typeof e&&"className"in e&&"string"===typeof e.className?e.className:""}(e));return i.createElement(oO,lB({},t,{alignmentBaseline:"middle",className:a}),n)})(a,h,mx(e,o))))});return i.createElement(LT,{className:"recharts-pie-labels"},h)}function gB(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return"object"===typeof a&&null!=a&&"position"in a?i.createElement(wM,{label:a}):i.createElement(mB,{sectors:t,props:r,showLabels:n})}function xB(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s}=e,o=ex(zA),{onMouseEnter:l,onClick:c,onMouseLeave:d}=a,u=cB(a,rB),h=ZF(l,a.dataKey),f=JF(d),p=eB(c,a.dataKey);return null==t||0===t.length?null:i.createElement(i.Fragment,null,t.map((e,l)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==t.length)return null;var c=String(l)===o,d=r&&c?r:o?n:null,m=sB(sB({},e),{},{stroke:e.stroke,tabIndex:-1,[Rx]:l,[Fx]:a.dataKey});return i.createElement(LT,lB({key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(l),tabIndex:-1,className:"recharts-pie-sector"},CO(u,e,l),{onMouseEnter:h(e,l),onMouseLeave:f(e,l),onClick:p(e,l)}),i.createElement($F,lB({option:null!==s&&void 0!==s?s:d,shapeType:"sector",isActive:c},m)))}))}function yB(e){var{showLabels:t,sectors:r,children:n}=e,a=(0,i.useMemo)(()=>t&&r?r.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[r,t]);return i.createElement(vM,{value:t?a:void 0},n)}function vB(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:h}=t,f=AD(t,"recharts-pie-"),p=r.current,[m,g]=(0,i.useState)(!1),x=(0,i.useCallback)(()=>{"function"===typeof h&&h(),g(!1)},[h]),y=(0,i.useCallback)(()=>{"function"===typeof u&&u(),g(!0)},[u]);return i.createElement(yB,{showLabels:!m,sectors:n},i.createElement(SD,{animationId:f,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:y,onAnimationEnd:x,key:f},e=>{var a=[],s=n&&n[0],o=null===s||void 0===s?void 0:s.startAngle;return null===n||void 0===n||n.forEach((t,r)=>{var n=p&&p[r],i=r>0?ah()(t,"paddingAngle",0):0;if(n){var s=mh(n.endAngle-n.startAngle,t.endAngle-t.startAngle,e),l=sB(sB({},t),{},{startAngle:o+i,endAngle:o+s+i});a.push(l),o=l.endAngle}else{var{endAngle:c,startAngle:d}=t,u=mh(0,c-d,e),h=sB(sB({},t),{},{startAngle:o+i,endAngle:o+u+i});a.push(h),o=h.endAngle}}),r.current=a,i.createElement(LT,null,i.createElement(xB,{sectors:a,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape}))}),i.createElement(gB,{showLabels:!m,sectors:n,props:t}),t.children)}var bB={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!RE,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:t_.area};function wB(e){var{id:t}=e,r=cB(e,nB),{hide:n,className:a,rootTabIndex:s}=e,o=(0,i.useMemo)(()=>EM(e.children,aF),[e.children]),l=ex(e=>iF(e,t,o)),c=(0,i.useRef)(null),d=th("recharts-pie",a);return n||null==l?(c.current=null,i.createElement(LT,{tabIndex:s,className:d})):i.createElement(lO,{zIndex:e.zIndex},i.createElement(uB,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),i.createElement(LT,{tabIndex:s,className:d},i.createElement(vB,{props:sB(sB({},r),{},{sectors:l}),previousSectorsRef:c})))}function jB(e){var t=oT(e,bB),{id:r}=t,n=cB(t,iB),a=cP(n);return i.createElement(rR,{id:r,type:"pie"},e=>i.createElement(i.Fragment,null,i.createElement(aR,{type:"pie",id:e,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),i.createElement(dB,lB({},n,{id:e})),i.createElement(wB,lB({},n,{id:e}))))}function NB(){return NB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NB.apply(null,arguments)}function _B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}jB.displayName="Pie";var SB=32,AB={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function CB(e){var t,{data:r,iconType:n,inactiveColor:a}=e,s=16,o=SB/6,l=SB/3,c=r.inactive?a:r.color,d=null!==n&&void 0!==n?n:r.type;if("none"===d)return null;if("plainline"===d)return i.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:null===(t=r.payload)||void 0===t?void 0:t.strokeDasharray,x1:0,y1:s,x2:SB,y2:s,className:"recharts-legend-icon"});if("line"===d)return i.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,"\n            H").concat(SB,"M").concat(2*l,",").concat(s,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if("rect"===d)return i.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(4,"h").concat(SB,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(i.isValidElement(r.legendIcon)){var u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_B(Object(r),!0).forEach(function(t){kB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_B(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r);return delete u.legendIcon,i.cloneElement(r.legendIcon,u)}return i.createElement(HF,{fill:c,cx:s,cy:s,size:SB,sizeType:"diameter",type:d})}function EB(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:o}=e,l={x:0,y:0,width:SB,height:SB},c={display:"horizontal"===n?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((t,n)=>{var u=t.formatter||a,h=th({"recharts-legend-item":!0,["legend-item-".concat(n)]:!0,inactive:t.inactive});if("none"===t.type)return null;var f=t.inactive?s:t.color,p=u?u(t.value,t,n):t.value;return i.createElement("li",NB({className:h,style:c,key:"legend-item-".concat(n)},CO(e,t,n)),i.createElement(mP,{width:r,height:r,viewBox:l,style:d,"aria-label":"".concat(p," legend icon")},i.createElement(CB,{data:t,iconType:o,inactiveColor:s})),i.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},p))})}var PB=e=>{var t=oT(e,AB),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:"horizontal"===n?a:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:s},i.createElement(EB,NB({},t,{payload:r})))};var TB=["contextPayload"];function OB(){return OB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OB.apply(null,arguments)}function IB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function LB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IB(Object(r),!0).forEach(function(t){DB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function DB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MB(e){return e.value}function RB(e){var{contextPayload:t}=e,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,TB),n=HI(t,e.payloadUniqBy,MB),a=LB(LB({},r),{},{payload:n});return i.isValidElement(e.content)?i.cloneElement(e.content,a):"function"===typeof e.content?i.createElement(e.content,a):i.createElement(PB,a)}function FB(e){var t=Qg();return(0,i.useEffect)(()=>{t(nE(e))},[t,e]),null}function BB(e){var t=Qg();return(0,i.useEffect)(()=>(t(rE(e)),()=>{t(rE({width:0,height:0}))}),[t,e]),null}var zB={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function UB(e){var t=oT(e,zB),r=ex(ix),n=(0,i.useContext)(zP),a=ex(e=>e.layout.margin),{width:s,height:l,wrapperStyle:c,portal:d}=t,[u,h]=aL([r]),f=Jx(),p=ey();if(null==f||null==p)return null;var m=f-((null===a||void 0===a?void 0:a.left)||0)-((null===a||void 0===a?void 0:a.right)||0),g=function(e,t,r,n){return"vertical"===e&&ch(t)?{height:t}:"horizontal"===e?{width:r||n}:null}(t.layout,l,s,m),x=d?c:LB(LB({position:"absolute",width:(null===g||void 0===g?void 0:g.width)||s||"auto",height:(null===g||void 0===g?void 0:g.height)||l||"auto"},function(e,t,r,n,i,a){var s,o,{layout:l,align:c,verticalAlign:d}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(s="center"===c&&"vertical"===l?{left:((n||0)-a.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===d?{top:((i||0)-a.height)/2}:"bottom"===d?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),LB(LB({},s),o)}(c,t,a,f,p,u)),c),y=null!==d&&void 0!==d?d:n;if(null==y||null==r)return null;var v=i.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:h},i.createElement(FB,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!d&&i.createElement(BB,{width:u.width,height:u.height}),i.createElement(RB,OB({},t,g,{margin:a,chartWidth:f,chartHeight:p,contextPayload:r})));return(0,o.createPortal)(v,y)}UB.displayName="Legend";var qB=["axis","item"],WB=(0,i.forwardRef)((e,t)=>i.createElement(dT,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qB,tooltipPayloadSearcher:sm,categoricalChartProps:e,ref:t})),HB="Invariant failed";var VB=["x","y"];function GB(){return GB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GB.apply(null,arguments)}function KB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function YB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KB(Object(r),!0).forEach(function(t){XB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function XB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QB(e,t){var{x:r,y:n}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,VB),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||i.height),d=parseInt(c,10),u="".concat(t.width||i.width),h=parseInt(u,10);return YB(YB(YB(YB(YB({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function $B(e){return i.createElement($F,GB({shapeType:"rectangle",propTransformer:QB,activeClassName:"recharts-active-bar"},e))}var ZB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(r,n)=>{if(ch(e))return e;var i=ch(r)||xh(r);return i?e(r,n):(i||function(e){if(!e)throw new Error(HB)}(!1,"minPointSize callback function received a value with type of ".concat(typeof r,". Currently only numbers or null/undefined are supported.")),t)}},JB=["children"];var ez={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},tz=(0,i.createContext)(ez);function rz(e){var{children:t}=e,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,JB);return i.createElement(tz.Provider,{value:r},t)}function nz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nz(Object(r),!0).forEach(function(t){az(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function az(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sz=Vg([ek,(e,t,r,n,i)=>i],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),oz=Vg([sz],e=>null===e||void 0===e?void 0:e.maxBarSize),lz=(e,t,r)=>{var n=null!==r&&void 0!==r?r:e;if(!xh(n))return fh(n,t,0)},cz=Vg([ty,ek,(e,t)=>t,(e,t,r)=>r,(e,t,r,n)=>n],(e,t,r,n,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===r:t.yAxisId===n).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),dz=Vg([cz,e=>e.rootProps.barSize,(e,t,r)=>"horizontal"===ty(e)?SS(e,"xAxis",t):SS(e,"yAxis",r)],(e,t,r)=>{var n=e.filter(I_),i=e.filter(e=>null==e.stackId),a=n.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{}),s=Object.entries(a).map(e=>{var[n,i]=e,a=i.map(e=>e.dataKey);return{stackId:n,dataKeys:a,barSize:lz(t,r,i[0].barSize)}}),o=i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:lz(t,r,e.barSize)}));return[...s,...o]}),uz=(e,t,r,n)=>{var i,a;return"horizontal"===ty(e)?(i=LS(e,"xAxis",t,n),a=IS(e,"xAxis",t,n)):(i=LS(e,"yAxis",r,n),a=IS(e,"yAxis",r,n)),Cx(i,a)};var hz=Vg([dz,RN,e=>e.rootProps.barGap,FN,(e,t,r,n,i)=>{var a,s,o=sz(e,t,r,n,i);if(null!=o){var l,c,d=ty(e),u=RN(e),{maxBarSize:h}=o,f=xh(h)?u:h;return"horizontal"===d?(l=LS(e,"xAxis",t,n),c=IS(e,"xAxis",t,n)):(l=LS(e,"yAxis",r,n),c=IS(e,"yAxis",r,n)),null!==(a=null!==(s=Cx(l,c,!0))&&void 0!==s?s:f)&&void 0!==a?a:0}},uz,oz],(e,t,r,n,i,a,s)=>{var o=xh(s)?t:s,l=function(e,t,r,n,i){var a=n.length;if(!(a<1)){var s,o=fh(e,r,0,!0),l=[];if(Ch(n[0].barSize)){var c=!1,d=r/a,u=n.reduce((e,t)=>e+(t.barSize||0),0);(u+=(a-1)*o)>=r&&(u-=(a-1)*o,o=0),u>=r&&d>0&&(c=!0,u=a*(d*=.9));var h={offset:((r-u)/2|0)-o,size:0};s=n.reduce((e,t)=>{var r,n=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+o,size:c?d:null!==(r=t.barSize)&&void 0!==r?r:0}}];return h=n[n.length-1].position,n},l)}else{var f=fh(t,r,0,!0);r-2*f-(a-1)*o<=0&&(o=0);var p=(r-2*f-(a-1)*o)/a;p>1&&(p>>=0);var m=Ch(i)?Math.min(p,i):p;s=n.reduce((e,t,r)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(p+o)*r+(p-m)/2,size:m}}],l)}return s}}(r,n,i!==a?i:a,e,o);return i!==a&&null!=l&&(l=l.map(e=>iz(iz({},e),{},{position:iz(iz({},e.position),{},{offset:e.position.offset-i/2})}))),l}),fz=Vg([hz,sz],(e,t)=>{if(null!=e&&null!=t){var r=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=r)return r.position}}),pz=Vg([(e,t,r,n)=>"horizontal"===ty(e)?wk(e,"yAxis",r,n):wk(e,"xAxis",t,n),sz],(e,t)=>{var r=T_(t);if(e&&null!=r&&null!=t){var{stackId:n}=t;if(null!=n){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(e=>e.key===r)}}}}),mz=Vg([qx,Hx,(e,t,r,n)=>LS(e,"xAxis",t,n),(e,t,r,n)=>LS(e,"yAxis",r,n),(e,t,r,n)=>IS(e,"xAxis",t,n),(e,t,r,n)=>IS(e,"yAxis",r,n),fz,ty,gN,uz,pz,sz,(e,t,r,n,i,a)=>a],(e,t,r,n,i,a,s,o,l,c,d,u,h)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:m}=l;if(null!=u&&null!=s&&null!=t&&("horizontal"===o||"vertical"===o)&&null!=r&&null!=n&&null!=i&&null!=a&&null!=c){var g,{data:x}=u;if(null!=(g=null!=x&&x.length>0?x:null===f||void 0===f?void 0:f.slice(p,m+1)))return function(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:d,displayedData:u,offset:h,cells:f,parentViewBox:p,dataStartIndex:m}=e,g="horizontal"===t?o:s,x=d?g.scale.domain():null,y=(e=>{var{numericAxis:t}=e,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]})({numericAxis:g}),v=g.scale(y);return u.map((e,u)=>{var g,b,w,j,N,_;d?g=((e,t)=>{if(!t||2!==t.length||!ch(t[0])||!ch(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ch(e[0])||e[0]<r)&&(i[0]=r),(!ch(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i})(d[u+m],x):(g=mx(e,r),Array.isArray(g)||(g=[y,g]));var k=ZB(n,Lz)(g[1],u);if("horizontal"===t){var S,[A,C]=[o.scale(g[0]),o.scale(g[1])];b=_x({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:e,index:u}),w=null!==(S=null!==C&&void 0!==C?C:A)&&void 0!==S?S:void 0,j=i.size;var E=A-C;if(N=oh(E)?0:E,_={x:b,y:h.top,width:j,height:h.height},Math.abs(k)>0&&Math.abs(N)<Math.abs(k)){var P=sh(N||k)*(Math.abs(k)-Math.abs(N));w-=P,N+=P}}else{var[T,O]=[s.scale(g[0]),s.scale(g[1])];if(b=T,w=_x({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:e,index:u}),j=O-T,N=i.size,_={x:h.left,y:w,width:h.width,height:N},Math.abs(k)>0&&Math.abs(j)<Math.abs(k))j+=sh(j||k)*(Math.abs(k)-Math.abs(j))}return null==b||null==w||null==j||null==N?null:jz(jz({},e),{},{stackedBarStart:v,x:b,y:w,width:j,height:N,value:d?g:g[1],payload:e,background:_,tooltipPosition:{x:b+j/2,y:w+N/2},parentViewBox:p},f&&f[u]&&f[u].props)}).filter(Boolean)}({layout:o,barSettings:u,pos:s,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:g,offset:e,cells:h,dataStartIndex:p})}});var gz=["onMouseEnter","onMouseLeave","onClick"],xz=["value","background","tooltipPosition"],yz=["id"],vz=["onMouseEnter","onClick","onMouseLeave"];function bz(){return bz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bz.apply(null,arguments)}function wz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function jz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wz(Object(r),!0).forEach(function(t){Nz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Nz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var kz=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Px(r,t),payload:e}]},Sz=i.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:o,unit:l,tooltipType:c}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Px(s,t),hide:o,type:c,color:a,unit:l}};return i.createElement(WM,{tooltipEntrySettings:d})});function Az(e){var t=ex(zA),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=s,d=_z(s,gz),u=ZF(o,n),h=JF(l),f=eB(c,n);if(!a||null==r)return null;var p,m,g=dP(a);return i.createElement(lO,{zIndex:(p=a,m=t_.barBackground,p&&"object"===typeof p&&"zIndex"in p&&"number"===typeof p.zIndex&&Ch(p.zIndex)?p.zIndex:m)},r.map((e,r)=>{var{value:s,background:o,tooltipPosition:l}=e,c=_z(e,xz);if(!o)return null;var p=u(e,r),m=h(e,r),x=f(e,r),y=jz(jz(jz(jz(jz({option:a,isActive:String(r)===t},c),{},{fill:"#eee"},o),g),CO(d,e,r)),{},{onMouseEnter:p,onMouseLeave:m,onClick:x,dataKey:n,index:r,className:"recharts-bar-background-rectangle"});return i.createElement($B,bz({key:"background-bar-".concat(r)},y))}))}function Cz(e){var{showLabels:t,children:r,rects:n}=e,a=null===n||void 0===n?void 0:n.map(e=>{var t={x:e.x,y:e.y,width:e.width,lowerWidth:e.width,upperWidth:e.width,height:e.height};return jz(jz({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return i.createElement(xM,{value:t?a:void 0},r)}function Ez(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:o}=e,l=ex(zA),c=ex(qA),d=r&&String(s)===l&&(null==c||o===c),u=d?r:t;return d?i.createElement(lO,{zIndex:t_.activeBar},i.createElement($B,bz({},n,{name:String(n.name)},a,{isActive:d,option:u,index:s,dataKey:o}))):i.createElement($B,bz({},n,{name:String(n.name)},a,{isActive:d,option:u,index:s,dataKey:o}))}function Pz(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return i.createElement($B,bz({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function Tz(e){var t,{data:r,props:n}=e,a=null!==(t=cP(n))&&void 0!==t?t:{},{id:s}=a,o=_z(a,yz),{shape:l,dataKey:c,activeBar:d}=n,{onMouseEnter:u,onClick:h,onMouseLeave:f}=n,p=_z(n,vz),m=ZF(u,c),g=JF(f),x=eB(h,c);return r?i.createElement(i.Fragment,null,r.map((e,t)=>i.createElement(LT,bz({key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(t),className:"recharts-bar-rectangle"},CO(p,e,t),{onMouseEnter:m(e,t),onMouseLeave:g(e,t),onClick:x(e,t)}),d?i.createElement(Ez,{shape:l,activeBar:d,baseProps:o,entry:e,index:t,dataKey:c}):i.createElement(Pz,{shape:l,baseProps:o,entry:e,index:t,dataKey:c})))):null}function Oz(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,h=r.current,f=AD(t,"recharts-bar-"),[p,m]=(0,i.useState)(!1),g=!p,x=(0,i.useCallback)(()=>{"function"===typeof d&&d(),m(!1)},[d]),y=(0,i.useCallback)(()=>{"function"===typeof u&&u(),m(!0)},[u]);return i.createElement(Cz,{showLabels:g,rects:n},i.createElement(SD,{animationId:f,begin:o,duration:l,isActive:s,easing:c,onAnimationEnd:x,onAnimationStart:y,key:f},e=>{var s=1===e?n:null===n||void 0===n?void 0:n.map((t,r)=>{var n=h&&h[r];if(n)return jz(jz({},t),{},{x:mh(n.x,t.x,e),y:mh(n.y,t.y,e),width:mh(n.width,t.width,e),height:mh(n.height,t.height,e)});if("horizontal"===a){var i=mh(0,t.height,e),s=mh(t.stackedBarStart,t.y,e);return jz(jz({},t),{},{y:s,height:i})}var o=mh(0,t.width,e),l=mh(t.stackedBarStart,t.x,e);return jz(jz({},t),{},{width:o,x:l})});return e>0&&(r.current=null!==s&&void 0!==s?s:null),null==s?null:i.createElement(LT,null,i.createElement(Tz,{props:t,data:s}))}),i.createElement(wM,{label:t.label}),t.children)}function Iz(e){var t=(0,i.useRef)(null);return i.createElement(Oz,{previousRectanglesRef:t,props:e})}var Lz=0,Dz=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:mx(e,t)}};class Mz extends i.PureComponent{render(){var{hide:e,data:t,dataKey:r,className:n,xAxisId:a,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(e||null==t)return null;var d=th("recharts-bar",n),u=c;return i.createElement(LT,{className:d,id:c},o&&i.createElement("defs",null,i.createElement(VM,{clipPathId:u,xAxisId:a,yAxisId:s})),i.createElement(LT,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(u,")"):void 0},i.createElement(Az,{data:t,dataKey:r,background:l,allOtherBarProps:this.props}),i.createElement(Iz,this.props)))}}var Rz={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Lz,xAxisId:0,yAxisId:0,zIndex:t_.bar};function Fz(e){var t,{xAxisId:r,yAxisId:n,hide:a,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:u,isAnimationActive:h}=e,{needClip:f}=HM(r,n),p=ry(),m=Gx(),g=EM(e.children,aF),x=ex(t=>mz(t,r,n,m,e.id,g));if("vertical"!==p&&"horizontal"!==p)return null;var y=null===x||void 0===x?void 0:x[0];return t=null==y||null==y.height||null==y.width?0:"vertical"===p?y.height/2:y.width/2,i.createElement(rz,{xAxisId:r,yAxisId:n,data:x,dataPointFormatter:Dz,errorBarOffset:t},i.createElement(Mz,bz({},e,{layout:p,needClip:f,data:x,xAxisId:r,yAxisId:n,hide:a,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:u,isAnimationActive:h})))}function Bz(e){var t=oT(e,Rz),r=Gx();return i.createElement(rR,{id:t.id,type:"bar"},e=>i.createElement(i.Fragment,null,i.createElement(JM,{legendPayload:kz(t)}),i.createElement(Sz,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),i.createElement(iR,{type:"bar",id:e,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:jx(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),i.createElement(lO,{zIndex:t.zIndex},i.createElement(Fz,bz({},t,{id:e})))))}var zz=i.memo(Bz,JE);zz.displayName="Bar";var Uz=["axis"],qz=(0,i.forwardRef)((e,t)=>i.createElement(dT,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Uz,tooltipPayloadSearcher:sm,categoricalChartProps:e,ref:t})),Wz=(e,t,r,n)=>LS(e,"xAxis",t,n),Hz=(e,t,r,n)=>IS(e,"xAxis",t,n),Vz=(e,t,r,n)=>LS(e,"yAxis",r,n),Gz=(e,t,r,n)=>IS(e,"yAxis",r,n),Kz=Vg([ty,Wz,Vz,Hz,Gz],(e,t,r,n,i)=>gx(e,"xAxis")?Cx(t,n,!1):Cx(r,i,!1));function Yz(e){return"line"===e.type}var Xz=Vg([ek,(e,t,r,n,i)=>i],(e,t)=>e.filter(Yz).find(e=>e.id===t)),Qz=Vg([ty,Wz,Vz,Hz,Gz,Xz,Kz,gN],(e,t,r,n,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(null!=a&&null!=t&&null!=r&&null!=n&&null!=i&&0!==n.length&&0!==i.length&&null!=s&&("horizontal"===e||"vertical"===e)){var u,{dataKey:h,data:f}=a;if(null!=(u=null!=f&&f.length>0?f:null===l||void 0===l?void 0:l.slice(c,d+1)))return function(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((e,l)=>{var c=mx(e,s);if("horizontal"===t)return{x:Nx({axis:r,ticks:i,bandSize:o,entry:e,index:l}),y:xh(c)?null:n.scale(c),value:c,payload:e};var d=xh(c)?null:r.scale(c),u=Nx({axis:n,ticks:a,bandSize:o,entry:e,index:l});return null==d||null==u?null:{x:d,y:u,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:h,bandSize:s,displayedData:u})}}),$z=["id"],Zz=["type","layout","connectNulls","needClip","shape"],Jz=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function eU(){return eU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eU.apply(null,arguments)}function tU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tU(Object(r),!0).forEach(function(t){nU(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nU(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iU(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var aU=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Px(r,t),payload:e}]},sU=i.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:o,hide:l,unit:c,tooltipType:d}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Px(o,t),hide:l,type:d,color:n,unit:c}};return i.createElement(WM,{tooltipEntrySettings:u})}),oU=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function lU(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}function cU(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:o}=n,{id:l}=n,c=cP(iU(n,$z));return i.createElement(RM,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:c,needClip:o,clipPathId:t})}function dU(e){var{showLabels:t,children:r,points:n}=e,a=(0,i.useMemo)(()=>null===n||void 0===n?void 0:n.map(e=>{var t,r,n={x:null!==(t=e.x)&&void 0!==t?t:0,y:null!==(r=e.y)&&void 0!==r?r:0,width:0,lowerWidth:0,upperWidth:0,height:0};return rU(rU({},n),{},{value:e.value,payload:e.payload,viewBox:n,parentViewBox:void 0,fill:void 0})}),[n]);return i.createElement(xM,{value:t?a:void 0},r)}function uU(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:o,layout:l,connectNulls:c,needClip:d,shape:u}=s,h=rU(rU({},uP(iU(s,Zz))),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:null!==a&&void 0!==a?a:s.strokeDasharray});return i.createElement(i.Fragment,null,(null===n||void 0===n?void 0:n.length)>1&&i.createElement($F,eU({shapeType:"curve",option:u},h,{pathRef:r})),i.createElement(cU,{points:n,clipPathId:t,props:s}))}function hU(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:h,animateNewValues:f,width:p,height:m,onAnimationEnd:g,onAnimationStart:x}=r,y=a.current,v=AD(o,"recharts-line-"),b=(0,i.useRef)(v),[w,j]=(0,i.useState)(!1),N=!w,_=(0,i.useCallback)(()=>{"function"===typeof g&&g(),j(!1)},[g]),k=(0,i.useCallback)(()=>{"function"===typeof x&&x(),j(!0)},[x]),S=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(n.current),A=(0,i.useRef)(0);b.current!==v&&(A.current=s.current,b.current=v);var C=A.current;return i.createElement(dU,{points:o,showLabels:N},r.children,i.createElement(SD,{animationId:v,begin:d,duration:u,isActive:c,easing:h,onAnimationEnd:_,onAnimationStart:k,key:v},e=>{var d,u=mh(C,S+C,e),h=Math.min(u,S);if(c)if(l){var g="".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e));d=((e,t,r)=>{var n=r.reduce((e,t)=>e+t);if(!n)return oU(t,e);for(var i=Math.floor(e/n),a=e%n,s=t-e,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>a){o=[...r.slice(0,l),a-c];break}var d=o.length%2===0?[0,s]:[s];return[...lU(r,i),...o,...d].map(e=>"".concat(e,"px")).join(", ")})(h,S,g)}else d=oU(S,h);else d=null==l?void 0:String(l);if(e>0&&S>0&&(a.current=o,s.current=Math.max(s.current,h)),y){var x=y.length/o.length,v=1===e?o:o.map((t,r)=>{var n=Math.floor(r*x);if(y[n]){var i=y[n];return rU(rU({},t),{},{x:mh(i.x,t.x,e),y:mh(i.y,t.y,e)})}return rU(rU({},t),{},f?{x:mh(2*p,t.x,e),y:mh(m/2,t.y,e)}:{x:t.x,y:t.y})});return a.current=v,i.createElement(uU,{props:r,points:v,clipPathId:t,pathRef:n,strokeDasharray:d})}return i.createElement(uU,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:d})}),i.createElement(wM,{label:r.label}))}function fU(e){var{clipPathId:t,props:r}=e,n=(0,i.useRef)(null),a=(0,i.useRef)(0),s=(0,i.useRef)(null);return i.createElement(hU,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var pU=(e,t)=>{var r,n;return{x:null!==(r=e.x)&&void 0!==r?r:void 0,y:null!==(n=e.y)&&void 0!==n?n:void 0,value:e.value,errorVal:mx(e.payload,t)}};class mU extends i.Component{render(){var{hide:e,dot:t,points:r,className:n,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:d,id:u,needClip:h,zIndex:f}=this.props;if(e)return null;var p=th("recharts-line",n),m=u,{r:g,strokeWidth:x}=sR(t),y=PM(t),v=2*g+x,b=h?"url(#clipPath-".concat(y?"":"dots-").concat(m,")"):void 0;return i.createElement(lO,{zIndex:f},i.createElement(LT,{className:p},h&&i.createElement("defs",null,i.createElement(VM,{clipPathId:m,xAxisId:a,yAxisId:s}),!y&&i.createElement("clipPath",{id:"clipPath-dots-".concat(m)},i.createElement("rect",{x:l-v/2,y:o-v/2,width:c+v,height:d+v}))),i.createElement(rz,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:pU,errorBarOffset:0},i.createElement(fU,{props:this.props,clipPathId:m}))),i.createElement(qM,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:b}))}}var gU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:t_.line,type:"linear"};function xU(e){var t=oT(e,gU),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,hide:d,isAnimationActive:u,label:h,legendType:f,xAxisId:p,yAxisId:m,id:g}=t,x=iU(t,Jz),{needClip:y}=HM(p,m),v=eT(),b=ry(),w=Gx(),j=ex(e=>Qz(e,p,m,w,g));if("horizontal"!==b&&"vertical"!==b||null==j||null==v)return null;var{height:N,width:_,x:k,y:S}=v;return i.createElement(mU,eU({},x,{id:g,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:o,isAnimationActive:u,hide:d,label:h,legendType:f,xAxisId:p,yAxisId:m,points:j,layout:b,height:N,width:_,left:k,top:S,needClip:y}))}function yU(e){var t=oT(e,gU),r=Gx();return i.createElement(rR,{id:t.id,type:"line"},e=>i.createElement(i.Fragment,null,i.createElement(JM,{legendPayload:aU(t)}),i.createElement(sU,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),i.createElement(iR,{type:"line",id:e,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),i.createElement(xU,eU({},t,{id:e}))))}var vU=i.memo(yU,JE);vU.displayName="Line";const bU=["#6366F1","#22C55E","#F59E0B","#EF4444","#06B6D4","#A78BFA","#F43F5E","#10B981","#60A5FA","#FBBF24"],wU=(0,i.memo)(e=>{let{label:t,value:r,sub:n}=e;return(0,xn.jsxs)("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 p-3 sm:p-4",children:[(0,xn.jsx)("div",{className:"text-xs uppercase tracking-wide text-gray-500 truncate",children:t}),(0,xn.jsx)("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-800 mt-1 truncate",children:r}),n&&(0,xn.jsx)("div",{className:"text-xs text-gray-400 mt-1 truncate",children:n})]})});wU.displayName="KPICard";const jU=(0,i.memo)(e=>{let{title:t,children:r}=e;return(0,xn.jsxs)("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:[(0,xn.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4",children:t}),r]})});jU.displayName="Card";const NU=(0,i.memo)(e=>{let{children:t,className:r=""}=e;return(0,xn.jsx)("th",{className:"px-2 sm:px-3 py-2 text-left text-xs sm:text-sm font-semibold ".concat(r),children:t})});NU.displayName="Th";const _U=(0,i.memo)(e=>{let{children:t,className:r=""}=e;return(0,xn.jsx)("td",{className:"px-2 sm:px-3 py-2 text-xs sm:text-sm ".concat(r),children:t})});_U.displayName="Td";const kU=()=>{const[e,t]=(0,i.useState)(!0),[r,n]=(0,i.useState)(null),[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)([]),[u,h]=(0,i.useState)([]),[f,p]=(0,i.useState)([]),[m,g]=(0,i.useState)([]),[x,y]=(0,i.useState)([]),[v,b]=(0,i.useState)([]),[w,j]=(0,i.useState)([]),[N,_]=(0,i.useState)([]),[k,S]=(0,i.useState)([]),[A,C]=(0,i.useState)([]),[E,P]=(0,i.useState)([]),T=(0,i.useCallback)(async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{e&&t(!0),n(null);const E=await Promise.allSettled([mn.get("/bookings?limit=1000").catch(e=>({error:e,data:{bookings:[]}})),mn.get("/packages/bookingsall?limit=1000").catch(e=>({error:e,data:[]})),mn.get("/rooms?limit=1000").catch(e=>({error:e,data:[]})),mn.get("/expenses?limit=1000").catch(e=>({error:e,data:[]})),mn.get("/food-orders?limit=1000").catch(e=>({error:e,data:[]})),mn.get("/food-items?limit=1000").catch(e=>({error:e,data:[]})),mn.get("/services/assigned?limit=1000").catch(e=>({error:e,data:[]})),mn.get("/services?limit=1000").catch(e=>({error:e,data:[]})),mn.get("/bill/checkouts?limit=1000").catch(e=>({error:e,data:[]})),mn.get("/packages?limit=1000").catch(e=>({error:e,data:[]})),mn.get("/inventory/items?limit=1000").catch(e=>({error:e,data:[]})),mn.get("/inventory/categories?limit=1000").catch(e=>({error:e,data:[]})),mn.get("/employees?limit=1000").catch(e=>({error:e,data:[]}))]);var r,i,a,o,c,u,f,m,x,v,w,N,k,A;if("fulfilled"!==E[0].status||E[0].value.error)console.error("Failed to load bookings:",(null===(r=E[0].value)||void 0===r?void 0:r.error)||E[0].reason),s([]);else s(Array.isArray(null===(i=E[0].value.data)||void 0===i?void 0:i.bookings)?E[0].value.data.bookings:[]);if("fulfilled"!==E[1].status||E[1].value.error)console.error("Failed to load package bookings:",(null===(a=E[1].value)||void 0===a?void 0:a.error)||E[1].reason),l([]);else l(Array.isArray(E[1].value.data)?E[1].value.data:[]);if("fulfilled"!==E[2].status||E[2].value.error)console.error("Failed to load rooms:",(null===(o=E[2].value)||void 0===o?void 0:o.error)||E[2].reason),d([]);else d(Array.isArray(E[2].value.data)?E[2].value.data:[]);if("fulfilled"!==E[3].status||E[3].value.error)console.error("Failed to load expenses:",(null===(c=E[3].value)||void 0===c?void 0:c.error)||E[3].reason),h([]);else h(Array.isArray(E[3].value.data)?E[3].value.data:[]);if("fulfilled"!==E[4].status||E[4].value.error)console.error("Failed to load food orders:",(null===(u=E[4].value)||void 0===u?void 0:u.error)||E[4].reason),p([]);else p(Array.isArray(E[4].value.data)?E[4].value.data:[]);if("fulfilled"!==E[5].status||E[5].value.error)console.error("Failed to load food items:",(null===(f=E[5].value)||void 0===f?void 0:f.error)||E[5].reason),g([]);else g(Array.isArray(E[5].value.data)?E[5].value.data:[]);if("fulfilled"!==E[6].status||E[6].value.error)console.error("Failed to load assigned services:",(null===(m=E[6].value)||void 0===m?void 0:m.error)||E[6].reason),y([]);else y(Array.isArray(E[6].value.data)?E[6].value.data:[]);if("fulfilled"!==E[7].status||E[7].value.error)console.error("Failed to load services:",(null===(x=E[7].value)||void 0===x?void 0:x.error)||E[7].reason),b([]);else b(Array.isArray(E[7].value.data)?E[7].value.data:[]);if("fulfilled"!==E[8].status||E[8].value.error)console.error("Failed to load billings:",(null===(v=E[8].value)||void 0===v?void 0:v.error)||E[8].reason),j([]);else j(Array.isArray(E[8].value.data)?E[8].value.data:[]);if("fulfilled"!==E[9].status||E[9].value.error)console.error("Failed to load packages:",(null===(w=E[9].value)||void 0===w?void 0:w.error)||E[9].reason),_([]);else _(Array.isArray(E[9].value.data)?E[9].value.data:[]);if("fulfilled"!==E[10].status||E[10].value.error)console.error("Failed to load inventory items:",(null===(N=E[10].value)||void 0===N?void 0:N.error)||E[10].reason),S([]);else S(Array.isArray(E[10].value.data)?E[10].value.data:[]);if("fulfilled"!==E[11].status||E[11].value.error)console.error("Failed to load inventory categories:",(null===(k=E[11].value)||void 0===k?void 0:k.error)||E[11].reason),C([]);else C(Array.isArray(E[11].value.data)?E[11].value.data:[]);if("fulfilled"!==E[12].status||E[12].value.error)console.error("Failed to load employees:",(null===(A=E[12].value)||void 0===A?void 0:A.error)||E[12].reason),P([]);else P(Array.isArray(E[12].value.data)?E[12].value.data:[]);const T=E.every(e=>{var t;return"rejected"===e.status||"fulfilled"===e.status&&(null===(t=e.value)||void 0===t?void 0:t.error)});T&&n("Failed to load dashboard data. Please check your connection and try again.")}catch(UX){var E,T;console.error("Dashboard fetch error:",UX),n((null===UX||void 0===UX||null===(E=UX.response)||void 0===E||null===(T=E.data)||void 0===T?void 0:T.detail)||"Failed to load dashboard data")}finally{e&&t(!1)}},[]);(0,i.useEffect)(()=>{let e=!0;T(!0);const t=setInterval(()=>{e&&T(!1)},3e5);return()=>{e=!1,clearInterval(t)}},[T]);const O=(0,i.useCallback)(e=>e?new Date(e):null,[]),I=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ju(Number(e||0),!0,t)},[]),L=(0,i.useMemo)(()=>{const e=c.length,t=c.filter(e=>{const t=(e.status||e.current_status||"").toLowerCase();return t.includes("occupied")||t.includes("booked")}).length,r=c.filter(e=>(e.status||"").toLowerCase().includes("avail")).length,n=c.filter(e=>{const t=(e.status||"").toLowerCase();return t.includes("maintenance")||t.includes("maintain")}).length,i=Math.max(0,e-t-r);return{total:e,occupied:t,available:r,maintenance:n>0?n:i}},[c]),D=(0,i.useMemo)(()=>{const e=w.reduce((e,t)=>e+Number(t.grand_total||0),0),t=new Date,r=t.toISOString().slice(0,10),n="".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"));let i=0,a=0;return w.forEach(e=>{const t=e.checkout_date||e.created_at,s=O(t);if(!s)return;s.toISOString().slice(0,10)===r&&(i+=Number(e.grand_total||0));"".concat(s.getFullYear(),"-").concat(String(s.getMonth()+1).padStart(2,"0"))===n&&(a+=Number(e.grand_total||0))}),{total:e,today:i,month:a}},[w]),M=(0,i.useMemo)(()=>{const e=u.reduce((e,t)=>e+Number(t.amount||t.charges||0),0),t=new Date,r="".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"));let n=0;return u.forEach(e=>{const t=O(e.created_at);if(!t)return;"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"))===r&&(n+=Number(e.amount||e.charges||0))}),{total:e,month:n}},[u]),R=(0,i.useMemo)(()=>{const e=a.length,t=a.filter(e=>(e.status||"").toLowerCase().includes("cancel")).length,r=a.filter(e=>{const t=(e.status||"").toLowerCase();return!t.includes("cancel")&&!t.includes("checked-out")&&!t.includes("checked_out")}).length;return{total:e,active:r,cancelled:t}},[a]),F=(0,i.useMemo)(()=>{const e=new Map;w.forEach(t=>{const r=O(t.created_at);if(!r)return;const n=r.toISOString().slice(0,10);e.set(n,(e.get(n)||0)+Number(t.grand_total||0))});const t=[];for(let r=13;r>=0;r--){const n=new Date;n.setDate(n.getDate()-r);const i=n.toISOString().slice(0,10);t.push({date:i.slice(5),revenue:e.get(i)||0})}return t},[w]),B=(0,i.useMemo)(()=>{const e=new Map;return u.forEach(t=>{const r=t.type||t.category||"Other";e.set(r,(e.get(r)||0)+Number(t.amount||t.charges||0))}),Array.from(e,e=>{let[t,r]=e;return{type:t,amount:r}}).sort((e,t)=>t.amount-e.amount).slice(0,6)},[u]),z=(0,i.useMemo)(()=>{const e=new Map;return w.forEach(t=>{const r=(t.payment_method||"other").replace("_"," ").toUpperCase();e.set(r,(e.get(r)||0)+1)}),Array.from(e,e=>{let[t,r]=e;return{name:t,value:r}})},[w]),U=(0,i.useMemo)(()=>{const e=new Map;return f.forEach(t=>{const r=t.type||t.category||"Other";e.set(r,(e.get(r)||0)+1)}),Array.from(e,e=>{let[t,r]=e;return{name:t,value:r}})},[f]),q=(0,i.useMemo)(()=>[{name:"Occupied",value:L.occupied},{name:"Available",value:L.available},{name:"Maintenance",value:L.maintenance}],[L]),W=(0,i.useMemo)(()=>{const e=new Map;return x.forEach(t=>{const r=(t.status||t.assigned_status||"pending").toUpperCase();e.set(r,(e.get(r)||0)+1)}),Array.from(e,e=>{let[t,r]=e;return{name:t,value:r}})},[x]),H=(0,i.useMemo)(()=>{const e=new Map(N.map(e=>[e.id,e.title])),t=a.reduce((t,r)=>{var n;const i=(null===(n=r.package)||void 0===n?void 0:n.id)||r.package_id,a=e.get(i)||"Unknown";return t[a]=(t[a]||0)+1,t},{});return Object.entries(t).map(e=>{let[t,r]=e;return{name:t,count:r}})},[a,N]),V=(0,i.useMemo)(()=>[...a].sort((e,t)=>new Date(t.created_at||t.check_in)-new Date(e.created_at||e.check_in)).slice(0,10),[a]),G=(0,i.useMemo)(()=>[...w].sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)).slice(0,8),[w]),K=(0,i.useMemo)(()=>[...f].sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)).slice(0,8),[f]),Y=(0,i.useMemo)(()=>[...N].sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)).slice(0,8),[N]),X=(0,i.useMemo)(()=>{const e=f.filter(e=>(e.status||"").toLowerCase().includes("completed")||(e.status||"").toLowerCase().includes("done")),t=e.reduce((e,t)=>e+Number(t.amount||t.total||0),0),r=(new Date).toISOString().slice(0,10),n=e.filter(e=>{const t=O(e.created_at);return t&&t.toISOString().slice(0,10)===r}).reduce((e,t)=>e+Number(t.amount||t.total||0),0);return{total:f.length,completed:e.length,totalRevenue:t,todayRevenue:n,averageOrderValue:e.length>0?t/e.length:0}},[f]),Q=(0,i.useMemo)(()=>{const e=k.reduce((e,t)=>e+Number(t.current_stock||0)*Number(t.unit_price||0),0),t=k.filter(e=>{const t=Number(e.current_stock||0);return t<=Number(e.min_stock_level||0)&&t>0}).length,r=k.filter(e=>Number(e.current_stock||0)<=0).length,n=k.filter(e=>e.is_sellable_to_guest||e.is_sellable).length,i=k.filter(e=>e.is_sellable_to_guest||e.is_sellable).reduce((e,t)=>e+Number(t.current_stock||0)*Number(t.selling_price||t.unit_price||0),0);return{totalItems:k.length,totalValue:e,lowStock:t,outOfStock:r,sellableItems:n,totalSellingValue:i,categories:A.length}},[k,A]),$=(0,i.useMemo)(()=>{const e=x.filter(e=>(e.status||"").toLowerCase().includes("completed")||(e.status||"").toLowerCase().includes("done")).reduce((e,t)=>{var r;return e+Number(t.charges||(null===(r=t.service)||void 0===r?void 0:r.charges)||0)},0),t=x.filter(e=>(e.status||"").toLowerCase().includes("completed")||(e.status||"").toLowerCase().includes("done")).length;return{totalServices:v.length,totalAssigned:x.length,completed:t,totalRevenue:e,averageServiceValue:t>0?e/t:0}},[v,x]),Z=(0,i.useMemo)(()=>{const e=E.filter(e=>!1!==e.is_active).length;return{total:E.length,active:e,inactive:E.length-e}},[E]),J=(0,i.useMemo)(()=>{const e=o.reduce((e,t)=>{var r;return e+Number(t.total_amount||(null===(r=t.package)||void 0===r?void 0:r.price)||0)},0),t=(new Date).toISOString().slice(0,10),r=o.filter(e=>{const r=O(e.created_at||e.booking_date);return r&&r.toISOString().slice(0,10)===t}).reduce((e,t)=>{var r;return e+Number(t.total_amount||(null===(r=t.package)||void 0===r?void 0:r.price)||0)},0);return{total:o.length,totalRevenue:e,todayRevenue:r,averagePackageValue:o.length>0?e/o.length:0}},[o]),ee=(0,i.useMemo)(()=>{const e=new Map;return u.forEach(t=>{const r=t.category||t.type||"Uncategorized",n=Number(t.amount||t.charges||0);e.set(r,(e.get(r)||0)+n)}),Array.from(e,e=>{let[t,r]=e;return{category:t,amount:r}}).sort((e,t)=>t.amount-e.amount)},[u]),te=(0,i.useMemo)(()=>{const e=new Map;return k.forEach(t=>{var r;const n=t.category_name||(null===(r=t.category)||void 0===r?void 0:r.name)||"Uncategorized",i=Number(t.current_stock||0)*Number(t.unit_price||0);e.set(n,(e.get(n)||0)+i)}),Array.from(e,e=>{let[t,r]=e;return{category:t,value:r}}).sort((e,t)=>t.value-e.value).slice(0,10)},[k]),re=(0,i.useMemo)(()=>{const e=new Map,t=f.filter(e=>(e.status||"").toLowerCase().includes("completed")||(e.status||"").toLowerCase().includes("done"));t.forEach(t=>{const r=O(t.created_at);if(!r)return;const n=r.toISOString().slice(0,10);e.set(n,(e.get(n)||0)+Number(t.amount||t.total||0))});const r=[];for(let n=13;n>=0;n--){const t=new Date;t.setDate(t.getDate()-n);const i=t.toISOString().slice(0,10);r.push({date:i.slice(5),revenue:e.get(i)||0})}return r},[f]),ne=(0,i.useMemo)(()=>{const e=new Map,t=x.filter(e=>(e.status||"").toLowerCase().includes("completed")||(e.status||"").toLowerCase().includes("done"));t.forEach(t=>{var r;const n=O(t.created_at||t.assigned_date);if(!n)return;const i=n.toISOString().slice(0,10);e.set(i,(e.get(i)||0)+Number(t.charges||(null===(r=t.service)||void 0===r?void 0:r.charges)||0))});const r=[];for(let n=13;n>=0;n--){const t=new Date;t.setDate(t.getDate()-n);const i=t.toISOString().slice(0,10);r.push({date:i.slice(5),revenue:e.get(i)||0})}return r},[x]),ie=((0,i.useMemo)(()=>k.filter(e=>e.is_sellable_to_guest||e.is_sellable).map(e=>({name:e.name,stock:Number(e.current_stock||0),unitPrice:Number(e.unit_price||0),sellingPrice:Number(e.selling_price||e.unit_price||0),totalValue:Number(e.current_stock||0)*Number(e.selling_price||e.unit_price||0),profitMargin:e.selling_price&&e.unit_price?(e.selling_price-e.unit_price)/e.selling_price*100:0})).sort((e,t)=>t.totalValue-e.totalValue).slice(0,10),[k]),(0,i.useMemo)(()=>{const e=new Map;return m.forEach(t=>{var r;const n=t.category_name||(null===(r=t.category)||void 0===r?void 0:r.name)||"Uncategorized";e.set(n,(e.get(n)||0)+1)}),Array.from(e,e=>{let[t,r]=e;return{category:t,count:r}})},[m])),ae=(0,i.useMemo)(()=>{const e=D.total+X.totalRevenue+$.totalRevenue+J.totalRevenue,t=M.total;return{total:e-t,margin:e>0?(e-t)/e*100:0}},[D,X,$,J,M]);return e?(0,xn.jsx)(Zu,{children:(0,xn.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-10",children:(0,xn.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,xn.jsx)("div",{className:"h-8 bg-gray-200 rounded w-56"}),(0,xn.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,t)=>(0,xn.jsx)("div",{className:"h-24 bg-gray-100 rounded-xl"},t))}),(0,xn.jsx)("div",{className:"h-64 bg-gray-100 rounded-xl"})]})})}):r?(0,xn.jsx)(Zu,{children:(0,xn.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-10",children:(0,xn.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[(0,xn.jsx)("h2",{className:"text-xl font-bold text-red-800 mb-2",children:"Error Loading Dashboard"}),(0,xn.jsx)("p",{className:"text-red-600",children:r}),(0,xn.jsx)("button",{onClick:()=>{n(null),T()},className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]})})}):(0,xn.jsxs)(Zu,{children:[(0,xn.jsxs)("div",{className:"bubbles-container",children:[(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{})]}),(0,xn.jsxs)("div",{className:"relative max-w-[1400px] mx-auto px-2 sm:px-4 py-4 sm:py-6 space-y-4 sm:space-y-6",children:[(0,xn.jsxs)("header",{className:"flex items-end justify-between gap-4 flex-wrap",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-800",children:"Orchid Resort Admin Dashboard"}),(0,xn.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:"Overview of bookings, rooms, revenue, expenses & operations"})]}),(0,xn.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500",children:["Last updated: ",(new Date).toLocaleString()]})]}),(0,xn.jsxs)("section",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 sm:gap-4",children:[(0,xn.jsx)(wU,{label:"Total Revenue",value:I(D.total+X.totalRevenue+$.totalRevenue+J.totalRevenue),sub:"All time"}),(0,xn.jsx)(wU,{label:"Today Revenue",value:I(D.today+X.todayRevenue+J.todayRevenue),sub:"Today"}),(0,xn.jsx)(wU,{label:"This Month Revenue",value:I(D.month),sub:"Month"}),(0,xn.jsx)(wU,{label:"Net Profit",value:I(ae.total),sub:"Margin: ".concat(ae.margin.toFixed(1),"%")}),(0,xn.jsx)(wU,{label:"Total Expenses",value:I(M.total),sub:"All time"}),(0,xn.jsx)(wU,{label:"This Month Expenses",value:I(M.month),sub:"Month"})]}),(0,xn.jsxs)("section",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 sm:gap-4",children:[(0,xn.jsx)(wU,{label:"Bookings (Active)",value:"".concat(R.active),sub:"Cancelled: ".concat(R.cancelled)}),(0,xn.jsx)(wU,{label:"Package Bookings",value:J.total,sub:I(J.totalRevenue)}),(0,xn.jsx)(wU,{label:"Total Packages",value:N.length,sub:"Available"}),(0,xn.jsx)(wU,{label:"Rooms",value:"".concat(L.occupied,"/").concat(L.total),sub:"Occupied / Total"}),(0,xn.jsx)(wU,{label:"Available Rooms",value:L.available,sub:"Ready"}),(0,xn.jsx)(wU,{label:"Maintenance Rooms",value:L.maintenance,sub:"Under repair"})]}),(0,xn.jsxs)("section",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 sm:gap-4",children:[(0,xn.jsx)(wU,{label:"Food Orders",value:X.total,sub:"Completed: ".concat(X.completed)}),(0,xn.jsx)(wU,{label:"Food Revenue",value:I(X.totalRevenue),sub:"Avg: ".concat(I(X.averageOrderValue))}),(0,xn.jsx)(wU,{label:"Food Items",value:m.length,sub:"Menu items"}),(0,xn.jsx)(wU,{label:"Services",value:$.totalServices,sub:"Available"}),(0,xn.jsx)(wU,{label:"Assigned Services",value:$.totalAssigned,sub:"Completed: ".concat($.completed)}),(0,xn.jsx)(wU,{label:"Service Revenue",value:I($.totalRevenue),sub:"Avg: ".concat(I($.averageServiceValue))})]}),(0,xn.jsxs)("section",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 sm:gap-4",children:[(0,xn.jsx)(wU,{label:"Inventory Items",value:Q.totalItems,sub:"Categories: ".concat(Q.categories)}),(0,xn.jsx)(wU,{label:"Inventory Value",value:I(Q.totalValue),sub:"Total stock value"}),(0,xn.jsx)(wU,{label:"Sellable Items",value:Q.sellableItems,sub:I(Q.totalSellingValue)}),(0,xn.jsx)(wU,{label:"Low Stock Items",value:Q.lowStock,sub:"Needs attention"}),(0,xn.jsx)(wU,{label:"Out of Stock",value:Q.outOfStock,sub:"Critical"}),(0,xn.jsx)(wU,{label:"Employees",value:Z.total,sub:"Active: ".concat(Z.active)})]}),(0,xn.jsxs)("section",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:[(0,xn.jsx)(jU,{title:"Revenue (Last 14 days)",children:(0,xn.jsx)("div",{className:"h-64",children:(0,xn.jsx)(Fh,{width:"100%",height:"100%",children:(0,xn.jsxs)(hT,{data:F,margin:{top:10,right:10,left:0,bottom:0},children:[(0,xn.jsx)("defs",{children:(0,xn.jsxs)("linearGradient",{id:"rev",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,xn.jsx)("stop",{offset:"5%",stopColor:"#6366F1",stopOpacity:.5}),(0,xn.jsx)("stop",{offset:"95%",stopColor:"#6366F1",stopOpacity:.05})]})}),(0,xn.jsx)(iI,{strokeDasharray:"3 3"}),(0,xn.jsx)(yI,{dataKey:"date"}),(0,xn.jsx)(AI,{}),(0,xn.jsx)(lM,{}),(0,xn.jsx)(PR,{type:"monotone",dataKey:"revenue",stroke:"#6366F1",fillOpacity:1,fill:"url(#rev)"})]})})})}),(0,xn.jsx)(jU,{title:"Payment Methods",children:(0,xn.jsx)("div",{className:"h-64",children:(0,xn.jsx)(Fh,{width:"100%",height:"100%",children:(0,xn.jsxs)(FR,{children:[(0,xn.jsx)(jB,{data:z,dataKey:"value",nameKey:"name",outerRadius:90,label:!0,children:z.map((e,t)=>(0,xn.jsx)(aF,{fill:bU[t%bU.length]},t))}),(0,xn.jsx)(lM,{}),(0,xn.jsx)(UB,{})]})})})}),(0,xn.jsx)(jU,{title:"Room Occupancy",children:(0,xn.jsx)("div",{className:"h-64",children:(0,xn.jsx)(Fh,{width:"100%",height:"100%",children:(0,xn.jsxs)(FR,{children:[(0,xn.jsx)(jB,{data:q,dataKey:"value",nameKey:"name",innerRadius:55,outerRadius:90,label:!0,children:q.map((e,t)=>(0,xn.jsx)(aF,{fill:bU[t%bU.length]},t))}),(0,xn.jsx)(lM,{}),(0,xn.jsx)(UB,{})]})})})})]}),(0,xn.jsxs)("section",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[(0,xn.jsx)(jU,{title:"Expenses by Type (Top 6)",children:(0,xn.jsx)("div",{className:"h-64",children:(0,xn.jsx)(Fh,{width:"100%",height:"100%",children:(0,xn.jsxs)(WB,{data:B,margin:{top:10,right:10,left:0,bottom:0},children:[(0,xn.jsx)(iI,{strokeDasharray:"3 3"}),(0,xn.jsx)(yI,{dataKey:"type"}),(0,xn.jsx)(AI,{}),(0,xn.jsx)(lM,{}),(0,xn.jsx)(zz,{dataKey:"amount",fill:"#22C55E",radius:[8,8,0,0]})]})})})}),(0,xn.jsx)(jU,{title:"Food Orders by Type",children:(0,xn.jsx)("div",{className:"h-64",children:(0,xn.jsx)(Fh,{width:"100%",height:"100%",children:(0,xn.jsxs)(FR,{children:[(0,xn.jsx)(jB,{data:U,dataKey:"value",nameKey:"name",outerRadius:90,label:!0,children:U.map((e,t)=>(0,xn.jsx)(aF,{fill:bU[(t+3)%bU.length]},t))}),(0,xn.jsx)(lM,{}),(0,xn.jsx)(UB,{})]})})})}),(0,xn.jsx)(jU,{title:"Service Requests Status",children:(0,xn.jsx)("div",{className:"h-64",children:(0,xn.jsx)(Fh,{width:"100%",height:"100%",children:(0,xn.jsxs)(FR,{children:[(0,xn.jsx)(jB,{data:W,dataKey:"value",nameKey:"name",outerRadius:90,label:!0,children:W.map((e,t)=>(0,xn.jsx)(aF,{fill:bU[(t+6)%bU.length]},t))}),(0,xn.jsx)(lM,{}),(0,xn.jsx)(UB,{})]})})})})]}),(0,xn.jsxs)("section",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[(0,xn.jsx)(jU,{title:"Food Orders Revenue (Last 14 days)",children:(0,xn.jsx)("div",{className:"h-64",children:(0,xn.jsx)(Fh,{width:"100%",height:"100%",children:(0,xn.jsxs)(qz,{data:re,margin:{top:10,right:10,left:0,bottom:0},children:[(0,xn.jsx)(iI,{strokeDasharray:"3 3"}),(0,xn.jsx)(yI,{dataKey:"date"}),(0,xn.jsx)(AI,{}),(0,xn.jsx)(lM,{}),(0,xn.jsx)(vU,{type:"monotone",dataKey:"revenue",stroke:"#F59E0B",strokeWidth:2})]})})})}),(0,xn.jsx)(jU,{title:"Services Revenue (Last 14 days)",children:(0,xn.jsx)("div",{className:"h-64",children:(0,xn.jsx)(Fh,{width:"100%",height:"100%",children:(0,xn.jsxs)(qz,{data:ne,margin:{top:10,right:10,left:0,bottom:0},children:[(0,xn.jsx)(iI,{strokeDasharray:"3 3"}),(0,xn.jsx)(yI,{dataKey:"date"}),(0,xn.jsx)(AI,{}),(0,xn.jsx)(lM,{}),(0,xn.jsx)(vU,{type:"monotone",dataKey:"revenue",stroke:"#10B981",strokeWidth:2})]})})})}),(0,xn.jsx)(jU,{title:"Packages by Booking",children:(0,xn.jsx)("div",{className:"h-64",children:(0,xn.jsx)(Fh,{width:"100%",height:"100%",children:(0,xn.jsxs)(WB,{data:H,margin:{top:10,right:10,left:0,bottom:0},children:[(0,xn.jsx)(iI,{strokeDasharray:"3 3"}),(0,xn.jsx)(yI,{dataKey:"name"}),(0,xn.jsx)(AI,{}),(0,xn.jsx)(lM,{}),(0,xn.jsx)(zz,{dataKey:"count",fill:"#A78BFA",radius:[8,8,0,0]})]})})})})]}),(0,xn.jsxs)("section",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[(0,xn.jsx)(jU,{title:"Expenses by Category",children:(0,xn.jsx)("div",{className:"h-64",children:(0,xn.jsx)(Fh,{width:"100%",height:"100%",children:(0,xn.jsxs)(WB,{data:ee.slice(0,8),margin:{top:10,right:10,left:0,bottom:60},children:[(0,xn.jsx)(iI,{strokeDasharray:"3 3"}),(0,xn.jsx)(yI,{dataKey:"category",angle:-45,textAnchor:"end",height:80}),(0,xn.jsx)(AI,{}),(0,xn.jsx)(lM,{}),(0,xn.jsx)(zz,{dataKey:"amount",fill:"#EF4444",radius:[8,8,0,0]})]})})})}),(0,xn.jsx)(jU,{title:"Inventory Value by Category",children:(0,xn.jsx)("div",{className:"h-64",children:(0,xn.jsx)(Fh,{width:"100%",height:"100%",children:(0,xn.jsxs)(WB,{data:te,margin:{top:10,right:10,left:0,bottom:60},children:[(0,xn.jsx)(iI,{strokeDasharray:"3 3"}),(0,xn.jsx)(yI,{dataKey:"category",angle:-45,textAnchor:"end",height:80}),(0,xn.jsx)(AI,{}),(0,xn.jsx)(lM,{}),(0,xn.jsx)(zz,{dataKey:"value",fill:"#06B6D4",radius:[8,8,0,0]})]})})})}),(0,xn.jsx)(jU,{title:"Food Items by Category",children:(0,xn.jsx)("div",{className:"h-64",children:(0,xn.jsx)(Fh,{width:"100%",height:"100%",children:(0,xn.jsxs)(FR,{children:[(0,xn.jsx)(jB,{data:ie,dataKey:"count",nameKey:"category",outerRadius:90,label:!0,children:ie.map((e,t)=>(0,xn.jsx)(aF,{fill:bU[t%bU.length]},t))}),(0,xn.jsx)(lM,{}),(0,xn.jsx)(UB,{})]})})})})]}),(0,xn.jsxs)("section",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6",children:[(0,xn.jsx)(jU,{title:"Latest Bookings",children:(0,xn.jsx)("div",{className:"overflow-x-auto w-full -mx-2 sm:mx-0",children:(0,xn.jsxs)("table",{className:"min-w-full text-xs sm:text-sm",children:[(0,xn.jsx)("thead",{children:(0,xn.jsxs)("tr",{className:"bg-gray-50 text-gray-700",children:[(0,xn.jsx)(NU,{children:"Guest"}),(0,xn.jsx)(NU,{className:"hidden sm:table-cell",children:"Room"}),(0,xn.jsx)(NU,{className:"hidden lg:table-cell",children:"Check-in"}),(0,xn.jsx)(NU,{className:"hidden lg:table-cell",children:"Check-out"}),(0,xn.jsx)(NU,{children:"Status"})]})}),(0,xn.jsx)("tbody",{children:V.map(e=>{var t,r;return(0,xn.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,xn.jsx)(_U,{className:"text-xs sm:text-sm",children:e.guest_name||e.guest||"-"}),(0,xn.jsx)(_U,{className:"text-xs sm:text-sm hidden sm:table-cell",children:null!==(t=e.room)&&void 0!==t&&t.number?"#".concat(e.room.number).concat(null!==(r=e.room)&&void 0!==r&&r.type?" (".concat(e.room.type,")"):""):e.room_number||"-"}),(0,xn.jsx)(_U,{className:"text-xs sm:text-sm hidden lg:table-cell",children:e.check_in}),(0,xn.jsx)(_U,{className:"text-xs sm:text-sm hidden lg:table-cell",children:e.check_out}),(0,xn.jsx)(_U,{children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs rounded font-semibold ".concat(String(e.status||"").toLowerCase().includes("cancel")?"bg-red-100 text-red-600":"bg-green-100 text-green-700"),children:e.status})})]},e.id)})})]})})}),(0,xn.jsx)(jU,{title:"Recent Payments (Billing)",children:(0,xn.jsx)("div",{className:"overflow-x-auto w-full -mx-2 sm:mx-0",children:(0,xn.jsxs)("table",{className:"min-w-full text-xs sm:text-sm",children:[(0,xn.jsx)("thead",{children:(0,xn.jsxs)("tr",{className:"bg-gray-50 text-gray-700",children:[(0,xn.jsx)(NU,{children:"Guest"}),(0,xn.jsx)(NU,{className:"hidden sm:table-cell",children:"Room"}),(0,xn.jsx)(NU,{className:"hidden md:table-cell",children:"Method"}),(0,xn.jsx)(NU,{children:"Status"}),(0,xn.jsx)(NU,{className:"text-right",children:"Total"}),(0,xn.jsx)(NU,{className:"hidden lg:table-cell",children:"Created"})]})}),(0,xn.jsx)("tbody",{children:G.map(e=>{var t;return(0,xn.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,xn.jsx)(_U,{className:"text-xs sm:text-sm",children:e.guest_name||"-"}),(0,xn.jsx)(_U,{className:"text-xs sm:text-sm hidden sm:table-cell",children:e.room_number||"-"}),(0,xn.jsx)(_U,{className:"text-xs sm:text-sm capitalize hidden md:table-cell",children:String(e.payment_method||"").replace("_"," ")}),(0,xn.jsx)(_U,{className:"uppercase",children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs rounded font-semibold ".concat("paid"===String(e.payment_status||"").toLowerCase()?"bg-green-100 text-green-700":"pending"===String(e.payment_status||"").toLowerCase()?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"),children:e.payment_status})}),(0,xn.jsx)(_U,{className:"text-right font-medium text-xs sm:text-sm",children:I(e.grand_total)}),(0,xn.jsx)(_U,{className:"text-xs sm:text-sm hidden lg:table-cell",children:(null===(t=O(e.created_at))||void 0===t?void 0:t.toLocaleDateString())||"-"})]},e.id)})})]})})})]}),(0,xn.jsxs)("section",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,xn.jsx)(jU,{title:"Latest Packages",children:(0,xn.jsx)("div",{className:"overflow-x-auto w-full",children:(0,xn.jsxs)("table",{className:"min-w-full text-sm",children:[(0,xn.jsx)("thead",{children:(0,xn.jsxs)("tr",{className:"bg-gray-50 text-gray-700",children:[(0,xn.jsx)(NU,{children:"Title"}),(0,xn.jsx)(NU,{children:"Price"}),(0,xn.jsx)(NU,{children:"Images"}),(0,xn.jsx)(NU,{children:"Created"})]})}),(0,xn.jsx)("tbody",{children:Y.map(e=>{var t,r;return(0,xn.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,xn.jsx)(_U,{children:e.title||"-"}),(0,xn.jsx)(_U,{children:I(e.price)}),(0,xn.jsx)(_U,{children:(null===(t=e.images)||void 0===t?void 0:t.length)||0}),(0,xn.jsx)(_U,{children:(null===(r=O(e.created_at))||void 0===r?void 0:r.toLocaleString())||"-"})]},e.id)})})]})})}),(0,xn.jsx)(jU,{title:"Recent Food Orders",children:(0,xn.jsx)("div",{className:"overflow-x-auto w-full",children:(0,xn.jsxs)("table",{className:"min-w-full text-sm",children:[(0,xn.jsx)("thead",{children:(0,xn.jsxs)("tr",{className:"bg-gray-50 text-gray-700",children:[(0,xn.jsx)(NU,{children:"Type"}),(0,xn.jsx)(NU,{children:"Items"}),(0,xn.jsx)(NU,{children:"Status"}),(0,xn.jsx)(NU,{className:"text-right",children:"Amount"}),(0,xn.jsx)(NU,{children:"Created"})]})}),(0,xn.jsx)("tbody",{children:K.map((e,t)=>{var r;return(0,xn.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,xn.jsx)(_U,{children:e.type||e.category||"-"}),(0,xn.jsx)(_U,{children:Array.isArray(e.items)?e.items.length:e.quantity||"-"}),(0,xn.jsx)(_U,{children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs rounded font-semibold ".concat(String(e.status||"").toLowerCase().includes("cancel")?"bg-red-100 text-red-600":"bg-blue-100 text-blue-700"),children:e.status||"NEW"})}),(0,xn.jsx)(_U,{className:"text-right",children:I(e.amount||e.total||0)}),(0,xn.jsx)(_U,{children:(null===(r=O(e.created_at))||void 0===r?void 0:r.toLocaleString())||"-"})]},e.id||t)})})]})})})]}),(0,xn.jsx)("section",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:(0,xn.jsx)(jU,{title:"Quick Expense Peek",children:(0,xn.jsx)("div",{className:"overflow-x-auto w-full",children:(0,xn.jsxs)("table",{className:"min-w-full text-sm",children:[(0,xn.jsx)("thead",{children:(0,xn.jsxs)("tr",{className:"bg-gray-50 text-gray-700",children:[(0,xn.jsx)(NU,{children:"Type"}),(0,xn.jsx)(NU,{children:"Note"}),(0,xn.jsx)(NU,{className:"text-right",children:"Amount"}),(0,xn.jsx)(NU,{children:"Created"})]})}),(0,xn.jsx)("tbody",{children:[...u].sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)).slice(0,8).map((e,t)=>{var r;return(0,xn.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,xn.jsx)(_U,{children:e.type||e.category||"-"}),(0,xn.jsx)(_U,{className:"truncate max-w-[260px]",title:e.note||e.description||"",children:e.note||e.description||"-"}),(0,xn.jsx)(_U,{className:"text-right",children:I(e.amount||e.charges||0)}),(0,xn.jsx)(_U,{children:(null===(r=O(e.created_at))||void 0===r?void 0:r.toLocaleString())||"-"})]},e.id||t)})})]})})})})]})]})},SU=Cu("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),AU=Cu("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),CU=Cu("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),EU=Cu("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),PU=[{label:"Dashboard",value:"/dashboard"},{label:"Account",value:"/account"},{label:"Bookings",value:"/bookings"},{label:"Rooms",value:"/rooms"},{label:"Services",value:"/services"},{label:"Food Orders",value:"/food-orders"},{label:"Employee",value:"/employee"},{label:"Role",value:"/roles"},{label:"Expenses",value:"/expenses"},{label:"Food Management",value:"/food-categories"},{label:"Billing",value:"/billing"},{label:"WEB Management",value:"/Userfrontend_data"},{label:"Packages",value:"/package"},{label:"Reports",value:"/report"},{label:"GuestProfiles",value:"/guestprofiles"}],TU=["admin"],OU=()=>{const[e,t]=(0,i.useState)({name:"",permissions:[]}),[r,n]=(0,i.useState)([]),[a,s]=(0,i.useState)(!1),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[u,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(null),x=async()=>{try{const e=await mn.get("/roles");n(e.data)}catch(e){console.error("Failed to fetch roles",e)}};(0,i.useEffect)(()=>{x()},[]);return(0,xn.jsxs)(Zu,{children:[(0,xn.jsxs)("div",{className:"max-w-6xl mx-auto p-8 bg-gray-50 rounded-2xl shadow-lg space-y-10",children:[(0,xn.jsx)("h2",{className:"text-4xl font-extrabold text-blue-900 text-center tracking-tight",children:"Role Management"}),c&&(0,xn.jsxs)("div",{className:"flex items-center gap-2 p-4 text-sm font-medium text-green-700 bg-green-100 rounded-lg",children:[(0,xn.jsx)(SU,{size:20}),c]}),o&&(0,xn.jsxs)("div",{className:"flex items-center gap-2 p-4 text-sm font-medium text-red-700 bg-red-100 rounded-lg",children:[(0,xn.jsx)(AU,{size:20}),o]}),(0,xn.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md space-y-6",children:[(0,xn.jsx)("h3",{className:"text-2xl font-semibold text-blue-800 border-b pb-4",children:u?"Edit Role":"Create New Role"}),(0,xn.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),s(!0),l(""),d("");try{const r=Fe(Fe({},e),{},{permissions:JSON.stringify(e.permissions)});u?(await mn.put("/roles/".concat(u),r),d("Role updated successfully!")):(await mn.post("/roles",r),d("Role created successfully!")),t({name:"",permissions:[]}),h(null),await x()}catch(n){u&&n.response&&404===n.response.status?(l("Failed to update role. It may have been deleted by another user."),h(null),t({name:"",permissions:[]}),await x()):l(u?"Failed to update role":"Failed to create role")}s(!1)},className:"space-y-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{htmlFor:"roleName",className:"block text-sm font-semibold text-gray-700 mb-1",children:"Role Name"}),(0,xn.jsx)("input",{id:"roleName",type:"text",name:"name",value:e.name,onChange:e=>{const{name:r,value:n}=e.target;t(e=>Fe(Fe({},e),{},{[r]:n.trimStart()}))},required:!0,placeholder:"e.g., Administrator, Manager, Staff",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Permissions"}),(0,xn.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 p-4 border rounded-lg bg-gray-50",children:PU.map(r=>(0,xn.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-800 cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",checked:e.permissions.includes(r.value),onChange:()=>{return e=r.value,void t(t=>{const r=t.permissions.includes(e)?t.permissions.filter(t=>t!==e):[...t.permissions,e];return Fe(Fe({},t),{},{permissions:r})});var e},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.label]},r.value))})]}),(0,xn.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,xn.jsx)("button",{type:"submit",disabled:a,className:"flex-1 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg shadow-lg transition-transform transform hover:scale-105 disabled:bg-gray-400 disabled:cursor-not-allowed",children:a?"Saving...":u?"Update Role":"Create Role"}),u&&(0,xn.jsx)("button",{type:"button",onClick:()=>{h(null),t({name:"",permissions:[]}),d(""),l("")},className:"flex-1 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold rounded-lg shadow-lg transition-transform transform hover:scale-105",children:"Cancel"})]})]})]}),(0,xn.jsxs)("div",{className:"space-y-4 bg-white p-6 rounded-xl shadow-md",children:[(0,xn.jsx)("h3",{className:"text-2xl font-semibold text-blue-800 border-b pb-4",children:"Existing Roles"}),(0,xn.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:(0,xn.jsxs)("table",{className:"min-w-full text-sm text-left",children:[(0,xn.jsx)("thead",{className:"bg-gray-100 text-gray-700 uppercase tracking-wider",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-6 py-3",children:"#"}),(0,xn.jsx)("th",{className:"px-6 py-3",children:"Role Name"}),(0,xn.jsx)("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),(0,xn.jsx)("tbody",{children:r.length>0?r.map(e=>{const r=TU.includes(e.name.toLowerCase());return(0,xn.jsxs)("tr",{className:"border-t border-gray-200 hover:bg-gray-50 transition-colors group",children:[(0,xn.jsx)("td",{className:"px-6 py-4 font-mono text-gray-500",children:e.id}),(0,xn.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:e.name}),(0,xn.jsx)("td",{className:"px-6 py-4 text-right",children:(0,xn.jsxs)("div",{className:"flex items-center justify-end gap-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,xn.jsx)("button",{onClick:()=>(e=>{h(e.id),t({name:e.name,permissions:e.permissions||[]}),d(""),l(""),window.scrollTo({top:0,behavior:"smooth"})})(e),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Edit Role",children:(0,xn.jsx)(CU,{size:18})}),(0,xn.jsx)("button",{onClick:()=>(e=>{g(e),p(!0)})(e),className:"transition-colors ".concat(r?"text-gray-400 cursor-not-allowed":"text-red-600 hover:text-red-800"),title:r?"This role cannot be deleted":"Delete Role",disabled:r,children:(0,xn.jsx)(EU,{size:18})})]})})]},e.id)}):(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"2",className:"text-center text-gray-400 py-6",children:"No roles found"})})})]})})]})]}),f&&(0,xn.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,xn.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-2xl max-w-sm text-center space-y-4",children:[(0,xn.jsx)("h4",{className:"text-lg font-bold text-gray-800",children:"Confirm Deletion"}),(0,xn.jsxs)("p",{className:"text-gray-600",children:['Are you sure you want to delete the role "',(0,xn.jsx)("span",{className:"font-semibold",children:null===m||void 0===m?void 0:m.name}),'"? This action cannot be undone.']}),(0,xn.jsxs)("div",{className:"flex justify-center gap-4 mt-4",children:[(0,xn.jsx)("button",{onClick:()=>{g(null),p(!1)},className:"px-6 py-2 border rounded-lg text-gray-700 hover:bg-gray-100 transition",children:"Cancel"}),(0,xn.jsx)("button",{onClick:async()=>{if(m){s(!0),l(""),d(""),p(!1);try{await mn.delete("/roles/".concat(m.id)),await x(),d("Role deleted successfully!")}catch(e){e.response&&404===e.response.status?l("Failed to delete role. It may have already been deleted."):l("Failed to delete role. Please try again.")}finally{s(!1),g(null)}}},className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Delete"})]})]})})]})};var IU=r(5751);function LU(e){return e+.5|0}const DU=(e,t,r)=>Math.max(Math.min(e,r),t);function MU(e){return DU(LU(2.55*e),0,255)}function RU(e){return DU(LU(255*e),0,255)}function FU(e){return DU(LU(e/2.55)/100,0,1)}function BU(e){return DU(LU(100*e),0,100)}const zU={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},UU=[..."0123456789ABCDEF"],qU=e=>UU[15&e],WU=e=>UU[(240&e)>>4]+UU[15&e],HU=e=>(240&e)>>4===(15&e);function VU(e){var t=(e=>HU(e.r)&&HU(e.g)&&HU(e.b)&&HU(e.a))(e)?qU:WU;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const GU=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function KU(e,t,r){const n=t*Math.min(r,1-r),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return r-n*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function YU(e,t,r){const n=function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n+e/60)%6;return r-r*t*Math.max(Math.min(i,4-i,1),0)};return[n(5),n(3),n(1)]}function XU(e,t,r){const n=KU(e,1,.5);let i;for(t+r>1&&(i=1/(t+r),t*=i,r*=i),i=0;i<3;i++)n[i]*=1-t-r,n[i]+=t;return n}function QU(e){const t=e.r/255,r=e.g/255,n=e.b/255,i=Math.max(t,r,n),a=Math.min(t,r,n),s=(i+a)/2;let o,l,c;return i!==a&&(c=i-a,l=s>.5?c/(2-i-a):c/(i+a),o=function(e,t,r,n,i){return e===i?(t-r)/n+(t<r?6:0):t===i?(r-e)/n+2:(e-t)/n+4}(t,r,n,c,i),o=60*o+.5),[0|o,l||0,s]}function $U(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(RU)}function ZU(e,t,r){return $U(KU,e,t,r)}function JU(e){return(e%360+360)%360}function eq(e){const t=GU.exec(e);let r,n=255;if(!t)return;t[5]!==r&&(n=t[6]?MU(+t[5]):RU(+t[5]));const i=JU(+t[2]),a=+t[3]/100,s=+t[4]/100;return r="hwb"===t[1]?function(e,t,r){return $U(XU,e,t,r)}(i,a,s):"hsv"===t[1]?function(e,t,r){return $U(YU,e,t,r)}(i,a,s):ZU(i,a,s),{r:r[0],g:r[1],b:r[2],a:n}}const tq={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rq={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let nq;function iq(e){nq||(nq=function(){const e={},t=Object.keys(rq),r=Object.keys(tq);let n,i,a,s,o;for(n=0;n<t.length;n++){for(s=o=t[n],i=0;i<r.length;i++)a=r[i],o=o.replace(a,tq[a]);a=parseInt(rq[s],16),e[o]=[a>>16&255,a>>8&255,255&a]}return e}(),nq.transparent=[0,0,0,0]);const t=nq[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const aq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const sq=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,oq=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function lq(e,t,r){if(e){let n=QU(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,0===t?360:1)),n=ZU(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function cq(e,t){return e?Object.assign(t||{},e):e}function dq(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=RU(e[3]))):(t=cq(e,{r:0,g:0,b:0,a:1})).a=RU(t.a),t}function uq(e){return"r"===e.charAt(0)?function(e){const t=aq.exec(e);let r,n,i,a=255;if(t){if(t[7]!==r){const e=+t[7];a=t[8]?MU(e):DU(255*e,0,255)}return r=+t[1],n=+t[3],i=+t[5],r=255&(t[2]?MU(r):DU(r,0,255)),n=255&(t[4]?MU(n):DU(n,0,255)),i=255&(t[6]?MU(i):DU(i,0,255)),{r:r,g:n,b:i,a:a}}}(e):eq(e)}class hq{constructor(e){if(e instanceof hq)return e;const t=typeof e;let r;"object"===t?r=dq(e):"string"===t&&(r=function(e){var t,r=e.length;return"#"===e[0]&&(4===r||5===r?t={r:255&17*zU[e[1]],g:255&17*zU[e[2]],b:255&17*zU[e[3]],a:5===r?17*zU[e[4]]:255}:7!==r&&9!==r||(t={r:zU[e[1]]<<4|zU[e[2]],g:zU[e[3]]<<4|zU[e[4]],b:zU[e[5]]<<4|zU[e[6]],a:9===r?zU[e[7]]<<4|zU[e[8]]:255})),t}(e)||iq(e)||uq(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=cq(this._rgb);return e&&(e.a=FU(e.a)),e}set rgb(e){this._rgb=dq(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(FU(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}hexString(){return this._valid?VU(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=QU(e),r=t[0],n=BU(t[1]),i=BU(t[2]);return e.a<255?"hsla(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(FU(e.a),")"):"hsl(".concat(r,", ").concat(n,"%, ").concat(i,"%)")}(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,n=e.rgb;let i;const a=t===i?.5:t,s=2*a-1,o=r.a-n.a,l=((s*o===-1?s:(s+o)/(1+s*o))+1)/2;i=1-l,r.r=255&l*r.r+i*n.r+.5,r.g=255&l*r.g+i*n.g+.5,r.b=255&l*r.b+i*n.b+.5,r.a=a*r.a+(1-a)*n.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,r){const n=oq(FU(e.r)),i=oq(FU(e.g)),a=oq(FU(e.b));return{r:RU(sq(n+r*(oq(FU(t.r))-n))),g:RU(sq(i+r*(oq(FU(t.g))-i))),b:RU(sq(a+r*(oq(FU(t.b))-a))),a:e.a+r*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new hq(this.rgb)}alpha(e){return this._rgb.a=RU(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=LU(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return lq(this._rgb,2,e),this}darken(e){return lq(this._rgb,2,-e),this}saturate(e){return lq(this._rgb,1,e),this}desaturate(e){return lq(this._rgb,1,-e),this}rotate(e){return function(e,t){var r=QU(e);r[0]=JU(r[0]+t),r=ZU(r),e.r=r[0],e.g=r[1],e.b=r[2]}(this._rgb,e),this}}function fq(){}const pq=(()=>{let e=0;return()=>e++})();function mq(e){return null===e||void 0===e}function gq(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function xq(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function yq(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function vq(e,t){return yq(e)?e:t}function bq(e,t){return"undefined"===typeof e?t:e}const wq=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function jq(e,t,r){if(e&&"function"===typeof e.call)return e.apply(r,t)}function Nq(e,t,r,n){let i,a,s;if(gq(e))if(a=e.length,n)for(i=a-1;i>=0;i--)t.call(r,e[i],i);else for(i=0;i<a;i++)t.call(r,e[i],i);else if(xq(e))for(s=Object.keys(e),a=s.length,i=0;i<a;i++)t.call(r,e[s[i]],s[i])}function _q(e,t){let r,n,i,a;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(i=e[r],a=t[r],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function kq(e){if(gq(e))return e.map(kq);if(xq(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let i=0;for(;i<n;++i)t[r[i]]=kq(e[r[i]]);return t}return e}function Sq(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Aq(e,t,r,n){if(!Sq(e))return;const i=t[e],a=r[e];xq(i)&&xq(a)?Cq(i,a,n):t[e]=kq(a)}function Cq(e,t,r){const n=gq(t)?t:[t],i=n.length;if(!xq(e))return e;const a=(r=r||{}).merger||Aq;let s;for(let o=0;o<i;++o){if(s=n[o],!xq(s))continue;const t=Object.keys(s);for(let n=0,i=t.length;n<i;++n)a(t[n],e,s,r)}return e}function Eq(e,t){return Cq(e,t,{merger:Pq})}function Pq(e,t,r){if(!Sq(e))return;const n=t[e],i=r[e];xq(n)&&xq(i)?Eq(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=kq(i))}const Tq={"":e=>e,x:e=>e.x,y:e=>e.y};function Oq(e,t){const r=Tq[t]||(Tq[t]=function(e){const t=function(e){const t=e.split("."),r=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}(e);return e=>{for(const r of t){if(""===r)break;e=e&&e[r]}return e}}(t));return r(e)}function Iq(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Lq=e=>"undefined"!==typeof e,Dq=e=>"function"===typeof e,Mq=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};const Rq=Math.PI,Fq=2*Rq,Bq=Fq+Rq,zq=Number.POSITIVE_INFINITY,Uq=Rq/180,qq=Rq/2,Wq=Rq/4,Hq=2*Rq/3,Vq=Math.log10,Gq=Math.sign;function Kq(e,t,r){return Math.abs(e-t)<r}function Yq(e){const t=Math.round(e);e=Kq(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(Vq(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function Xq(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Qq(e,t,r){let n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n][r],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function $q(e){return e*(Rq/180)}function Zq(e){return e*(180/Rq)}function Jq(e){if(!yq(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function eW(e,t){const r=t.x-e.x,n=t.y-e.y,i=Math.sqrt(r*r+n*n);let a=Math.atan2(n,r);return a<-.5*Rq&&(a+=Fq),{angle:a,distance:i}}function tW(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function rW(e,t){return(e-t+Bq)%Fq-Rq}function nW(e){return(e%Fq+Fq)%Fq}function iW(e,t,r,n){const i=nW(e),a=nW(t),s=nW(r),o=nW(a-i),l=nW(s-i),c=nW(i-a),d=nW(i-s);return i===a||i===s||n&&a===s||o>l&&c<d}function aW(e,t,r){return Math.max(t,Math.min(r,e))}function sW(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function oW(e,t,r){r=r||(r=>e[r]<t);let n,i=e.length-1,a=0;for(;i-a>1;)n=a+i>>1,r(n)?a=n:i=n;return{lo:a,hi:i}}const lW=(e,t,r,n)=>oW(e,r,n?n=>{const i=e[n][t];return i<r||i===r&&e[n+1][t]===r}:n=>e[n][t]<r),cW=(e,t,r)=>oW(e,r,n=>e[n][t]>=r);const dW=["push","pop","shift","splice","unshift"];function uW(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(t);-1!==i&&n.splice(i,1),n.length>0||(dW.forEach(t=>{delete e[t]}),delete e._chartjs)}function hW(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const fW="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function pW(e,t){let r=[],n=!1;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];r=a,n||(n=!0,fW.call(window,()=>{n=!1,e.apply(t,r)}))}}const mW=e=>"start"===e?"left":"end"===e?"right":"center",gW=(e,t,r)=>"start"===e?t:"end"===e?r:(t+r)/2;function xW(e,t,r){const n=t.length;let i=0,a=n;if(e._sorted){const{iScale:s,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=s.axis,{min:u,max:h,minDefined:f,maxDefined:p}=s.getUserBounds();if(f){if(i=Math.min(lW(l,d,u).lo,r?n:lW(t,d,s.getPixelForValue(u)).lo),c){const e=l.slice(0,i+1).reverse().findIndex(e=>!mq(e[o.axis]));i-=Math.max(0,e)}i=aW(i,0,n-1)}if(p){let e=Math.max(lW(l,s.axis,h,!0).hi+1,r?0:lW(t,d,s.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex(e=>!mq(e[o.axis]));e+=Math.max(0,t)}a=aW(e,i,n)-i}else a=n-i}return{start:i,count:a}}function yW(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,i={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=i,!0;const a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),a}const vW=e=>0===e||1===e,bW=(e,t,r)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Fq/r),wW=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*Fq/r)+1,jW={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*qq),easeOutSine:e=>Math.sin(e*qq),easeInOutSine:e=>-.5*(Math.cos(Rq*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>vW(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>vW(e)?e:bW(e,.075,.3),easeOutElastic:e=>vW(e)?e:wW(e,.075,.3),easeInOutElastic(e){const t=.1125;return vW(e)?e:e<.5?.5*bW(2*e,t,.45):.5+.5*wW(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-jW.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375},easeInOutBounce:e=>e<.5?.5*jW.easeInBounce(2*e):.5*jW.easeOutBounce(2*e-1)+.5};function NW(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function _W(e){return NW(e)?e:new hq(e)}function kW(e){return NW(e)?e:new hq(e).saturate(.5).darken(.1).hexString()}const SW=["x","y","borderWidth","radius","tension"],AW=["color","borderColor","backgroundColor"];const CW=new Map;function EW(e,t,r){return function(e,t){t=t||{};const r=e+JSON.stringify(t);let n=CW.get(r);return n||(n=new Intl.NumberFormat(e,t),CW.set(r,n)),n}(t,r).format(e)}const PW={values:e=>gq(e)?e:""+e,numeric(e,t,r){if(0===e)return"0";const n=this.chart.options.locale;let i,a=e;if(r.length>1){const t=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),a=function(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e));return r}(e,r)}const s=Vq(Math.abs(a)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),EW(e,n,l)},logarithmic(e,t,r){if(0===e)return"0";const n=r[t].significand||e/Math.pow(10,Math.floor(Vq(e)));return[1,2,3,5,10,15].includes(n)||t>.8*r.length?PW.numeric.call(this,e,t,r):""}};var TW={formatters:PW};const OW=Object.create(null),IW=Object.create(null);function LW(e,t){if(!t)return e;const r=t.split(".");for(let n=0,i=r.length;n<i;++n){const t=r[n];e=e[t]||(e[t]=Object.create(null))}return e}function DW(e,t,r){return"string"===typeof t?Cq(LW(e,t),r):Cq(LW(e,""),t)}class MW{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>kW(t.backgroundColor),this.hoverBorderColor=(e,t)=>kW(t.borderColor),this.hoverColor=(e,t)=>kW(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return DW(this,e,t)}get(e){return LW(this,e)}describe(e,t){return DW(IW,e,t)}override(e,t){return DW(OW,e,t)}route(e,t,r,n){const i=LW(this,e),a=LW(this,r),s="_"+t;Object.defineProperties(i,{[s]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[s],t=a[n];return xq(e)?Object.assign({},t,e):bq(e,t)},set(e){this[s]=e}}})}apply(e){e.forEach(e=>e(this))}}var RW=new MW({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:AW},numbers:{type:"number",properties:SW}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:TW.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function FW(e,t,r,n,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,r.push(i)),a>n&&(n=a),n}function BW(e,t,r,n){let i=(n=n||{}).data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(i=n.data={},a=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let s=0;const o=r.length;let l,c,d,u,h;for(l=0;l<o;l++)if(u=r[l],void 0===u||null===u||gq(u)){if(gq(u))for(c=0,d=u.length;c<d;c++)h=u[c],void 0===h||null===h||gq(h)||(s=FW(e,i,a,s,h))}else s=FW(e,i,a,s,u);e.restore();const f=a.length/2;if(f>r.length){for(l=0;l<f;l++)delete i[a[l]];a.splice(0,f)}return s}function zW(e,t,r){const n=e.currentDevicePixelRatio,i=0!==r?Math.max(r/2,.5):0;return Math.round((t-i)*n)/n+i}function UW(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function qW(e,t,r,n){WW(e,t,r,n,null)}function WW(e,t,r,n,i){let a,s,o,l,c,d,u,h;const f=t.pointStyle,p=t.rotation,m=t.radius;let g=(p||0)*Uq;if(f&&"object"===typeof f&&(a=f.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(r,n),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),f){default:i?e.ellipse(r,n,i/2,m,0,0,Fq):e.arc(r,n,m,0,Fq),e.closePath();break;case"triangle":d=i?i/2:m,e.moveTo(r+Math.sin(g)*d,n-Math.cos(g)*m),g+=Hq,e.lineTo(r+Math.sin(g)*d,n-Math.cos(g)*m),g+=Hq,e.lineTo(r+Math.sin(g)*d,n-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,s=Math.cos(g+Wq)*l,u=Math.cos(g+Wq)*(i?i/2-c:l),o=Math.sin(g+Wq)*l,h=Math.sin(g+Wq)*(i?i/2-c:l),e.arc(r-u,n-o,c,g-Rq,g-qq),e.arc(r+h,n-s,c,g-qq,g),e.arc(r+u,n+o,c,g,g+qq),e.arc(r-h,n+s,c,g+qq,g+Rq),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,d=i?i/2:l,e.rect(r-d,n-l,2*d,2*l);break}g+=Wq;case"rectRot":u=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(r-u,n-o),e.lineTo(r+h,n-s),e.lineTo(r+u,n+o),e.lineTo(r-h,n+s),e.closePath();break;case"crossRot":g+=Wq;case"cross":u=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(r-u,n-o),e.lineTo(r+u,n+o),e.moveTo(r+h,n-s),e.lineTo(r-h,n+s);break;case"star":u=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(r-u,n-o),e.lineTo(r+u,n+o),e.moveTo(r+h,n-s),e.lineTo(r-h,n+s),g+=Wq,u=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(r-u,n-o),e.lineTo(r+u,n+o),e.moveTo(r+h,n-s),e.lineTo(r-h,n+s);break;case"line":s=i?i/2:Math.cos(g)*m,o=Math.sin(g)*m,e.moveTo(r-s,n-o),e.lineTo(r+s,n+o);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(g)*(i?i/2:m),n+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function HW(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function VW(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function GW(e){e.restore()}function KW(e,t,r,n,i){if(!t)return e.lineTo(r.x,r.y);if("middle"===i){const n=(t.x+r.x)/2;e.lineTo(n,t.y),e.lineTo(n,r.y)}else"after"===i!==!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function YW(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function XW(e,t,r,n,i){if(i.strikethrough||i.underline){const a=e.measureText(n),s=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,l=r-a.actualBoundingBoxAscent,c=r+a.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(s,d),e.lineTo(o,d),e.stroke()}}function QW(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function $W(e,t,r,n,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=gq(t)?t:[t],o=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),mq(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<s.length;++l)c=s[l],a.backdrop&&QW(e,a.backdrop),o&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),mq(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,r,n,a.maxWidth)),e.fillText(c,r,n,a.maxWidth),XW(e,r,n,c,a),n+=Number(i.lineHeight);e.restore()}function ZW(e,t){const{x:r,y:n,w:i,h:a,radius:s}=t;e.arc(r+s.topLeft,n+s.topLeft,s.topLeft,1.5*Rq,Rq,!0),e.lineTo(r,n+a-s.bottomLeft),e.arc(r+s.bottomLeft,n+a-s.bottomLeft,s.bottomLeft,Rq,qq,!0),e.lineTo(r+i-s.bottomRight,n+a),e.arc(r+i-s.bottomRight,n+a-s.bottomRight,s.bottomRight,qq,0,!0),e.lineTo(r+i,n+s.topRight),e.arc(r+i-s.topRight,n+s.topRight,s.topRight,0,-qq,!0),e.lineTo(r+s.topLeft,n)}const JW=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,eH=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function tH(e,t){const r=(""+e).match(JW);if(!r||"normal"===r[1])return 1.2*t;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100}return t*e}const rH=e=>+e||0;function nH(e,t){const r={},n=xq(t),i=n?Object.keys(t):t,a=xq(e)?n?r=>bq(e[r],e[t[r]]):t=>e[t]:()=>e;for(const s of i)r[s]=rH(a(s));return r}function iH(e){return nH(e,{top:"y",right:"x",bottom:"y",left:"x"})}function aH(e){return nH(e,["topLeft","topRight","bottomLeft","bottomRight"])}function sH(e){const t=iH(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function oH(e,t){e=e||{},t=t||RW.font;let r=bq(e.size,t.size);"string"===typeof r&&(r=parseInt(r,10));let n=bq(e.style,t.style);n&&!(""+n).match(eH)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:bq(e.family,t.family),lineHeight:tH(bq(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:bq(e.weight,t.weight),string:""};return i.string=function(e){return!e||mq(e.size)||mq(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function lH(e,t,r,n){let i,a,s,o=!0;for(i=0,a=e.length;i<a;++i)if(s=e[i],void 0!==s&&(void 0!==t&&"function"===typeof s&&(s=s(t),o=!1),void 0!==r&&gq(s)&&(s=s[r%s.length],o=!1),void 0!==s))return n&&!o&&(n.cacheable=!1),s}function cH(e,t){return Object.assign(Object.create(e),t)}function dH(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof r&&(r=wH("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:n,override:n=>dH([n,...e],t,i,r)};return new Proxy(a,{deleteProperty:(t,r)=>(delete t[r],delete t._keys,delete e[0][r],!0),get:(r,n)=>mH(r,n,()=>function(e,t,r,n){let i;for(const a of t)if(i=wH(fH(a,e),r),"undefined"!==typeof i)return pH(e,i)?vH(r,n,e,i):i}(n,t,e,r)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>jH(e).includes(t),ownKeys:e=>jH(e),set(e,t,r){const i=e._storage||(e._storage=n());return e[t]=i[t]=r,delete e._keys,!0}})}function uH(e,t,r,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:hH(e,n),setContext:t=>uH(e,t,r,n),override:i=>uH(e.override(i),t,r,n)};return new Proxy(i,{deleteProperty:(t,r)=>(delete t[r],delete e[r],!0),get:(e,t,r)=>mH(e,t,()=>function(e,t,r){const{_proxy:n,_context:i,_subProxy:a,_descriptors:s}=e;let o=n[t];Dq(o)&&s.isScriptable(t)&&(o=function(e,t,r,n){const{_proxy:i,_context:a,_subProxy:s,_stack:o}=r;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(a,s||n);o.delete(e),pH(e,l)&&(l=vH(i._scopes,i,e,l));return l}(t,o,e,r));gq(o)&&o.length&&(o=function(e,t,r,n){const{_proxy:i,_context:a,_subProxy:s,_descriptors:o}=r;if("undefined"!==typeof a.index&&n(e))return t[a.index%t.length];if(xq(t[0])){const r=t,n=i._scopes.filter(e=>e!==r);t=[];for(const l of r){const r=vH(n,i,e,l);t.push(uH(r,a,s&&s[e],o))}}return t}(t,o,e,s.isIndexable));pH(t,o)&&(o=uH(o,i,a&&a[t],s));return o}(e,t,r)),getOwnPropertyDescriptor:(t,r)=>t._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,r)=>Reflect.has(e,r),ownKeys:()=>Reflect.ownKeys(e),set:(t,r,n)=>(e[r]=n,delete t[r],!0)})}function hH(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:r,indexable:n,isScriptable:Dq(r)?r:()=>r,isIndexable:Dq(n)?n:()=>n}}const fH=(e,t)=>e?e+Iq(t):t,pH=(e,t)=>xq(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function mH(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const n=r();return e[t]=n,n}function gH(e,t,r){return Dq(e)?e(t,r):e}const xH=(e,t)=>!0===e?t:"string"===typeof e?Oq(t,e):void 0;function yH(e,t,r,n,i){for(const a of t){const t=xH(r,a);if(t){e.add(t);const a=gH(t._fallback,r,i);if("undefined"!==typeof a&&a!==r&&a!==n)return a}else if(!1===t&&"undefined"!==typeof n&&r!==n)return null}return!1}function vH(e,t,r,n){const i=t._rootScopes,a=gH(t._fallback,r,n),s=[...e,...i],o=new Set;o.add(n);let l=bH(o,s,r,a||r,n);return null!==l&&(("undefined"===typeof a||a===r||(l=bH(o,s,a,l,n),null!==l))&&dH(Array.from(o),[""],i,a,()=>function(e,t,r){const n=e._getTarget();t in n||(n[t]={});const i=n[t];if(gq(i)&&xq(r))return r;return i||{}}(t,r,n)))}function bH(e,t,r,n,i){for(;r;)r=yH(e,t,r,n,i);return r}function wH(e,t){for(const r of t){if(!r)continue;const t=r[e];if("undefined"!==typeof t)return t}}function jH(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const r of e)for(const e of Object.keys(r).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function NH(e,t,r,n){const{iScale:i}=e,{key:a="r"}=this._parsing,s=new Array(n);let o,l,c,d;for(o=0,l=n;o<l;++o)c=o+r,d=t[c],s[o]={r:i.parse(Oq(d,a),c)};return s}const _H=Number.EPSILON||1e-14,kH=(e,t)=>t<e.length&&!e[t].skip&&e[t],SH=e=>"x"===e?"y":"x";function AH(e,t,r,n){const i=e.skip?t:e,a=t,s=r.skip?t:r,o=tW(a,i),l=tW(s,a);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=n*c,h=n*d;return{previous:{x:a.x-u*(s.x-i.x),y:a.y-u*(s.y-i.y)},next:{x:a.x+h*(s.x-i.x),y:a.y+h*(s.y-i.y)}}}function CH(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const r=SH(t),n=e.length,i=Array(n).fill(0),a=Array(n);let s,o,l,c=kH(e,0);for(s=0;s<n;++s)if(o=l,l=c,c=kH(e,s+1),l){if(c){const e=c[t]-l[t];i[s]=0!==e?(c[r]-l[r])/e:0}a[s]=o?c?Gq(i[s-1])!==Gq(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}!function(e,t,r){const n=e.length;let i,a,s,o,l,c=kH(e,0);for(let d=0;d<n-1;++d)l=c,c=kH(e,d+1),l&&c&&(Kq(t[d],0,_H)?r[d]=r[d+1]=0:(i=r[d]/t[d],a=r[d+1]/t[d],o=Math.pow(i,2)+Math.pow(a,2),o<=9||(s=3/Math.sqrt(o),r[d]=i*s*t[d],r[d+1]=a*s*t[d])))}(e,i,a),function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const n=SH(r),i=e.length;let a,s,o,l=kH(e,0);for(let c=0;c<i;++c){if(s=o,o=l,l=kH(e,c+1),!o)continue;const i=o[r],d=o[n];s&&(a=(i-s[r])/3,o["cp1".concat(r)]=i-a,o["cp1".concat(n)]=d-a*t[c]),l&&(a=(l[r]-i)/3,o["cp2".concat(r)]=i+a,o["cp2".concat(n)]=d+a*t[c])}}(e,a,t)}function EH(e,t,r){return Math.max(Math.min(e,r),t)}function PH(e,t,r,n,i){let a,s,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)CH(e,i);else{let r=n?e[e.length-1]:e[0];for(a=0,s=e.length;a<s;++a)o=e[a],l=AH(r,o,e[Math.min(a+1,s-(n?0:1))%s],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,r=o}t.capBezierPoints&&function(e,t){let r,n,i,a,s,o=HW(e[0],t);for(r=0,n=e.length;r<n;++r)s=a,a=o,o=r<n-1&&HW(e[r+1],t),a&&(i=e[r],s&&(i.cp1x=EH(i.cp1x,t.left,t.right),i.cp1y=EH(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=EH(i.cp2x,t.left,t.right),i.cp2y=EH(i.cp2y,t.top,t.bottom)))}(e,r)}function TH(){return"undefined"!==typeof window&&"undefined"!==typeof document}function OH(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function IH(e,t,r){let n;return"string"===typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[r])):n=e,n}const LH=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const DH=["top","right","bottom","left"];function MH(e,t,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const a=DH[i];n[a]=parseFloat(e[t+"-"+a+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function RH(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,i=LH(r),a="border-box"===i.boxSizing,s=MH(i,"padding"),o=MH(i,"border","width"),{x:l,y:c,box:d}=function(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:i,offsetY:a}=n;let s,o,l=!1;if(((e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot))(i,a,e.target))s=i,o=a;else{const e=t.getBoundingClientRect();s=n.clientX-e.left,o=n.clientY-e.top,l=!0}return{x:s,y:o,box:l}}(e,r),u=s.left+(d&&o.left),h=s.top+(d&&o.top);let{width:f,height:p}=t;return a&&(f-=s.width+o.width,p-=s.height+o.height),{x:Math.round((l-u)/f*r.width/n),y:Math.round((c-h)/p*r.height/n)}}const FH=e=>Math.round(10*e)/10;function BH(e,t,r,n){const i=LH(e),a=MH(i,"margin"),s=IH(i.maxWidth,e,"clientWidth")||zq,o=IH(i.maxHeight,e,"clientHeight")||zq,l=function(e,t,r){let n,i;if(void 0===t||void 0===r){const a=e&&OH(e);if(a){const e=a.getBoundingClientRect(),s=LH(a),o=MH(s,"border","width"),l=MH(s,"padding");t=e.width-l.width-o.width,r=e.height-l.height-o.height,n=IH(s.maxWidth,a,"clientWidth"),i=IH(s.maxHeight,a,"clientHeight")}else t=e.clientWidth,r=e.clientHeight}return{width:t,height:r,maxWidth:n||zq,maxHeight:i||zq}}(e,t,r);let{width:c,height:d}=l;if("content-box"===i.boxSizing){const e=MH(i,"border","width"),t=MH(i,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-a.width),d=Math.max(0,n?c/n:d-a.height),c=FH(Math.min(c,s,l.maxWidth)),d=FH(Math.min(d,o,l.maxHeight)),c&&!d&&(d=FH(c/2));return(void 0!==t||void 0!==r)&&n&&l.height&&d>l.height&&(d=l.height,c=FH(Math.floor(d*n))),{width:c,height:d}}function zH(e,t,r){const n=t||1,i=FH(e.height*n),a=FH(e.width*n);e.height=FH(e.height),e.width=FH(e.width);const s=e.canvas;return s.style&&(r||!s.style.height&&!s.style.width)&&(s.style.height="".concat(e.height,"px"),s.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==n||s.height!==i||s.width!==a)&&(e.currentDevicePixelRatio=n,s.height=i,s.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0)}const UH=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};TH()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(UX){}return e}();function qH(e,t){const r=function(e,t){return LH(e).getPropertyValue(t)}(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function WH(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function HH(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:"middle"===n?r<.5?e.y:t.y:"after"===n?r<1?e.y:t.y:r>0?t.y:e.y}}function VH(e,t,r,n){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},s=WH(e,i,r),o=WH(i,a,r),l=WH(a,t,r),c=WH(s,o,r),d=WH(o,l,r);return WH(c,d,r)}function GH(e,t,r){return e?function(e,t){return{x:r=>e+e+t-r,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,r):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function KH(e,t){let r,n;"ltr"!==t&&"rtl"!==t||(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function YH(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function XH(e){return"angle"===e?{between:iW,compare:rW,normalize:nW}:{between:sW,compare:(e,t)=>e-t,normalize:e=>e}}function QH(e){let{start:t,end:r,count:n,loop:i,style:a}=e;return{start:t%n,end:r%n,loop:i&&(r-t+1)%n===0,style:a}}function $H(e,t,r){if(!r)return[e];const{property:n,start:i,end:a}=r,s=t.length,{compare:o,between:l,normalize:c}=XH(n),{start:d,end:u,loop:h,style:f}=function(e,t,r){const{property:n,start:i,end:a}=r,{between:s,normalize:o}=XH(n),l=t.length;let c,d,{start:u,end:h,loop:f}=e;if(f){for(u+=l,h+=l,c=0,d=l;c<d&&s(o(t[u%l][n]),i,a);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:f,style:e.style}}(e,t,r),p=[];let m,g,x,y=!1,v=null;const b=()=>y||l(i,x,m)&&0!==o(i,x),w=()=>!y||0===o(a,m)||l(a,x,m);for(let j=d,N=d;j<=u;++j)g=t[j%s],g.skip||(m=c(g[n]),m!==x&&(y=l(m,i,a),null===v&&b()&&(v=0===o(m,i)?j:N),null!==v&&w()&&(p.push(QH({start:v,end:j,loop:h,count:s,style:f})),v=null),N=j,x=m));return null!==v&&p.push(QH({start:v,end:u,loop:h,count:s,style:f})),p}function ZH(e,t){const r=[],n=e.segments;for(let i=0;i<n.length;i++){const a=$H(n[i],e.points,t);a.length&&r.push(...a)}return r}function JH(e,t,r,n){return n&&n.setContext&&r?function(e,t,r,n){const i=e._chart.getContext(),a=eV(e.options),{_datasetIndex:s,options:{spanGaps:o}}=e,l=r.length,c=[];let d=a,u=t[0].start,h=u;function f(e,t,n,i){const a=o?-1:1;if(e!==t){for(e+=l;r[e%l].skip;)e-=a;for(;r[t%l].skip;)t+=a;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:n,style:i}),d=i,u=t%l)}}for(const p of t){u=o?u:p.start;let e,t=r[u%l];for(h=u+1;h<=p.end;h++){const a=r[h%l];e=eV(n.setContext(cH(i,{type:"segment",p0:t,p1:a,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),tV(e,d)&&f(u,h-1,p.loop,d),t=a,d=e}u<h-1&&f(u,h-1,p.loop,d)}return c}(e,t,r,n):t}function eV(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function tV(e,t){if(!t)return!1;const r=[],n=function(e,t){return NW(t)?(r.includes(t)||r.push(t),r.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function rV(e,t,r){return e.options.clip?e[r]:t[r]}function nV(e,t){const r=t._clip;if(r.disabled)return!1;const n=function(e,t){const{xScale:r,yScale:n}=e;return r&&n?{left:rV(r,t,"left"),right:rV(r,t,"right"),top:rV(n,t,"top"),bottom:rV(n,t,"bottom")}:t}(t,e.chartArea);return{left:!1===r.left?0:n.left-(!0===r.left?0:r.left),right:!1===r.right?e.width:n.right+(!0===r.right?0:r.right),top:!1===r.top?0:n.top-(!0===r.top?0:r.top),bottom:!1===r.bottom?e.height:n.bottom+(!0===r.bottom?0:r.bottom)}}class iV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,n){const i=t.listeners[n],a=t.duration;i.forEach(n=>n({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=fW.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((r,n)=>{if(!r.running||!r.items.length)return;const i=r.items;let a,s=i.length-1,o=!1;for(;s>=0;--s)a=i[s],a._active?(a._total>r.duration&&(r.duration=a._total),a.tick(e),o=!0):(i[s]=i[i.length-1],i.pop());o&&(n.draw(),this._notify(n,r,e,"progress")),i.length||(r.running=!1,this._notify(n,r,e,"complete"),r.initial=!1),t+=i.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var aV=new iV;const sV="transparent",oV={boolean:(e,t,r)=>r>.5?t:e,color(e,t,r){const n=_W(e||sV),i=n.valid&&_W(t||sV);return i&&i.valid?i.mix(n,r).hexString():t},number:(e,t,r)=>e+(t-e)*r};class lV{constructor(e,t,r,n){const i=t[r];n=lH([e.to,n,i,e.from]);const a=lH([e.from,i,n]);this._active=!0,this._fn=e.fn||oV[e.type||typeof a],this._easing=jW[e.easing]||jW.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const n=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=lH([e.to,t,n,e.from]),this._from=lH([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,n=this._prop,i=this._from,a=this._loop,s=this._to;let o;if(this._active=i!==s&&(a||t<r),!this._active)return this._target[n]=s,void this._notify(!0);t<0?this._target[n]=i:(o=t/r%2,o=a&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[n]=this._fn(i,s,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let n=0;n<r.length;n++)r[n][t]()}}class cV{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!xq(e))return;const t=Object.keys(RW.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const i=e[n];if(!xq(i))return;const a={};for(const e of t)a[e]=i[e];(gq(i.properties)&&i.properties||[n]).forEach(e=>{e!==n&&r.has(e)||r.set(e,a)})})}_animateOptions(e,t){const r=t.options,n=function(e,t){if(!t)return;let r=e.options;if(!r)return void(e.options=t);r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}}));return r}(e,r);if(!n)return[];const i=this._createAnimations(n,r);return r.$shared&&function(e,t){const r=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const t=e[n[i]];t&&t.active()&&r.push(t.wait())}return Promise.all(r)}(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,t){const r=this._properties,n=[],i=e.$animations||(e.$animations={}),a=Object.keys(t),s=Date.now();let o;for(o=a.length-1;o>=0;--o){const l=a[o];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}const c=t[l];let d=i[l];const u=r.get(l);if(d){if(u&&d.active()){d.update(u,c,s);continue}d.cancel()}u&&u.duration?(i[l]=d=new lV(u,e,l,c),n.push(d)):e[l]=c}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const r=this._createAnimations(e,t);return r.length?(aV.add(this._chart,r),!0):void 0}}function dV(e,t){const r=e&&e.options||{},n=r.reverse,i=void 0===r.min?t:0,a=void 0===r.max?t:0;return{start:n?a:i,end:n?i:a}}function uV(e,t){const r=[],n=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=n.length;i<a;++i)r.push(n[i].index);return r}function hV(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,a="single"===n.mode;let s,o,l,c;if(null===t)return;let d=!1;for(s=0,o=i.length;s<o;++s){if(l=+i[s],l===r){if(d=!0,n.all)continue;break}c=e.values[l],yq(c)&&(a||0===t||Gq(t)===Gq(c))&&(t+=c)}return d||n.all?t:0}function fV(e,t){const r=e&&e.options.stacked;return r||void 0===r&&void 0!==t.stack}function pV(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function mV(e,t,r,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const t=e[i.index];if(r&&t>0||!r&&t<0)return i.index}return null}function gV(e,t){const{chart:r,_cachedMeta:n}=e,i=r._stacks||(r._stacks={}),{iScale:a,vScale:s,index:o}=n,l=a.axis,c=s.axis,d=function(e,t,r){return"".concat(e.id,".").concat(t.id,".").concat(r.stack||r.type)}(a,s,n),u=t.length;let h;for(let f=0;f<u;++f){const e=t[f],{[l]:r,[c]:a}=e;h=(e._stacks||(e._stacks={}))[c]=pV(i,d,r),h[o]=a,h._top=mV(h,s,!0,n.type),h._bottom=mV(h,s,!1,n.type);(h._visualValues||(h._visualValues={}))[o]=a}}function xV(e,t){const r=e.scales;return Object.keys(r).filter(e=>r[e].axis===t).shift()}function yV(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][r])return;delete t[n][r],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[r]&&delete t[n]._visualValues[r]}}}const vV=e=>"reset"===e||"none"===e,bV=(e,t)=>t?e:Object.assign({},e);class wV{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=fV(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&yV(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),n=(e,t,r,n)=>"x"===e?t:"r"===e?n:r,i=t.xAxisID=bq(r.xAxisID,xV(e,"x")),a=t.yAxisID=bq(r.yAxisID,xV(e,"y")),s=t.rAxisID=bq(r.rAxisID,xV(e,"r")),o=t.indexAxis,l=t.iAxisID=n(o,i,a,s),c=t.vAxisID=n(o,a,i,s);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&uW(this._data,this),e._stacked&&yV(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(xq(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:r,vScale:n}=t,i="x"===r.axis?"x":"y",a="x"===n.axis?"x":"y",s=Object.keys(e),o=new Array(s.length);let l,c,d;for(l=0,c=s.length;l<c;++l)d=s[l],o[l]={[i]:d,[a]:e[d]};return o}(t,e)}else if(r!==t){if(r){uW(r,this);const e=this._cachedMeta;yV(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),dW.forEach(t=>{const r="_onData"+Iq(t),n=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];const s=n.apply(this,i);return e._chartjs.listeners.forEach(e=>{"function"===typeof e[r]&&e[r](...i)}),s}})}))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const i=t._stacked;t._stacked=fV(t.vScale,t),t.stack!==r.stack&&(n=!0,yV(t),t.stack=r.stack),this._resyncElements(e),(n||i!==t._stacked)&&(gV(this,t._parsed),t._stacked=fV(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:n}=this,{iScale:i,_stacked:a}=r,s=i.axis;let o,l,c,d=0===e&&t===n.length||r._sorted,u=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=n,r._sorted=!0,c=n;else{c=gq(n[e])?this.parseArrayData(r,n,e,t):xq(n[e])?this.parseObjectData(r,n,e,t):this.parsePrimitiveData(r,n,e,t);const i=()=>null===l[s]||u&&l[s]<u[s];for(o=0;o<t;++o)r._parsed[o+e]=l=c[o],d&&(i()&&(d=!1),u=l);r._sorted=d}a&&gV(this,c)}parsePrimitiveData(e,t,r,n){const{iScale:i,vScale:a}=e,s=i.axis,o=a.axis,l=i.getLabels(),c=i===a,d=new Array(n);let u,h,f;for(u=0,h=n;u<h;++u)f=u+r,d[u]={[s]:c||i.parse(l[f],f),[o]:a.parse(t[f],f)};return d}parseArrayData(e,t,r,n){const{xScale:i,yScale:a}=e,s=new Array(n);let o,l,c,d;for(o=0,l=n;o<l;++o)c=o+r,d=t[c],s[o]={x:i.parse(d[0],c),y:a.parse(d[1],c)};return s}parseObjectData(e,t,r,n){const{xScale:i,yScale:a}=e,{xAxisKey:s="x",yAxisKey:o="y"}=this._parsing,l=new Array(n);let c,d,u,h;for(c=0,d=n;c<d;++c)u=c+r,h=t[u],l[c]={x:i.parse(Oq(h,s),u),y:a.parse(Oq(h,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const n=this.chart,i=this._cachedMeta,a=t[e.axis];return hV({keys:uV(n,!0),values:t._stacks[e.axis]._visualValues},a,i.index,{mode:r})}updateRangeFromParsed(e,t,r,n){const i=r[t.axis];let a=null===i?NaN:i;const s=n&&r._stacks[t.axis];n&&s&&(n.values=s,a=hV(n,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const r=this._cachedMeta,n=r._parsed,i=r._sorted&&e===r.iScale,a=n.length,s=this._getOtherScale(e),o=((e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:uV(r,!0),values:null})(t,r,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:r,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}(s);let u,h;function f(){h=n[u];const t=h[s.axis];return!yq(h[e.axis])||c>t||d<t}for(u=0;u<a&&(f()||(this.updateRangeFromParsed(l,e,h,o),!i));++u);if(i)for(u=a-1;u>=0;--u)if(!f()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let n,i,a;for(n=0,i=t.length;n<i;++n)a=t[n][e.axis],yq(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,n=t.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,r,n,i;return xq(e)?(t=e.top,r=e.right,n=e.bottom,i=e.left):t=r=n=i=e,{top:t,right:r,bottom:n,left:i,disabled:!1===e}}(bq(this.options.clip,function(e,t,r){if(!1===r)return!1;const n=dV(e,r),i=dV(t,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,n=r.data||[],i=t.chartArea,a=[],s=this._drawStart||0,o=this._drawCount||n.length-s,l=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(e,i,s,o),c=s;c<s+o;++c){const t=n[c];t.hidden||(t.active&&l?a.push(t):t.draw(e,i))}for(c=0;c<a.length;++c)a[c].draw(e,i)}getStyle(e,t){const r=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const n=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,r){return cH(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=n.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return cH(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=n,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2?arguments[2]:void 0;const n="active"===t,i=this._cachedDataOpts,a=e+"-"+t,s=i[a],o=this.enableOptionSharing&&Lq(r);if(s)return bV(s,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=n?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(RW.elements[e]),f=l.resolveNamedOptions(u,h,()=>this.getContext(r,n,t),d);return f.$shared&&(f.$shared=o,i[a]=Object.freeze(bV(f,o))),f}_resolveAnimations(e,t,r){const n=this.chart,i=this._cachedDataOpts,a="animation-".concat(t),s=i[a];if(s)return s;let o;if(!1!==n.options.animation){const n=this.chart.config,i=n.datasetAnimationScopeKeys(this._type,t),a=n.getOptionScopes(this.getDataset(),i);o=n.createResolver(a,this.getContext(e,r,t))}const l=new cV(n,o&&o.animations);return o&&o._cacheable&&(i[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||vV(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),n=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(t,i)||i!==n;return this.updateSharedOptions(i,t,r),{sharedOptions:i,includeOptions:a}}updateElement(e,t,r,n){vV(n)?Object.assign(e,r):this._resolveAnimations(t,n).update(e,r)}updateSharedOptions(e,t,r){e&&!vV(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,n){e.active=n;const i=this.getStyle(t,n);this._resolveAnimations(t,r,n).update(e,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[s,o,l]of this._syncList)this[s](o,l);this._syncList=[];const n=r.length,i=t.length,a=Math.min(i,n);a&&this.parse(0,a),i>n?this._insertElements(n,i-n,e):i<n&&this._removeElements(i,n-i)}_insertElements(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=this._cachedMeta,i=n.data,a=e+t;let s;const o=e=>{for(e.length+=t,s=e.length-1;s>=a;s--)e[s]=e[s-t]};for(o(i),s=e;s<a;++s)i[s]=new this.dataElementType;this._parsing&&o(n._parsed),this.parse(e,t),r&&this.updateElements(i,e,t,"reset")}updateElements(e,t,r,n){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(e,t);r._stacked&&yV(r,n)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,n]=e;this[t](r,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function jV(e){const t=e.iScale,r=function(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let n=[];for(let t=0,i=r.length;t<i;t++)n=n.concat(r[t].controller.getAllParsedValues(e));e._cache.$bar=hW(n.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let n,i,a,s,o=t._length;const l=()=>{32767!==a&&-32768!==a&&(Lq(s)&&(o=Math.min(o,Math.abs(a-s)||o)),s=a)};for(n=0,i=r.length;n<i;++n)a=t.getPixelForValue(r[n]),l();for(s=void 0,n=0,i=t.ticks.length;n<i;++n)a=t.getPixelForTick(n),l();return o}function NV(e,t,r,n){return gq(e)?function(e,t,r,n){const i=r.parse(e[0],n),a=r.parse(e[1],n),s=Math.min(i,a),o=Math.max(i,a);let l=s,c=o;Math.abs(s)>Math.abs(o)&&(l=o,c=s),t[r.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:a,min:s,max:o}}(e,t,r,n):t[r.axis]=r.parse(e,n),t}function _V(e,t,r,n){const i=e.iScale,a=e.vScale,s=i.getLabels(),o=i===a,l=[];let c,d,u,h;for(c=r,d=r+n;c<d;++c)h=t[c],u={},u[i.axis]=o||i.parse(s[c],c),l.push(NV(h,u,a,c));return l}function kV(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function SV(e,t,r,n){let i=t.borderSkipped;const a={};if(!i)return void(e.borderSkipped=a);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:o,reverse:l,top:c,bottom:d}=function(e){let t,r,n,i,a;return e.horizontal?(t=e.base>e.x,r="left",n="right"):(t=e.base<e.y,r="bottom",n="top"),t?(i="end",a="start"):(i="start",a="end"),{start:r,end:n,reverse:t,top:i,bottom:a}}(e);"middle"===i&&r&&(e.enableBorderRadius=!0,(r._top||0)===n?i=c:(r._bottom||0)===n?i=d:(a[AV(d,s,o,l)]=!0,i=c)),a[AV(i,s,o,l)]=!0,e.borderSkipped=a}function AV(e,t,r,n){var i,a,s;return n?(s=r,e=CV(e=(i=e)===(a=t)?s:i===s?a:i,r,t)):e=CV(e,t,r),e}function CV(e,t,r){return"start"===e?t:"end"===e?r:e}function EV(e,t,r){let{inflateAmount:n}=t;e.inflateAmount="auto"===n?1===r?.33:0:n}(0,Me.A)(wV,"defaults",{}),(0,Me.A)(wV,"datasetElementType",null),(0,Me.A)(wV,"dataElementType",null);class PV extends wV{parsePrimitiveData(e,t,r,n){return _V(e,t,r,n)}parseArrayData(e,t,r,n){return _V(e,t,r,n)}parseObjectData(e,t,r,n){const{iScale:i,vScale:a}=e,{xAxisKey:s="x",yAxisKey:o="y"}=this._parsing,l="x"===i.axis?s:o,c="x"===a.axis?s:o,d=[];let u,h,f,p;for(u=r,h=r+n;u<h;++u)p=t[u],f={},f[i.axis]=i.parse(Oq(p,l),u),d.push(NV(Oq(p,c),f,a,u));return d}updateRangeFromParsed(e,t,r,n){super.updateRangeFromParsed(e,t,r,n);const i=r._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:n}=t,i=this.getParsed(e),a=i._custom,s=kV(a)?"["+a.start+", "+a.end+"]":""+n.getLabelForValue(i[n.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,n){const i="reset"===n,{index:a,_cachedMeta:{vScale:s}}=this,o=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,n);for(let h=t;h<t+r;h++){const t=this.getParsed(h),r=i||mq(t[s.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),f=this._calculateBarIndexPixels(h,c),p=(t._stacks||{})[s.axis],m={horizontal:l,base:r.base,enableBorderRadius:!p||kV(t._custom)||a===p._top||a===p._bottom,x:l?r.head:f.center,y:l?f.center:r.head,height:l?f.size:Math.abs(r.size),width:l?Math.abs(r.size):f.size};u&&(m.options=d||this.resolveDataElementOptions(h,e[h].active?"active":n));const g=m.options||e[h].options;SV(m,g,p,a),EV(m,g,c.ratio),this.updateElement(e[h],h,m,n)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,n=r.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),i=r.options.stacked,a=[],s=this._cachedMeta.controller.getParsed(t),o=s&&s[r.axis],l=e=>{const t=e._parsed.find(e=>e[r.axis]===o),n=t&&t[e.vScale.axis];if(mq(n)||isNaN(n))return!0};for(const c of n)if((void 0===t||!l(c))&&((!1===i||-1===a.indexOf(c.stack)||void 0===i&&void 0===c.stack)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[bq("x"===this.chart.options.indexAxis?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const n=this._getStacks(e,r),i=void 0!==t?n.indexOf(t):-1;return-1===i?n.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,n=[];let i,a;for(i=0,a=t.data.length;i<a;++i)n.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const s=e.barThickness;return{min:s||jV(t),pixels:n,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:n},options:{base:i,minBarLength:a}}=this,s=i||0,o=this.getParsed(e),l=o._custom,c=kV(l);let d,u,h=o[t.axis],f=0,p=r?this.applyStack(t,o,r):h;p!==h&&(f=p-h,p=h),c&&(h=l.barStart,p=l.barEnd-l.barStart,0!==h&&Gq(h)!==Gq(l.barEnd)&&(f=0),f+=h);const m=mq(i)||c?f:i;let g=t.getPixelForValue(m);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):g,u=d-g,Math.abs(u)<a){u=function(e,t,r){return 0!==e?Gq(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}(u,t,s)*a,h===s&&(g-=u/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),l=Math.min(e,i),f=Math.max(e,i);g=Math.max(Math.min(g,f),l),d=g+u,r&&!c&&(o._stacks[t.axis]._visualValues[n]=t.getValueForPixel(d)-t.getValueForPixel(g))}if(g===t.getPixelForValue(s)){const e=Gq(u)*t.getLineWidthForValue(s)/2;g+=e,u-=e}return{size:u,base:g,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const r=t.scale,n=this.options,i=n.skipNull,a=bq(n.maxBarThickness,1/0);let s,o;const l=this._getAxisCount();if(t.grouped){const r=i?this._getStackCount(e):t.stackCount,c="flex"===n.barThickness?function(e,t,r,n){const i=t.pixels,a=i[e];let s=e>0?i[e-1]:null,o=e<i.length-1?i[e+1]:null;const l=r.categoryPercentage;null===s&&(s=a-(null===o?t.end-t.start:o-a)),null===o&&(o=a+a-s);const c=a-(a-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/n,ratio:r.barPercentage,start:c}}(e,t,n,r*l):function(e,t,r,n){const i=r.barThickness;let a,s;return mq(i)?(a=t.min*r.categoryPercentage,s=r.barPercentage):(a=i*n,s=1),{chunk:a/n,ratio:s,start:t.pixels[e]-a/2}}(e,t,n,r*l),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(bq(d,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+u;s=c.start+c.chunk*h+c.chunk/2,o=Math.min(a,c.chunk*c.ratio)}else s=r.getPixelForValue(this.getParsed(e)[r.axis],e),o=Math.min(a,t.min*t.ratio);return{base:s-o/2,head:s+o/2,center:s,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,n=r.length;let i=0;for(;i<n;++i)null===this.getParsed(i)[t.axis]||r[i].hidden||r[i].draw(this._ctx)}}(0,Me.A)(PV,"id","bar"),(0,Me.A)(PV,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,Me.A)(PV,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class TV extends wV{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,n){const i=super.parsePrimitiveData(e,t,r,n);for(let a=0;a<i.length;a++)i[a]._custom=this.resolveDataElementOptions(a+r).radius;return i}parseArrayData(e,t,r,n){const i=super.parseArrayData(e,t,r,n);for(let a=0;a<i.length;a++){const e=t[r+a];i[a]._custom=bq(e[2],this.resolveDataElementOptions(a+r).radius)}return i}parseObjectData(e,t,r,n){const i=super.parseObjectData(e,t,r,n);for(let a=0;a<i.length;a++){const e=t[r+a];i[a]._custom=bq(e&&e.r&&+e.r,this.resolveDataElementOptions(a+r).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:i}=t,a=this.getParsed(e),s=n.getLabelForValue(a.x),o=i.getLabelForValue(a.y),l=a._custom;return{label:r[e]||"",value:"("+s+", "+o+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,n){const i="reset"===n,{iScale:a,vScale:s}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,n),c=a.axis,d=s.axis;for(let u=t;u<t+r;u++){const t=e[u],r=!i&&this.getParsed(u),h={},f=h[c]=i?a.getPixelForDecimal(.5):a.getPixelForValue(r[c]),p=h[d]=i?s.getBasePixel():s.getPixelForValue(r[d]);h.skip=isNaN(f)||isNaN(p),l&&(h.options=o||this.resolveDataElementOptions(u,t.active?"active":n),i&&(h.options.radius=0)),this.updateElement(t,u,h,n)}}resolveDataElementOptions(e,t){const r=this.getParsed(e);let n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const i=n.radius;return"active"!==t&&(n.radius=0),n.radius+=bq(r&&r._custom,i),n}}(0,Me.A)(TV,"id","bubble"),(0,Me.A)(TV,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,Me.A)(TV,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class OV extends wV{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=r;else{let i,a,s=e=>+r[e];if(xq(r[e])){const{key:e="value"}=this._parsing;s=t=>+Oq(r[t],e)}for(i=e,a=e+t;i<a;++i)n._parsed[i]=s(i)}}_getRotation(){return $q(this.options.rotation-90)}_getCircumference(){return $q(this.options.circumference)}_getRotationExtents(){let e=Fq,t=-Fq;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const n=this.chart.getDatasetMeta(r).controller,i=n._getRotation(),a=n._getCircumference();e=Math.min(e,i),t=Math.max(t,i+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,n=this._cachedMeta,i=n.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,s=Math.max((Math.min(r.width,r.height)-a)/2,0),o=Math.min(((e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t)(this.options.cutout,s),1),l=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:u,ratioY:h,offsetX:f,offsetY:p}=function(e,t,r){let n=1,i=1,a=0,s=0;if(t<Fq){const o=e,l=o+t,c=Math.cos(o),d=Math.sin(o),u=Math.cos(l),h=Math.sin(l),f=(e,t,n)=>iW(e,o,l,!0)?1:Math.max(t,t*r,n,n*r),p=(e,t,n)=>iW(e,o,l,!0)?-1:Math.min(t,t*r,n,n*r),m=f(0,c,u),g=f(qq,d,h),x=p(Rq,c,u),y=p(Rq+qq,d,h);n=(m-x)/2,i=(g-y)/2,a=-(m+x)/2,s=-(g+y)/2}return{ratioX:n,ratioY:i,offsetX:a,offsetY:s}}(d,c,o),m=(r.width-a)/u,g=(r.height-a)/h,x=Math.max(Math.min(m,g)/2,0),y=wq(this.options.radius,x),v=(y-Math.max(y*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*y,this.offsetY=p*y,n.total=this.calculateTotal(),this.outerRadius=y-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*l,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const r=this.options,n=this._cachedMeta,i=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*i/Fq)}updateElements(e,t,r,n){const i="reset"===n,a=this.chart,s=a.chartArea,o=a.options.animation,l=(s.left+s.right)/2,c=(s.top+s.bottom)/2,d=i&&o.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,n);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,i);for(m=t;m<t+r;++m){const t=this._circumference(m,i),r=e[m],a={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:u};p&&(a.options=f||this.resolveDataElementOptions(m,r.active?"active":n)),g+=t,this.updateElement(r,m,a,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r,n=0;for(r=0;r<t.length;r++){const i=e._parsed[r];null===i||isNaN(i)||!this.chart.getDataVisibility(r)||t[r].hidden||(n+=Math.abs(i))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Fq*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,n=r.data.labels||[],i=EW(t._parsed[e],r.options.locale);return{label:n[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const r=this.chart;let n,i,a,s,o;if(!e)for(n=0,i=r.data.datasets.length;n<i;++n)if(r.isDatasetVisible(n)){a=r.getDatasetMeta(n),e=a.data,s=a.controller;break}if(!e)return 0;for(n=0,i=e.length;n<i;++n)o=s.resolveDataElementOptions(n),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,n=e.length;r<n;++r){const e=this.resolveDataElementOptions(r);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(bq(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}(0,Me.A)(OV,"id","doughnut"),(0,Me.A)(OV,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,Me.A)(OV,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),(0,Me.A)(OV,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:r,textAlign:n,color:i,useBorderRadius:a,borderRadius:s}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((t,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:t,fillStyle:l.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(o),lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:l.borderWidth,strokeStyle:l.borderColor,textAlign:n,pointStyle:r,borderRadius:a&&(s||l.borderRadius),index:o}}):[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class IV extends wV{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:n=[],_dataset:i}=t,a=this.chart._animationsDisabled;let{start:s,count:o}=xW(t,n,a);this._drawStart=s,this._drawCount=o,yW(t)&&(s=0,o=n.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=n;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:l},e),this.updateElements(n,s,o,e)}updateElements(e,t,r,n){const i="reset"===n,{iScale:a,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,n),u=a.axis,h=s.axis,{spanGaps:f,segment:p}=this.options,m=Xq(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===n,x=t+r,y=e.length;let v=t>0&&this.getParsed(t-1);for(let b=0;b<y;++b){const r=e[b],f=g?r:{};if(b<t||b>=x){f.skip=!0;continue}const y=this.getParsed(b),w=mq(y[h]),j=f[u]=a.getPixelForValue(y[u],b),N=f[h]=i||w?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,y,o):y[h],b);f.skip=isNaN(j)||isNaN(N)||w,f.stop=b>0&&Math.abs(y[u]-v[u])>m,p&&(f.parsed=y,f.raw=l.data[b]),d&&(f.options=c||this.resolveDataElementOptions(b,r.active?"active":n)),g||this.updateElement(r,b,f,n),v=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return r;const i=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}(0,Me.A)(IV,"id","line"),(0,Me.A)(IV,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,Me.A)(IV,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class LV extends wV{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,n=r.data.labels||[],i=EW(t._parsed[e].r,r.options.locale);return{label:n[e]||"",value:i}}parseObjectData(e,t,r,n){return NH.bind(this)(e,t,r,n)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,r)=>{const n=this.getParsed(r).r;!isNaN(n)&&this.chart.getDataVisibility(r)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,r=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(n/2,0),a=(i-Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,r,n){const i="reset"===n,a=this.chart,s=a.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,d=o.getIndexAngle(0)-.5*Rq;let u,h=d;const f=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,n,f);for(u=t;u<t+r;u++){const t=e[u];let r=h,p=h+this._computeAngle(u,n,f),m=a.getDataVisibility(u)?o.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=p,i&&(s.animateScale&&(m=0),s.animateRotate&&(r=p=d));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:r,endAngle:p,options:this.resolveDataElementOptions(u,t.active?"active":n)};this.updateElement(t,u,g,n)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?$q(this.resolveDataElementOptions(e,t).angle||r):0}}(0,Me.A)(LV,"id","polarArea"),(0,Me.A)(LV,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,Me.A)(LV,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:n}}=e.legend.options;return t.labels.map((t,i)=>{const a=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class DV extends OV{}(0,Me.A)(DV,"id","pie"),(0,Me.A)(DV,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class MV extends wV{getLabelAndValue(e){const t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,n){return NH.bind(this)(e,t,r,n)}update(e){const t=this._cachedMeta,r=t.dataset,n=t.data||[],i=t.iScale.getLabels();if(r.points=n,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:i.length===n.length,options:t};this.updateElement(r,void 0,a,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,r,n){const i=this._cachedMeta.rScale,a="reset"===n;for(let s=t;s<t+r;s++){const t=e[s],r=this.resolveDataElementOptions(s,t.active?"active":n),o=i.getPointPositionForValue(s,this.getParsed(s).r),l=a?i.xCenter:o.x,c=a?i.yCenter:o.y,d={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:r};this.updateElement(t,s,d,n)}}}(0,Me.A)(MV,"id","radar"),(0,Me.A)(MV,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,Me.A)(MV,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class RV extends wV{getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:i}=t,a=this.getParsed(e),s=n.getLabelForValue(a.x),o=i.getLabelForValue(a.y);return{label:r[e]||"",value:"("+s+", "+o+")"}}update(e){const t=this._cachedMeta,{data:r=[]}=t,n=this.chart._animationsDisabled;let{start:i,count:a}=xW(t,r,n);if(this._drawStart=i,this._drawCount=a,yW(t)&&(i=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:i,_dataset:a}=t;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=r;const s=this.resolveDatasetElementOptions(e);s.segment=this.options.segment,this.updateElement(i,void 0,{animated:!n,options:s},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,i,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,n){const i="reset"===n,{iScale:a,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,n),d=this.getSharedOptions(c),u=this.includeOptions(n,d),h=a.axis,f=s.axis,{spanGaps:p,segment:m}=this.options,g=Xq(p)?p:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||"none"===n;let y=t>0&&this.getParsed(t-1);for(let v=t;v<t+r;++v){const t=e[v],r=this.getParsed(v),c=x?t:{},p=mq(r[f]),b=c[h]=a.getPixelForValue(r[h],v),w=c[f]=i||p?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,r,o):r[f],v);c.skip=isNaN(b)||isNaN(w)||p,c.stop=v>0&&Math.abs(r[h]-y[h])>g,m&&(c.parsed=r,c.raw=l.data[v]),u&&(c.options=d||this.resolveDataElementOptions(v,t.active?"active":n)),x||this.updateElement(t,v,c,n),y=r}this.updateSharedOptions(d,n,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let r=t.length-1;r>=0;--r)e=Math.max(e,t[r].size(this.resolveDataElementOptions(r))/2);return e>0&&e}const r=e.dataset,n=r.options&&r.options.borderWidth||0;if(!t.length)return n;const i=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,i,a)/2}}(0,Me.A)(RV,"id","scatter"),(0,Me.A)(RV,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,Me.A)(RV,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var FV=Object.freeze({__proto__:null,BarController:PV,BubbleController:TV,DoughnutController:OV,LineController:IV,PieController:DV,PolarAreaController:LV,RadarController:MV,ScatterController:RV});function BV(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class zV{static override(e){Object.assign(zV.prototype,e)}constructor(e){(0,Me.A)(this,"options",void 0),this.options=e||{}}init(){}formats(){return BV()}parse(){return BV()}format(){return BV()}add(){return BV()}diff(){return BV()}startOf(){return BV()}endOf(){return BV()}}var UV=zV;function qV(e,t,r,n){const{controller:i,data:a,_sorted:s}=e,o=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&s&&a.length){const s=o._reversePixels?cW:lW;if(!n){const n=s(a,t,r);if(l){const{vScale:t}=i._cachedMeta,{_parsed:r}=e,a=r.slice(0,n.lo+1).reverse().findIndex(e=>!mq(e[t.axis]));n.lo-=Math.max(0,a);const s=r.slice(n.hi).findIndex(e=>!mq(e[t.axis]));n.hi+=Math.max(0,s)}return n}if(i._sharedOptions){const e=a[0],n="function"===typeof e.getRange&&e.getRange(t);if(n){const e=s(a,t,r-n),i=s(a,t,r+n);return{lo:e.lo,hi:i.hi}}}}return{lo:0,hi:a.length-1}}function WV(e,t,r,n,i){const a=e.getSortedVisibleDatasetMetas(),s=r[t];for(let o=0,l=a.length;o<l;++o){const{index:e,data:r}=a[o],{lo:l,hi:c}=qV(a[o],t,s,i);for(let t=l;t<=c;++t){const i=r[t];i.skip||n(i,e,t)}}}function HV(e,t,r,n,i){const a=[];if(!i&&!e.isPointInArea(t))return a;return WV(e,r,t,function(r,s,o){(i||HW(r,e.chartArea,0))&&r.inRange(t.x,t.y,n)&&a.push({element:r,datasetIndex:s,index:o})},!0),a}function VV(e,t,r,n,i,a){let s=[];const o=function(e){const t=-1!==e.indexOf("x"),r=-1!==e.indexOf("y");return function(e,n){const i=t?Math.abs(e.x-n.x):0,a=r?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}(r);let l=Number.POSITIVE_INFINITY;return WV(e,r,t,function(r,c,d){const u=r.inRange(t.x,t.y,i);if(n&&!u)return;const h=r.getCenterPoint(i);if(!(!!a||e.isPointInArea(h))&&!u)return;const f=o(t,h);f<l?(s=[{element:r,datasetIndex:c,index:d}],l=f):f===l&&s.push({element:r,datasetIndex:c,index:d})}),s}function GV(e,t,r,n,i,a){return a||e.isPointInArea(t)?"r"!==r||n?VV(e,t,r,n,i,a):function(e,t,r,n){let i=[];return WV(e,r,t,function(e,r,a){const{startAngle:s,endAngle:o}=e.getProps(["startAngle","endAngle"],n),{angle:l}=eW(e,{x:t.x,y:t.y});iW(l,s,o)&&i.push({element:e,datasetIndex:r,index:a})}),i}(e,t,r,i):[]}function KV(e,t,r,n,i){const a=[],s="x"===r?"inXRange":"inYRange";let o=!1;return WV(e,r,t,(e,n,l)=>{e[s]&&e[s](t[r],i)&&(a.push({element:e,datasetIndex:n,index:l}),o=o||e.inRange(t.x,t.y,i))}),n&&!o?[]:a}var YV={evaluateInteractionItems:WV,modes:{index(e,t,r,n){const i=RH(t,e),a=r.axis||"x",s=r.includeInvisible||!1,o=r.intersect?HV(e,i,a,n,s):GV(e,i,a,!1,n,s),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=o[0].index,r=e.data[t];r&&!r.skip&&l.push({element:r,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,r,n){const i=RH(t,e),a=r.axis||"xy",s=r.includeInvisible||!1;let o=r.intersect?HV(e,i,a,n,s):GV(e,i,a,!1,n,s);if(o.length>0){const t=o[0].datasetIndex,r=e.getDatasetMeta(t).data;o=[];for(let e=0;e<r.length;++e)o.push({element:r[e],datasetIndex:t,index:e})}return o},point:(e,t,r,n)=>HV(e,RH(t,e),r.axis||"xy",n,r.includeInvisible||!1),nearest(e,t,r,n){const i=RH(t,e),a=r.axis||"xy",s=r.includeInvisible||!1;return GV(e,i,a,r.intersect,n,s)},x:(e,t,r,n)=>KV(e,RH(t,e),"x",r.intersect,n),y:(e,t,r,n)=>KV(e,RH(t,e),"y",r.intersect,n)}};const XV=["left","top","right","bottom"];function QV(e,t){return e.filter(e=>e.pos===t)}function $V(e,t){return e.filter(e=>-1===XV.indexOf(e.pos)&&e.box.axis===t)}function ZV(e,t){return e.sort((e,r)=>{const n=t?r:e,i=t?e:r;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function JV(e,t){const r=function(e){const t={};for(const r of e){const{stack:e,pos:n,stackWeight:i}=r;if(!e||!XV.includes(n))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let a,s,o;for(a=0,s=e.length;a<s;++a){o=e[a];const{fullSize:s}=o.box,l=r[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*n:s&&t.availableWidth,o.height=i):(o.width=n,o.height=c?c*i:s&&t.availableHeight)}return r}function eG(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function tG(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function rG(e,t,r,n){const{pos:i,box:a}=r,s=e.maxPadding;if(!xq(i)){r.size&&(e[i]-=r.size);const t=n[r.stack]||{size:0,count:1};t.size=Math.max(t.size,r.horizontal?a.height:a.width),r.size=t.size/t.count,e[i]+=r.size}a.getPadding&&tG(s,a.getPadding());const o=Math.max(0,t.outerWidth-eG(s,e,"left","right")),l=Math.max(0,t.outerHeight-eG(s,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,r.horizontal?{same:c,other:d}:{same:d,other:c}}function nG(e,t){const r=t.maxPadding;function n(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{n[e]=Math.max(t[e],r[e])}),n}return n(e?["left","right"]:["top","bottom"])}function iG(e,t,r,n){const i=[];let a,s,o,l,c,d;for(a=0,s=e.length,c=0;a<s;++a){o=e[a],l=o.box,l.update(o.width||t.w,o.height||t.h,nG(o.horizontal,t));const{same:s,other:u}=rG(t,r,o,n);c|=s&&i.length,d=d||u,l.fullSize||i.push(o)}return c&&iG(i,t,r,n)||d}function aG(e,t,r,n,i){e.top=r,e.left=t,e.right=t+n,e.bottom=r+i,e.width=n,e.height=i}function sG(e,t,r,n){const i=r.padding;let{x:a,y:s}=t;for(const o of e){const e=o.box,l=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const n=t.w*c,a=l.size||e.height;Lq(l.start)&&(s=l.start),e.fullSize?aG(e,i.left,s,r.outerWidth-i.right-i.left,a):aG(e,t.left+l.placed,s,n,a),l.start=s,l.placed+=n,s=e.bottom}else{const n=t.h*c,s=l.size||e.width;Lq(l.start)&&(a=l.start),e.fullSize?aG(e,a,i.top,s,r.outerHeight-i.bottom-i.top):aG(e,a,t.top+l.placed,s,n),l.start=a,l.placed+=n,a=e.right}}t.x=a,t.y=s}var oG={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;-1!==r&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,n){if(!e)return;const i=sH(e.options.layout.padding),a=Math.max(t-i.width,0),s=Math.max(r-i.height,0),o=function(e){const t=function(e){const t=[];let r,n,i,a,s,o;for(r=0,n=(e||[]).length;r<n;++r)i=e[r],({position:a,options:{stack:s,stackWeight:o=1}}=i),t.push({index:r,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&a+s,stackWeight:o});return t}(e),r=ZV(t.filter(e=>e.box.fullSize),!0),n=ZV(QV(t,"left"),!0),i=ZV(QV(t,"right")),a=ZV(QV(t,"top"),!0),s=ZV(QV(t,"bottom")),o=$V(t,"x"),l=$V(t,"y");return{fullSize:r,leftAndTop:n.concat(a),rightAndBottom:i.concat(l).concat(s).concat(o),chartArea:QV(t,"chartArea"),vertical:n.concat(i).concat(l),horizontal:a.concat(s).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;Nq(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const d=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:r,padding:i,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/d,hBoxMaxHeight:s/2}),h=Object.assign({},i);tG(h,sH(n));const f=Object.assign({maxPadding:h,w:a,h:s,x:i.left,y:i.top},i),p=JV(l.concat(c),u);iG(o.fullSize,f,u,p),iG(l,f,u,p),iG(c,f,u,p)&&iG(l,f,u,p),function(e){const t=e.maxPadding;function r(r){const n=Math.max(t[r]-e[r],0);return e[r]+=n,n}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}(f),sG(o.leftAndTop,f,u,p),f.x+=f.w,f.y+=f.h,sG(o.rightAndBottom,f,u,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Nq(o.chartArea,t=>{const r=t.box;Object.assign(r,e.chartArea),r.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class lG{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,n){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):r)}}isAttached(e){return!0}updateConfig(e){}}class cG extends lG{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const dG="$chartjs",uG={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},hG=e=>null===e||""===e;const fG=!!UH&&{passive:!0};function pG(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,fG)}function mG(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function gG(e,t,r){const n=e.canvas,i=new MutationObserver(e=>{let t=!1;for(const r of e)t=t||mG(r.addedNodes,n),t=t&&!mG(r.removedNodes,n);t&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function xG(e,t,r){const n=e.canvas,i=new MutationObserver(e=>{let t=!1;for(const r of e)t=t||mG(r.removedNodes,n),t=t&&!mG(r.addedNodes,n);t&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}const yG=new Map;let vG=0;function bG(){const e=window.devicePixelRatio;e!==vG&&(vG=e,yG.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function wG(e,t,r){const n=e.canvas,i=n&&OH(n);if(!i)return;const a=pW((e,t)=>{const n=i.clientWidth;r(e,t),n<i.clientWidth&&r()},window),s=new ResizeObserver(e=>{const t=e[0],r=t.contentRect.width,n=t.contentRect.height;0===r&&0===n||a(r,n)});return s.observe(i),function(e,t){yG.size||window.addEventListener("resize",bG),yG.set(e,t)}(e,a),s}function jG(e,t,r){r&&r.disconnect(),"resize"===t&&function(e){yG.delete(e),yG.size||window.removeEventListener("resize",bG)}(e)}function NG(e,t,r){const n=e.canvas,i=pW(t=>{null!==e.ctx&&r(function(e,t){const r=uG[e.type]||e.type,{x:n,y:i}=RH(e,t);return{type:r,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==i?i:null}}(t,e))},e);return function(e,t,r){e&&e.addEventListener(t,r,fG)}(n,t,i),i}class _G extends lG{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function(e,t){const r=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[dG]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",hG(i)){const t=qH(e,"width");void 0!==t&&(e.width=t)}if(hG(n))if(""===e.style.height)e.height=e.width/(t||2);else{const t=qH(e,"height");void 0!==t&&(e.height=t)}}(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[dG])return!1;const r=t[dG].initial;["height","width"].forEach(e=>{const n=r[e];mq(n)?t.removeAttribute(e):t.setAttribute(e,n)});const n=r.style||{};return Object.keys(n).forEach(e=>{t.style[e]=n[e]}),t.width=t.width,delete t[dG],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),i={attach:gG,detach:xG,resize:wG}[t]||NG;n[t]=i(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),n=r[t];if(!n)return;({attach:jG,detach:jG,resize:jG}[t]||pG)(e,t,n),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,n){return BH(e,t,r,n)}isAttached(e){const t=e&&OH(e);return!(!t||!t.isConnected)}}class kG{constructor(){(0,Me.A)(this,"x",void 0),(0,Me.A)(this,"y",void 0),(0,Me.A)(this,"active",!1),(0,Me.A)(this,"options",void 0),(0,Me.A)(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Xq(this.x)&&Xq(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const n={};return e.forEach(e=>{n[e]=r[e]&&r[e].active()?r[e]._to:this[e]}),n}}function SG(e,t){const r=e.options.ticks,n=function(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),i=e._maxLength/r;return Math.floor(Math.min(n,i))}(e),i=Math.min(r.maxTicksLimit||n,n),a=r.major.enabled?function(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}(t):[],s=a.length,o=a[0],l=a[s-1],c=[];if(s>i)return function(e,t,r,n){let i,a=0,s=r[0];for(n=Math.ceil(n),i=0;i<e.length;i++)i===s&&(t.push(e[i]),a++,s=r[a*n])}(t,c,a,s/i),c;const d=function(e,t,r){const n=function(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}(e),i=t.length/r;if(!n)return Math.max(i,1);const a=function(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n===0&&(t.push(n),t.push(e/n));return r===(0|r)&&t.push(r),t.sort((e,t)=>e-t).pop(),t}(n);for(let s=0,o=a.length-1;s<o;s++){const e=a[s];if(e>i)return e}return Math.max(i,1)}(a,t,i);if(s>0){let e,r;const n=s>1?Math.round((l-o)/(s-1)):null;for(AG(t,c,d,mq(n)?0:o-n,o),e=0,r=s-1;e<r;e++)AG(t,c,d,a[e],a[e+1]);return AG(t,c,d,l,mq(n)?t.length:l+n),c}return AG(t,c,d),c}function AG(e,t,r,n,i){const a=bq(n,0),s=Math.min(bq(i,e.length),e.length);let o,l,c,d=0;for(r=Math.ceil(r),i&&(o=i-n,r=o/Math.floor(o/r)),c=a;c<0;)d++,c=Math.round(a+d*r);for(l=Math.max(a,0);l<s;l++)l===c&&(t.push(e[l]),d++,c=Math.round(a+d*r))}(0,Me.A)(kG,"defaults",{}),(0,Me.A)(kG,"defaultRoutes",void 0);const CG=(e,t,r)=>"top"===t||"left"===t?e[t]+r:e[t]-r,EG=(e,t)=>Math.min(t||e,e);function PG(e,t){const r=[],n=e.length/t,i=e.length;let a=0;for(;a<i;a+=n)r.push(e[Math.floor(a)]);return r}function TG(e,t,r){const n=e.ticks.length,i=Math.min(t,n-1),a=e._startPixel,s=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(i);if(!(r&&(l=1===n?Math.max(c-a,s-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<a-o||c>s+o)))return c}function OG(e){return e.drawTicks?e.tickLength:0}function IG(e,t){if(!e.display)return 0;const r=oH(e.font,t),n=sH(e.padding);return(gq(e.text)?e.text.length:1)*r.lineHeight+n.height}function LG(e,t,r){let n=mW(e);return(r&&"right"!==t||!r&&"right"===t)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class DG extends kG{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:n}=this;return e=vq(e,Number.POSITIVE_INFINITY),t=vq(t,Number.NEGATIVE_INFINITY),r=vq(r,Number.POSITIVE_INFINITY),n=vq(n,Number.NEGATIVE_INFINITY),{min:vq(e,r),max:vq(t,n),minDefined:yq(e),maxDefined:yq(t)}}getMinMax(e){let t,{min:r,max:n,minDefined:i,maxDefined:a}=this.getUserBounds();if(i&&a)return{min:r,max:n};const s=this.getMatchingVisibleMetas();for(let o=0,l=s.length;o<l;++o)t=s[o].controller.getMinMax(this,e),i||(r=Math.min(r,t.min)),a||(n=Math.max(n,t.max));return r=a&&r>n?n:r,n=i&&r>n?r:n,{min:vq(r,vq(n,r)),max:vq(n,vq(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){jq(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:n,grace:i,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,r){const{min:n,max:i}=e,a=wq(t,(i-n)/2),s=(e,t)=>r&&0===e?0:e+t;return{min:s(n,-Math.abs(a)),max:s(i,a)}}(this,i,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=s<this.ticks.length;this._convertTicksToLabels(o?PG(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=SG(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,r=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,r=!r),this._startPixel=e,this._endPixel=t,this._reversePixels=r,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){jq(this.options.afterUpdate,[this])}beforeSetDimensions(){jq(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){jq(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),jq(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){jq(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,n,i;for(r=0,n=e.length;r<n;r++)i=e[r],i.label=jq(t.callback,[i.value,r,e],this)}afterTickToLabelConversion(){jq(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){jq(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=EG(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,i=t.maxRotation;let a,s,o,l=n;if(!this._isVisible()||!t.display||n>=i||r<=1||!this.isHorizontal())return void(this.labelRotation=n);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=aW(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:h/(r-1),d+6>a&&(a=h/(r-(e.offset?.5:1)),s=this.maxHeight-OG(e.grid)-t.padding-IG(e.title,this.chart.options.font),o=Math.sqrt(d*d+u*u),l=Zq(Math.min(Math.asin(aW((c.highest.height+6)/a,-1,1)),Math.asin(aW(s/o,-1,1))-Math.asin(aW(u/o,-1,1)))),l=Math.max(n,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){jq(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){jq(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:n,grid:i}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){const a=IG(n,t.options.font);if(s?(e.width=this.maxWidth,e.height=OG(i)+a):(e.height=this.maxHeight,e.width=OG(i)+a),r.display&&this.ticks.length){const{first:t,last:n,widest:i,highest:a}=this._getLabelSizes(),o=2*r.padding,l=$q(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(s){const t=r.mirror?0:d*i.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=r.mirror?0:c*i.width+d*a.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,n,d,c)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,n){const{ticks:{align:i,padding:a},position:s}=this.options,o=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;o?l?(d=n*e.width,u=r*t.height):(d=r*e.height,u=n*t.width):"start"===i?u=t.width:"end"===i?d=e.width:"inner"!==i&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-s+a)*this.width/(this.width-s),0),this.paddingRight=Math.max((u-c+a)*this.width/(this.width-c),0)}else{let r=t.height/2,n=e.height/2;"start"===i?(r=0,n=e.height):"end"===i&&(r=t.height,n=0),this.paddingTop=r+a,this.paddingBottom=n+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){jq(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,r=e.length;t<r;t++)mq(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=PG(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:n,_longestTextCache:i}=this,a=[],s=[],o=Math.floor(t/EG(t,r));let l,c,d,u,h,f,p,m,g,x,y,v=0,b=0;for(l=0;l<t;l+=o){if(u=e[l].label,h=this._resolveTickFontOptions(l),n.font=f=h.string,p=i[f]=i[f]||{data:{},gc:[]},m=h.lineHeight,g=x=0,mq(u)||gq(u)){if(gq(u))for(c=0,d=u.length;c<d;++c)y=u[c],mq(y)||gq(y)||(g=FW(n,p.data,p.gc,g,y),x+=m)}else g=FW(n,p.data,p.gc,g,u),x=m;a.push(g),s.push(x),v=Math.max(g,v),b=Math.max(x,b)}!function(e,t){Nq(e,e=>{const r=e.gc,n=r.length/2;let i;if(n>t){for(i=0;i<n;++i)delete e.data[r[i]];r.splice(0,n)}})}(i,t);const w=a.indexOf(v),j=s.indexOf(b),N=e=>({width:a[e]||0,height:s[e]||0});return{first:N(0),last:N(t-1),widest:N(w),highest:N(j),widths:a,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return aW(e,-32768,32767)}(this._alignToPixels?zW(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=function(e,t,r){return cH(e,{tick:r,index:t,type:"tick"})}(this.getContext(),e,r))}return this.$context||(this.$context=function(e,t){return cH(e,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=$q(this.labelRotation),r=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,s=i?i.widest.width+a:0,o=i?i.highest.height+a:0;return this.isHorizontal()?o*r>s*n?s/r:o/n:o*n<s*r?o/r:s/n}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,n=this.options,{grid:i,position:a,border:s}=n,o=i.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),d=OG(i),u=[],h=s.setContext(this.getContext()),f=h.display?h.width:0,p=f/2,m=function(e){return zW(r,e,f)};let g,x,y,v,b,w,j,N,_,k,S,A;if("top"===a)g=m(this.bottom),w=this.bottom-d,N=g-p,k=m(e.top)+p,A=e.bottom;else if("bottom"===a)g=m(this.top),k=e.top,A=m(e.bottom)-p,w=g+p,N=this.top+d;else if("left"===a)g=m(this.right),b=this.right-d,j=g-p,_=m(e.left)+p,S=e.right;else if("right"===a)g=m(this.left),_=e.left,S=m(e.right)-p,b=g+p,j=this.left+d;else if("x"===t){if("center"===a)g=m((e.top+e.bottom)/2+.5);else if(xq(a)){const e=Object.keys(a)[0],t=a[e];g=m(this.chart.scales[e].getPixelForValue(t))}k=e.top,A=e.bottom,w=g+p,N=w+d}else if("y"===t){if("center"===a)g=m((e.left+e.right)/2);else if(xq(a)){const e=Object.keys(a)[0],t=a[e];g=m(this.chart.scales[e].getPixelForValue(t))}b=g-p,j=b-d,_=e.left,S=e.right}const C=bq(n.ticks.maxTicksLimit,c),E=Math.max(1,Math.ceil(c/C));for(x=0;x<c;x+=E){const e=this.getContext(x),t=i.setContext(e),n=s.setContext(e),a=t.lineWidth,c=t.color,d=n.dash||[],h=n.dashOffset,f=t.tickWidth,p=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;y=TG(this,x,o),void 0!==y&&(v=zW(r,y,a),l?b=j=_=S=v:w=N=k=A=v,u.push({tx1:b,ty1:w,tx2:j,ty2:N,x1:_,y1:k,x2:S,y2:A,width:a,color:c,borderDash:d,borderDashOffset:h,tickWidth:f,tickColor:p,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,u}_computeLabelItems(e){const t=this.axis,r=this.options,{position:n,ticks:i}=r,a=this.isHorizontal(),s=this.ticks,{align:o,crossAlign:l,padding:c,mirror:d}=i,u=OG(r.grid),h=u+c,f=d?-c:h,p=-$q(this.labelRotation),m=[];let g,x,y,v,b,w,j,N,_,k,S,A,C="middle";if("top"===n)w=this.bottom-f,j=this._getXAxisLabelAlignment();else if("bottom"===n)w=this.top+f,j=this._getXAxisLabelAlignment();else if("left"===n){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,b=e.x}else if("right"===n){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,b=e.x}else if("x"===t){if("center"===n)w=(e.top+e.bottom)/2+h;else if(xq(n)){const e=Object.keys(n)[0],t=n[e];w=this.chart.scales[e].getPixelForValue(t)+h}j=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)b=(e.left+e.right)/2-h;else if(xq(n)){const e=Object.keys(n)[0],t=n[e];b=this.chart.scales[e].getPixelForValue(t)}j=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===o?C="top":"end"===o&&(C="bottom"));const E=this._getLabelSizes();for(g=0,x=s.length;g<x;++g){y=s[g],v=y.label;const e=i.setContext(this.getContext(g));N=this.getPixelForTick(g)+i.labelOffset,_=this._resolveTickFontOptions(g),k=_.lineHeight,S=gq(v)?v.length:1;const t=S/2,r=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let u,h=j;if(a?(b=N,"inner"===j&&(h=g===x-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),A="top"===n?"near"===l||0!==p?-S*k+k/2:"center"===l?-E.highest.height/2-t*k+k:-E.highest.height+k/2:"near"===l||0!==p?k/2:"center"===l?E.highest.height/2-t*k:E.highest.height-S*k,d&&(A*=-1),0===p||e.showLabelBackdrop||(b+=k/2*Math.sin(p))):(w=N,A=(1-S)*k/2),e.showLabelBackdrop){const t=sH(e.backdropPadding),r=E.heights[g],n=E.widths[g];let i=A-t.top,a=0-t.left;switch(C){case"middle":i-=r/2;break;case"bottom":i-=r}switch(j){case"center":a-=n/2;break;case"right":a-=n;break;case"inner":g===x-1?a-=n:g>0&&(a-=n/2)}u={left:a,top:i,width:n+t.width,height:r+t.height,color:e.backdropColor}}m.push({label:v,font:_,textOffset:A,options:{rotation:p,color:r,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:C,translation:[b,w],backdrop:u}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-$q(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:n,padding:i}}=this.options,a=e+i,s=this._getLabelSizes().widest.width;let o,l;return"left"===t?n?(l=this.right+i,"near"===r?o="left":"center"===r?(o="center",l+=s/2):(o="right",l+=s)):(l=this.right-a,"near"===r?o="right":"center"===r?(o="center",l-=s/2):(o="left",l=this.left)):"right"===t?n?(l=this.left+i,"near"===r?o="right":"center"===r?(o="center",l-=s/2):(o="left",l-=s)):(l=this.left+a,"near"===r?o="left":"center"===r?(o="center",l+=s/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:n,width:i,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,n,i,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(t=>t.value===e);if(r>=0){return t.setContext(this.getContext(r)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const s=(e,t,n)=>{n.width&&n.color&&(r.save(),r.lineWidth=n.width,r.strokeStyle=n.color,r.setLineDash(n.borderDash||[]),r.lineDashOffset=n.borderDashOffset,r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.stroke(),r.restore())};if(t.display)for(i=0,a=n.length;i<a;++i){const e=n[i];t.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:n}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const s=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=zW(e,this.left,a)-a/2,c=zW(e,this.right,s)+s/2,d=u=o):(d=zW(e,this.top,a)-a/2,u=zW(e,this.bottom,s)+s/2,l=c=o),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,r=this._computeLabelArea();r&&VW(t,r);const n=this.getLabelItems(e);for(const i of n){const e=i.options,r=i.font;$W(t,i.label,0,i.textOffset,r,e)}r&&GW(t)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:n}}=this;if(!r.display)return;const i=oH(r.font),a=sH(r.padding),s=r.align;let o=i.lineHeight/2;"bottom"===t||"center"===t||xq(t)?(o+=a.bottom,gq(r.text)&&(o+=i.lineHeight*(r.text.length-1))):o+=a.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,r,n){const{top:i,left:a,bottom:s,right:o,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,f,p=0;const m=s-i,g=o-a;if(e.isHorizontal()){if(h=gW(n,a,o),xq(r)){const e=Object.keys(r)[0],n=r[e];f=d[e].getPixelForValue(n)+m-t}else f="center"===r?(c.bottom+c.top)/2+m-t:CG(e,r,t);u=o-a}else{if(xq(r)){const e=Object.keys(r)[0],n=r[e];h=d[e].getPixelForValue(n)-g+t}else h="center"===r?(c.left+c.right)/2-g+t:CG(e,r,t);f=gW(n,s,i),p="left"===r?-qq:qq}return{titleX:h,titleY:f,maxWidth:u,rotation:p}}(this,o,t,s);$W(e,r.text,0,0,i,{color:r.color,maxWidth:d,rotation:u,textAlign:LG(s,t,n),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=bq(e.grid&&e.grid.z,-1),n=bq(e.border&&e.border.z,0);return this._isVisible()&&this.draw===DG.prototype.draw?[{z:r,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let i,a;for(i=0,a=t.length;i<a;++i){const a=t[i];a[r]!==this.id||e&&a.type!==e||n.push(a)}return n}_resolveTickFontOptions(e){return oH(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class MG{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;(function(e){return"id"in e&&"defaults"in e})(t)&&(r=this.register(t));const n=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in n||(n[i]=e,function(e,t,r){const n=Cq(Object.create(null),[r?RW.get(r):{},RW.get(t),e.defaults]);RW.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(r=>{const n=r.split("."),i=n.pop(),a=[e].concat(n).join("."),s=t[r].split("."),o=s.pop(),l=s.join(".");RW.route(a,i,l,o)})}(t,e.defaultRoutes);e.descriptors&&RW.describe(t,e.descriptors)}(e,a,r),this.override&&RW.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,n=this.scope;r in t&&delete t[r],n&&r in RW[n]&&(delete RW[n][r],this.override&&delete OW[r])}}class RG{constructor(){this.controllers=new MG(wV,"datasets",!0),this.elements=new MG(kG,"elements"),this.plugins=new MG(Object,"plugins"),this.scales=new MG(DG,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.scales)}_each(e,t,r){[...t].forEach(t=>{const n=r||this._getRegistryForType(t);r||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):Nq(t,t=>{const n=r||this._getRegistryForType(t);this._exec(e,n,t)})})}_exec(e,t,r){const n=Iq(e);jq(r["before"+n],[],r),t[e](r),jq(r["after"+n],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+r+".");return n}}var FG=new RG;class BG{constructor(){this._init=void 0}notify(e,t,r,n){if("beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),void 0===this._init)return;const i=n?this._descriptors(e).filter(n):this._descriptors(e),a=this._notify(i,e,t,r);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,r,n){n=n||{};for(const i of e){const e=i.plugin;if(!1===jq(e[r],[t,n,i.options],e)&&n.cancelable)return!1}return!0}invalidate(){mq(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,n=bq(r.options&&r.options.plugins,{}),i=function(e){const t={},r=[],n=Object.keys(FG.plugins.items);for(let a=0;a<n.length;a++)r.push(FG.getPlugin(n[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const e=i[a];-1===r.indexOf(e)&&(r.push(e),t[e.id]=!0)}return{plugins:r,localIds:t}}(r);return!1!==n||t?function(e,t,r,n){let{plugins:i,localIds:a}=t;const s=[],o=e.getContext();for(const l of i){const t=l.id,i=zG(r[t],n);null!==i&&s.push({plugin:l,options:UG(e.config,{plugin:l,local:a[t]},i,o)})}return s}(e,i,n,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,n=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(n(t,r),e,"stop"),this._notify(n(r,t),e,"start")}}function zG(e,t){return t||!1!==e?!0===e?{}:e:null}function UG(e,t,r,n){let{plugin:i,local:a}=t;const s=e.pluginScopeKeys(i),o=e.getOptionScopes(r,s);return a&&i.defaults&&o.push(i.defaults),e.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qG(e,t){const r=RW.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function WG(e){if("x"===e||"y"===e||"r"===e)return e}function HG(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function VG(e){if(WG(e))return e;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(const i of r){const t=i.axis||HG(i.position)||e.length>1&&WG(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function GG(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function KG(e,t){const r=OW[e.type]||{scales:{}},n=t.scales||{},i=qG(e.type,t),a=Object.create(null);return Object.keys(n).forEach(t=>{const s=n[t];if(!xq(s))return console.error("Invalid scale configuration for scale: ".concat(t));if(s._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const o=VG(t,s,function(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(r.length)return GG(e,"x",r[0])||GG(e,"y",r[0])}return{}}(t,e),RW.scales[s.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,i),c=r.scales||{};a[t]=Eq(Object.create(null),[{axis:o},s,c[o],c[l]])}),e.data.datasets.forEach(r=>{const i=r.type||e.type,s=r.indexAxis||qG(i,t),o=(OW[i]||{}).scales||{};Object.keys(o).forEach(e=>{const t=function(e,t){let r=e;return"_index_"===e?r=t:"_value_"===e&&(r="x"===t?"y":"x"),r}(e,s),i=r[t+"AxisID"]||t;a[i]=a[i]||Object.create(null),Eq(a[i],[{axis:t},n[i],o[e]])})}),Object.keys(a).forEach(e=>{const t=a[e];Eq(t,[RW.scales[t.type],RW.scale])}),a}function YG(e){const t=e.options||(e.options={});t.plugins=bq(t.plugins,{}),t.scales=KG(e,t)}function XG(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const QG=new Map,$G=new Set;function ZG(e,t){let r=QG.get(e);return r||(r=t(),QG.set(e,r),$G.add(r)),r}const JG=(e,t,r)=>{const n=Oq(t,r);void 0!==n&&e.add(n)};class eK{constructor(e){this._config=function(e){return(e=e||{}).data=XG(e.data),YG(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=XG(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),YG(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ZG(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,t){return ZG("".concat(e,".transition.").concat(t),()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,t){return ZG("".concat(e,"-").concat(t),()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return ZG("".concat(r,"-plugin-").concat(t),()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let n=r.get(e);return n&&!t||(n=new Map,r.set(e,n)),n}getOptionScopes(e,t,r){const{options:n,type:i}=this,a=this._cachedScopes(e,r),s=a.get(t);if(s)return s;const o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>JG(o,e,t))),t.forEach(e=>JG(o,n,e)),t.forEach(e=>JG(o,OW[i]||{},e)),t.forEach(e=>JG(o,RW,e)),t.forEach(e=>JG(o,IW,e))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),$G.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,OW[t]||{},RW.datasets[t]||{},{type:t},RW,IW]}resolveNamedOptions(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:a,subPrefixes:s}=tK(this._resolverCache,e,n);let o=a;if(function(e,t){const{isScriptable:r,isIndexable:n}=hH(e);for(const i of t){const t=r(i),a=n(i),s=(a||t)&&e[i];if(t&&(Dq(s)||rK(s))||a&&gq(s))return!0}return!1}(a,t)){i.$shared=!1;o=uH(a,r=Dq(r)?r():r,this.createResolver(e,r,s))}for(const l of t)i[l]=o[l];return i}createResolver(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],n=arguments.length>3?arguments[3]:void 0;const{resolver:i}=tK(this._resolverCache,e,r);return xq(t)?uH(i,t,void 0,n):i}}function tK(e,t,r){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=r.join();let a=n.get(i);if(!a){a={resolver:dH(t,r),subPrefixes:r.filter(e=>!e.toLowerCase().includes("hover"))},n.set(i,a)}return a}const rK=e=>xq(e)&&Object.getOwnPropertyNames(e).some(t=>Dq(e[t]));const nK=["top","bottom","left","right","chartArea"];function iK(e,t){return"top"===e||"bottom"===e||-1===nK.indexOf(e)&&"x"===t}function aK(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function sK(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),jq(r&&r.onComplete,[e],t)}function oK(e){const t=e.chart,r=t.options.animation;jq(r&&r.onProgress,[e],t)}function lK(e){return TH()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const cK={},dK=e=>{const t=lK(e);return Object.values(cK).filter(e=>e.canvas===t).pop()};function uK(e,t,r){const n=Object.keys(e);for(const i of n){const n=+i;if(n>=t){const a=e[i];delete e[i],(r>0||n>t)&&(e[n+r]=a)}}}class hK{static register(){FG.add(...arguments),fK()}static unregister(){FG.remove(...arguments),fK()}constructor(e,t){const r=this.config=new eK(t),n=lK(e),i=dK(n);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function(e){return!TH()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?cG:_G}(n)),this.platform.updateConfig(r);const s=this.platform.acquireContext(n,a.aspectRatio),o=s&&s.canvas,l=o&&o.height,c=o&&o.width;this.id=pq(),this.ctx=s,this.canvas=o,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new BG,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let r;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t?(clearTimeout(r),r=setTimeout(e,t,i)):e.apply(this,i),t}}(e=>this.update(e),a.resizeDelay||0),this._dataChanges=[],cK[this.id]=this,s&&o?(aV.listen(this,"complete",sK),aV.listen(this,"progress",oK),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:n,_aspectRatio:i}=this;return mq(e)?t&&i?i:n?r/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return FG}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zH(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return UW(this.canvas,this.ctx),this}stop(){return aV.stop(this),this}resize(e,t){aV.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,n=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(n,e,t,i),s=r.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,zH(this,s,!0)&&(this.notifyPlugins("resize",{size:a}),jq(r.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){Nq(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,n=Object.keys(r).reduce((e,t)=>(e[t]=!1,e),{});let i=[];t&&(i=i.concat(Object.keys(t).map(e=>{const r=t[e],n=VG(e,r),i="r"===n,a="x"===n;return{options:r,dposition:i?"chartArea":a?"bottom":"left",dtype:i?"radialLinear":a?"category":"linear"}}))),Nq(i,t=>{const i=t.options,a=i.id,s=VG(a,i),o=bq(i.type,t.dtype);void 0!==i.position&&iK(i.position,s)===iK(t.dposition)||(i.position=t.dposition),n[a]=!0;let l=null;if(a in r&&r[a].type===o)l=r[a];else{l=new(FG.getScale(o))({id:a,type:o,ctx:this.ctx,chart:this}),r[l.id]=l}l.init(i,e)}),Nq(n,(e,t)=>{e||delete r[t]}),Nq(r,e=>{oG.configure(this,e,e.options),oG.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((e,t)=>e.index-t.index),r>t){for(let e=t;e<r;++e)this._destroyDatasetMeta(e);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(aK("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,r)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,n;for(this._removeUnreferencedMetasets(),r=0,n=t.length;r<n;r++){const n=t[r];let i=this.getDatasetMeta(r);const a=n.type||this.config.type;if(i.type&&i.type!==a&&(this._destroyDatasetMeta(r),i=this.getDatasetMeta(r)),i.type=a,i.indexAxis=n.indexAxis||qG(a,this.options),i.order=n.order||0,i.index=r,i.label=""+n.label,i.visible=this.isDatasetVisible(r),i.controller)i.controller.updateIndex(r),i.controller.linkScales();else{const t=FG.getController(a),{datasetElementType:n,dataElementType:s}=RW.datasets[a];Object.assign(t,{dataElementType:FG.getElement(s),datasetElementType:n&&FG.getElement(n)}),i.controller=new t(this,r),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){Nq(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!n&&-1===i.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),n||Nq(i,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(aK("z","_idx"));const{_active:s,_lastEvent:o}=this;o?this._eventHandler(o,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){Nq(this.scales,e=>{oG.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);Mq(t,r)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:i}of t){uK(e,n,"_removeElements"===r?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),n=r(0);for(let i=1;i<t;i++)if(!Mq(n,r(i)))return;return Array.from(n).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;oG.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Nq(this.boxes,e=>{r&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Dq(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),n={meta:r,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(r.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(aV.has(this)?this.attached&&!aV.running(this)&&aV.start(this):(this.draw(),sK({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let n,i;for(n=0,i=t.length;n<i;++n){const i=t[n];e&&!i.visible||r.push(i)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},n=nV(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(n&&VW(t,n),e.controller.draw(),n&&GW(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return HW(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,n){const i=YV.modes[t];return"function"===typeof i?i(this,e,r,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let n=r.filter(e=>e&&e._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=cH(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return"boolean"===typeof r.hidden?!r.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const n=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,n);Lq(t)?(i.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(t=>t.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),aV.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),UW(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete cK[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(r,n)=>{t.addEventListener(this,r,n),e[r]=n},n=(e,t,r)=>{e.offsetX=t,e.offsetY=r,this._eventHandler(e)};Nq(this.options.events,e=>r(e,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(r,n)=>{t.addEventListener(this,r,n),e[r]=n},n=(r,n)=>{e[r]&&(t.removeEventListener(this,r,n),delete e[r])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const s=()=>{n("attach",s),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),r("attach",s)},t.isAttached(this.canvas)?s():a()}unbindEvents(){Nq(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Nq(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const n=r?"set":"remove";let i,a,s,o;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),s=0,o=e.length;s<o;++s){a=e[s];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[n+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(e=>{let{datasetIndex:t,index:r}=e;const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[r],index:r}});!_q(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,r){const n=this.options.hover,i=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),a=i(t,e),s=r?e:i(e,t);a.length&&this.updateHoverStyle(a,n.mode,!1),s.length&&n.mode&&this.updateHoverStyle(s,n.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,n))return;const i=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(i||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:n=[],options:i}=this,a=t,s=this._getActiveElements(e,n,r,a),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,r,n){return r&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,r,o);r&&(this._lastEvent=null,jq(i.onHover,[e,s,this],this),o&&jq(i.onClick,[e,s,this],this));const c=!_q(s,n);return(c||t)&&(this._active=s,this._updateHoverStyles(s,n,t)),this._lastEvent=l,c}_getActiveElements(e,t,r,n){if("mouseout"===e.type)return[];if(!r)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,n)}}function fK(){return Nq(hK.instances,e=>e._plugins.invalidate())}function pK(e,t,r,n){const i=function(e){return nH(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),a=(r-t)/2,s=Math.min(a,n*t/2),o=e=>{const t=(r-Math.min(a,e))*n/2;return aW(e,0,Math.min(a,t))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:aW(i.innerStart,0,s),innerEnd:aW(i.innerEnd,0,s)}}function mK(e,t,r,n){return{x:r+e*Math.cos(t),y:n+e*Math.sin(t)}}function gK(e,t,r,n,i,a){const{x:s,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+n+r-c,0),h=d>0?d+n+r+c:0;let f=0;const p=i-l;if(n){const e=((d>0?d-n:0)+(u>0?u-n:0))/2;f=(p-(0!==e?p*e/(e+n):p))/2}const m=(p-Math.max(.001,p*u-r/Rq)/u)/2,g=l+m+f,x=i-m-f,{outerStart:y,outerEnd:v,innerStart:b,innerEnd:w}=pK(t,h,u,x-g),j=u-y,N=u-v,_=g+y/j,k=x-v/N,S=h+b,A=h+w,C=g+b/S,E=x-w/A;if(e.beginPath(),a){const t=(_+k)/2;if(e.arc(s,o,u,_,t),e.arc(s,o,u,t,k),v>0){const t=mK(N,k,s,o);e.arc(t.x,t.y,v,k,x+qq)}const r=mK(A,x,s,o);if(e.lineTo(r.x,r.y),w>0){const t=mK(A,E,s,o);e.arc(t.x,t.y,w,x+qq,E+Math.PI)}const n=(x-w/h+(g+b/h))/2;if(e.arc(s,o,h,x-w/h,n,!0),e.arc(s,o,h,n,g+b/h,!0),b>0){const t=mK(S,C,s,o);e.arc(t.x,t.y,b,C+Math.PI,g-qq)}const i=mK(j,g,s,o);if(e.lineTo(i.x,i.y),y>0){const t=mK(j,_,s,o);e.arc(t.x,t.y,y,g-qq,_)}}else{e.moveTo(s,o);const t=Math.cos(_)*u+s,r=Math.sin(_)*u+o;e.lineTo(t,r);const n=Math.cos(k)*u+s,i=Math.sin(k)*u+o;e.lineTo(n,i)}e.closePath()}function xK(e,t,r,n,i){const{fullCircles:a,startAngle:s,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:f}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,p?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let m=t.endAngle;if(a){gK(e,t,r,n,m,i);for(let t=0;t<a;++t)e.stroke();isNaN(o)||(m=s+(o%Fq||Fq))}p&&function(e,t,r){const{startAngle:n,pixelMargin:i,x:a,y:s,outerRadius:o,innerRadius:l}=t;let c=i/o;e.beginPath(),e.arc(a,s,o,n-c,r+c),l>i?(c=i/l,e.arc(a,s,l,r+c,n-c,!0)):e.arc(a,s,i,r+qq,n-qq),e.closePath(),e.clip()}(e,t,m),l.selfJoin&&m-s>=Rq&&0===f&&"miter"!==d&&function(e,t,r){const{startAngle:n,x:i,y:a,outerRadius:s,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,u=Math.min(c/s,nW(n-r));if(e.beginPath(),e.arc(i,a,s-c/2,n+u/2,r-u/2),o>0){const t=Math.min(c/o,nW(n-r));e.arc(i,a,o+c/2,r-t/2,n+t/2,!0)}else{const t=Math.min(c/2,s*nW(n-r));if("round"===d)e.arc(i,a,t,r-Rq/2,n+Rq/2,!0);else if("bevel"===d){const s=2*t*t,o=-s*Math.cos(r+Rq/2)+i,l=-s*Math.sin(r+Rq/2)+a,c=s*Math.cos(n+Rq/2)+i,d=s*Math.sin(n+Rq/2)+a;e.lineTo(o,l),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,m),a||(gK(e,t,r,n,m,i),e.stroke())}(0,Me.A)(hK,"defaults",RW),(0,Me.A)(hK,"instances",cK),(0,Me.A)(hK,"overrides",OW),(0,Me.A)(hK,"registry",FG),(0,Me.A)(hK,"version","4.5.1"),(0,Me.A)(hK,"getChart",dK);class yK extends kG{constructor(e){super(),(0,Me.A)(this,"circumference",void 0),(0,Me.A)(this,"endAngle",void 0),(0,Me.A)(this,"fullCircles",void 0),(0,Me.A)(this,"innerRadius",void 0),(0,Me.A)(this,"outerRadius",void 0),(0,Me.A)(this,"pixelMargin",void 0),(0,Me.A)(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.getProps(["x","y"],r),{angle:i,distance:a}=eW(n,{x:e,y:t}),{startAngle:s,endAngle:o,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),u=(this.options.spacing+this.options.borderWidth)/2,h=bq(d,o-s),f=iW(i,s,o)&&s!==o,p=h>=Fq||f,m=sW(a,l+u,c+u);return p&&m}getCenterPoint(e){const{x:t,y:r,startAngle:n,endAngle:i,innerRadius:a,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(n+i)/2,d=(a+s+l+o)/2;return{x:t+Math.cos(c)*d,y:r+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,n=(t.offset||0)/4,i=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=r>Fq?Math.floor(r/Fq):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();const s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*n,Math.sin(s)*n);const o=n*(1-Math.sin(Math.min(Rq,r||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,r,n,i){const{fullCircles:a,startAngle:s,circumference:o}=t;let l=t.endAngle;if(a){gK(e,t,r,n,l,i);for(let t=0;t<a;++t)e.fill();isNaN(o)||(l=s+(o%Fq||Fq))}gK(e,t,r,n,l,i),e.fill()}(e,this,o,i,a),xK(e,this,o,i,a),e.restore()}}function vK(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=bq(r.borderCapStyle,t.borderCapStyle),e.setLineDash(bq(r.borderDash,t.borderDash)),e.lineDashOffset=bq(r.borderDashOffset,t.borderDashOffset),e.lineJoin=bq(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=bq(r.borderWidth,t.borderWidth),e.strokeStyle=bq(r.borderColor,t.borderColor)}function bK(e,t,r){e.lineTo(r.x,r.y)}function wK(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.length,{start:i=0,end:a=n-1}=r,{start:s,end:o}=t,l=Math.max(i,s),c=Math.min(a,o),d=i<s&&a<s||i>o&&a>o;return{count:n,start:l,loop:t.loop,ilen:c<l&&!d?n+c-l:c-l}}function jK(e,t,r,n){const{points:i,options:a}=t,{count:s,start:o,loop:l,ilen:c}=wK(i,r,n),d=function(e){return e.stepped?KW:e.tension||"monotone"===e.cubicInterpolationMode?YW:bK}(a);let u,h,f,{move:p=!0,reverse:m}=n||{};for(u=0;u<=c;++u)h=i[(o+(m?c-u:u))%s],h.skip||(p?(e.moveTo(h.x,h.y),p=!1):d(e,f,h,m,a.stepped),f=h);return l&&(h=i[(o+(m?c:0))%s],d(e,f,h,m,a.stepped)),!!l}function NK(e,t,r,n){const i=t.points,{count:a,start:s,ilen:o}=wK(i,r,n),{move:l=!0,reverse:c}=n||{};let d,u,h,f,p,m,g=0,x=0;const y=e=>(s+(c?o-e:e))%a,v=()=>{f!==p&&(e.lineTo(g,p),e.lineTo(g,f),e.lineTo(g,m))};for(l&&(u=i[y(0)],e.moveTo(u.x,u.y)),d=0;d<=o;++d){if(u=i[y(d)],u.skip)continue;const t=u.x,r=u.y,n=0|t;n===h?(r<f?f=r:r>p&&(p=r),g=(x*g+t)/++x):(v(),e.lineTo(t,r),h=n,x=0,f=p=r),m=r}v()}function _K(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!r?NK:jK}(0,Me.A)(yK,"id","arc"),(0,Me.A)(yK,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),(0,Me.A)(yK,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,Me.A)(yK,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const kK="function"===typeof Path2D;function SK(e,t,r,n){kK&&!t.options.segment?function(e,t,r,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,r,n)&&i.closePath()),vK(e,t.options),e.stroke(i)}(e,t,r,n):function(e,t,r,n){const{segments:i,options:a}=t,s=_K(t);for(const o of i)vK(e,a,o.style),e.beginPath(),s(e,t,o,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}(e,t,r,n)}class AK extends kG{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||"monotone"===r.cubicInterpolationMode)&&!r.stepped&&!this._pointsUpdated){const n=r.spanGaps?this._loop:this._fullLoop;PH(this._points,r,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const r=e.points,n=e.options.spanGaps,i=r.length;if(!i)return[];const a=!!e._loop,{start:s,end:o}=function(e,t,r,n){let i=0,a=t-1;if(r&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,r&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}(r,i,a,n);return JH(e,!0===n?[{start:s,end:o,loop:a}]:function(e,t,r,n){const i=e.length,a=[];let s,o=t,l=e[t];for(s=t+1;s<=r;++s){const r=e[s%i];r.skip||r.stop?l.skip||(n=!1,a.push({start:t%i,end:(s-1)%i,loop:n}),t=o=r.stop?s:null):(o=s,l.skip&&(t=s)),l=r}return null!==o&&a.push({start:t%i,end:o%i,loop:n}),a}(r,s,o<s?o+i:o,!!e._fullLoop&&0===s&&o===i-1),r,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,n=e[t],i=this.points,a=ZH(this,{property:t,start:n,end:n});if(!a.length)return;const s=[],o=function(e){return e.stepped?HH:e.tension||"monotone"===e.cubicInterpolationMode?VH:WH}(r);let l,c;for(l=0,c=a.length;l<c;++l){const{start:c,end:d}=a[l],u=i[c],h=i[d];if(u===h){s.push(u);continue}const f=o(u,h,Math.abs((n-u[t])/(h[t]-u[t])),r.stepped);f[t]=e[t],s.push(f)}return 1===s.length?s[0]:s}pathSegment(e,t,r){return _K(this)(e,this,t,r)}path(e,t,r){const n=this.segments,i=_K(this);let a=this._loop;t=t||0,r=r||this.points.length-t;for(const s of n)a&=i(e,this,s,{start:t,end:t+r-1});return!!a}draw(e,t,r,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),SK(e,this,r,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function CK(e,t,r,n){const i=e.options,{[r]:a}=e.getProps([r],n);return Math.abs(t-a)<i.radius+i.hitRadius}(0,Me.A)(AK,"id","line"),(0,Me.A)(AK,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,Me.A)(AK,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,Me.A)(AK,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class EK extends kG{constructor(e){super(),(0,Me.A)(this,"parsed",void 0),(0,Me.A)(this,"skip",void 0),(0,Me.A)(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.options,{x:i,y:a}=this.getProps(["x","y"],r);return Math.pow(e-i,2)+Math.pow(t-a,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return CK(this,e,"x",t)}inYRange(e,t){return CK(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const r=this.options;this.skip||r.radius<.1||!HW(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,qW(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function PK(e,t){const{x:r,y:n,base:i,width:a,height:s}=e.getProps(["x","y","base","width","height"],t);let o,l,c,d,u;return e.horizontal?(u=s/2,o=Math.min(r,i),l=Math.max(r,i),c=n-u,d=n+u):(u=a/2,o=r-u,l=r+u,c=Math.min(n,i),d=Math.max(n,i)),{left:o,top:c,right:l,bottom:d}}function TK(e,t,r,n){return e?0:aW(t,r,n)}function OK(e){const t=PK(e),r=t.right-t.left,n=t.bottom-t.top,i=function(e,t,r){const n=e.options.borderWidth,i=e.borderSkipped,a=iH(n);return{t:TK(i.top,a.top,0,r),r:TK(i.right,a.right,0,t),b:TK(i.bottom,a.bottom,0,r),l:TK(i.left,a.left,0,t)}}(e,r/2,n/2),a=function(e,t,r){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,a=aH(i),s=Math.min(t,r),o=e.borderSkipped,l=n||xq(i);return{topLeft:TK(!l||o.top||o.left,a.topLeft,0,s),topRight:TK(!l||o.top||o.right,a.topRight,0,s),bottomLeft:TK(!l||o.bottom||o.left,a.bottomLeft,0,s),bottomRight:TK(!l||o.bottom||o.right,a.bottomRight,0,s)}}(e,r/2,n/2);return{outer:{x:t.left,y:t.top,w:r,h:n,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:r-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function IK(e,t,r,n){const i=null===t,a=null===r,s=e&&!(i&&a)&&PK(e,n);return s&&(i||sW(t,s.left,s.right))&&(a||sW(r,s.top,s.bottom))}function LK(e,t){e.rect(t.x,t.y,t.w,t.h)}function DK(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.x!==r.x?-t:0,i=e.y!==r.y?-t:0,a=(e.x+e.w!==r.x+r.w?t:0)-n,s=(e.y+e.h!==r.y+r.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+a,h:e.h+s,radius:e.radius}}(0,Me.A)(EK,"id","point"),(0,Me.A)(EK,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,Me.A)(EK,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class MK extends kG{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:n}}=this,{inner:i,outer:a}=OK(this),s=(o=a.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?ZW:LK;var o;e.save(),a.w===i.w&&a.h===i.h||(e.beginPath(),s(e,DK(a,t,i)),e.clip(),s(e,DK(i,-t,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),s(e,DK(i,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,r){return IK(this,e,t,r)}inXRange(e,t){return IK(this,e,null,t)}inYRange(e,t){return IK(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:n,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+n)/2:t,y:i?r:(r+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}(0,Me.A)(MK,"id","bar"),(0,Me.A)(MK,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,Me.A)(MK,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var RK=Object.freeze({__proto__:null,ArcElement:yK,BarElement:MK,LineElement:AK,PointElement:EK});const FK=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],BK=FK.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function zK(e){return FK[e%FK.length]}function UK(e){return BK[e%BK.length]}function qK(e){let t=0;return(r,n)=>{const i=e.getDatasetMeta(n).controller;i instanceof OV?t=function(e,t){return e.backgroundColor=e.data.map(()=>zK(t++)),t}(r,t):i instanceof LV?t=function(e,t){return e.backgroundColor=e.data.map(()=>UK(t++)),t}(r,t):i&&(t=function(e,t){return e.borderColor=zK(t),e.backgroundColor=UK(t),++t}(r,t))}}function WK(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var HK={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,r){if(!r.enabled)return;const{data:{datasets:n},options:i}=e.config,{elements:a}=i,s=WK(n)||(o=i)&&(o.borderColor||o.backgroundColor)||a&&WK(a)||"rgba(0,0,0,0.1)"!==RW.borderColor||"rgba(0,0,0,0.1)"!==RW.backgroundColor;var o;if(!r.forceOverride&&s)return;const l=qK(e);n.forEach(l)}};function VK(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function GK(e){e.data.datasets.forEach(e=>{VK(e)})}var KK={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,r)=>{if(!r.enabled)return void GK(e);const n=e.width;e.data.datasets.forEach((t,i)=>{const{_data:a,indexAxis:s}=t,o=e.getDatasetMeta(i),l=a||t.data;if("y"===lH([s,e.options.indexAxis]))return;if(!o.controller.supportsDecimation)return;const c=e.scales[o.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let{start:d,count:u}=function(e,t){const r=t.length;let n,i=0;const{iScale:a}=e,{min:s,max:o,minDefined:l,maxDefined:c}=a.getUserBounds();return l&&(i=aW(lW(t,a.axis,s).lo,0,r-1)),n=c?aW(lW(t,a.axis,o).hi+1,i,r)-i:r-i,{start:i,count:n}}(o,l);if(u<=(r.threshold||4*n))return void VK(t);let h;switch(mq(a)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),r.algorithm){case"lttb":h=function(e,t,r,n,i){const a=i.samples||n;if(a>=r)return e.slice(t,t+r);const s=[],o=(r-2)/(a-2);let l=0;const c=t+r-1;let d,u,h,f,p,m=t;for(s[l++]=e[m],d=0;d<a-2;d++){let n,i=0,a=0;const c=Math.floor((d+1)*o)+1+t,g=Math.min(Math.floor((d+2)*o)+1,r)+t,x=g-c;for(n=c;n<g;n++)i+=e[n].x,a+=e[n].y;i/=x,a/=x;const y=Math.floor(d*o)+1+t,v=Math.min(Math.floor((d+1)*o)+1,r)+t,{x:b,y:w}=e[m];for(h=f=-1,n=y;n<v;n++)f=.5*Math.abs((b-i)*(e[n].y-w)-(b-e[n].x)*(a-w)),f>h&&(h=f,u=e[n],p=n);s[l++]=u,m=p}return s[l++]=e[c],s}(l,d,u,n,r);break;case"min-max":h=function(e,t,r,n){let i,a,s,o,l,c,d,u,h,f,p=0,m=0;const g=[],x=t+r-1,y=e[t].x,v=e[x].x-y;for(i=t;i<t+r;++i){a=e[i],s=(a.x-y)/v*n,o=a.y;const t=0|s;if(t===l)o<h?(h=o,c=i):o>f&&(f=o,d=i),p=(m*p+a.x)/++m;else{const r=i-1;if(!mq(c)&&!mq(d)){const t=Math.min(c,d),n=Math.max(c,d);t!==u&&t!==r&&g.push(Fe(Fe({},e[t]),{},{x:p})),n!==u&&n!==r&&g.push(Fe(Fe({},e[n]),{},{x:p}))}i>0&&r!==u&&g.push(e[r]),g.push(a),l=t,m=0,h=f=o,c=d=u=i}}return g}(l,d,u,n);break;default:throw new Error("Unsupported decimation algorithm '".concat(r.algorithm,"'"))}t._decimated=h})},destroy(e){GK(e)}};function YK(e,t,r,n){if(n)return;let i=t[e],a=r[e];return"angle"===e&&(i=nW(i),a=nW(a)),{property:e,start:i,end:a}}function XK(e,t,r){for(;t>e;t--){const e=r[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function QK(e,t,r,n){return e&&t?n(e[r],t[r]):e?e[r]:t?t[r]:0}function $K(e,t){let r=[],n=!1;return gq(e)?(n=!0,r=e):r=function(e,t){const{x:r=null,y:n=null}=e||{},i=t.points,a=[];return t.segments.forEach(e=>{let{start:t,end:s}=e;s=XK(t,s,i);const o=i[t],l=i[s];null!==n?(a.push({x:o.x,y:n}),a.push({x:l.x,y:n})):null!==r&&(a.push({x:r,y:o.y}),a.push({x:r,y:l.y}))}),a}(e,t),r.length?new AK({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function ZK(e){return e&&!1!==e.fill}function JK(e,t,r){let n=e[t].fill;const i=[t];let a;if(!r)return n;for(;!1!==n&&-1===i.indexOf(n);){if(!yq(n))return n;if(a=e[n],!a)return!1;if(a.visible)return n;i.push(n),n=a.fill}return!1}function eY(e,t,r){const n=function(e){const t=e.options,r=t.fill;let n=bq(r&&r.target,r);void 0===n&&(n=!!t.backgroundColor);if(!1===n||null===n)return!1;if(!0===n)return"origin";return n}(e);if(xq(n))return!isNaN(n.value)&&n;let i=parseFloat(n);return yq(i)&&Math.floor(i)===i?function(e,t,r,n){"-"!==e&&"+"!==e||(r=t+r);if(r===t||r<0||r>=n)return!1;return r}(n[0],t,i,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function tY(e,t,r){const n=[];for(let i=0;i<r.length;i++){const a=r[i],{first:s,last:o,point:l}=rY(a,t,"x");if(!(!l||s&&o))if(s)n.unshift(l);else if(e.push(l),!o)break}e.push(...n)}function rY(e,t,r){const n=e.interpolate(t,r);if(!n)return{};const i=n[r],a=e.segments,s=e.points;let o=!1,l=!1;for(let c=0;c<a.length;c++){const e=a[c],t=s[e.start][r],n=s[e.end][r];if(sW(i,t,n)){o=i===t,l=i===n;break}}return{first:o,last:l,point:n}}class nY{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:n,y:i,radius:a}=this;return t=t||{start:0,end:Fq},e.arc(n,i,a,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:n}=this,i=e.angle;return{x:t+Math.cos(i)*n,y:r+Math.sin(i)*n,angle:i}}}function iY(e){const{chart:t,fill:r,line:n}=e;if(yq(r))return function(e,t){const r=e.getDatasetMeta(t),n=r&&e.isDatasetVisible(t);return n?r.dataset:null}(t,r);if("stack"===r)return function(e){const{scale:t,index:r,line:n}=e,i=[],a=n.segments,s=n.points,o=function(e,t){const r=[],n=e.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const e=n[i];if(e.index===t)break;e.hidden||r.unshift(e.dataset)}return r}(t,r);o.push($K({x:null,y:t.bottom},n));for(let l=0;l<a.length;l++){const e=a[l];for(let t=e.start;t<=e.end;t++)tY(i,s[t],o)}return new AK({points:i,options:{}})}(e);if("shape"===r)return!0;const i=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:r}=e,n=t.options,i=t.getLabels().length,a=n.reverse?t.max:t.min,s=function(e,t,r){let n;return n="start"===e?r:"end"===e?t.options.reverse?t.min:t.max:xq(e)?e.value:t.getBaseValue(),n}(r,t,a),o=[];if(n.grid.circular){const e=t.getPointPositionForValue(0,a);return new nY({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<i;++l)o.push(t.getPointPositionForValue(l,s));return o}(e);return function(e){const{scale:t={},fill:r}=e,n=function(e,t){let r=null;return"start"===e?r=t.bottom:"end"===e?r=t.top:xq(e)?r=t.getPixelForValue(e.value):t.getBasePixel&&(r=t.getBasePixel()),r}(r,t);if(yq(n)){const e=t.isHorizontal();return{x:e?n:null,y:e?null:n}}return null}(e)}(e);return i instanceof nY?i:$K(i,n)}function aY(e,t,r){const n=iY(t),{chart:i,index:a,line:s,scale:o,axis:l}=t,c=s.options,d=c.fill,u=c.backgroundColor,{above:h=u,below:f=u}=d||{},p=i.getDatasetMeta(a),m=nV(i,p);n&&s.points.length&&(VW(e,r),function(e,t){const{line:r,target:n,above:i,below:a,area:s,scale:o,clip:l}=t,c=r._loop?"angle":t.axis;e.save();let d=a;a!==i&&("x"===c?(sY(e,n,s.top),lY(e,{line:r,target:n,color:i,scale:o,property:c,clip:l}),e.restore(),e.save(),sY(e,n,s.bottom)):"y"===c&&(oY(e,n,s.left),lY(e,{line:r,target:n,color:a,scale:o,property:c,clip:l}),e.restore(),e.save(),oY(e,n,s.right),d=i));lY(e,{line:r,target:n,color:d,scale:o,property:c,clip:l}),e.restore()}(e,{line:s,target:n,above:h,below:f,area:r,scale:o,axis:l,clip:m}),GW(e))}function sY(e,t,r){const{segments:n,points:i}=t;let a=!0,s=!1;e.beginPath();for(const o of n){const{start:n,end:l}=o,c=i[n],d=i[XK(n,l,i)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(c.x,r),e.lineTo(c.x,c.y)),s=!!t.pathSegment(e,o,{move:s}),s?e.closePath():e.lineTo(d.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function oY(e,t,r){const{segments:n,points:i}=t;let a=!0,s=!1;e.beginPath();for(const o of n){const{start:n,end:l}=o,c=i[n],d=i[XK(n,l,i)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(r,c.y),e.lineTo(c.x,c.y)),s=!!t.pathSegment(e,o,{move:s}),s?e.closePath():e.lineTo(r,d.y)}e.lineTo(r,t.first().y),e.closePath(),e.clip()}function lY(e,t){const{line:r,target:n,property:i,color:a,scale:s,clip:o}=t,l=function(e,t,r){const n=e.segments,i=e.points,a=t.points,s=[];for(const o of n){let{start:e,end:n}=o;n=XK(e,n,i);const l=YK(r,i[e],i[n],o.loop);if(!t.segments){s.push({source:o,target:l,start:i[e],end:i[n]});continue}const c=ZH(t,l);for(const t of c){const e=YK(r,a[t.start],a[t.end],t.loop),n=$H(o,i,e);for(const i of n)s.push({source:i,target:t,start:{[r]:QK(l,e,"start",Math.max)},end:{[r]:QK(l,e,"end",Math.min)}})}}return s}(r,n,i);for(const{source:c,target:d,start:u,end:h}of l){const{style:{backgroundColor:t=a}={}}=c,l=!0!==n;e.save(),e.fillStyle=t,cY(e,s,o,l&&YK(i,u,h)),e.beginPath();const f=!!r.pathSegment(e,c);let p;if(l){f?e.closePath():dY(e,n,h,i);const t=!!n.pathSegment(e,d,{move:f,reverse:!0});p=f&&t,p||dY(e,n,u,i)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function cY(e,t,r,n){const i=t.chart.chartArea,{property:a,start:s,end:o}=n||{};if("x"===a||"y"===a){let t,n,l,c;"x"===a?(t=s,n=i.top,l=o,c=i.bottom):(t=i.left,n=s,l=i.right,c=o),e.beginPath(),r&&(t=Math.max(t,r.left),l=Math.min(l,r.right),n=Math.max(n,r.top),c=Math.min(c,r.bottom)),e.rect(t,n,l-t,c-n),e.clip()}}function dY(e,t,r,n){const i=t.interpolate(r,n);i&&e.lineTo(i.x,i.y)}var uY={id:"filler",afterDatasetsUpdate(e,t,r){const n=(e.data.datasets||[]).length,i=[];let a,s,o,l;for(s=0;s<n;++s)a=e.getDatasetMeta(s),o=a.dataset,l=null,o&&o.options&&o instanceof AK&&(l={visible:e.isDatasetVisible(s),index:s,fill:eY(o,s,n),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,i.push(l);for(s=0;s<n;++s)l=i[s],l&&!1!==l.fill&&(l.fill=JK(i,s,r.propagate))},beforeDraw(e,t,r){const n="beforeDraw"===r.drawTime,i=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let s=i.length-1;s>=0;--s){const t=i[s].$filler;t&&(t.line.updateControlPoints(a,t.axis),n&&t.fill&&aY(e.ctx,t,a))}},beforeDatasetsDraw(e,t,r){if("beforeDatasetsDraw"!==r.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const t=n[i].$filler;ZK(t)&&aY(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,r){const n=t.meta.$filler;ZK(n)&&"beforeDatasetDraw"===r.drawTime&&aY(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const hY=(e,t)=>{let{boxHeight:r=t,boxWidth:n=t}=e;return e.usePointStyle&&(r=Math.min(r,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(t,r)}};class fY extends kG{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=jq(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,r)=>e.sort(t,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const r=e.labels,n=oH(r.font),i=n.size,a=this._computeTitleHeight(),{boxWidth:s,itemHeight:o}=hY(r,i);let l,c;t.font=n.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,i,s,o)+10):(c=this.maxHeight,l=this._fitCols(a,n,s,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,n){const{ctx:i,maxWidth:a,options:{labels:{padding:s}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+s;let d=e;i.textAlign="left",i.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach((e,f)=>{const p=r+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+p+2*s>a)&&(d+=c,l[l.length-(f>0?0:1)]=0,h+=c,u++),o[f]={left:0,top:h,row:u,width:p,height:n},l[l.length-1]+=p+s}),d}_fitCols(e,t,r,n){const{ctx:i,maxHeight:a,options:{labels:{padding:s}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e;let d=s,u=0,h=0,f=0,p=0;return this.legendItems.forEach((e,a)=>{const{itemWidth:m,itemHeight:g}=function(e,t,r,n,i){const a=function(e,t,r,n){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce((e,t)=>e.length>t.length?e:t));return t+r.size/2+n.measureText(i).width}(n,e,t,r),s=function(e,t,r){let n=e;"string"!==typeof t.text&&(n=pY(t,r));return n}(i,n,t.lineHeight);return{itemWidth:a,itemHeight:s}}(r,t,i,e,n);a>0&&h+g+2*s>c&&(d+=u+s,l.push({width:u,height:h}),f+=u+s,p++,u=h=0),o[a]={left:f,top:h,col:p,width:m,height:g},u=Math.max(u,m),h+=g+s}),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:n},rtl:i}}=this,a=GH(i,this.left,this.width);if(this.isHorizontal()){let i=0,s=gW(r,this.left+n,this.right-this.lineWidths[i]);for(const o of t)i!==o.row&&(i=o.row,s=gW(r,this.left+n,this.right-this.lineWidths[i])),o.top+=this.top+e+n,o.left=a.leftForLtr(a.x(s),o.width),s+=o.width+n}else{let i=0,s=gW(r,this.top+e+n,this.bottom-this.columnSizes[i].height);for(const o of t)o.col!==i&&(i=o.col,s=gW(r,this.top+e+n,this.bottom-this.columnSizes[i].height)),o.top=s,o.left+=this.left+n,o.left=a.leftForLtr(a.x(o.left),o.width),s+=o.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;VW(e,this),this._draw(),GW(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:n}=this,{align:i,labels:a}=e,s=RW.color,o=GH(e.rtl,this.left,this.width),l=oH(a.font),{padding:c}=a,d=l.size,u=d/2;let h;this.drawTitle(),n.textAlign=o.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=hY(a,d),g=this.isHorizontal(),x=this._computeTitleHeight();h=g?{x:gW(i,this.left+c,this.right-r[0]),y:this.top+c+x,line:0}:{x:this.left+c,y:gW(i,this.top+x+c,this.bottom-t[0].height),line:0},KH(this.ctx,e.textDirection);const y=m+c;this.legendItems.forEach((v,b)=>{n.strokeStyle=v.fontColor,n.fillStyle=v.fontColor;const w=n.measureText(v.text).width,j=o.textAlign(v.textAlign||(v.textAlign=a.textAlign)),N=f+u+w;let _=h.x,k=h.y;o.setWidth(this.width),g?b>0&&_+N+c>this.right&&(k=h.y+=y,h.line++,_=h.x=gW(i,this.left+c,this.right-r[h.line])):b>0&&k+y>this.bottom&&(_=h.x=_+t[h.line].width+c,h.line++,k=h.y=gW(i,this.top+x+c,this.bottom-t[h.line].height));if(function(e,t,r){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;n.save();const i=bq(r.lineWidth,1);if(n.fillStyle=bq(r.fillStyle,s),n.lineCap=bq(r.lineCap,"butt"),n.lineDashOffset=bq(r.lineDashOffset,0),n.lineJoin=bq(r.lineJoin,"miter"),n.lineWidth=i,n.strokeStyle=bq(r.strokeStyle,s),n.setLineDash(bq(r.lineDash,[])),a.usePointStyle){const s={radius:p*Math.SQRT2/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:i},l=o.xPlus(e,f/2);WW(n,s,l,t+u,a.pointStyleWidth&&f)}else{const a=t+Math.max((d-p)/2,0),s=o.leftForLtr(e,f),l=aH(r.borderRadius);n.beginPath(),Object.values(l).some(e=>0!==e)?ZW(n,{x:s,y:a,w:f,h:p,radius:l}):n.rect(s,a,f,p),n.fill(),0!==i&&n.stroke()}n.restore()}(o.x(_),k,v),_=((e,t,r,n)=>e===(n?"left":"right")?r:"center"===e?(t+r)/2:t)(j,_+f+u,g?_+N:this.right,e.rtl),function(e,t,r){$W(n,r.text,e,t+m/2,l,{strikethrough:r.hidden,textAlign:o.textAlign(r.textAlign)})}(o.x(_),k,v),g)h.x+=N+c;else if("string"!==typeof v.text){const e=l.lineHeight;h.y+=pY(v,e)+c}else h.y+=y}),YH(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=oH(t.font),n=sH(t.padding);if(!t.display)return;const i=GH(e.rtl,this.left,this.width),a=this.ctx,s=t.position,o=r.size/2,l=n.top+o;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=gW(e.align,d,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+gW(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=gW(s,d,d+u);a.textAlign=i.textAlign(mW(s)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,$W(a,t.text,h,c,r)}_computeTitleHeight(){const e=this.options.title,t=oH(e.font),r=sH(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,n,i;if(sW(e,this.left,this.right)&&sW(t,this.top,this.bottom))for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(n=i[r],sW(e,n.left,n.left+n.width)&&sW(t,n.top,n.top+n.height))return this.legendItems[r];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const n=this._hoveredItem,i=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(n,r);n&&!i&&jq(t.onLeave,[e,n,this],this),this._hoveredItem=r,r&&!i&&jq(t.onHover,[e,r,this],this)}else r&&jq(t.onClick,[e,r,this],this)}}function pY(e,t){return t*(e.text?e.text.length:0)}var mY={id:"legend",_element:fY,start(e,t,r){const n=e.legend=new fY({ctx:e.ctx,options:r,chart:e});oG.configure(e,n,r),oG.addBox(e,n)},stop(e){oG.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const n=e.legend;oG.configure(e,n,r),n.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const n=t.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:a,useBorderRadius:s,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(r?0:void 0),c=sH(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:s&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class gY extends kG{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const n=gq(r.text)?r.text.length:1;this._padding=sH(r.padding);const i=n*oH(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:r,bottom:n,right:i,options:a}=this,s=a.align;let o,l,c,d=0;return this.isHorizontal()?(l=gW(s,r,i),c=t+e,o=i-r):("left"===a.position?(l=r+e,c=gW(s,n,t),d=-.5*Rq):(l=i-e,c=gW(s,t,n),d=.5*Rq),o=n-t),{titleX:l,titleY:c,maxWidth:o,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=oH(t.font),n=r.lineHeight/2+this._padding.top,{titleX:i,titleY:a,maxWidth:s,rotation:o}=this._drawArgs(n);$W(e,t.text,0,0,r,{color:t.color,maxWidth:s,rotation:o,textAlign:mW(t.align),textBaseline:"middle",translation:[i,a]})}}var xY={id:"title",_element:gY,start(e,t,r){!function(e,t){const r=new gY({ctx:e.ctx,options:t,chart:e});oG.configure(e,r,t),oG.addBox(e,r),e.titleBlock=r}(e,r)},stop(e){const t=e.titleBlock;oG.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const n=e.titleBlock;oG.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yY=new WeakMap;var vY={id:"subtitle",start(e,t,r){const n=new gY({ctx:e.ctx,options:r,chart:e});oG.configure(e,n,r),oG.addBox(e,n),yY.set(e,n)},stop(e){oG.removeBox(e,yY.get(e)),yY.delete(e)},beforeUpdate(e,t,r){const n=yY.get(e);oG.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bY={average(e){if(!e.length)return!1;let t,r,n=new Set,i=0,a=0;for(t=0,r=e.length;t<r;++t){const r=e[t].element;if(r&&r.hasValue()){const e=r.tooltipPosition();n.add(e.x),i+=e.y,++a}}if(0===a||0===n.size)return!1;const s=[...n].reduce((e,t)=>e+t)/n.size;return{x:s,y:i/a}},nearest(e,t){if(!e.length)return!1;let r,n,i,a=t.x,s=t.y,o=Number.POSITIVE_INFINITY;for(r=0,n=e.length;r<n;++r){const n=e[r].element;if(n&&n.hasValue()){const e=tW(t,n.getCenterPoint());e<o&&(o=e,i=n)}}if(i){const e=i.tooltipPosition();a=e.x,s=e.y}return{x:a,y:s}}};function wY(e,t){return t&&(gq(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function jY(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function NY(e,t){const{element:r,datasetIndex:n,index:i}=t,a=e.getDatasetMeta(n).controller,{label:s,value:o}=a.getLabelAndValue(i);return{chart:e,label:s,parsed:a.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:o,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function _Y(e,t){const r=e.chart.ctx,{body:n,footer:i,title:a}=e,{boxWidth:s,boxHeight:o}=t,l=oH(t.bodyFont),c=oH(t.titleFont),d=oH(t.footerFont),u=a.length,h=i.length,f=n.length,p=sH(t.padding);let m=p.height,g=0,x=n.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(x+=e.beforeBody.length+e.afterBody.length,u&&(m+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),x){m+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(x-f)*l.lineHeight+(x-1)*t.bodySpacing}h&&(m+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let y=0;const v=function(e){g=Math.max(g,r.measureText(e).width+y)};return r.save(),r.font=c.string,Nq(e.title,v),r.font=l.string,Nq(e.beforeBody.concat(e.afterBody),v),y=t.displayColors?s+2+t.boxPadding:0,Nq(n,e=>{Nq(e.before,v),Nq(e.lines,v),Nq(e.after,v)}),y=0,r.font=d.string,Nq(e.footer,v),r.restore(),g+=p.width,{width:g,height:m}}function kY(e,t,r,n){const{x:i,width:a}=r,{width:s,chartArea:{left:o,right:l}}=e;let c="center";return"center"===n?c=i<=(o+l)/2?"left":"right":i<=a/2?c="left":i>=s-a/2&&(c="right"),function(e,t,r,n){const{x:i,width:a}=n,s=r.caretSize+r.caretPadding;return"left"===e&&i+a+s>t.width||"right"===e&&i-a-s<0||void 0}(c,e,t,r)&&(c="center"),c}function SY(e,t,r){const n=r.yAlign||t.yAlign||function(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}(e,r);return{xAlign:r.xAlign||t.xAlign||kY(e,t,r,n),yAlign:n}}function AY(e,t,r,n){const{caretSize:i,caretPadding:a,cornerRadius:s}=e,{xAlign:o,yAlign:l}=r,c=i+a,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:f}=aH(s);let p=function(e,t){let{x:r,width:n}=e;return"right"===t?r-=n:"center"===t&&(r-=n/2),r}(t,o);const m=function(e,t,r){let{y:n,height:i}=e;return"top"===t?n+=r:n-="bottom"===t?i+r:i/2,n}(t,l,c);return"center"===l?"left"===o?p+=c:"right"===o&&(p-=c):"left"===o?p-=Math.max(d,h)+i:"right"===o&&(p+=Math.max(u,f)+i),{x:aW(p,0,n.width-t.width),y:aW(m,0,n.height-t.height)}}function CY(e,t,r){const n=sH(r.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function EY(e){return wY([],jY(e))}function PY(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const TY={beforeTitle:fq,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,n=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return r[t.dataIndex]}return""},afterTitle:fq,beforeBody:fq,beforeLabel:fq,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return mq(r)||(t+=r),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:fq,afterBody:fq,beforeFooter:fq,footer:fq,afterFooter:fq};function OY(e,t,r,n){const i=e[t].call(r,n);return"undefined"===typeof i?TY[t].call(r,n):i}class IY extends kG{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&t.options.animation&&r.animations,i=new cV(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,r=this._tooltipItems,cH(e,{tooltip:t,tooltipItems:r,type:"tooltip"})));var e,t,r}getTitle(e,t){const{callbacks:r}=t,n=OY(r,"beforeTitle",this,e),i=OY(r,"title",this,e),a=OY(r,"afterTitle",this,e);let s=[];return s=wY(s,jY(n)),s=wY(s,jY(i)),s=wY(s,jY(a)),s}getBeforeBody(e,t){return EY(OY(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,n=[];return Nq(e,e=>{const t={before:[],lines:[],after:[]},i=PY(r,e);wY(t.before,jY(OY(i,"beforeLabel",this,e))),wY(t.lines,OY(i,"label",this,e)),wY(t.after,jY(OY(i,"afterLabel",this,e))),n.push(t)}),n}getAfterBody(e,t){return EY(OY(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,n=OY(r,"beforeFooter",this,e),i=OY(r,"footer",this,e),a=OY(r,"afterFooter",this,e);let s=[];return s=wY(s,jY(n)),s=wY(s,jY(i)),s=wY(s,jY(a)),s}_createItems(e){const t=this._active,r=this.chart.data,n=[],i=[],a=[];let s,o,l=[];for(s=0,o=t.length;s<o;++s)l.push(NY(this.chart,t[s]));return e.filter&&(l=l.filter((t,n,i)=>e.filter(t,n,i,r))),e.itemSort&&(l=l.sort((t,n)=>e.itemSort(t,n,r))),Nq(l,t=>{const r=PY(e.callbacks,t);n.push(OY(r,"labelColor",this,t)),i.push(OY(r,"labelPointStyle",this,t)),a.push(OY(r,"labelTextColor",this,t))}),this.labelColors=n,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const r=this.options.setContext(this.getContext()),n=this._active;let i,a=[];if(n.length){const e=bY[r.position].call(this,n,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const t=this._size=_Y(this,r),s=Object.assign({},e,t),o=SY(this.chart,r,s),l=AY(r,s,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,n){const i=this.getCaretPosition(e,r,n);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,r){const{xAlign:n,yAlign:i}=this,{caretSize:a,cornerRadius:s}=r,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:d}=aH(s),{x:u,y:h}=e,{width:f,height:p}=t;let m,g,x,y,v,b;return"center"===i?(v=h+p/2,"left"===n?(m=u,g=m-a,y=v+a,b=v-a):(m=u+f,g=m+a,y=v-a,b=v+a),x=m):(g="left"===n?u+Math.max(o,c)+a:"right"===n?u+f-Math.max(l,d)-a:this.caretX,"top"===i?(y=h,v=y-a,m=g-a,x=g+a):(y=h+p,v=y+a,m=g+a,x=g-a),b=y),{x1:m,x2:g,x3:x,y1:y,y2:v,y3:b}}drawTitle(e,t,r){const n=this.title,i=n.length;let a,s,o;if(i){const l=GH(r.rtl,this.x,this.width);for(e.x=CY(this,r.titleAlign,r),t.textAlign=l.textAlign(r.titleAlign),t.textBaseline="middle",a=oH(r.titleFont),s=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,o=0;o<i;++o)t.fillText(n[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s,o+1===i&&(e.y+=r.titleMarginBottom-s)}}_drawColorBox(e,t,r,n,i){const a=this.labelColors[r],s=this.labelPointStyles[r],{boxHeight:o,boxWidth:l}=i,c=oH(i.bodyFont),d=CY(this,"left",i),u=n.x(d),h=o<c.lineHeight?(c.lineHeight-o)/2:0,f=t.y+h;if(i.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},r=n.leftForLtr(u,l)+l/2,c=f+o/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,qW(e,t,r,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,qW(e,t,r,c)}else{e.lineWidth=xq(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=n.leftForLtr(u,l),r=n.leftForLtr(n.xPlus(u,1),l-2),s=aH(a.borderRadius);Object.values(s).some(e=>0!==e)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,ZW(e,{x:t,y:f,w:l,h:o,radius:s}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),ZW(e,{x:r,y:f+1,w:l-2,h:o-2,radius:s}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=a.backgroundColor,e.fillRect(r,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:n}=this,{bodySpacing:i,bodyAlign:a,displayColors:s,boxHeight:o,boxWidth:l,boxPadding:c}=r,d=oH(r.bodyFont);let u=d.lineHeight,h=0;const f=GH(r.rtl,this.x,this.width),p=function(r){t.fillText(r,f.x(e.x+h),e.y+u/2),e.y+=u+i},m=f.textAlign(a);let g,x,y,v,b,w,j;for(t.textAlign=a,t.textBaseline="middle",t.font=d.string,e.x=CY(this,m,r),t.fillStyle=r.bodyColor,Nq(this.beforeBody,p),h=s&&"right"!==m?"center"===a?l/2+c:l+2+c:0,v=0,w=n.length;v<w;++v){for(g=n[v],x=this.labelTextColors[v],t.fillStyle=x,Nq(g.before,p),y=g.lines,s&&y.length&&(this._drawColorBox(t,e,v,f,r),u=Math.max(d.lineHeight,o)),b=0,j=y.length;b<j;++b)p(y[b]),u=d.lineHeight;Nq(g.after,p)}h=0,u=d.lineHeight,Nq(this.afterBody,p),e.y-=i}drawFooter(e,t,r){const n=this.footer,i=n.length;let a,s;if(i){const o=GH(r.rtl,this.x,this.width);for(e.x=CY(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=o.textAlign(r.footerAlign),t.textBaseline="middle",a=oH(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,s=0;s<i;++s)t.fillText(n[s],o.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,n){const{xAlign:i,yAlign:a}=this,{x:s,y:o}=e,{width:l,height:c}=r,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:f}=aH(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(s+d,o),"top"===a&&this.drawCaret(e,t,r,n),t.lineTo(s+l-u,o),t.quadraticCurveTo(s+l,o,s+l,o+u),"center"===a&&"right"===i&&this.drawCaret(e,t,r,n),t.lineTo(s+l,o+c-f),t.quadraticCurveTo(s+l,o+c,s+l-f,o+c),"bottom"===a&&this.drawCaret(e,t,r,n),t.lineTo(s+h,o+c),t.quadraticCurveTo(s,o+c,s,o+c-h),"center"===a&&"left"===i&&this.drawCaret(e,t,r,n),t.lineTo(s,o+d),t.quadraticCurveTo(s,o,s+d,o),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,n=r&&r.x,i=r&&r.y;if(n||i){const r=bY[e.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=_Y(this,e),s=Object.assign({},r,this._size),o=SY(t,e,s),l=AY(e,s,o,t);n._to===l.x&&i._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=sH(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,n,t),KH(e,t.textDirection),i.y+=a.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),YH(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,n=e.map(e=>{let{datasetIndex:t,index:r}=e;const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[r],index:r}}),i=!_q(r,n),a=this._positionChanged(n,t);(i||a)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,i=this._active||[],a=this._getActiveElements(e,i,t,r),s=this._positionChanged(a,e),o=t||!_q(a,i)||s;return o&&(this._active=a,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,r,n){const i=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:r,caretY:n,options:i}=this,a=bY[i.position].call(this,e,t);return!1!==a&&(r!==a.x||n!==a.y)}}(0,Me.A)(IY,"positioners",bY);var LY={id:"tooltip",_element:IY,positioners:bY,afterInit(e,t,r){r&&(e.tooltip=new IY({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",Fe(Fe({},r),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:TY},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},DY=Object.freeze({__proto__:null,Colors:HK,Decimation:KK,Filler:uY,Legend:mY,SubTitle:vY,Title:xY,Tooltip:LY});function MY(e,t,r,n){const i=e.indexOf(t);if(-1===i)return((e,t,r,n)=>("string"===typeof t?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r))(e,t,r,n);return i!==e.lastIndexOf(t)?r:i}function RY(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class FY extends DG{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:r,label:n}of t)e[r]===n&&e.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(mq(e))return null;const r=this.getLabels();return((e,t)=>null===e?null:aW(Math.round(e),0,t))(t=isFinite(t)&&r[t]===e?t:MY(r,e,bq(t,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),t||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,n=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)n.push({value:a});return n}getLabelForValue(e){return RY.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function BY(e,t){const r=[],{bounds:n,step:i,min:a,max:s,precision:o,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=i||1,f=c-1,{min:p,max:m}=t,g=!mq(a),x=!mq(s),y=!mq(l),v=(m-p)/(d+1);let b,w,j,N,_=Yq((m-p)/f/h)*h;if(_<1e-14&&!g&&!x)return[{value:p},{value:m}];N=Math.ceil(m/_)-Math.floor(p/_),N>f&&(_=Yq(N*_/f/h)*h),mq(o)||(b=Math.pow(10,o),_=Math.ceil(_*b)/b),"ticks"===n?(w=Math.floor(p/_)*_,j=Math.ceil(m/_)*_):(w=p,j=m),g&&x&&i&&function(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}((s-a)/i,_/1e3)?(N=Math.round(Math.min((s-a)/_,c)),_=(s-a)/N,w=a,j=s):y?(w=g?a:w,j=x?s:j,N=l-1,_=(j-w)/N):(N=(j-w)/_,N=Kq(N,Math.round(N),_/1e3)?Math.round(N):Math.ceil(N));const k=Math.max(Jq(_),Jq(w));b=Math.pow(10,mq(o)?k:o),w=Math.round(w*b)/b,j=Math.round(j*b)/b;let S=0;for(g&&(u&&w!==a?(r.push({value:a}),w<a&&S++,Kq(Math.round((w+S*_)*b)/b,a,zY(a,v,e))&&S++):w<a&&S++);S<N;++S){const e=Math.round((w+S*_)*b)/b;if(x&&e>s)break;r.push({value:e})}return x&&u&&j!==s?r.length&&Kq(r[r.length-1].value,s,zY(s,v,e))?r[r.length-1].value=s:r.push({value:s}):x&&j!==s||r.push({value:j}),r}function zY(e,t,r){let{horizontal:n,minRotation:i}=r;const a=$q(i),s=(n?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}(0,Me.A)(FY,"id","category"),(0,Me.A)(FY,"defaults",{ticks:{callback:RY}});class UY extends DG{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return mq(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this;const a=e=>n=t?n:e,s=e=>i=r?i:e;if(e){const e=Gq(n),t=Gq(i);e<0&&t<0?s(0):e>0&&t>0&&a(0)}if(n===i){let t=0===i?1:Math.abs(.05*i);s(i+t),e||a(n-t)}this.min=n,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:r,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(n," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),r=r||11),r&&(t=Math.min(r,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const n=BY({maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Qq(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const n=(r-t)/Math.max(e.length-1,1)/2;t-=n,r+=n}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return EW(e,this.chart.options.locale,this.options.ticks.format)}}class qY extends UY{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=yq(e)?e:0,this.max=yq(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=$q(this.options.ticks.minRotation),n=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}(0,Me.A)(qY,"id","linear"),(0,Me.A)(qY,"defaults",{ticks:{callback:TW.formatters.numeric}});const WY=e=>Math.floor(Vq(e)),HY=(e,t)=>Math.pow(10,WY(e)+t);function VY(e){return 1===e/Math.pow(10,WY(e))}function GY(e,t,r){const n=Math.pow(10,r),i=Math.floor(e/n);return Math.ceil(t/n)-i}function KY(e,t){let{min:r,max:n}=t;r=vq(e.min,r);const i=[],a=WY(r);let s=function(e,t){let r=WY(t-e);for(;GY(e,t,r)>10;)r++;for(;GY(e,t,r)<10;)r--;return Math.min(r,WY(e))}(r,n),o=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=a>s?Math.pow(10,a):0,d=Math.round((r-c)*o)/o,u=Math.floor((r-c)/l/10)*l*10;let h=Math.floor((d-u)/Math.pow(10,s)),f=vq(e.min,Math.round((c+u+h*Math.pow(10,s))*o)/o);for(;f<n;)i.push({value:f,major:VY(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((c+u+h*Math.pow(10,s))*o)/o;const p=vq(e.max,f);return i.push({value:p,major:VY(p),significand:h}),i}class YY extends DG{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=UY.prototype.parse.apply(this,[e,t]);if(0!==r)return yq(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=yq(e)?Math.max(0,e):null,this.max=yq(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!yq(this._userMin)&&(this.min=e===HY(this.min,0)?HY(this.min,-1):HY(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,n=this.max;const i=t=>r=e?r:t,a=e=>n=t?n:e;r===n&&(r<=0?(i(1),a(10)):(i(HY(r,-1)),a(HY(n,1)))),r<=0&&i(HY(n,-1)),n<=0&&a(HY(r,1)),this.min=r,this.max=n}buildTicks(){const e=this.options,t=KY({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Qq(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":EW(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Vq(e),this._valueRange=Vq(this.max)-Vq(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Vq(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function XY(e){const t=e.ticks;if(t.display&&e.display){const e=sH(t.backdropPadding);return bq(t.font&&t.font.size,RW.font.size)+e.height}return 0}function QY(e,t,r){return r=gq(r)?r:[r],{w:BW(e,t.string,r),h:r.length*t.lineHeight}}function $Y(e,t,r,n,i){return e===n||e===i?{start:t-r/2,end:t+r/2}:e<n||e>i?{start:t-r,end:t}:{start:t,end:t+r}}function ZY(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),n=[],i=[],a=e._pointLabels.length,s=e.options.pointLabels,o=s.centerPointLabels?Rq/a:0;for(let l=0;l<a;l++){const a=s.setContext(e.getPointLabelContext(l));i[l]=a.padding;const c=e.getPointPosition(l,e.drawingArea+i[l],o),d=oH(a.font),u=QY(e.ctx,d,e._pointLabels[l]);n[l]=u;const h=nW(e.getIndexAngle(l)+o),f=Math.round(Zq(h));JY(r,t,h,$Y(f,c.x,u.w,0,180),$Y(f,c.y,u.h,90,270))}e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=function(e,t,r){const n=[],i=e._pointLabels.length,a=e.options,{centerPointLabels:s,display:o}=a.pointLabels,l={extra:XY(a)/2,additionalAngle:s?Rq/i:0};let c;for(let d=0;d<i;d++){l.padding=r[d],l.size=t[d];const i=eX(e,d,l);n.push(i),"auto"===o&&(i.visible=tX(i,c),i.visible&&(c=i))}return n}(e,n,i)}function JY(e,t,r,n,i){const a=Math.abs(Math.sin(r)),s=Math.abs(Math.cos(r));let o=0,l=0;n.start<t.l?(o=(t.l-n.start)/a,e.l=Math.min(e.l,t.l-o)):n.end>t.r&&(o=(n.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),i.start<t.t?(l=(t.t-i.start)/s,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/s,e.b=Math.max(e.b,t.b+l))}function eX(e,t,r){const n=e.drawingArea,{extra:i,additionalAngle:a,padding:s,size:o}=r,l=e.getPointPosition(t,n+i+s,a),c=Math.round(Zq(nW(l.angle+qq))),d=function(e,t,r){90===r||270===r?e-=t/2:(r>270||r<90)&&(e-=t);return e}(l.y,o.h,c),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,r){"right"===r?e-=t:"center"===r&&(e-=t/2);return e}(l.x,o.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:h,top:d,right:h+o.w,bottom:d+o.h}}function tX(e,t){if(!t)return!0;const{left:r,top:n,right:i,bottom:a}=e;return!(HW({x:r,y:n},t)||HW({x:r,y:a},t)||HW({x:i,y:n},t)||HW({x:i,y:a},t))}function rX(e,t,r){const{left:n,top:i,right:a,bottom:s}=r,{backdropColor:o}=t;if(!mq(o)){const r=aH(t.borderRadius),l=sH(t.backdropPadding);e.fillStyle=o;const c=n-l.left,d=i-l.top,u=a-n+l.width,h=s-i+l.height;Object.values(r).some(e=>0!==e)?(e.beginPath(),ZW(e,{x:c,y:d,w:u,h:h,radius:r}),e.fill()):e.fillRect(c,d,u,h)}}function nX(e,t,r,n){const{ctx:i}=e;if(r)i.arc(e.xCenter,e.yCenter,t,0,Fq);else{let r=e.getPointPosition(0,t);i.moveTo(r.x,r.y);for(let a=1;a<n;a++)r=e.getPointPosition(a,t),i.lineTo(r.x,r.y)}}(0,Me.A)(YY,"id","logarithmic"),(0,Me.A)(YY,"defaults",{ticks:{callback:TW.formatters.logarithmic,major:{enabled:!0}}});class iX extends UY{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=sH(XY(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=yq(e)&&!isNaN(e)?e:0,this.max=yq(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/XY(this.options))}generateTickLabels(e){UY.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const r=jq(this.options.pointLabels.callback,[e,t],this);return r||0===r?r:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?ZY(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,n))}getIndexAngle(e){return nW(e*(Fq/(this._pointLabels.length||1))+$q(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(mq(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(mq(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return function(e,t,r){return cH(e,{label:r,index:t,type:"pointLabel"})}(this.getContext(),e,r)}}getPointPosition(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.getIndexAngle(e)-qq+r;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:n,bottom:i}=this._pointLabelItems[e];return{left:t,top:r,right:n,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),nX(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:n,border:i}=t,a=this._pointLabels.length;let s,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:r,options:{pointLabels:n}}=e;for(let i=t-1;i>=0;i--){const t=e._pointLabelItems[i];if(!t.visible)continue;const a=n.setContext(e.getPointLabelContext(i));rX(r,a,t);const s=oH(a.font),{x:o,y:l,textAlign:c}=t;$W(r,e._pointLabels[i],o,l+s.lineHeight/2,s,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,a),n.display&&this.ticks.forEach((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const r=this.getContext(t),s=n.setContext(r),l=i.setContext(r);!function(e,t,r,n,i){const a=e.ctx,s=t.circular,{color:o,lineWidth:l}=t;!s&&!n||!o||!l||r<0||(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(i.dash||[]),a.lineDashOffset=i.dashOffset,a.beginPath(),nX(e,r,s,n),a.closePath(),a.stroke(),a.restore())}(this,s,o,a,l)}}),r.display){for(e.save(),s=a-1;s>=0;s--){const n=r.setContext(this.getPointLabelContext(s)),{color:i,lineWidth:a}=n;a&&i&&(e.lineWidth=a,e.strokeStyle=i,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(s,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const n=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((n,s)=>{if(0===s&&this.min>=0&&!t.reverse)return;const o=r.setContext(this.getContext(s)),l=oH(o.font);if(i=this.getDistanceFromCenterForValue(this.ticks[s].value),o.showLabelBackdrop){e.font=l.string,a=e.measureText(n.label).width,e.fillStyle=o.backdropColor;const t=sH(o.backdropPadding);e.fillRect(-a/2-t.left,-i-l.size/2-t.top,a+t.width,l.size+t.height)}$W(e,n.label,0,-i,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),e.restore()}drawTitle(){}}(0,Me.A)(iX,"id","radialLinear"),(0,Me.A)(iX,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:TW.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),(0,Me.A)(iX,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,Me.A)(iX,"descriptors",{angleLines:{_fallback:"grid"}});const aX={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},sX=Object.keys(aX);function oX(e,t){return e-t}function lX(e,t){if(mq(t))return null;const r=e._adapter,{parser:n,round:i,isoWeekday:a}=e._parseOpts;let s=t;return"function"===typeof n&&(s=n(s)),yq(s)||(s="string"===typeof n?r.parse(s,n):r.parse(s)),null===s?null:(i&&(s="week"!==i||!Xq(a)&&!0!==a?r.startOf(s,i):r.startOf(s,"isoWeek",a)),+s)}function cX(e,t,r,n){const i=sX.length;for(let a=sX.indexOf(e);a<i-1;++a){const e=aX[sX[a]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((r-t)/(i*e.size))<=n)return sX[a]}return sX[i-1]}function dX(e,t,r){if(r){if(r.length){const{lo:n,hi:i}=oW(r,t);e[r[n]>=t?r[n]:r[i]]=!0}}else e[t]=!0}function uX(e,t,r){const n=[],i={},a=t.length;let s,o;for(s=0;s<a;++s)o=t[s],i[o]=s,n.push({value:o,major:!1});return 0!==a&&r?function(e,t,r,n){const i=e._adapter,a=+i.startOf(t[0].value,n),s=t[t.length-1].value;let o,l;for(o=a;o<=s;o=+i.add(o,1,n))l=r[o],l>=0&&(t[l].major=!0);return t}(e,n,i,r):n}class hX extends DG{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.time||(e.time={}),n=this._adapter=new UV(e.adapters.date);n.init(t),Eq(r.displayFormats,n.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:lX(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:n,max:i,minDefined:a,maxDefined:s}=this.getUserBounds();function o(e){a||isNaN(e.min)||(n=Math.min(n,e.min)),s||isNaN(e.max)||(i=Math.max(i,e.max))}a&&s||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),n=yq(n)&&!isNaN(n)?n:+t.startOf(Date.now(),r),i=yq(i)&&!isNaN(i)?i:+t.endOf(Date.now(),r)+1,this.min=Math.min(n,i-1),this.max=Math.max(n+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,n="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const i=this.min,a=function(e,t,r){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>r;)i--;return n>0||i<e.length?e.slice(n,i):e}(n,i,this.max);return this._unit=t.unit||(r.autoSkip?cX(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,r,n,i){for(let a=sX.length-1;a>=sX.indexOf(r);a--){const r=sX[a];if(aX[r].common&&e._adapter.diff(i,n,r)>=t-1)return r}return sX[r?sX.indexOf(r):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function(e){for(let t=sX.indexOf(e)+1,r=sX.length;t<r;++t)if(aX[sX[t]].common)return sX[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&a.reverse(),uX(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0,i=0;this.options.offset&&r.length&&(e=this.getDecimalForValue(r[0]),n=1===r.length?1-e:(this.getDecimalForValue(r[1])-e)/2,t=this.getDecimalForValue(r[r.length-1]),i=1===r.length?t:(t-this.getDecimalForValue(r[r.length-2]))/2);const a=r.length<3?.5:.25;n=aW(n,0,a),i=aW(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,t=this.min,r=this.max,n=this.options,i=n.time,a=i.unit||cX(i.minUnit,t,r,this._getLabelCapacity(t)),s=bq(n.ticks.stepSize,1),o="week"===a&&i.isoWeekday,l=Xq(o)||!0===o,c={};let d,u,h=t;if(l&&(h=+e.startOf(h,"isoWeek",o)),h=+e.startOf(h,l?"day":a),e.diff(r,t,a)>1e5*s)throw new Error(t+" and "+r+" are too far apart with stepSize of "+s+" "+a);const f="data"===n.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<r;d=+e.add(d,s,a),u++)dX(c,d,f);return d!==r&&"ticks"!==n.bounds&&1!==u||dX(c,d,f),Object.keys(c).sort(oX).map(e=>+e)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,n=this._unit,i=t||r[n];return this._adapter.format(e,i)}_tickFormatFunction(e,t,r,n){const i=this.options,a=i.ticks.callback;if(a)return jq(a,[e,t,r],this);const s=i.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&s[o],d=l&&s[l],u=r[t],h=l&&d&&u&&u.major;return this._adapter.format(e,n||(h?d:c))}generateTickLabels(e){let t,r,n;for(t=0,r=e.length;t<r;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,n=$q(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(n),a=Math.sin(n),s=this._resolveTickFontOptions(0).size;return{w:r*i+s*a,h:r*a+s*i}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,n=r[t.unit]||r.millisecond,i=this._tickFormatFunction(e,0,uX(this,[e],this._majorUnit),n),a=this._getLabelSize(i),s=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return s>0?s:1}getDataTimestamps(){let e,t,r=this._cache.data||[];if(r.length)return r;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)r=r.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const n=this.getLabels();for(t=0,r=n.length;t<r;++t)e.push(lX(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return hW(e.sort(oX))}}function fX(e,t,r){let n,i,a,s,o=0,l=e.length-1;r?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=lW(e,"pos",t)),({pos:n,time:a}=e[o]),({pos:i,time:s}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=lW(e,"time",t)),({time:n,pos:a}=e[o]),({time:i,pos:s}=e[l]));const c=i-n;return c?a+(s-a)*(t-n)/c:a}(0,Me.A)(hX,"id","time"),(0,Me.A)(hX,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class pX extends hX{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=fX(t,this.min),this._tableRange=fX(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,n=[],i=[];let a,s,o,l,c;for(a=0,s=e.length;a<s;++a)l=e[a],l>=t&&l<=r&&n.push(l);if(n.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,s=n.length;a<s;++a)c=n[a+1],o=n[a-1],l=n[a],Math.round((c+o)/2)!==l&&i.push({time:l,pos:a/(s-1)});return i}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return r.includes(e)&&r.length||r.splice(0,0,e),r.includes(t)&&1!==r.length||r.push(t),r.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return e=t.length&&r.length?this.normalize(t.concat(r)):t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(fX(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return fX(this._table,r*this._tableRange+this._minPos,!0)}}(0,Me.A)(pX,"id","timeseries"),(0,Me.A)(pX,"defaults",hX.defaults);const mX=[FV,RK,DY,Object.freeze({__proto__:null,CategoryScale:FY,LinearScale:qY,LogarithmicScale:YY,RadialLinearScale:iX,TimeScale:hX,TimeSeriesScale:pX})],gX=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],xX="label";function yX(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function vX(e,t){e.labels=t}function bX(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xX;const n=[];e.datasets=t.map(t=>{const i=e.datasets.find(e=>e[r]===t[r]);return i&&t.data&&!n.includes(i)?(n.push(i),Object.assign(i,t),i):Fe({},t)})}function wX(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xX;const r={labels:[],datasets:[]};return vX(r,e.labels),bX(r,e.datasets,t),r}function jX(e,t){const{height:r=150,width:n=300,redraw:a=!1,datasetIdKey:s,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h}=e,f=wn(e,gX),p=(0,i.useRef)(null),m=(0,i.useRef)(null),g=()=>{p.current&&(m.current=new hK(p.current,{type:o,data:wX(l,s),options:c&&Fe({},c),plugins:d}),yX(t,m.current))},x=()=>{yX(t,null),m.current&&(m.current.destroy(),m.current=null)};return(0,i.useEffect)(()=>{!a&&m.current&&c&&function(e,t){const r=e.options;r&&t&&Object.assign(r,t)}(m.current,c)},[a,c]),(0,i.useEffect)(()=>{!a&&m.current&&vX(m.current.config.data,l.labels)},[a,l.labels]),(0,i.useEffect)(()=>{!a&&m.current&&l.datasets&&bX(m.current.config.data,l.datasets,s)},[a,l.datasets]),(0,i.useEffect)(()=>{m.current&&(a?(x(),setTimeout(g)):m.current.update(h))},[a,c,l.labels,l.datasets,h]),(0,i.useEffect)(()=>{m.current&&(x(),setTimeout(g))},[o]),(0,i.useEffect)(()=>(g(),()=>x()),[]),(0,xn.jsx)("canvas",Fe(Fe({ref:p,role:"img",height:r,width:n},f),{},{children:u}))}const NX=(0,i.forwardRef)(jX);function _X(e,t){return hK.register(t),(0,i.forwardRef)((t,r)=>(0,xn.jsx)(NX,Fe(Fe({},t),{},{ref:r,type:e})))}const kX=_X("line",IV),SX=_X("bar",PV),AX=_X("pie",DV),CX=(e,t,r)=>{const n=(0,i.useRef)(null),a=(0,i.useRef)(!1),s=(0,i.useCallback)(n=>{const i=n[0];i.isIntersecting&&t&&!r&&!a.current?(a.current=!0,e(),setTimeout(()=>{a.current=!1},100)):i.isIntersecting||(a.current=!1)},[e,t,r]);return(0,i.useEffect)(()=>{const e=new IntersectionObserver(s,{threshold:.01,rootMargin:"100px"});return n.current&&e.observe(n.current),()=>e.disconnect()},[s]),(0,i.useEffect)(()=>{r||(a.current=!1)},[r]),n},EX=Cu("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),PX=e=>{let{message:t,onClose:r,autoDismiss:n=!0,duration:a=5e3}=e;if((0,i.useEffect)(()=>{if(n&&t.text){const e=setTimeout(()=>{r()},a);return()=>clearTimeout(e)}},[t.text,n,a,r]),!t.text)return null;const s="success"===t.type,o=s?"bg-green-600":"bg-red-600",l=s?"\u2705":"\u274c";return(0,xn.jsx)("div",{className:"fixed top-4 right-4 z-50 ".concat(o," text-white shadow-xl rounded-lg max-w-sm"),children:(0,xn.jsx)("div",{className:"px-4 py-3",children:(0,xn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xn.jsxs)("div",{className:"flex items-center",children:[(0,xn.jsx)("span",{className:"mr-2 text-sm",children:l}),(0,xn.jsx)("span",{className:"text-sm font-medium",children:t.text})]}),(0,xn.jsx)("button",{onClick:r,className:"ml-3 p-1 rounded-full hover:bg-white hover:bg-opacity-20 transition-colors",children:(0,xn.jsx)(EX,{className:"w-3 h-3"})})]})})})};hK.register(yK,LY,mY);const TX=i.memo(e=>{let{title:t,value:r,unit:n="",duration:i=1.5}=e;return(0,xn.jsxs)(xu.div,{whileHover:{scale:1.02},className:"bg-white p-6 rounded-2xl shadow-lg flex flex-col items-center transition-transform duration-200 cursor-pointer",children:[(0,xn.jsx)("span",{className:"text-gray-500 font-medium text-sm sm:text-base",children:t}),(0,xn.jsx)(IU.Ay,{end:r,duration:i,separator:",",className:"text-3xl font-extrabold mt-2 text-indigo-700",suffix:n})]})});TX.displayName="KPI_Card";const OX=i.memo(e=>{let{status:t}=e;const r={booked:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-600","checked-in":"bg-blue-100 text-blue-700","checked-out":"bg-gray-200 text-gray-700"}[t.toLowerCase()]||"bg-yellow-100 text-yellow-700";return(0,xn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wider ".concat(r),children:t})});OX.displayName="BookingStatusBadge";const IX=e=>{let{imageUrl:t,onClose:r}=e;return t?(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-[60]",children:(0,xn.jsxs)("div",{className:"relative max-w-3xl w-full mx-4",children:[(0,xn.jsx)("button",{onClick:r,className:"absolute -top-8 right-0 text-white text-4xl font-bold hover:text-gray-300",children:"\xd7"}),(0,xn.jsx)("img",{src:t,alt:"Full size view",className:"w-full h-auto rounded-2xl shadow-lg"})]})}):null},LX=e=>{let{booking:t,onClose:r,onImageClick:n,roomIdToRoom:i,onAddAllocation:a,inventoryItems:s=[],inventoryLocations:o=[]}=e;if(!t)return null;const l=t.rooms&&t.rooms.length>0&&t.rooms.map(e=>{if(t.is_package){var r;if(null!==e&&void 0!==e&&null!==(r=e.room)&&void 0!==r&&r.number)return"".concat(e.room.number," (").concat(e.room.type,")");if(null!==e&&void 0!==e&&e.room_id&&i&&i[e.room_id]){const t=i[e.room_id];return"".concat(t.number," (").concat(t.type,")")}return"-"}if(null!==e&&void 0!==e&&e.number)return"".concat(e.number," (").concat(e.type,")");if(null!==e&&void 0!==e&&e.room_id&&i&&i[e.room_id]){const t=i[e.room_id];return"".concat(t.number," (").concat(t.type,")")}return"-"}).filter(Boolean).join(", ")||"-",c=t.status&&"checkedin"===t.status.toLowerCase().replace(/[-_]/g,"");return(0,xn.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:(0,xn.jsxs)(xu.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"bg-white p-8 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto my-8",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,xn.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Booking Details"}),(0,xn.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-800 transition-colors",children:(0,xn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,xn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,xn.jsxs)("div",{className:"space-y-4 text-gray-700",children:[(0,xn.jsxs)("p",{children:[(0,xn.jsx)("strong",{children:"Guest:"})," ",t.guest_name]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("strong",{children:"Rooms:"})," ",l]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("strong",{children:"Check-in:"})," ",t.check_in]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("strong",{children:"Check-out:"})," ",t.check_out]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("strong",{children:"Mobile:"})," ",t.guest_mobile]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("strong",{children:"Email:"})," ",t.guest_email]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("strong",{children:"Guests:"})," ",t.adults," Adults, ",t.children," Children"]}),"checked-in"===t.status&&t.user&&(0,xn.jsxs)("p",{children:[(0,xn.jsx)("strong",{children:"Checked-in By:"})," ",t.user.name]}),(t.id_card_image_url||t.guest_photo_url)&&(0,xn.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,xn.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Check-in Documents"}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.id_card_image_url&&(()=>{const e="".concat(mn.defaults.baseURL.replace(/\/$/,""),"/").concat(t.is_package?"packages/booking/checkin-image":"bookings/checkin-image","/").concat(t.id_card_image_url);return(0,xn.jsxs)("div",{className:"text-center",children:[(0,xn.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"ID Card"}),(0,xn.jsx)("img",{src:e,alt:"ID Card",className:"w-full h-auto rounded-lg border shadow-sm cursor-pointer",onClick:()=>n(e)})]})})(),t.guest_photo_url&&(()=>{const e="".concat(mn.defaults.baseURL.replace(/\/$/,""),"/").concat(t.is_package?"packages/booking/checkin-image":"bookings/checkin-image","/").concat(t.guest_photo_url);return(0,xn.jsxs)("div",{className:"text-center",children:[(0,xn.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Guest Photo"}),(0,xn.jsx)("img",{src:e,alt:"Guest",className:"w-full h-auto rounded-lg border shadow-sm cursor-pointer",onClick:()=>n(e)})]})})()]})]})]}),(0,xn.jsxs)("div",{className:"mt-6 flex gap-2",children:[c&&a&&(0,xn.jsx)("button",{onClick:()=>a(t),className:"flex-1 bg-green-600 text-white font-semibold py-2 rounded-md hover:bg-green-700 transition-colors",children:"Add Extra Allocation"}),(0,xn.jsx)("button",{onClick:r,className:"".concat(c&&a?"flex-1":"w-full"," bg-indigo-600 text-white font-semibold py-2 rounded-md hover:bg-indigo-700 transition-colors"),children:"Close"})]})]})})},DX=e=>{let{booking:t,onClose:r,inventoryItems:n=[],inventoryLocations:a=[],onSuccess:s,authHeader:o}=e;const[l,c]=(0,i.useState)([{item_id:"",quantity:1,is_payable:!1,notes:""}]),[d,u]=(0,i.useState)(!1),[h,f]=(0,i.useState)([]),[p,m]=(0,i.useState)(!1),[g,x]=(0,i.useState)("current"),[y,v]=(0,i.useState)({});if(!t)return null;(0,i.useEffect)(()=>{t&&a&&a.length>0?(async()=>{var e;const r=t.rooms&&t.rooms[0]||null,n=(null===r||void 0===r?void 0:r.number)||(null===r||void 0===r||null===(e=r.room)||void 0===e?void 0:e.number)||null;if(console.log("=== Fetching Current Room Items ==="),console.log("Booking:",t),console.log("Booking rooms:",t.rooms),console.log("Room for fetch:",r),console.log("Room number extracted:",n),console.log("Total locations available:",a.length),console.log("GUEST_ROOM locations:",a.filter(e=>"GUEST_ROOM"===String(e.location_type||"").toUpperCase()).map(e=>({id:e.id,name:e.name,room_area:e.room_area,location_type:e.location_type}))),!n)return console.warn("No room number found for booking"),void f([]);let i=null;if(n){const e=String(n).trim(),t=e.replace(/^0+/,"")||e;i=a.find(r=>{if("GUEST_ROOM"!==String(r.location_type||"").toUpperCase())return!1;const n=String(r.room_area||"").trim().toLowerCase(),i=String(r.name||"").trim().toLowerCase(),a=n.replace(/^0+/,"")||n,s=i.replace(/^0+/,"")||i,o=e.toLowerCase(),l=t.toLowerCase();return n===o||a===l||(i===o||s===l||(!(!n.includes(o)&&!a.includes(l))||(!(!i.includes(o)&&!s.includes(l))||!!["room ".concat(o),"room-".concat(o),"room_".concat(o),"room".concat(o),"room ".concat(l),"room-".concat(l),"room_".concat(l),"room".concat(l)].some(e=>n===e||i===e))))})||null}if(console.log("Found destination location:",i),!i)return console.warn("Room location not found for room ".concat(n,". Available GUEST_ROOM locations:"),a.filter(e=>"GUEST_ROOM"===String(e.location_type||"").toUpperCase()).map(e=>({id:e.id,name:e.name,room_area:e.room_area,location_type:e.location_type}))),void f([]);m(!0);try{var s;console.log("Fetching items for location ".concat(i.id," (").concat(i.name||i.room_area,")"));const e=await mn.get("/inventory/locations/".concat(i.id,"/items"),o());console.log("Location items response:",e.data),f((null===(s=e.data)||void 0===s?void 0:s.items)||[])}catch(c){var l;console.error("Error fetching current room items:",c),console.error("Error details:",null===(l=c.response)||void 0===l?void 0:l.data),f([])}finally{m(!1)}})():f([])},[t,a]);const b=(e,t,r)=>{const n=[...l];n[e]=Fe(Fe({},n[e]),{},{[t]:r}),c(n)};return(0,xn.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,xn.jsxs)(xu.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"bg-white p-8 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,xn.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Room Allocation Management"}),(0,xn.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-800 transition-colors",children:(0,xn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,xn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,xn.jsxs)("div",{className:"flex gap-2 mb-6 border-b",children:[(0,xn.jsxs)("button",{type:"button",onClick:()=>x("current"),className:"px-4 py-2 font-medium ".concat("current"===g?"border-b-2 border-indigo-600 text-indigo-600":"text-gray-500 hover:text-gray-700"),children:["Current Items (",h.length,")"]}),(0,xn.jsx)("button",{type:"button",onClick:()=>x("add"),className:"px-4 py-2 font-medium ".concat("add"===g?"border-b-2 border-indigo-600 text-indigo-600":"text-gray-500 hover:text-gray-700"),children:"Add New Items"})]}),"current"===g&&(0,xn.jsxs)("div",{className:"space-y-4",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,xn.jsx)("h4",{className:"text-lg font-semibold text-gray-800",children:"Current Room Items"}),(0,xn.jsxs)("button",{type:"button",onClick:async()=>{var e;const r=t.rooms&&t.rooms[0]||null,n=(null===r||void 0===r?void 0:r.number)||(null===r||void 0===r||null===(e=r.room)||void 0===e?void 0:e.number)||null;if(!n)return void alert("Room number not found");const i=String(n).trim(),s=i.replace(/^0+/,"")||i,l=a.find(e=>{if("GUEST_ROOM"!==String(e.location_type||"").toUpperCase())return!1;const t=String(e.room_area||"").trim().toLowerCase(),r=String(e.name||"").trim().toLowerCase(),n=t.replace(/^0+/,"")||t,a=i.toLowerCase(),o=s.toLowerCase();return t===a||n===o||r===a||r.includes(a)||t.includes(a)||n.includes(o)});if(l){m(!0);try{var c,d;const e=await mn.get("/inventory/locations/".concat(l.id,"/items"),o());f((null===(c=e.data)||void 0===c?void 0:c.items)||[]),console.log("\u2705 Refreshed items:",null===(d=e.data)||void 0===d?void 0:d.items)}catch(p){var u,h;console.error("Error refreshing items:",p),alert("Failed to refresh items: "+((null===(u=p.response)||void 0===u||null===(h=u.data)||void 0===h?void 0:h.detail)||p.message))}finally{m(!1)}}else alert("Room location not found for room ".concat(n))},className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded-lg hover:bg-gray-300 flex items-center gap-1",disabled:p,children:[(0,xn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,xn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),p?"Refreshing...":"Refresh"]})]}),p?(0,xn.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Loading current items..."}):0===h.length?(0,xn.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,xn.jsx)("p",{children:"No items currently allocated to this room."}),(0,xn.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Items added during check-in or manually will appear here."}),(0,xn.jsx)("button",{type:"button",onClick:()=>x("add"),className:"mt-4 px-4 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700",children:"Add Items Now"})]}):(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Unit Price"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Value"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Payable"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Paid"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map((e,r)=>{const n=e.is_payable||!1,i=e.is_paid||y[e.item_id]||!1;return(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsxs)("td",{className:"px-3 py-2 text-sm",children:[(0,xn.jsx)("div",{className:"font-medium text-gray-900",children:e.item_name}),e.item_code&&(0,xn.jsx)("div",{className:"text-xs text-gray-500",children:e.item_code})]}),(0,xn.jsxs)("td",{className:"px-3 py-2 text-sm text-gray-600",children:[e.location_stock||0," ",e.unit]}),(0,xn.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600",children:Ju(e.unit_price||0)}),(0,xn.jsx)("td",{className:"px-3 py-2 text-sm font-semibold text-gray-900",children:Ju(e.stock_value||0)}),(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",checked:n,onChange:r=>(async(e,r)=>{if(e.issue_detail_id&&e.issue_id)try{var n;await mn.patch("/inventory/issues/".concat(e.issue_id,"/details/").concat(e.issue_detail_id),{is_payable:r},o());const s=t.rooms&&t.rooms[0]||null,l=(null===s||void 0===s?void 0:s.number)||(null===s||void 0===s||null===(n=s.room)||void 0===n?void 0:n.number)||null;if(l){const e=a.find(e=>"GUEST_ROOM"===String(e.location_type||"").toUpperCase()&&"".concat(e.name||""," ").concat(e.room_area||"").toLowerCase().includes(String(l).toLowerCase()));if(e){var i;const t=await mn.get("/inventory/locations/".concat(e.id,"/items"),o());f((null===(i=t.data)||void 0===i?void 0:i.items)||[])}}}catch(c){var s,l;console.error("Error updating payable status:",c),alert("Failed to update payable status: "+((null===(s=c.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.detail)||c.message))}else alert("Cannot update: Issue detail information missing")})(e,r.target.checked),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-xs text-gray-700",children:n?"Payable":"Complimentary"})]})}),(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",checked:i,onChange:r=>{v(Fe(Fe({},y),{},{[e.item_id]:r.target.checked})),(async(e,r)=>{if(e.issue_detail_id&&e.issue_id)try{var n;await mn.patch("/inventory/issues/".concat(e.issue_id,"/details/").concat(e.issue_detail_id),{is_paid:r},o()),v(Fe(Fe({},y),{},{[e.item_id]:r}));const s=t.rooms&&t.rooms[0]||null,l=(null===s||void 0===s?void 0:s.number)||(null===s||void 0===s||null===(n=s.room)||void 0===n?void 0:n.number)||null;if(l){const e=a.find(e=>"GUEST_ROOM"===String(e.location_type||"").toUpperCase()&&"".concat(e.name||""," ").concat(e.room_area||"").toLowerCase().includes(String(l).toLowerCase()));if(e){var i;const t=await mn.get("/inventory/locations/".concat(e.id,"/items"),o());f((null===(i=t.data)||void 0===i?void 0:i.items)||[])}}}catch(c){var s,l;console.error("Error updating paid status:",c),alert("Failed to update paid status: "+((null===(s=c.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.detail)||c.message))}else alert("Cannot update: Issue detail information missing")})(e,r.target.checked)},className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500",disabled:!n}),(0,xn.jsx)("span",{className:"text-xs ".concat(i?"text-green-600 font-medium":"text-gray-500"),children:i?"Paid":"Unpaid"})]})}),(0,xn.jsxs)("td",{className:"px-3 py-2",children:[n&&!i&&(0,xn.jsx)("span",{className:"text-xs text-orange-600 font-medium",children:"Payment Pending"}),n&&i&&(0,xn.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"\u2713 Paid"}),!n&&(0,xn.jsx)("span",{className:"text-xs text-gray-400",children:"Complimentary"})]})]},r)})})]})})]}),"add"===g&&(0,xn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const r=l.filter(e=>e.item_id&&e.quantity>0);if(0!==r.length){u(!0);try{var i;const e=a.find(e=>{const t=String(e.location_type||"").toUpperCase();return!0===e.is_inventory_point&&("CENTRAL_WAREHOUSE"===t||"WAREHOUSE"===t||"BRANCH_STORE"===t)||"CENTRAL_WAREHOUSE"===t||"WAREHOUSE"===t||"BRANCH_STORE"===t});if(!e)return alert("Main warehouse not found. Please create a main warehouse location first."),void u(!1);const l=t.rooms&&t.rooms[0]||null,h=(null===l||void 0===l?void 0:l.number)||(null===l||void 0===l||null===(i=l.room)||void 0===i?void 0:i.number)||null;let p=null;if(h&&(p=a.find(e=>{if("GUEST_ROOM"!==String(e.location_type||"").toUpperCase())return!1;return"".concat(e.name||""," ").concat(e.room_area||"").toLowerCase().includes(String(h).toLowerCase())})||null),!p)return alert("Room location not found for room ".concat(h,". Please ensure the room is synced as a location.")),void u(!1);const g=r.map(e=>{const t=n.find(t=>t.id===parseInt(e.item_id));return t?{item_id:parseInt(e.item_id),issued_quantity:parseFloat(e.quantity),unit:t.unit||"pcs",batch_lot_number:null,cost:null,notes:e.is_payable?"Payable item":"Complimentary item"+(e.notes?" - ".concat(e.notes):"")}:null}).filter(Boolean);if(0===g.length)return alert("No valid items to add"),void u(!1);const y=r.filter(e=>e.is_payable).length,v=r.length-y,b={requisition_id:null,source_location_id:e.id,destination_location_id:p.id,issue_date:(new Date).toISOString(),notes:"Extra allocation for booking ".concat(generateBookingId(t)," (").concat(r.length," items: ").concat(y," payable, ").concat(v," complimentary)"),details:g};if(await mn.post("/inventory/issues",b,o()),alert("Successfully added ".concat(r.length," item(s) to room!")),c([{item_id:"",quantity:1,is_payable:!1,notes:""}]),p)try{var d;const e=await mn.get("/inventory/locations/".concat(p.id,"/items"),o());f((null===(d=e.data)||void 0===d?void 0:d.items)||[]),x("current")}catch(m){console.error("Error refreshing items:",m)}s&&s()}catch(m){var h,p;console.error("Error adding extra allocation:",m),alert("Failed to add allocation: "+((null===(h=m.response)||void 0===h||null===(p=h.data)||void 0===p?void 0:p.detail)||m.message))}finally{u(!1)}}else alert("Please add at least one item with a valid quantity")},className:"space-y-4",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,xn.jsx)("h4",{className:"text-lg font-semibold text-gray-800",children:"Items to Allocate"}),(0,xn.jsxs)("button",{type:"button",onClick:()=>{c([...l,{item_id:"",quantity:1,is_payable:!1,notes:""}])},className:"px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 flex items-center gap-1",children:[(0,xn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,xn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Item"]})]}),(0,xn.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:l.map((e,t)=>(0,xn.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,xn.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Item ",t+1]}),l.length>1&&(0,xn.jsx)("button",{type:"button",onClick:()=>(e=>{l.length>1&&c(l.filter((t,r)=>r!==e))})(t),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Item"}),(0,xn.jsxs)("select",{value:e.item_id,onChange:e=>b(t,"item_id",e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,xn.jsx)("option",{value:"",children:"Select an item"}),n.filter(e=>!1!==e.is_active).map(e=>(0,xn.jsxs)("option",{value:e.id,children:[e.name," ",e.item_code?"(".concat(e.item_code,")"):""," - Stock: ",e.current_stock," ",e.unit]},e.id))]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),(0,xn.jsx)("input",{type:"number",min:"0.01",step:"0.01",value:e.quantity,onChange:e=>b(t,"quantity",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,xn.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,xn.jsx)("input",{type:"checkbox",id:"is_payable_".concat(t),checked:e.is_payable,onChange:e=>b(t,"is_payable",e.target.checked),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("label",{htmlFor:"is_payable_".concat(t),className:"text-xs font-medium text-gray-700 cursor-pointer",children:"Payable to Guest"})]}),(0,xn.jsxs)("div",{className:"mt-2",children:[(0,xn.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),(0,xn.jsx)("input",{type:"text",value:e.notes,onChange:e=>b(t,"notes",e.target.value),placeholder:"e.g., Extra bed, Towels, etc.",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]},t))}),(0,xn.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[(0,xn.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,xn.jsx)("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:d?"Adding...":"Add ".concat(l.filter(e=>e.item_id&&e.quantity>0).length," Item(s)")})]})]})]})})},MX=e=>{let{booking:t,onSave:r,onClose:n,feedback:a,isSubmitting:s}=e;if(!t||!t.check_out||!t.id)return(0,xn.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,xn.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-2xl w-full max-w-lg",children:[(0,xn.jsx)("p",{className:"text-red-600",children:"Error: Invalid booking data. Please close and try again."}),(0,xn.jsx)("button",{onClick:n,className:"mt-4 w-full bg-indigo-600 text-white font-semibold py-2 rounded-md hover:bg-indigo-700 transition-colors",children:"Close"})]})});const[o,l]=(0,i.useState)(t.check_out||""),c=t.check_out||"";return(0,xn.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,xn.jsxs)(xu.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"bg-white p-8 rounded-xl shadow-2xl w-full max-w-lg",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,xn.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Extend Booking"}),(0,xn.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-800 transition-colors",children:(0,xn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,xn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,xn.jsxs)("div",{className:"space-y-4 text-gray-700",children:[(0,xn.jsxs)("p",{children:[(0,xn.jsx)("strong",{children:"Current Check-in:"})," ",t.check_in]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("strong",{children:"Current Check-out:"})," ",t.check_out]}),(0,xn.jsxs)("div",{className:"flex flex-col",children:[(0,xn.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"New Check-out Date"}),(0,xn.jsx)("input",{type:"date",value:o||"",onChange:e=>{const t=e.target.value;t&&l(t)},min:c||"",className:"w-full border-gray-300 rounded-lg shadow-sm p-2 transition-colors focus:border-indigo-500 focus:ring-indigo-500"})]})]}),(0,xn.jsx)("button",{onClick:()=>{t.id&&o&&r(t.id,o)},disabled:s||!o||!c||o<=c,className:"mt-6 w-full bg-indigo-600 text-white font-semibold py-2 rounded-md hover:bg-indigo-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:s?"Saving...":"Save"})]})})},RX=[{id:"water_500",item_id:null,name:"Mineral Water 500ml",frequency:"PER_NIGHT",complimentaryPerNight:2,complimentaryPerStay:0,extraPrice:0,is_payable:!0},{id:"tea_coffee",item_id:null,name:"Tea / Coffee Sachets",frequency:"PER_STAY",complimentaryPerNight:0,complimentaryPerStay:4,extraPrice:0,is_payable:!1},{id:"minibar_coke",item_id:null,name:"Coke (Minibar)",frequency:"PER_STAY",complimentaryPerNight:0,complimentaryPerStay:0,extraPrice:0,is_payable:!0}],FX=e=>{let{booking:t,onSave:r,onClose:n,feedback:a,isSubmitting:s,inventoryItems:o=[]}=e;const[l,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(null),[h,f]=(0,i.useState)(null),[p,m]=(0,i.useState)(null),[g,x]=(0,i.useState)(RX),y=(0,i.useMemo)(()=>{var e;if(!t)return null;let r=1;if(t.check_in&&t.check_out){const e=new Date(t.check_in),n=new Date(t.check_out)-e,i=Math.round(n/864e5);r=Math.max(i,1)}const n=t.rooms&&t.rooms[0]||null;return{roomType:t.is_package&&(null===n||void 0===n||null===(e=n.room)||void 0===e?void 0:e.type)||(null===n||void 0===n?void 0:n.type)||"default",nights:r,items:g.map(e=>{let t=0;return t="PER_NIGHT"===e.frequency?(e.complimentaryPerNight||0)*r:e.complimentaryPerStay||0,{id:e.id,name:e.name,frequency:e.frequency,complimentaryTotal:t,extraPrice:e.extraPrice||0,is_payable:Boolean(e.is_payable)}})}},[t,g]),v=(e,t,r)=>{x(n=>{const i=[...n];return i[e]=Fe(Fe({},i[e]),{},{[t]:r}),i})},b=(e,t)=>{const r=e.target.files[0];if(!r)return;const n=URL.createObjectURL(r);"id"===t?(c(r),f(n)):(u(r),m(n))};return(0,xn.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,xn.jsxs)(xu.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"bg-white p-8 rounded-xl shadow-2xl w-full max-w-2xl",children:[(0,xn.jsxs)("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:["Check-in Guest: ",t.guest_name]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,xn.jsxs)("div",{className:"flex flex-col items-center",children:[(0,xn.jsx)("label",{className:"font-medium text-gray-700 mb-2",children:"ID Card Image"}),(0,xn.jsx)("input",{type:"file",accept:"image/*",onChange:e=>b(e,"id"),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",required:!0}),h&&(0,xn.jsx)("img",{src:h,alt:"ID Preview",className:"mt-4 w-full h-40 object-contain rounded-lg border"})]}),(0,xn.jsxs)("div",{className:"flex flex-col items-center",children:[(0,xn.jsx)("label",{className:"font-medium text-gray-700 mb-2",children:"Guest Photo"}),(0,xn.jsx)("input",{type:"file",accept:"image/*",onChange:e=>b(e,"guest"),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",required:!0}),p&&(0,xn.jsx)("img",{src:p,alt:"Guest Preview",className:"mt-4 w-full h-40 object-contain rounded-lg border"})]})]}),y&&(0,xn.jsxs)("div",{className:"mt-6 border-t border-gray-200 pt-4",children:[(0,xn.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Amenity Allocation for this Stay"}),(0,xn.jsxs)("p",{className:"text-xs text-gray-500 mb-3",children:["Based on room type ",(0,xn.jsx)("span",{className:"font-semibold",children:y.roomType})," and"," ",y.nights," night(s). Complimentary quantities are already included in the room tariff. You can adjust the complimentary limits and whether extra usage is payable or not."]}),(0,xn.jsxs)("div",{className:"overflow-x-auto",children:[(0,xn.jsxs)("table",{className:"min-w-full text-xs md:text-sm border border-gray-200 rounded-lg overflow-hidden",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Item"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Frequency"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Complimentary / Night"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Complimentary / Stay"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Extra Price (Payable)"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Payable?"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Actions"})]})}),(0,xn.jsx)("tbody",{className:"divide-y divide-gray-100 bg-white",children:g.map((e,t)=>(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("td",{className:"px-3 py-2 text-gray-800 min-w-[180px]",children:(0,xn.jsxs)("select",{value:e.item_id||"",onChange:r=>{const n=r.target.value?Number(r.target.value):null,i=o.find(e=>e.id===n);v(t,"item_id",n),i&&(v(t,"name",i.name||e.name),v(t,"extraPrice",Number(i.selling_price)||0))},className:"w-full border border-gray-300 rounded px-2 py-1 text-xs md:text-sm focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 bg-white",children:[(0,xn.jsx)("option",{value:"",children:"Select item from inventory"}),o.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,xn.jsx)("td",{className:"px-3 py-2 text-gray-600",children:(0,xn.jsxs)("select",{value:e.frequency,onChange:e=>v(t,"frequency",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-xs md:text-sm focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,xn.jsx)("option",{value:"PER_NIGHT",children:"Per Night"}),(0,xn.jsx)("option",{value:"PER_STAY",children:"Per Stay"})]})}),(0,xn.jsx)("td",{className:"px-3 py-2 text-gray-800",children:(0,xn.jsx)("input",{type:"number",min:"0",value:e.complimentaryPerNight,onChange:e=>v(t,"complimentaryPerNight",Number(e.target.value)||0),className:"w-full border border-gray-300 rounded px-2 py-1 text-xs md:text-sm focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"})}),(0,xn.jsx)("td",{className:"px-3 py-2 text-gray-800",children:(0,xn.jsx)("input",{type:"number",min:"0",value:e.complimentaryPerStay,onChange:e=>v(t,"complimentaryPerStay",Number(e.target.value)||0),className:"w-full border border-gray-300 rounded px-2 py-1 text-xs md:text-sm focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"})}),(0,xn.jsx)("td",{className:"px-3 py-2 text-gray-800",children:(0,xn.jsxs)("div",{className:"flex items-center gap-1",children:[(0,xn.jsx)("span",{className:"text-gray-500 text-xs",children:"\u20b9"}),(0,xn.jsx)("input",{type:"number",min:"0",value:e.extraPrice,onChange:e=>v(t,"extraPrice",Number(e.target.value)||0),className:"w-full border border-gray-300 rounded px-2 py-1 text-xs md:text-sm focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"})]})}),(0,xn.jsx)("td",{className:"px-3 py-2 text-gray-800 text-center",children:(0,xn.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",checked:e.is_payable,onChange:e=>v(t,"is_payable",e.target.checked),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"ml-1 text-xs text-gray-600",children:e.is_payable?"Payable":"Not Payable"})]})}),(0,xn.jsx)("td",{className:"px-3 py-2 text-center",children:(0,xn.jsx)("button",{type:"button",onClick:()=>(e=>{x(t=>t.filter((t,r)=>r!==e))})(t),className:"text-red-500 text-xs hover:text-red-700",children:"Remove"})})]},e.id))})]}),(0,xn.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,xn.jsx)("button",{type:"button",onClick:()=>{x(e=>[...e,{id:"custom_".concat(e.length+1),name:"",frequency:"PER_STAY",complimentaryPerNight:0,complimentaryPerStay:0,extraPrice:0,is_payable:!1}])},className:"px-3 py-1 rounded-md border border-dashed border-indigo-400 text-xs text-indigo-700 hover:bg-indigo-50",children:"+ Add Amenity"}),(0,xn.jsx)("p",{className:"text-[11px] text-gray-500",children:"These settings control only the allocation logic; actual stock and charges are handled from the Inventory & Billing modules."})]})]})]}),(0,xn.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,xn.jsx)("button",{onClick:n,className:"w-full bg-gray-200 text-gray-800 font-semibold py-2 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,xn.jsx)("button",{onClick:()=>{var e;if("booked"!==(null===(e=t.status)||void 0===e?void 0:e.toLowerCase().replace(/[-_]/g,"")))return void alert("Cannot check in. Booking status is: ".concat(t.status));if(!l||!d)return void alert("Please upload both ID card and guest photo.");const n=y?{nights:y.nights,items:g.map(e=>({item_id:e.item_id||null,name:e.name,frequency:e.frequency,complimentaryPerNight:e.complimentaryPerNight||0,complimentaryPerStay:e.complimentaryPerStay||0,is_payable:Boolean(e.is_payable)}))}:null;r(t.id,{id_card_image:l,guest_photo:d,amenityAllocation:n})},disabled:s||!l||!d,className:"w-full bg-indigo-600 text-white font-semibold py-2 rounded-md hover:bg-indigo-700 transition-colors disabled:bg-gray-400",children:s?"Checking in...":"Confirm Check-in"})]})]})})},BX=i.memo(e=>{let{data:t}=e;const r=(0,i.useMemo)(()=>{const e=t.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{});return{labels:Object.keys(e),datasets:[{data:Object.values(e),backgroundColor:["rgba(79, 70, 229, 0.7)","rgba(34, 197, 94, 0.7)","rgba(239, 68, 68, 0.7)","rgba(107, 114, 128, 0.7)"],borderColor:["rgba(79, 70, 229, 1)","rgba(34, 197, 94, 1)","rgba(239, 68, 68, 1)","rgba(107, 114, 128, 1)"],borderWidth:1}]}},[t]);return(0,xn.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg flex-1",children:[(0,xn.jsx)("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"Bookings by Status"}),(0,xn.jsx)("div",{className:"w-full h-64 flex items-center justify-center",children:(0,xn.jsx)(AX,{data:r})})]})});BX.displayName="BookingStatusChart";const zX=()=>{const e=se(),[t,r]=(0,i.useState)({guestName:"",guestMobile:"",guestEmail:"",roomTypes:[],roomNumbers:[],checkIn:"",checkOut:"",adults:1,children:0}),n=(new Date).toISOString().split("T")[0],[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)({package_id:"",guest_name:"",guest_email:"",guest_mobile:"",check_in:"",check_out:"",adults:2,children:0,room_ids:[]}),[c,d]=(0,i.useState)([]),[u,h]=(0,i.useState)([]),[f,p]=(0,i.useState)([]),[m,g]=(0,i.useState)([]),[x,y]=(0,i.useState)([]),[v,b]=(0,i.useState)([]),[w,j]=(0,i.useState)("All"),[N,_]=(0,i.useState)("All"),[k,S]=(0,i.useState)(""),[A,C]=(0,i.useState)(""),[E,P]=(0,i.useState)({message:"",type:""}),[T,O]=(0,i.useState)({type:null,text:""}),[I,L]=(0,i.useState)(!1),D=(e,t)=>{O({type:e,text:t})},[M,R]=(0,i.useState)(!0),[F,B]=(0,i.useState)({activeBookings:0,cancelledBookings:0,availableRooms:0,todaysGuestsCheckin:0,todaysGuestsCheckout:0}),[z,U]=(0,i.useState)(null),[q,W]=(0,i.useState)(null),[H,V]=(0,i.useState)(null),[G,K]=(0,i.useState)(null),[Y,X]=(0,i.useState)(null),[Q,$]=(0,i.useState)(0),[Z,J]=(0,i.useState)(!1),[ee,te]=(0,i.useState)(0),re=(0,i.useMemo)(()=>{const e={};return(f||[]).forEach(t=>{t&&t.id&&(e[t.id]=t)}),e},[f]),ne=(0,i.useCallback)(()=>({headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),[]),ie=(0,i.useCallback)(async()=>{R(!0);try{if(!localStorage.getItem("token"))return void e("/login");const[r,n,i,a,o,l]=await Promise.all([mn.get("/rooms/",ne()),mn.get("/bookings?skip=0&limit=20&order_by=id&order=desc",ne()),mn.get("/packages/bookingsall?skip=0&limit=500",ne()),mn.get("/packages/",ne()),mn.get("/inventory/items?limit=500",ne()),mn.get("/inventory/locations?limit=10000",ne())]),c=r.data,{bookings:u,total:f}=n.data,m=i.data||[],x=o.data||[],v=l.data||[],w=(new Date).toISOString().split("T")[0],j=(x||[]).filter(e=>e&&(!0===e.is_sellable_to_guest||!0===e.is_sellable));y(j),g(v);const N=(await mn.get("/bookings?limit=500&order_by=id&order=desc",ne())).data.bookings,_=m.map(e=>Fe(Fe({},e),{},{is_package:!0,rooms:e.rooms||[]})),k=[...N,..._],S=k.filter(e=>"booked"===e.status||"checked-in"===e.status).length,A=k.filter(e=>"cancelled"===e.status).length,C=c.filter(e=>"Available"===e.status).length,E=k.filter(e=>e.check_in===w&&"cancelled"!==e.status).reduce((e,t)=>e+t.adults+t.children,0),P=k.filter(e=>e.check_out===w&&"cancelled"!==e.status).reduce((e,t)=>e+t.adults+t.children,0);p(c),h(c.filter(e=>"Available"===e.status));let T=c;T=t.checkIn&&t.checkOut?c.filter(e=>{const r=k.some(r=>{var n;const i=null===(n=r.status)||void 0===n?void 0:n.toLowerCase().replace(/_/g,"-");if("booked"!==i&&"checked-in"!==i)return!1;const a=new Date(r.check_in),s=new Date(r.check_out),o=new Date(t.checkIn),l=new Date(t.checkOut),c=r.rooms&&r.rooms.some(t=>t.id===e.id);return!!c&&(o<s&&l>a)});return!r}):c.filter(e=>"Available"===e.status),d(T);const O=new Map;u.forEach(e=>{O.set("regular_".concat(e.id),Fe(Fe({},e),{},{is_package:!1}))}),m.forEach(e=>{O.set("package_".concat(e.id),Fe(Fe({},e),{},{is_package:!0,rooms:e.rooms||[]}))});const I=Array.from(O.values()).sort((e,t)=>{var r,n;return(null!==(r=t.id)&&void 0!==r?r:0)-(null!==(n=e.id)&&void 0!==n?n:0)});b(I),s(a.data||[]),$(f+((null===m||void 0===m?void 0:m.length)||0)),J(u.length<f),te(u.length),B({activeBookings:S,cancelledBookings:A,availableRooms:C,todaysGuestsCheckin:E,todaysGuestsCheckout:P})}catch(r){console.error("Error fetching dashboard data:",r),D("error","Failed to load dashboard data. Please try again.")}finally{R(!1)}},[ne,e]);(0,i.useEffect)(()=>{ie()},[ie]),(0,i.useEffect)(()=>{if(t.checkIn&&t.checkOut&&f.length>0){const e=f.filter(e=>{const r=v.some(r=>{var n;const i=null===(n=r.status)||void 0===n?void 0:n.toLowerCase().replace(/_/g,"-");if("booked"!==i&&"checked-in"!==i)return!1;const a=new Date(r.check_in),s=new Date(r.check_out),o=new Date(t.checkIn),l=new Date(t.checkOut),c=r.rooms&&r.rooms.some(t=>t.id===e.id);return!!c&&(o<s&&l>a)});return!r});d(e)}else t.checkIn&&t.checkOut||d(f.filter(e=>"Available"===e.status))},[t.checkIn,t.checkOut,f,v]),(0,i.useEffect)(()=>{if(o.check_in&&o.check_out&&f.length>0){const e=a.find(e=>e.id===parseInt(o.package_id));let t=f.filter(e=>{const t=v.some(t=>{var r;const n=null===(r=t.status)||void 0===r?void 0:r.toLowerCase().replace(/_/g,"-");if("booked"!==n&&"checked-in"!==n)return!1;const i=new Date(t.check_in),a=new Date(t.check_out),s=new Date(o.check_in),l=new Date(o.check_out),c=t.rooms&&t.rooms.some(t=>{var r;return((null===(r=t.room)||void 0===r?void 0:r.id)||t.id)===e.id});return!!c&&(s<a&&l>i)});return!t});if(e&&"room_type"===e.booking_type&&e.room_types){const r=e.room_types.split(",").map(e=>e.trim().toLowerCase());t=t.filter(e=>{const t=e.type?e.type.trim().toLowerCase():"";return r.includes(t)})}h(t),e&&"whole_property"===e.booking_type&&t.length>0?l(e=>Fe(Fe({},e),{},{room_ids:t.map(e=>e.id)})):e&&e.booking_type}else o.check_in&&o.check_out||h(f.filter(e=>"Available"===e.status))},[o.check_in,o.check_out,o.package_id,f,v,a]);const ae=CX(async()=>{if(Z){L(!0);try{const e=await mn.get("/bookings?skip=".concat(ee,"&limit=20&order_by=id&order=desc"),ne()),{bookings:t,total:r}=e.data;if(!t||0===t.length)return void J(!1);b(e=>{const r=new Map;return e.forEach(e=>{const t=e.is_package?"package_".concat(e.id):"regular_".concat(e.id);r.set(t,e)}),t.forEach(e=>{r.set("regular_".concat(e.id),Fe(Fe({},e),{},{is_package:!1}))}),Array.from(r.values()).sort((e,t)=>{var r,n;return(null!==(r=t.id)&&void 0!==r?r:0)-(null!==(n=e.id)&&void 0!==n?n:0)})});const n=ee+t.length;te(n),J(n<r)}catch(e){console.error("Failed to load more bookings:",e),D("error","Could not load more bookings.")}finally{L(!1)}}},Z,I),oe=(0,i.useCallback)(e=>{var t;if(!e)return null;const r=e.number;if(void 0!==r&&null!==r&&""!==r)return String(r).trim();const n=null===(t=e.room)||void 0===t?void 0:t.number;return void 0!==n&&null!==n&&""!==n?String(n).trim():null},[]),le=(0,i.useCallback)(e=>{const t=new Map;return e.forEach(e=>{var r;if(!e)return;const n=Fe(Fe({},e),{},{is_package:Boolean(e.is_package)}),i=n.is_package?"PK":"BK",a=(n.display_id||"".concat(i,"-").concat(String(null!==(r=n.id)&&void 0!==r?r:"").padStart(6,"0"))).toString().trim().toUpperCase(),s="".concat(i,"_").concat(a);if(t.has(s)){const e=t.get(s);t.set(s,Fe(Fe({},e),n))}else t.set(s,n)}),Array.from(t.values()).sort((e,t)=>{var r,n;return(null!==(r=t.id)&&void 0!==r?r:0)-(null!==(n=e.id)&&void 0!==n?n:0)})},[]),ce=(0,i.useMemo)(()=>[...new Set(c.map(e=>e.type))],[c]),de=(0,i.useMemo)(()=>{const e=new Set;v.forEach(t=>{var r;null===(r=t.rooms)||void 0===r||r.forEach(t=>{const r=oe(t);r&&e.add(r)})});const t=Array.from(e).sort((e,t)=>e.localeCompare(t,void 0,{numeric:!0}));return["All",...t]},[v,oe]),ue=(0,i.useMemo)(()=>c.filter(e=>e.type===t.roomTypes[0]),[c,t.roomTypes]),he=(0,i.useMemo)(()=>t.roomNumbers.map(e=>c.find(r=>r.number===e&&r.type===t.roomTypes[0])).filter(e=>null!==e),[c,t.roomNumbers,t.roomTypes]),fe=((0,i.useMemo)(()=>parseInt(t.adults)+parseInt(t.children),[t.adults,t.children]),e=>{const{name:t,value:r}=e.target;l(e=>{const n=Fe(Fe({},e),{},{[t]:r});if("package_id"===t&&r){const e=a.find(e=>e.id===parseInt(r));e&&("whole_property"===e.booking_type||"room_type"===e.booking_type)&&(n.room_ids=[])}return n})}),pe=e=>{l(t=>Fe(Fe({},t),{},{room_ids:t.room_ids.includes(e)?t.room_ids.filter(t=>t!==e):[...t.room_ids,e]}))},me=(0,i.useMemo)(()=>({adults:he.reduce((e,t)=>e+t.adults,0),children:he.reduce((e,t)=>e+t.children,0),total:he.reduce((e,t)=>e+(t.adults+t.children),0)}),[he]),ge=e=>{if(e.display_id)return e.display_id;const t=e.is_package?"PK":"BK",r=String(e.id).padStart(6,"0");return"".concat(t,"-").concat(r)},xe=(0,i.useMemo)(()=>{const e={all:v.length,booked:0,cancelled:0,"checked-in":0,"checked-out":0};return v.forEach(t=>{const r=(t.status||"").toLowerCase().replace(/[-_]/g,"-").trim();"booked"===r?e.booked++:"cancelled"===r?e.cancelled++:"checked-in"===r||"checked_in"===r?e["checked-in"]++:"checked-out"!==r&&"checked_out"!==r||e["checked-out"]++}),e},[v]),ye=(0,i.useMemo)(()=>le(v).filter(e=>{var t,r,n;let i=null===(t=e.status)||void 0===t?void 0:t.toLowerCase().trim(),a=null===w||void 0===w?void 0:w.toLowerCase().trim();i=null===(r=i)||void 0===r?void 0:r.replace(/[-_]/g,"-"),a=null===(n=a)||void 0===n?void 0:n.replace(/[-_]/g,"-");const s="All"===w||i===a||"checked-out"===i&&"checked-out"===a||"checked_out"===i&&"checked-out"===a||"checked-in"===i&&"checked-in"===a||"checked_in"===i&&"checked-in"===a,o="All"===N?null:String(N).trim(),l=!o||e.rooms&&e.rooms.some(e=>oe(e)===o);let c=!0;if(k||A){const t=new Date(e.check_in),r=new Date(e.check_out);if(t.setHours(0,0,0,0),r.setHours(0,0,0,0),k&&A){const e=new Date(k),n=new Date(A);e.setHours(0,0,0,0),n.setHours(0,0,0,0),c=t<=n&&r>=e}else if(k){const e=new Date(k);e.setHours(0,0,0,0),c=r>=e}else if(A){const e=new Date(A);e.setHours(0,0,0,0),c=t<=e}}return s&&l&&c}).sort((e,t)=>{var r,n;const i={booked:1,"checked-in":2,checked_in:2,"checked-out":3,checked_out:3,cancelled:4},a=(null===(r=e.status)||void 0===r?void 0:r.toLowerCase().replace(/[-_]/g,"-"))||"",s=(null===(n=t.status)||void 0===n?void 0:n.toLowerCase().replace(/[-_]/g,"-"))||"",o=i[a]||99,l=i[s]||99;return o!==l?o-l:t.id-e.id}),[v,w,N,k,A,oe,le]),ve=e=>{const{name:t,value:n}=e.target;r(e=>Fe(Fe({},e),{},{[t]:n}))},be=i.memo(e=>{let{rooms:t,selectedRoomNumbers:r,onRoomToggle:n}=e;return(0,xn.jsx)("div",{className:"flex flex-wrap gap-4 p-4 border border-gray-300 rounded-lg bg-gray-50 max-h-64 overflow-y-auto",children:t.length>0?t.map(e=>(0,xn.jsxs)(xu.div,{whileHover:{scale:1.05},className:"\n                p-4 rounded-xl shadow-md cursor-pointer transition-all duration-200\n                ".concat(r.includes(e.number)?"bg-indigo-600 text-white transform scale-105 ring-2 ring-indigo-500":"bg-white text-gray-800 hover:bg-gray-100","\n              "),onClick:()=>n(e.number),children:[(0,xn.jsx)("div",{className:"w-full h-24 mb-2 bg-gray-200 rounded-lg flex items-center justify-center text-gray-500",children:(0,xn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,xn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 8v-10a1 1 0 011-1h2a1 1 0 011 1v10m-6 0h6"})})}),(0,xn.jsxs)("div",{className:"font-semibold text-lg ".concat(r.includes(e.number)?"text-white":"text-indigo-700"),children:["Room ",e.number]}),(0,xn.jsxs)("div",{className:"text-sm ".concat(r.includes(e.number)?"text-indigo-200":"text-gray-500"),children:[(0,xn.jsxs)("p",{children:["Capacity: ",e.adults," Adults, ",e.children," Children"]}),(0,xn.jsxs)("p",{className:"font-medium",children:[Ju(e.price),"/night"]})]})]},e.id)):(0,xn.jsxs)("div",{className:"w-full text-center py-8 text-gray-500",children:[(0,xn.jsx)("div",{className:"text-lg mb-2",children:"\ud83d\udeab"}),(0,xn.jsx)("p",{className:"font-medium",children:"No rooms available for the selected dates"}),(0,xn.jsx)("p",{className:"text-sm mt-1",children:"Please try different dates or room type"})]})})});return be.displayName="RoomSelection",(0,xn.jsxs)(Zu,{children:[(0,xn.jsx)(PX,{message:T,onClose:()=>{O({type:null,text:""})},autoDismiss:!0,duration:5e3}),(0,xn.jsxs)("div",{className:"bubbles-container",children:[(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{})]}),(0,xn.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 space-y-8 bg-gray-100 min-h-screen font-sans",children:[(0,xn.jsx)("h1",{className:"text-3xl sm:text-4xl font-extrabold text-gray-800 tracking-tight",children:"Booking Management Dashboard"}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:[(0,xn.jsx)(TX,{title:"Total Bookings",value:F.activeBookings}),(0,xn.jsx)(TX,{title:"Cancelled Bookings",value:F.cancelledBookings}),(0,xn.jsx)(TX,{title:"Available Rooms",value:F.availableRooms}),(0,xn.jsx)(TX,{title:"Guests Today Check-in",value:F.todaysGuestsCheckin}),(0,xn.jsx)(TX,{title:"Guests Today Check-out",value:F.todaysGuestsCheckout})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,xn.jsxs)(xu.div,{className:"bg-white p-6 sm:p-8 rounded-2xl shadow-lg flex flex-col",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-700",children:"Create Room Booking"}),E.message&&(0,xn.jsx)(xu.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-4 rounded-lg text-sm font-semibold ".concat("success"===E.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:E.message}),(0,xn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!I){L(!0),P({message:"",type:""});try{if(t.checkIn&&t.checkOut){const e=new Date(t.checkIn),r=new Date(t.checkOut).getTime()-e.getTime();if(r/864e5<1)return D("error","Minimum 1 day booking is mandatory. Check-out date must be at least 1 day after check-in date."),void L(!1)}if(0===t.roomNumbers.length)return D("error","Please select at least one room."),void L(!1);const e=parseInt(t.adults),n=parseInt(t.children);if(e>me.adults)return D("error","The number of adults (".concat(e,") exceeds the total adult capacity of the selected rooms (").concat(me.adults," adults max). Please select additional rooms or reduce the number of adults.")),void L(!1);if(n>me.children)return D("error","The number of children (".concat(n,") exceeds the total children capacity of the selected rooms (").concat(me.children," children max). Please select additional rooms or reduce the number of children.")),void L(!1);const i=t.roomNumbers.map(e=>{const t=c.find(t=>t.number===e);return t?t.id:null}).filter(e=>null!==e);if(i.length!==t.roomNumbers.length)return D("error","One or more selected rooms are invalid."),void L(!1);const a=await mn.post("/bookings",{room_ids:i,guest_name:t.guestName,guest_mobile:t.guestMobile,guest_email:t.guestEmail,check_in:t.checkIn,check_out:t.checkOut,adults:parseInt(t.adults),children:parseInt(t.children)},ne());D("success","Bookings created successfully!"),r({guestName:"",guestMobile:"",guestEmail:"",roomTypes:[],roomNumbers:[],checkIn:"",checkOut:"",adults:1,children:0});const s=Fe(Fe({},a.data),{},{is_package:!1});b(e=>le([s,...e]))}catch(a){var n,i;console.error("Booking creation error:",a);const e=(null===(n=a.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Error creating booking.";D("error",e)}finally{L(!1)}}},className:"flex flex-col h-full",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 flex-grow",children:[(0,xn.jsxs)("div",{className:"flex flex-col",children:[(0,xn.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Guest Name"}),(0,xn.jsx)("input",{type:"text",name:"guestName",value:t.guestName,onChange:ve,placeholder:"Enter guest's full name",className:"w-full border-gray-300 rounded-lg shadow-sm p-2 transition-colors focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),(0,xn.jsxs)("div",{className:"flex flex-col",children:[(0,xn.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Mobile Number"}),(0,xn.jsx)("input",{type:"text",name:"guestMobile",value:t.guestMobile,onChange:ve,placeholder:"e.g., +1234567890",className:"w-full border-gray-300 rounded-lg shadow-sm p-2 transition-colors focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),(0,xn.jsxs)("div",{className:"flex flex-col md:col-span-2",children:[(0,xn.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,xn.jsx)("input",{type:"email",name:"guestEmail",value:t.guestEmail,onChange:ve,placeholder:"email@example.com",className:"w-full border-gray-300 rounded-lg shadow-sm p-2 transition-colors focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),(0,xn.jsxs)("div",{className:"flex flex-col",children:[(0,xn.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Check-in Date"}),(0,xn.jsx)("input",{type:"date",name:"checkIn",value:t.checkIn,onChange:ve,min:n,className:"w-full border-gray-300 rounded-lg shadow-sm p-2 transition-colors focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),(0,xn.jsxs)("div",{className:"flex flex-col",children:[(0,xn.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Check-out Date"}),(0,xn.jsx)("input",{type:"date",name:"checkOut",value:t.checkOut,onChange:ve,min:t.checkIn||n,className:"w-full border-gray-300 rounded-lg shadow-sm p-2 transition-colors focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),(0,xn.jsxs)("div",{className:"flex flex-col",children:[(0,xn.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Room Type"}),(0,xn.jsxs)("select",{name:"roomTypes",value:t.roomTypes[0]||"",onChange:e=>{const{value:t}=e.target;r(e=>Fe(Fe({},e),{},{roomTypes:[t],roomNumbers:[]}))},className:"w-full border-gray-300 rounded-lg shadow-sm p-2 transition-colors focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Room Type"}),ce.map((e,t)=>(0,xn.jsx)("option",{value:e,children:e},t))]})]}),(0,xn.jsxs)("div",{className:"flex flex-col",children:[(0,xn.jsxs)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:["Available Rooms for Selected Dates",t.checkIn&&t.checkOut&&(0,xn.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",t.checkIn," to ",t.checkOut,")"]})]}),(0,xn.jsx)(_u,{mode:"wait",children:t.roomTypes.length>0&&(0,xn.jsx)(xu.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:(0,xn.jsx)(be,{rooms:ue,selectedRoomNumbers:t.roomNumbers,onRoomToggle:e=>{const n=t.roomNumbers.includes(e);let i;i=n?t.roomNumbers.filter(t=>t!==e):[...t.roomNumbers,e],r(e=>Fe(Fe({},e),{},{roomNumbers:i}))}})},t.roomTypes[0])}),t.checkIn&&t.checkOut?null:(0,xn.jsxs)("div",{className:"text-center py-8 text-gray-500 text-sm",children:[(0,xn.jsx)("p",{children:"Please select check-in and check-out dates first"}),(0,xn.jsx)("p",{className:"text-xs mt-1",children:"Available rooms will be shown here"})]})]}),(0,xn.jsxs)("div",{className:"flex flex-col",children:[(0,xn.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Number of Adults"}),(0,xn.jsx)("input",{type:"number",name:"adults",value:t.adults,onChange:ve,className:"w-full border-gray-300 rounded-lg shadow-sm p-2 transition-colors focus:border-indigo-500 focus:ring-indigo-500",min:"1",required:!0})]}),(0,xn.jsxs)("div",{className:"flex flex-col",children:[(0,xn.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Number of Children"}),(0,xn.jsx)("input",{type:"number",name:"children",value:t.children,onChange:ve,className:"w-full border-gray-300 rounded-lg shadow-sm p-2 transition-colors focus:border-indigo-500 focus:ring-indigo-500",min:"0",required:!0})]})]}),(0,xn.jsx)("button",{type:"submit",className:"mt-6 w-full bg-indigo-600 text-white font-semibold py-3 rounded-lg hover:bg-indigo-700 transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:I||M,children:I?"Creating...":"Create Booking"})]})]}),(0,xn.jsxs)(xu.div,{className:"bg-white p-6 sm:p-8 rounded-2xl shadow-lg flex flex-col",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-700",children:"Book a Package"}),(0,xn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!I){L(!0),P({message:"",type:""});try{if(o.check_in&&o.check_out){const e=new Date(o.check_in),t=new Date(o.check_out).getTime()-e.getTime();if(t/864e5<1)return D("error","Minimum 1 day booking is mandatory. Check-out date must be at least 1 day after check-in date."),void L(!1)}const e=a.find(e=>e.id===parseInt(o.package_id));if(!e)return D("error","Package not found. Please select a valid package."),void L(!1);const t="whole_property"===e.booking_type;let r=o.room_ids;if(t){const e=u.map(e=>e.id);if(0===e.length)return D("error","No rooms are available for the selected dates."),void L(!1);r=e}else{if(0===o.room_ids.length)return D("error","Please select at least one room for the package."),void L(!1);r=o.room_ids}if(!t){const e=r.map(e=>c.find(t=>t.id===e)).filter(e=>null!==e),t={adults:e.reduce((e,t)=>e+(t.adults||0),0),children:e.reduce((e,t)=>e+(t.children||0),0)},n=parseInt(o.adults),i=parseInt(o.children);if(n>t.adults)return D("error","The number of adults (".concat(n,") exceeds the total adult capacity of the selected rooms (").concat(t.adults," adults max). Please select additional rooms or reduce the number of adults.")),void L(!1);if(i>t.children)return D("error","The number of children (".concat(i,") exceeds the total children capacity of the selected rooms (").concat(t.children," children max). Please select additional rooms or reduce the number of children.")),void L(!1)}const n=Fe(Fe({},o),{},{package_id:parseInt(o.package_id),adults:parseInt(o.adults),children:parseInt(o.children),room_ids:r.map(e=>parseInt(e))}),i=await mn.post("/packages/book",n,ne());D("success","Package booked successfully!"),l({package_id:"",guest_name:"",guest_email:"",guest_mobile:"",check_in:"",check_out:"",adults:2,children:0,room_ids:[]});const s=Fe(Fe({},i.data),{},{is_package:!0});b(e=>le([s,...e]))}catch(n){var t,r;console.error(n);const e=(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to process package booking.";D("error",e)}finally{L(!1)}}},className:"flex flex-col h-full",children:[(0,xn.jsxs)("div",{className:"space-y-4 flex-grow",children:[(0,xn.jsxs)("select",{name:"package_id",value:o.package_id,onChange:fe,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Package"}),a.map(e=>{const t="whole_property"===e.booking_type?" (Whole Property)":"room_type"===e.booking_type?" (Selected Rooms)":"";return(0,xn.jsxs)("option",{value:e.id,children:[e.title,t," - ",Ju(e.price)]},e.id)})]}),(0,xn.jsx)("input",{name:"guest_name",placeholder:"Guest Name",value:o.guest_name,onChange:fe,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0}),(0,xn.jsx)("input",{type:"email",name:"guest_email",placeholder:"Guest Email",value:o.guest_email,onChange:fe,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all"}),(0,xn.jsx)("input",{name:"guest_mobile",placeholder:"Guest Mobile",value:o.guest_mobile,onChange:fe,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,xn.jsx)("input",{type:"date",name:"check_in",value:o.check_in,min:n,onChange:fe,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0}),(0,xn.jsx)("input",{type:"date",name:"check_out",value:o.check_out,min:o.check_in||n,onChange:fe,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,xn.jsx)("input",{type:"number",name:"adults",min:1,placeholder:"Adults",value:o.adults,onChange:fe,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0}),(0,xn.jsx)("input",{type:"number",name:"children",min:0,placeholder:"Children",value:o.children,onChange:fe,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all"})]}),(()=>{const e=a.find(e=>e.id===parseInt(o.package_id));if(!e)return null;const t=e.room_types&&e.room_types.trim().length>0,r="whole_property"===e.booking_type||"whole property"===e.booking_type||!e.booking_type&&!t;if(r)return(0,xn.jsxs)("div",{className:"bg-indigo-50 border-2 border-indigo-300 rounded-lg p-4",children:[(0,xn.jsx)("p",{className:"text-sm font-semibold text-indigo-800",children:"Whole Property Package"}),(0,xn.jsxs)("p",{className:"text-xs text-indigo-600 mt-1",children:["All available rooms (",u.length," room",1!==u.length?"s":"",") will be booked automatically for the selected dates."]})]});const n="room_type"===e.booking_type||"whole_property"!==e.booking_type&&t;return r||n||e.booking_type?n?(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-gray-600 font-medium mb-2",children:["Select Rooms for Package",e.room_types&&(0,xn.jsxs)("span",{className:"text-xs text-indigo-600 ml-2",children:["(Filtered by: ",e.room_types,")"]}),o.check_in&&o.check_out&&(0,xn.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",o.check_in," to ",o.check_out,")"]})]}),o.check_in&&o.check_out?(0,xn.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 max-h-48 overflow-y-auto p-2 bg-gray-50 rounded-lg border",children:(()=>{let t=u;if("room_type"===e.booking_type&&e.room_types){const r=e.room_types.split(",").map(e=>e.trim().toLowerCase());t=u.filter(e=>{const t=e.type?e.type.trim().toLowerCase():"";return r.includes(t)})}return t.length>0?t.map(e=>(0,xn.jsxs)("div",{onClick:()=>pe(e.id),className:"p-4 rounded-lg border-2 cursor-pointer transition-all duration-200\n                                                     ".concat(o.room_ids.includes(e.id)?"bg-indigo-500 text-white border-indigo-600":"bg-white border-gray-300 hover:border-indigo-500","\n                                "),children:[(0,xn.jsxs)("p",{className:"font-semibold",children:["Room ",e.number]}),(0,xn.jsx)("p",{className:"text-sm ".concat(o.room_ids.includes(e.id)?"text-indigo-200":"text-gray-600"),children:e.type}),(0,xn.jsxs)("p",{className:"text-xs ".concat(o.room_ids.includes(e.id)?"text-indigo-200":"text-gray-500"),children:[Ju(e.price),"/night"]})]},e.id)):(0,xn.jsxs)("div",{className:"col-span-full text-center py-4 text-gray-500",children:[(0,xn.jsx)("p",{className:"font-medium",children:"No rooms available for the selected dates"}),e.room_types&&(0,xn.jsxs)("p",{className:"text-sm mt-1",children:["No rooms match the selected room types: ",e.room_types]}),!e.room_types&&(0,xn.jsx)("p",{className:"text-sm mt-1",children:"Please try different dates"})]})})()}):(0,xn.jsxs)("div",{className:"text-center py-8 text-gray-500 text-sm bg-gray-50 rounded-lg border",children:[(0,xn.jsx)("p",{children:"Please select check-in and check-out dates first"}),(0,xn.jsx)("p",{className:"text-xs mt-1",children:"Available rooms will be shown here"})]})]}):null:(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-gray-600 font-medium mb-2",children:["Select Rooms for Package",o.check_in&&o.check_out&&(0,xn.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",o.check_in," to ",o.check_out,")"]})]}),o.check_in&&o.check_out?(0,xn.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 max-h-48 overflow-y-auto p-2 bg-gray-50 rounded-lg border",children:u.length>0?u.map(e=>(0,xn.jsxs)("div",{onClick:()=>pe(e.id),className:"p-4 rounded-lg border-2 cursor-pointer transition-all duration-200\n                                                     ".concat(o.room_ids.includes(e.id)?"bg-indigo-500 text-white border-indigo-600":"bg-white border-gray-300 hover:border-indigo-500","\n                                "),children:[(0,xn.jsxs)("p",{className:"font-semibold",children:["Room ",e.number]}),(0,xn.jsx)("p",{className:"text-sm ".concat(o.room_ids.includes(e.id)?"text-indigo-200":"text-gray-600"),children:e.type}),(0,xn.jsxs)("p",{className:"text-xs ".concat(o.room_ids.includes(e.id)?"text-indigo-200":"text-gray-500"),children:[Ju(e.price),"/night"]})]},e.id)):(0,xn.jsxs)("div",{className:"col-span-full text-center py-4 text-gray-500",children:[(0,xn.jsx)("p",{className:"font-medium",children:"No rooms available for the selected dates"}),(0,xn.jsx)("p",{className:"text-sm mt-1",children:"Please try different dates"})]})}):(0,xn.jsxs)("div",{className:"text-center py-8 text-gray-500 text-sm bg-gray-50 rounded-lg border",children:[(0,xn.jsx)("p",{children:"Please select check-in and check-out dates first"}),(0,xn.jsx)("p",{className:"text-xs mt-1",children:"Available rooms will be shown here"})]})]})})()]}),(0,xn.jsx)("button",{type:"submit",className:"mt-auto w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 rounded-lg shadow-md transition-transform transform hover:-translate-y-1 disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:I||M,children:I?"Booking...":"Book Package \u2705"})]})]})]}),(0,xn.jsxs)("div",{className:"bg-white p-3 sm:p-6 md:p-8 rounded-xl sm:rounded-2xl shadow-lg overflow-x-auto -mx-2 sm:mx-0",children:[(0,xn.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap gap-3 sm:gap-4 justify-between items-start sm:items-center mb-4 sm:mb-6",children:[(0,xn.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2",children:[(0,xn.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-700",children:"All Bookings"}),(0,xn.jsxs)("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:["Showing ",ye.length," of ",xe.all," bookings"]})]}),(0,xn.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap gap-2 sm:gap-3 items-stretch sm:items-center w-full sm:w-auto",children:[(0,xn.jsxs)("div",{className:"flex flex-col w-full sm:w-auto",children:[(0,xn.jsx)("label",{className:"text-xs text-gray-600 mb-1 font-medium",children:"Filter by Status:"}),(0,xn.jsxs)("select",{value:w,onChange:e=>j(e.target.value),className:"border-gray-300 rounded-lg p-2 shadow-sm text-sm w-full sm:w-auto bg-white hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",children:[(0,xn.jsxs)("option",{value:"All",children:["All Statuses (",xe.all,")"]}),(0,xn.jsxs)("option",{value:"booked",children:["\ud83d\udcc5 Booked (",xe.booked,")"]}),(0,xn.jsxs)("option",{value:"checked-in",children:["\u2705 Checked-in (",xe["checked-in"],")"]}),(0,xn.jsxs)("option",{value:"checked-out",children:["\ud83d\udeaa Checked-out (",xe["checked-out"],")"]}),(0,xn.jsxs)("option",{value:"cancelled",children:["\u274c Cancelled (",xe.cancelled,")"]})]})]}),(0,xn.jsxs)("div",{className:"flex flex-col w-full sm:w-auto",children:[(0,xn.jsx)("label",{className:"text-xs text-gray-600 mb-1 font-medium",children:"Filter by Room:"}),(0,xn.jsx)("select",{value:N,onChange:e=>_(e.target.value),className:"border-gray-300 rounded-lg p-2 shadow-sm text-sm w-full sm:w-auto bg-white hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors",children:de.map(e=>(0,xn.jsx)("option",{value:e,children:"All"===e?"All Rooms":"Room ".concat(e)},e))})]}),(0,xn.jsxs)("div",{className:"flex flex-col w-full sm:w-auto",children:[(0,xn.jsx)("label",{className:"text-xs text-gray-600 mb-1 font-medium",children:"From Date:"}),(0,xn.jsx)("input",{type:"date",value:k,onChange:e=>S(e.target.value),className:"border-gray-300 rounded-lg p-2 shadow-sm text-sm w-full sm:w-auto bg-white hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"})]}),(0,xn.jsxs)("div",{className:"flex flex-col w-full sm:w-auto",children:[(0,xn.jsx)("label",{className:"text-xs text-gray-600 mb-1 font-medium",children:"To Date:"}),(0,xn.jsx)("input",{type:"date",value:A,onChange:e=>C(e.target.value),className:"border-gray-300 rounded-lg p-2 shadow-sm text-sm w-full sm:w-auto bg-white hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"})]}),("All"!==w||"All"!==N||k||A)&&(0,xn.jsx)("button",{onClick:()=>{j("All"),_("All"),S(""),C("")},className:"text-xs text-blue-600 hover:text-blue-700 font-medium px-3 py-2 border border-blue-300 rounded-lg hover:bg-blue-50 transition-colors self-end sm:self-center",title:"Clear all filters",children:"Clear Filters"})]})]}),(0,xn.jsx)("div",{className:"overflow-x-auto -mx-2 sm:mx-0",children:(0,xn.jsxs)("table",{className:"min-w-full text-xs sm:text-sm border-collapse rounded-xl",children:[(0,xn.jsx)("thead",{className:"bg-gray-100",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"p-2 sm:p-4 border-b border-gray-200 text-left text-xs font-semibold uppercase tracking-wider text-gray-800",children:"ID"}),(0,xn.jsx)("th",{className:"p-2 sm:p-4 border-b border-gray-200 text-left text-xs font-semibold uppercase tracking-wider text-gray-800",children:"Guest"}),(0,xn.jsx)("th",{className:"p-2 sm:p-4 border-b border-gray-200 text-left text-xs font-semibold uppercase tracking-wider text-gray-800 hidden md:table-cell",children:"Type"}),(0,xn.jsx)("th",{className:"p-2 sm:p-4 border-b border-gray-200 text-left text-xs font-semibold uppercase tracking-wider text-gray-800",children:"Rooms"}),(0,xn.jsx)("th",{className:"p-2 sm:p-4 border-b border-gray-200 text-left text-xs font-semibold uppercase tracking-wider text-gray-800 hidden lg:table-cell",children:"Check-in"}),(0,xn.jsx)("th",{className:"p-2 sm:p-4 border-b border-gray-200 text-left text-xs font-semibold uppercase tracking-wider text-gray-800 hidden lg:table-cell",children:"Check-out"}),(0,xn.jsx)("th",{className:"p-2 sm:p-4 border-b border-gray-200 text-left text-xs font-semibold uppercase tracking-wider text-gray-800 hidden sm:table-cell",children:"Guests"}),(0,xn.jsx)("th",{className:"p-2 sm:p-4 border-b border-gray-200 text-left text-xs font-semibold uppercase tracking-wider text-gray-800",children:"Status"}),(0,xn.jsx)("th",{className:"p-2 sm:p-4 border-b border-gray-200 text-center text-xs font-semibold uppercase tracking-wider text-gray-800",children:"Actions"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:ye.length>0?ye.map((e,t)=>{var r;return(0,xn.jsxs)(xu.tr,{className:"hover:bg-gray-50 transition-colors",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.05*t},children:[(0,xn.jsx)("td",{className:"p-2 sm:p-4",children:(0,xn.jsx)("div",{className:"font-mono text-xs sm:text-sm font-semibold text-gray-900",children:ge(e)})}),(0,xn.jsx)("td",{className:"p-2 sm:p-4 font-medium text-gray-900 text-xs sm:text-sm",children:e.guest_name}),(0,xn.jsx)("td",{className:"p-2 sm:p-4 hidden md:table-cell",children:e.is_package?(0,xn.jsx)("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full text-xs font-semibold",children:(null===(r=e.package)||void 0===r?void 0:r.title)||"Package"}):(0,xn.jsx)("span",{className:"bg-gray-100 text-gray-700 px-2 py-0.5 rounded-full text-xs font-semibold",children:"Room"})}),(0,xn.jsx)("td",{className:"p-2 sm:p-4 text-xs sm:text-sm",children:e.rooms&&e.rooms.length>0&&e.rooms.map(t=>e.is_package?t.room?"".concat(t.room.number).concat(t.room.type?" (".concat(t.room.type,")"):""):"-":"".concat(t.number).concat(t.type?" (".concat(t.type,")"):"")).filter(Boolean).join(", ")||"-"}),(0,xn.jsx)("td",{className:"p-2 sm:p-4 text-gray-800 text-xs hidden lg:table-cell",children:e.check_in}),(0,xn.jsx)("td",{className:"p-2 sm:p-4 text-gray-800 text-xs hidden lg:table-cell",children:e.check_out}),(0,xn.jsxs)("td",{className:"p-2 sm:p-4 text-gray-800 text-xs hidden sm:table-cell",children:[e.adults," A, ",e.children," C"]}),(0,xn.jsx)("td",{className:"p-2 sm:p-4",children:(0,xn.jsx)(OX,{status:e.status||"Pending"})}),(0,xn.jsx)("td",{className:"p-2 sm:p-4 text-center",children:(0,xn.jsxs)("div",{className:"flex flex-wrap gap-1 sm:gap-2 justify-center",children:[(0,xn.jsx)("button",{onClick:()=>(async(e,t)=>{const r=v.find(r=>r.id===e&&r.is_package===t);U(r||{guest_name:"Loading..."});try{const n=r?ge(r):t?"PK-".concat(String(e).padStart(6,"0")):"BK-".concat(String(e).padStart(6,"0")),i=await mn.get("/bookings/details/".concat(n,"?is_package=").concat(t),ne());U(i.data)}catch(n){console.error("Failed to fetch booking details:",n),D("error","Could not load booking details."),U(null)}})(e.id,e.is_package),className:"bg-blue-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs font-semibold hover:bg-blue-700 transition-colors",children:"View"}),e.status&&"checkedin"===e.status.toLowerCase().replace(/[-_]/g,"")&&(0,xn.jsx)("button",{onClick:async()=>{try{const t=ge(e),r=await mn.get("/bookings/details/".concat(t,"?is_package=").concat(e.is_package),ne());X(Fe(Fe({},e),r.data))}catch(UX){X(e)}},className:"bg-green-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs font-semibold hover:bg-green-700 transition-colors",title:"Add Extra Allocation",children:"Add Items"}),(0,xn.jsx)("button",{onClick:async()=>{try{const t=ge(e),r=await mn.get("/bookings/details/".concat(t,"?is_package=").concat(e.is_package),ne());V(Fe(Fe({},e),r.data))}catch(UX){V(e)}},className:"bg-yellow-500 text-white px-2 sm:px-3 py-1 rounded-full text-xs font-semibold hover:bg-yellow-600 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:e.status&&"booked"!==e.status.toLowerCase().replace(/[-_]/g,""),children:"Check-in"}),(0,xn.jsx)("button",{onClick:()=>{var t;if(!e||!e.id||!e.check_out)return void D("error","Invalid booking data. Please refresh the page.");const r=(null===(t=e.status)||void 0===t?void 0:t.toLowerCase().trim())||"",n=r.replace(/[-_]/g,"-");n.includes("out")&&n.startsWith("checked-")&&n.endsWith("-out")||["checked_out","checked-out","checked out"].includes(r)?D("error","Cannot extend checkout for booking with status '".concat(e.status,"'. The guest has already checked out.")):W(e)},className:"bg-green-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs font-semibold hover:bg-green-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:(()=>{if(!e||!e.status)return!0;const t=e.status.toLowerCase().trim(),r=t.replace(/[-_]/g,"-");if(r.includes("out")&&r.startsWith("checked-")&&r.endsWith("-out")||["checked_out","checked-out","checked out"].includes(t))return!0;return!("booked"===r||"checked-in"===r)})(),children:"Extend"}),(0,xn.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to cancel this booking?"))try{const n=v.find(r=>r.id===e&&r.is_package===t),i=n?ge(n):t?"PK-".concat(String(e).padStart(6,"0")):"BK-".concat(String(e).padStart(6,"0"));try{var r;const n=await mn.get("/bookings/details/".concat(i,"?is_package=").concat(t),ne());if(null!==n&&void 0!==n&&null!==(r=n.data)&&void 0!==r&&r.status&&n.data.status.toLowerCase().includes("cancel"))return b(r=>r.map(r=>r.id===e&&r.is_package===t?Fe(Fe({},r),n.data):r)),void D("success","Booking is already cancelled.")}catch(AQ){}const a=t?"/packages/booking/".concat(i,"/cancel"):"/bookings/".concat(i,"/cancel"),s=await mn.put(a,{},ne());D("success","Booking cancelled successfully."),b(r=>r.map(r=>r.id===e&&r.is_package===t?Fe(Fe({},r),s.data):r))}catch(a){var n;if(404===(null===a||void 0===a||null===(n=a.response)||void 0===n?void 0:n.status))try{const r=v.find(r=>r.id===e&&r.is_package===t),n=r?ge(r):t?"PK-".concat(String(e).padStart(6,"0")):"BK-".concat(String(e).padStart(6,"0")),a=await mn.get("/bookings/details/".concat(n,"?is_package=").concat(t),ne());var i;if(null!==a&&void 0!==a&&a.data)if(b(r=>r.map(r=>r.id===e&&r.is_package===t?Fe(Fe({},r),a.data):r)),((null===(i=a.data.status)||void 0===i?void 0:i.toLowerCase())||"").includes("cancel"))return void D("success","Booking status synced to Cancelled.")}catch(AQ){}console.error("Failed to cancel booking:",a),D("error","Failed to cancel booking.")}})(e.id,e.is_package),className:"bg-red-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs font-semibold hover:bg-red-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:e.status&&"booked"!==e.status.toLowerCase().replace(/[-_]/g,""),children:"Cancel"}),e.guest_email&&(0,xn.jsx)("button",{onClick:()=>(e=>{const t=ge(e),r=e.rooms&&e.rooms.length>0?e.rooms.map(t=>e.is_package?t.room?"Room ".concat(t.room.number," (").concat(t.room.type,")"):"-":"Room ".concat(t.number," (").concat(t.type,")")).filter(Boolean).join(", "):"N/A",n=encodeURIComponent("Booking Confirmation - ".concat(t)),i=encodeURIComponent("Dear ".concat(e.guest_name,",\n\n")+"Your booking has been confirmed!\n\n"+"Booking ID: ".concat(t,"\n")+"Booking Type: ".concat(e.is_package?"Package":"Room","\n")+"Rooms: ".concat(r,"\n")+"Check-in: ".concat(e.check_in,"\n")+"Check-out: ".concat(e.check_out,"\n")+"Guests: ".concat(e.adults," Adults, ").concat(e.children," Children\n")+"Status: ".concat(e.status,"\n\n")+"Thank you for choosing our resort!\n\nBest regards,\nResort Team");window.location.href="mailto:".concat(e.guest_email,"?subject=").concat(n,"&body=").concat(i)})(e),className:"bg-purple-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs font-semibold hover:bg-purple-700 transition-colors",title:"Share Booking ID: ".concat(ge(e)," via Email"),children:"\ud83d\udce7"}),e.guest_mobile&&(0,xn.jsx)("button",{onClick:()=>(e=>{var t;const r=ge(e),n=(null===(t=e.guest_mobile)||void 0===t?void 0:t.replace(/[^\d]/g,""))||"";if(!n)return void D("error","Mobile number not available for this booking.");const i=e.rooms&&e.rooms.length>0?e.rooms.map(t=>e.is_package?t.room?"Room ".concat(t.room.number," (").concat(t.room.type,")"):"-":"Room ".concat(t.number," (").concat(t.type,")")).filter(Boolean).join(", "):"N/A",a=encodeURIComponent("Dear ".concat(e.guest_name,",\n\n")+"Your booking has been confirmed!\n\n"+"Booking ID: ".concat(r,"\n")+"Booking Type: ".concat(e.is_package?"Package":"Room","\n")+"Rooms: ".concat(i,"\n")+"Check-in: ".concat(e.check_in,"\n")+"Check-out: ".concat(e.check_out,"\n")+"Guests: ".concat(e.adults," Adults, ").concat(e.children," Children\n")+"Status: ".concat(e.status,"\n\n")+"Thank you for choosing our resort!");window.open("https://wa.me/".concat(n,"?text=").concat(a),"_blank")})(e),className:"bg-green-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs font-semibold hover:bg-green-700 transition-colors",title:"Share Booking ID: ".concat(ge(e)," via WhatsApp"),children:"\ud83d\udcac"})]})})]},e.id)}):(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"9",className:"text-center py-6 text-gray-500 italic text-sm sm:text-base",children:"No bookings found."})})})]})}),ye.length>0&&Z&&(0,xn.jsx)("div",{ref:ae,className:"text-center p-4",children:I&&(0,xn.jsx)("span",{className:"text-indigo-600",children:"Loading more bookings..."})})]})]}),(0,xn.jsxs)(_u,{children:[z&&(0,xn.jsx)(LX,{booking:z,onClose:()=>U(null),onImageClick:e=>K(e),roomIdToRoom:re,onAddAllocation:e=>{U(null),X(e)},inventoryItems:x,inventoryLocations:m,authHeader:ne}),Y&&(0,xn.jsx)(DX,{booking:Y,onClose:()=>X(null),inventoryItems:x,inventoryLocations:m,authHeader:ne,onSuccess:()=>{window.dispatchEvent(new CustomEvent("inventory-refresh"))}}),q&&(0,xn.jsx)(MX,{booking:q,onClose:()=>W(null),onSave:async(e,t)=>{P({message:"",type:""}),L(!0);try{const r=v.find(t=>t.id===e);if(!r||!r.id)return D("error","Booking not found. Please refresh the page."),L(!1),void W(null);const n=r.is_package||!1,i=ge(r);if(!i)return D("error","Invalid booking ID. Please refresh the page."),L(!1),void W(null);let a=r;try{const e=await mn.get("/bookings/details/".concat(i,"?is_package=").concat(n),ne());e.data&&(a=Fe(Fe(Fe({},r),e.data),{},{is_package:n}))}catch(s){console.warn("Could not fetch fresh booking details, using cached data:",s)}if(!a.status)return D("error","Booking status is missing. Please refresh the page."),L(!1),void W(null);const o=a.status.toLowerCase().trim(),l=o.replace(/[-_]/g,"-");console.log("Extend booking - Booking ID:",e,"Display ID:",i,"Original status:",a.status,"Raw lower:",o,"Normalized:",l,"Is Package:",n);const c="booked"===l||"checked-in"===l||"checked_in"===o||"checked-in"===o||"checked in"===o,d=l.includes("out")&&l.startsWith("checked-")&&l.endsWith("-out")||["checked_out","checked-out","checked out"].includes(o);if(d)return D("error","Cannot extend checkout for booking with status '".concat(a.status,"'. The guest has already checked out.")),console.error("Booking already checked out:",{bookingId:e,displayId:i,originalStatus:a.status,normalizedStatus:l,rawStatusLower:o,isCheckedOut:d,isPackage:n}),L(!1),void W(null);if(!c){const t=a.status||"unknown";return D("error","Cannot extend checkout for booking with status '".concat(t,"'. Only 'booked' or 'checked-in' bookings can be extended.")),console.error("Invalid status for extension:",{bookingId:e,displayId:i,originalStatus:a.status,rawStatusLower:o,normalizedStatus:l,isValidStatus:c,isPackage:n}),L(!1),void W(null)}const u=n?"/packages/booking/".concat(i,"/extend?new_checkout=").concat(t):"/bookings/".concat(i,"/extend?new_checkout=").concat(t);console.log("Extending booking:",{bookingId:e,displayId:i,isPackage:n,url:u,status:a.status,newCheckoutDate:t}),await mn.put(u,{},ne()),D("success","Booking checkout extended successfully!"),W(null),ie()}catch(s){var r,n,i,a;console.error("Booking extension error:",s);const e=(null===(r=s.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||(null===(i=s.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.message)||s.message||"Failed to extend booking.";D("error",e)}finally{L(!1)}},feedback:E,isSubmitting:I}),H&&(0,xn.jsx)(FX,{booking:H,onClose:()=>V(null),onSave:async(e,t)=>{var r;P({message:"",type:""}),L(!0);const n=v.find(t=>t.id===e&&t.is_package===((null===H||void 0===H?void 0:H.is_package)||!1)),i=null===n||void 0===n||null===(r=n.status)||void 0===r?void 0:r.toLowerCase().replace(/[-_]/g,"");if("booked"!==i)return console.error("Check-in blocked: Invalid booking status",{bookingId:e,status:null===n||void 0===n?void 0:n.status,normalizedStatus:i}),D("error","Cannot check in. Booking status is: ".concat((null===n||void 0===n?void 0:n.status)||"unknown")),V(null),void L(!1);const a=new FormData;a.append("id_card_image",t.id_card_image),a.append("guest_photo",t.guest_photo);const s=ge(n||H),o=null!==n&&void 0!==n&&n.is_package?"/packages/booking/".concat(s,"/check-in"):"/bookings/".concat(s,"/check-in");try{var l;const r=await mn.put(o,a,{headers:Fe(Fe({},ne().headers),{},{"Content-Type":"multipart/form-data"})});if(b(t=>t.map(t=>t.id===e&&t.is_package===n.is_package?Fe(Fe({},t),r.data):t)),t.amenityAllocation&&null!==(l=t.amenityAllocation.items)&&void 0!==l&&l.length)try{const e=t.amenityAllocation,r=e.nights||1;let i=m.find(e=>{const t=String(e.location_type||"").toUpperCase();return!0===e.is_inventory_point&&("CENTRAL_WAREHOUSE"===t||"WAREHOUSE"===t||"BRANCH_STORE"===t)});if(i||(i=m.find(e=>{const t=String(e.location_type||"").toUpperCase();return"CENTRAL_WAREHOUSE"===t||"WAREHOUSE"===t||"BRANCH_STORE"===t})||null),i){var c;console.log("\u2705 Found main warehouse:",i);const t=n.rooms&&n.rooms[0]||null,a=(null===t||void 0===t?void 0:t.number)||(null===t||void 0===t||null===(c=t.room)||void 0===c?void 0:c.number)||null;let s=null;if(a&&(s=m.find(e=>{if("GUEST_ROOM"!==String(e.location_type||"").toUpperCase())return!1;return"".concat(e.name||""," ").concat(e.room_area||"").toLowerCase().includes(String(a).toLowerCase())})||null),s){console.log("\u2705 Found destination location:",s);const t=e.items.map(e=>{var t;let n=null;if(e.item_id&&(n=x.find(t=>t.id===e.item_id)),!n&&e.name){const t=String(e.name).trim().toLowerCase();n=x.find(e=>String(e.name||"").trim().toLowerCase()===t)||x.find(e=>String(e.name||"").toLowerCase().includes(t))||x.find(e=>t.includes(String(e.name||"").toLowerCase()))||null}if(!n)return null;const i="PER_NIGHT"===e.frequency?(e.complimentaryPerNight||0)*r:e.complimentaryPerStay||0;return!i||i<=0?null:{item_id:n.id,issued_quantity:i,unit:(null===(t=n)||void 0===t?void 0:t.unit)||"pcs",batch_lot_number:null,cost:null,notes:"Auto amenity allocation on check-in"}}).filter(Boolean);if(t.length>0){console.log("=== STOCK ISSUE CREATION DEBUG ==="),console.log("Main Warehouse:",i),console.log("Destination Location:",s),console.log("Issue Details:",t),console.log("Inventory Items:",x.filter(e=>t.some(t=>t.item_id===e.id)));try{const e=await mn.post("/inventory/issues",{requisition_id:null,source_location_id:i.id,destination_location_id:s.id,issue_date:(new Date).toISOString(),notes:"Auto amenity allocation for booking ".concat(ge(n||H)),details:t},ne());console.log("\u2705 Stock issue created successfully:",e.data),D("success","Stock issue created: ".concat(t.length," item(s) allocated to room."))}catch(g){var d,u,h;console.error("\u274c Stock issue creation failed:",g),console.error("Error response:",null===(d=g.response)||void 0===d?void 0:d.data),D("error","Failed to create stock issue: ".concat((null===(u=g.response)||void 0===u||null===(h=u.data)||void 0===h?void 0:h.detail)||g.message))}}else console.warn("No issue details to create - all items filtered out")}else console.warn("No matching room location found for amenity allocation; skipping stock issue."),console.log("Room number searched:",a),console.log("Available locations:",m.filter(e=>"GUEST_ROOM"===String(e.location_type||"").toUpperCase()).map(e=>({id:e.id,name:e.name,room_area:e.room_area,location_type:e.location_type})))}else console.warn("\u274c No main warehouse inventory point found; skipping amenity stock issue."),console.log("Available locations:",m.map(e=>({id:e.id,name:e.name,location_type:e.location_type,is_inventory_point:e.is_inventory_point})))}catch(y){console.error("Failed to create amenity stock issue on check-in:",y)}D("success","Guest checked in successfully!"),V(null),window.dispatchEvent(new CustomEvent("inventory-refresh"))}catch(w){var f,p;console.error("Check-in error:",w);const e=(null===(f=w.response)||void 0===f||null===(p=f.data)||void 0===p?void 0:p.detail)||"Failed to check in guest.";D("error",e)}finally{L(!1)}},feedback:E,isSubmitting:I,inventoryItems:x}),G&&(0,xn.jsx)(IX,{imageUrl:G,onClose:()=>K(null)})]})]})};let UX={data:""},qX=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||UX},WX=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,HX=/\/\*[^]*?\*\/|  +/g,VX=/\n+/g,GX=(e,t)=>{let r="",n="",i="";for(let a in e){let s=e[a];"@"==a[0]?"i"==a[1]?r=a+" "+s+";":n+="f"==a[1]?GX(s,a):a+"{"+GX(s,"k"==a[1]?"":t)+"}":"object"==typeof s?n+=GX(s,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=s&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=GX.p?GX.p(a,s):a+":"+s+";")}return r+(t&&i?t+"{"+i+"}":i)+n},KX={},YX=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+YX(e[r]);return t}return e},XX=(e,t,r,n,i)=>{let a=YX(e),s=KX[a]||(KX[a]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(a));if(!KX[s]){let t=a!==e?e:(e=>{let t,r,n=[{}];for(;t=WX.exec(e.replace(HX,""));)t[4]?n.shift():t[3]?(r=t[3].replace(VX," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(VX," ").trim();return n[0]})(e);KX[s]=GX(i?{["@keyframes "+s]:t}:t,r?"":"."+s)}let o=r&&KX.g?KX.g:null;return r&&(KX.g=KX[s]),((e,t,r,n)=>{n?t.data=t.data.replace(n,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(KX[s],t,n,o),s};function QX(e){let t=this||{},r=e.call?e(t.p):e;return XX(r.unshift?r.raw?((e,t,r)=>e.reduce((e,n,i)=>{let a=t[i];if(a&&a.call){let e=a(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":GX(e,""):!1===e?"":e}return e+n+(null==a?"":a)},""))(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,qX(t.target),t.g,t.o,t.k)}QX.bind({g:1});let $X,ZX,JX,eQ=QX.bind({k:1});function tQ(e,t){let r=this||{};return function(){let n=arguments;function i(a,s){let o=Object.assign({},a),l=o.className||i.className;r.p=Object.assign({theme:ZX&&ZX()},o),r.o=/ *go\d+/.test(l),o.className=QX.apply(r,n)+(l?" "+l:""),t&&(o.ref=s);let c=e;return e[0]&&(c=o.as||e,delete o.as),JX&&c[0]&&JX(o),$X(c,o)}return t?t(i):i}}var rQ,nQ,iQ,aQ,sQ,oQ,lQ,cQ,dQ,uQ,hQ,fQ,pQ,mQ,gQ,xQ,yQ=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,vQ=(()=>{let e=0;return()=>(++e).toString()})(),bQ=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),wQ="default",jQ=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return Fe(Fe({},e),{},{toasts:[t.toast,...e.toasts].slice(0,r)});case 1:return Fe(Fe({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Fe(Fe({},e),t.toast):e)});case 2:let{toast:n}=t;return jQ(e,{type:e.toasts.find(e=>e.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return Fe(Fe({},e),{},{toasts:e.toasts.map(e=>e.id===i||void 0===i?Fe(Fe({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Fe(Fe({},e),{},{toasts:[]}):Fe(Fe({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Fe(Fe({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return Fe(Fe({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Fe(Fe({},e),{},{pauseDuration:e.pauseDuration+a}))})}},NQ=[],_Q={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},kQ={},SQ=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wQ;kQ[t]=jQ(kQ[t]||_Q,e),NQ.forEach(e=>{let[r,n]=e;r===t&&n(kQ[t])})},AQ=e=>Object.keys(kQ).forEach(t=>SQ(e,t)),CQ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wQ;return t=>{SQ(t,e)}},EQ=e=>(t,r)=>{let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",r=arguments.length>2?arguments[2]:void 0;return Fe(Fe({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},r),{},{id:(null==r?void 0:r.id)||vQ()})}(t,e,r);return CQ(n.toasterId||(e=>Object.keys(kQ).find(t=>kQ[t].toasts.some(t=>t.id===e)))(n.id))({type:2,toast:n}),n.id},PQ=(e,t)=>EQ("blank")(e,t);PQ.error=EQ("error"),PQ.success=EQ("success"),PQ.loading=EQ("loading"),PQ.custom=EQ("custom"),PQ.dismiss=(e,t)=>{let r={type:3,toastId:e};t?CQ(t)(r):AQ(r)},PQ.dismissAll=e=>PQ.dismiss(void 0,e),PQ.remove=(e,t)=>{let r={type:4,toastId:e};t?CQ(t)(r):AQ(r)},PQ.removeAll=e=>PQ.remove(void 0,e),PQ.promise=(e,t,r)=>{let n=PQ.loading(t.loading,Fe(Fe({},r),null==r?void 0:r.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?yQ(t.success,e):void 0;return i?PQ.success(i,Fe(Fe({id:n},r),null==r?void 0:r.success)):PQ.dismiss(n),e}).catch(e=>{let i=t.error?yQ(t.error,e):void 0;i?PQ.error(i,Fe(Fe({id:n},r),null==r?void 0:r.error)):PQ.dismiss(n)}),e};var TQ=eQ(rQ||(rQ=kL(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),OQ=eQ(nQ||(nQ=kL(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),IQ=eQ(iQ||(iQ=kL(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),LQ=tQ("div")(aQ||(aQ=kL(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",TQ,OQ,e=>e.secondary||"#fff",IQ),DQ=eQ(sQ||(sQ=kL(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),MQ=tQ("div")(oQ||(oQ=kL(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",DQ),RQ=eQ(lQ||(lQ=kL(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),FQ=eQ(cQ||(cQ=kL(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),BQ=tQ("div")(dQ||(dQ=kL(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",RQ,FQ,e=>e.secondary||"#fff"),zQ=tQ("div")(uQ||(uQ=kL(["\n  position: absolute;\n"]))),UQ=tQ("div")(hQ||(hQ=kL(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),qQ=eQ(fQ||(fQ=kL(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),WQ=tQ("div")(pQ||(pQ=kL(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),qQ),HQ=e=>{let{toast:t}=e,{icon:r,type:n,iconTheme:a}=t;return void 0!==r?"string"==typeof r?i.createElement(WQ,null,r):r:"blank"===n?null:i.createElement(UQ,null,i.createElement(MQ,Fe({},a)),"loading"!==n&&i.createElement(zQ,null,"error"===n?i.createElement(LQ,Fe({},a)):i.createElement(BQ,Fe({},a))))},VQ=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),GQ=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),KQ=tQ("div")(mQ||(mQ=kL(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),YQ=tQ("div")(gQ||(gQ=kL(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"])));i.memo(e=>{let{toast:t,position:r,style:n,children:a}=e,s=t.height?((e,t)=>{let r=e.includes("top")?1:-1,[n,i]=bQ()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[VQ(r),GQ(r)];return{animation:t?"".concat(eQ(n)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(eQ(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||r||"top-center",t.visible):{opacity:0},o=i.createElement(HQ,{toast:t}),l=i.createElement(YQ,Fe({},t.ariaProps),yQ(t.message,t));return i.createElement(KQ,{className:t.className,style:Fe(Fe(Fe({},s),n),t.style)},"function"==typeof a?a({icon:o,message:l}):i.createElement(i.Fragment,null,o,l))});!function(e,t,r,n){GX.p=t,$X=e,ZX=r,JX=n}(i.createElement);QX(xQ||(xQ=kL(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"])));const XQ=e=>{if(!e)return"https://placehold.co/400x300/e2e8f0/a0aec0?text=No+Image";if(e.startsWith("http"))return e;const t=un(),r=e.startsWith("/")?e:"/".concat(e);return"".concat(t).concat(r)},QQ=e=>{let{title:t,value:r,icon:n,color:i}=e;return(0,xn.jsxs)("div",{className:"p-4 sm:p-6 rounded-xl sm:rounded-2xl text-white shadow-lg flex items-center justify-between transition-transform duration-300 transform hover:scale-105 ".concat(i),children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("h4",{className:"text-sm sm:text-base md:text-lg font-medium",children:t}),(0,xn.jsx)("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold mt-1",children:r})]}),(0,xn.jsx)("div",{className:"text-2xl sm:text-3xl md:text-4xl opacity-80",children:n})]})},$Q=e=>{let{onClose:t,roomNumber:r,bookings:n,filter:i,setFilter:a,checkinFilter:s,setCheckinFilter:o,checkoutFilter:l,setCheckoutFilter:c}=e;const d=n.filter(e=>{const t="all"===i||e.status===i,r=!s||e.check_in===s,n=!l||e.check_out===l;return t&&r&&n});return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-2 sm:p-4",children:(0,xn.jsxs)("div",{className:"bg-white p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-lg relative max-w-5xl w-full max-h-[90vh] sm:max-h-[80vh] overflow-hidden",children:[(0,xn.jsx)("button",{onClick:t,className:"absolute top-2 sm:top-4 right-2 sm:right-4 text-gray-500 hover:text-gray-800 text-2xl font-bold z-10 w-8 h-8 flex items-center justify-center",children:"\xd7"}),(0,xn.jsxs)("div",{className:"pr-10 sm:pr-12 mb-3 sm:mb-4",children:[(0,xn.jsxs)("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-3 sm:mb-4",children:["Booking History for Room ",r]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 sm:gap-3",children:[(0,xn.jsxs)("div",{className:"flex flex-col",children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-700 mb-1",children:"Filter by Status:"}),(0,xn.jsxs)("select",{value:i,onChange:e=>a(e.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",children:[(0,xn.jsx)("option",{value:"all",children:"All"}),(0,xn.jsx)("option",{value:"booked",children:"Booked"}),(0,xn.jsx)("option",{value:"checked-in",children:"Checked In"}),(0,xn.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,xn.jsxs)("div",{className:"flex flex-col",children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-700 mb-1",children:"Check-in Date:"}),(0,xn.jsx)("input",{type:"date",value:s,onChange:e=>o(e.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all"})]}),(0,xn.jsxs)("div",{className:"flex flex-col",children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-700 mb-1",children:"Check-out Date:"}),(0,xn.jsx)("input",{type:"date",value:l,onChange:e=>c(e.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all"})]})]})]}),d.length>0?(0,xn.jsx)("div",{className:"overflow-x-auto overflow-y-auto max-h-[60vh] -mx-2 sm:mx-0",children:(0,xn.jsxs)("table",{className:"w-full border-collapse border border-gray-300 text-xs sm:text-sm",children:[(0,xn.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-left text-xs sm:text-sm font-semibold",children:"ID"}),(0,xn.jsx)("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-left text-xs sm:text-sm font-semibold hidden sm:table-cell",children:"Guest"}),(0,xn.jsx)("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-left text-xs sm:text-sm font-semibold hidden lg:table-cell",children:"Check-in"}),(0,xn.jsx)("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-left text-xs sm:text-sm font-semibold",children:"Check-out"}),(0,xn.jsx)("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-left text-xs sm:text-sm font-semibold hidden md:table-cell",children:"Guests"}),(0,xn.jsx)("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-left text-xs sm:text-sm font-semibold",children:"Status"}),(0,xn.jsx)("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-left text-xs sm:text-sm font-semibold hidden lg:table-cell",children:"Mobile"}),(0,xn.jsx)("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-left text-xs sm:text-sm font-semibold hidden lg:table-cell",children:"Email"})]})}),(0,xn.jsx)("tbody",{children:d.map((e,t)=>(0,xn.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[(0,xn.jsx)("td",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-xs sm:text-sm",children:e.id}),(0,xn.jsx)("td",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-xs sm:text-sm font-medium hidden sm:table-cell",children:e.guest_name}),(0,xn.jsx)("td",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-xs sm:text-sm hidden lg:table-cell",children:e.check_in}),(0,xn.jsx)("td",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-xs sm:text-sm",children:e.check_out}),(0,xn.jsxs)("td",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-xs sm:text-sm hidden md:table-cell",children:[e.adults,"A, ",e.children,"C"]}),(0,xn.jsx)("td",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-xs sm:text-sm",children:(0,xn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat("booked"===e.status?"bg-blue-100 text-blue-800":"checked-in"===e.status?"bg-green-100 text-green-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.status||"Pending"})}),(0,xn.jsx)("td",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-xs sm:text-sm hidden lg:table-cell",children:e.guest_mobile}),(0,xn.jsx)("td",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-xs sm:text-sm hidden lg:table-cell truncate max-w-[150px]",children:e.guest_email})]},e.id||t))})]})}):(0,xn.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,xn.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcc5"}),(0,xn.jsxs)("p",{className:"text-lg font-medium",children:["No ","all"!==i?i:""," bookings found for Room ",r]}),(0,xn.jsx)("p",{className:"text-sm mt-2",children:"Try changing the filter or this room has no booking history"})]})]})})},ZQ=e=>{let{imageUrl:t,onClose:r}=e;return t?(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:(0,xn.jsxs)("div",{className:"relative max-w-3xl w-full mx-4",children:[(0,xn.jsx)("button",{onClick:r,className:"absolute top-2 right-2 text-white text-3xl font-bold hover:text-gray-300",children:"\xd7"}),(0,xn.jsx)("img",{src:XQ(t),alt:"Room",className:"w-full h-auto rounded-2xl shadow-lg"})]})}):null},JQ=()=>{const[e,t]=(0,i.useState)([]),[r,n]=(0,i.useState)({number:"",type:"",price:"",status:"Available",adults:2,children:0,image:null,air_conditioning:!1,wifi:!1,bathroom:!1,living_area:!1,terrace:!1,parking:!1,kitchen:!1,family_room:!1,bbq:!1,garden:!1,dining:!1,breakfast:!1}),[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)({type:null,text:""}),[c,d]=(0,i.useState)([]),[u,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(null),[m,g]=(0,i.useState)(!1),[x,y]=(0,i.useState)(null),[v,b]=(0,i.useState)(null),[w,j]=(0,i.useState)(!0),[N,_]=(0,i.useState)(!1),[k,S]=(0,i.useState)(1),[A,C]=(0,i.useState)({type:"all",status:"all"}),[E,P]=(0,i.useState)("booked"),[T,O]=(0,i.useState)(""),[I,L]=(0,i.useState)(""),D=(e,t)=>{l({type:e,text:t})};(0,i.useEffect)(()=>{M()},[]);const M=async()=>{try{const e=await mn.get("/rooms/test?skip=0&limit=20"),r=e.data.map(e=>Fe(Fe({},e),{},{trend:e.trend||Array.from({length:7},()=>Math.floor(1e3*Math.random()))}));t(r||[]),j(20===e.data.length),S(1)}catch(e){console.error("Error fetching rooms:",e),D("error","Error fetching rooms")}},R=e=>{const{name:t,value:r,files:i,type:a,checked:o}=e.target;if("image"===t){const e=i[0];if(e){const t=5242880;if(e.size>t)return void D("error","Image file is too large. Please select an image smaller than 5MB.");if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(e.type))return void D("error","Please select a valid image file (JPEG, PNG, or WebP).")}n(t=>Fe(Fe({},t),{},{image:e})),s(e?URL.createObjectURL(e):null)}else n("checkbox"===a?e=>Fe(Fe({},e),{},{[t]:o}):e=>Fe(Fe({},e),{},{[t]:r}))},F=e.length,B=e.filter(e=>"Available"===e.status).length,z=e.filter(e=>"Booked"===e.status).length,U=e.filter(e=>"Maintenance"===e.status).length,q=F>0?(z/F*100).toFixed(1):0,W=e.filter(e=>{const t="all"===A.type||e.type===A.type,r="all"===A.status||e.status===A.status;return t&&r});return(0,xn.jsxs)(Zu,{children:[(0,xn.jsx)(PX,{message:o,onClose:()=>{l({type:null,text:""})},autoDismiss:!0,duration:5e3}),(0,xn.jsx)("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-4 sm:mb-6 text-gray-800",children:"Room Management"}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 md:gap-6 mb-6 sm:mb-8",children:[(0,xn.jsx)(QQ,{title:"Total Rooms",value:F,color:"bg-gradient-to-r from-blue-500 to-blue-700",icon:(0,xn.jsx)("i",{className:"fas fa-door-closed"})}),(0,xn.jsx)(QQ,{title:"Available",value:B,color:"bg-gradient-to-r from-green-500 to-green-700",icon:(0,xn.jsx)("i",{className:"fas fa-check-circle"})}),(0,xn.jsx)(QQ,{title:"Occupied",value:z,color:"bg-gradient-to-r from-red-500 to-red-700",icon:(0,xn.jsx)("i",{className:"fas fa-bed"})}),(0,xn.jsx)(QQ,{title:"Maintenance",value:U,color:"bg-gradient-to-r from-yellow-500 to-yellow-600",icon:(0,xn.jsx)("i",{className:"fas fa-tools"})}),(0,xn.jsx)(QQ,{title:"Occupancy Rate",value:"".concat(q,"%"),color:"bg-gradient-to-r from-purple-500 to-purple-700",icon:(0,xn.jsx)("i",{className:"fas fa-chart-pie"})})]}),(0,xn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=new FormData;t.append("number",r.number),t.append("type",r.type),t.append("price",r.price),t.append("status",r.status),t.append("adults",r.adults),t.append("children",r.children),r.image&&t.append("image",r.image),t.append("air_conditioning",r.air_conditioning),t.append("wifi",r.wifi),t.append("bathroom",r.bathroom),t.append("living_area",r.living_area),t.append("terrace",r.terrace),t.append("parking",r.parking),t.append("kitchen",r.kitchen),t.append("family_room",r.family_room),t.append("bbq",r.bbq),t.append("garden",r.garden),t.append("dining",r.dining),t.append("breakfast",r.breakfast);try{u?(await mn.put("/rooms/".concat(f),t,{headers:{"Content-Type":"multipart/form-data"}}),D("success","Room updated successfully!"),h(!1),p(null)):(await mn.post("/rooms/test",t,{headers:{"Content-Type":"multipart/form-data"}}),D("success","Room created successfully!")),n({number:"",type:"",price:"",status:"Available",adults:2,children:0,image:null,air_conditioning:!1,wifi:!1,bathroom:!1,living_area:!1,terrace:!1,parking:!1,kitchen:!1,family_room:!1,bbq:!1,garden:!1,dining:!1,breakfast:!1}),s(null),M()}catch(i){console.error("API error:",i),D("error","Error ".concat(u?"updating":"creating"," room"))}},className:"bg-white p-4 sm:p-6 md:p-8 rounded-xl sm:rounded-2xl shadow-lg mb-6 sm:mb-8",children:[(0,xn.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-gray-800",children:u?"Edit Room":"Add New Room"}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Number"}),(0,xn.jsx)("input",{type:"text",name:"number",placeholder:"e.g., 101",value:r.number,onChange:R,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0,disabled:u})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Type"}),(0,xn.jsx)("input",{type:"text",name:"type",placeholder:"e.g., Deluxe",value:r.type,onChange:R,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (\u20b9)"}),(0,xn.jsx)("input",{type:"number",name:"price",placeholder:"e.g., 5000",value:r.price,onChange:R,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adults Capacity"}),(0,xn.jsx)("input",{type:"number",name:"adults",placeholder:"e.g., 2",value:r.adults,onChange:R,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",min:"1"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Children Capacity"}),(0,xn.jsx)("input",{type:"number",name:"children",placeholder:"e.g., 1",value:r.children,onChange:R,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",min:"0"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,xn.jsxs)("select",{name:"status",value:r.status,onChange:R,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",children:[(0,xn.jsx)("option",{children:"Available"}),(0,xn.jsx)("option",{children:"Maintenance"})]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Image"}),(0,xn.jsx)("input",{type:"file",name:"image",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:R,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 transition-all"}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Max file size: 5MB. Supported formats: JPEG, PNG, WebP"})]}),a&&(0,xn.jsx)("img",{src:a,alt:"Preview",className:"w-full h-32 object-cover rounded-lg border-2 border-gray-200"}),(0,xn.jsxs)("div",{className:"md:col-span-2 lg:col-span-3",children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Room Features & Amenities"}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",name:"air_conditioning",checked:r.air_conditioning,onChange:R,className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-sm text-gray-700",children:"Air Conditioning"})]}),(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",name:"wifi",checked:r.wifi,onChange:R,className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-sm text-gray-700",children:"Free Wifi"})]}),(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",name:"bathroom",checked:r.bathroom,onChange:R,className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-sm text-gray-700",children:"Private Bathroom"})]}),(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",name:"living_area",checked:r.living_area,onChange:R,className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-sm text-gray-700",children:"Living Room"})]}),(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",name:"terrace",checked:r.terrace,onChange:R,className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-sm text-gray-700",children:"Terrace"})]}),(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",name:"parking",checked:r.parking,onChange:R,className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-sm text-gray-700",children:"Free Parking"})]}),(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",name:"kitchen",checked:r.kitchen,onChange:R,className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-sm text-gray-700",children:"Kitchen"})]}),(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",name:"family_room",checked:r.family_room,onChange:R,className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-sm text-gray-700",children:"Family Room"})]}),(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",name:"bbq",checked:r.bbq,onChange:R,className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-sm text-gray-700",children:"BBQ"})]}),(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",name:"garden",checked:r.garden,onChange:R,className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-sm text-gray-700",children:"Garden"})]}),(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",name:"dining",checked:r.dining,onChange:R,className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-sm text-gray-700",children:"Dining Area"})]}),(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",name:"breakfast",checked:r.breakfast,onChange:R,className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-sm text-gray-700",children:"Breakfast"})]})]})]}),(0,xn.jsxs)("div",{className:"md:col-span-2 lg:col-span-3 flex items-center gap-4",children:[(0,xn.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-indigo-700 transition-transform transform hover:-translate-y-1",children:u?"Update Room":"Add Room"}),u&&(0,xn.jsx)("button",{type:"button",onClick:()=>{h(!1),p(null),n({number:"",type:"",price:"",status:"Available",adults:2,children:0,image:null,air_conditioning:!1,wifi:!1,bathroom:!1,living_area:!1,terrace:!1,parking:!1,kitchen:!1,family_room:!1,bbq:!1,garden:!1,dining:!1,breakfast:!1}),s(null),l({type:null,text:""})},className:"w-full bg-gray-500 text-white font-semibold py-3 px-6 rounded-lg hover:bg-gray-600 transition",children:"Cancel Edit"})]})]})]}),(0,xn.jsxs)("div",{className:"bg-white p-4 sm:p-6 md:p-8 rounded-xl sm:rounded-2xl shadow-lg",children:[(0,xn.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap gap-3 sm:gap-4 justify-between items-start sm:items-center mb-4 sm:mb-6",children:[(0,xn.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 w-full sm:w-auto",children:"All Rooms"}),(0,xn.jsxs)("div",{className:"flex flex-col sm:flex-row flex-wrap gap-2 sm:gap-4 w-full sm:w-auto",children:[(0,xn.jsxs)("select",{onChange:e=>C(t=>Fe(Fe({},t),{},{type:e.target.value})),className:"p-2 text-sm border border-gray-300 rounded-lg w-full sm:w-auto",children:[(0,xn.jsx)("option",{value:"all",children:"All Types"}),[...new Set(e.map(e=>e.type))].map(e=>(0,xn.jsx)("option",{value:e,children:e},e))]}),(0,xn.jsxs)("select",{onChange:e=>C(t=>Fe(Fe({},t),{},{status:e.target.value})),className:"p-2 text-sm border border-gray-300 rounded-lg w-full sm:w-auto",children:[(0,xn.jsx)("option",{value:"all",children:"All Statuses"}),(0,xn.jsx)("option",{value:"Available",children:"Available"}),(0,xn.jsx)("option",{value:"Booked",children:"Booked"}),(0,xn.jsx)("option",{value:"Maintenance",children:"Maintenance"})]})]})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:[W.map(e=>(0,xn.jsxs)(xu.div,{className:"bg-gray-50 rounded-2xl shadow-md overflow-hidden border border-gray-200 hover:shadow-xl transition-all duration-300 flex flex-col",whileHover:{y:-5},children:[(0,xn.jsxs)("div",{className:"relative",children:[(0,xn.jsx)("img",{src:XQ(e.image_url),alt:"Room ".concat(e.number),className:"h-48 w-full object-cover cursor-pointer",onClick:()=>b(e.image_url)}),(0,xn.jsx)("span",{className:"absolute top-2 right-2 px-3 py-1 text-xs font-semibold text-white rounded-full ".concat("Available"===e.status?"bg-green-500":"Booked"===e.status?"bg-red-500":"bg-yellow-500"),children:e.status})]}),(0,xn.jsxs)("div",{className:"p-5 flex flex-col flex-grow",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("h4",{className:"font-bold text-lg text-gray-800",children:["Room ",e.number]}),(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:e.type})]}),(0,xn.jsx)("p",{className:"text-indigo-600 font-bold text-xl",children:Ju(e.price)})]}),(0,xn.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["Capacity: ",e.adults," Adults, ",e.children," Children"]}),(e.air_conditioning||e.wifi||e.bathroom||e.living_area||e.terrace||e.parking||e.kitchen||e.family_room||e.bbq||e.garden||e.dining||e.breakfast)&&(0,xn.jsxs)("div",{className:"mt-3 flex flex-wrap gap-1",children:[e.air_conditioning&&(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded-full",children:"AC"}),e.wifi&&(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-700 rounded-full",children:"WiFi"}),e.bathroom&&(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded-full",children:"Bathroom"}),e.living_area&&(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-orange-100 text-orange-700 rounded-full",children:"Living"}),e.terrace&&(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-700 rounded-full",children:"Terrace"}),e.parking&&(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-indigo-100 text-indigo-700 rounded-full",children:"Parking"}),e.kitchen&&(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-pink-100 text-pink-700 rounded-full",children:"Kitchen"}),e.family_room&&(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-teal-100 text-teal-700 rounded-full",children:"Family"}),e.bbq&&(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-700 rounded-full",children:"BBQ"}),e.garden&&(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-emerald-100 text-emerald-700 rounded-full",children:"Garden"}),e.dining&&(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-amber-100 text-amber-700 rounded-full",children:"Dining"}),e.breakfast&&(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-cyan-100 text-cyan-700 rounded-full",children:"Breakfast"})]}),(0,xn.jsx)("div",{className:"h-16 mt-4",children:(0,xn.jsx)(Fh,{width:"100%",height:"100%",children:(0,xn.jsxs)(qz,{data:(e.trend||[]).map((e,t)=>({day:t+1,value:e})),children:[(0,xn.jsx)(lM,{contentStyle:{fontSize:"12px",padding:"2px 5px"}}),(0,xn.jsx)(vU,{type:"monotone",dataKey:"value",stroke:"#4f46e5",strokeWidth:2,dot:!1})]})})}),(0,xn.jsxs)("div",{className:"mt-auto pt-4 border-t border-gray-200 flex flex-col gap-2",children:[(0,xn.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,xn.jsx)("button",{onClick:()=>(e=>{h(!0),p(e.id),n({number:e.number,type:e.type,price:e.price,status:e.status,adults:e.adults,children:e.children,image:null,air_conditioning:e.air_conditioning||!1,wifi:e.wifi||!1,bathroom:e.bathroom||!1,living_area:e.living_area||!1,terrace:e.terrace||!1,parking:e.parking||!1,kitchen:e.kitchen||!1,family_room:e.family_room||!1,bbq:e.bbq||!1,garden:e.garden||!1,dining:e.dining||!1,breakfast:e.breakfast||!1}),s(XQ(e.image_url)),l({type:null,text:""}),window.scrollTo({top:0,behavior:"smooth"})})(e),className:"w-1/2 bg-green-100 text-green-700 text-sm font-semibold py-2 rounded-lg hover:bg-green-200 transition",children:"Edit"}),(0,xn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this room? This action cannot be undone."))try{await mn.delete("/rooms/test/".concat(e)),D("success","Room deleted successfully!"),M()}catch(t){console.error("Error deleting room:",t),D("error","Error deleting room")}})(e.id),className:"w-1/2 bg-red-100 text-red-700 text-sm font-semibold py-2 rounded-lg hover:bg-red-200 transition",children:"Delete"})]}),(0,xn.jsx)("button",{onClick:()=>(async e=>{try{const t=((await mn.get("/bookings?limit=1000")).data.bookings||[]).filter(t=>t.rooms&&t.rooms.some(t=>t.number===e));d(t),y(e),P("booked"),O(""),L(""),g(!0)}catch(t){console.error("Error fetching bookings:",t),PQ.error("Failed to fetch bookings.")}})(e.number),className:"w-full bg-blue-100 text-blue-700 text-sm font-semibold py-2 rounded-lg hover:bg-blue-200 transition",children:"View Bookings"}),"Booked"!==e.status&&(0,xn.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{try{const r=new FormData;r.append("status",t),await mn.put("/rooms/".concat(e),r,{headers:{"Content-Type":"multipart/form-data"}}),D("success","Room status updated to ".concat(t,"!")),M()}catch(r){console.error("PUT /rooms error:",r),D("error","Error updating room status")}})(e.id,t.target.value),className:"w-full p-2 border border-gray-300 rounded-lg text-sm",children:[(0,xn.jsx)("option",{value:"Available",children:"Set Available"}),(0,xn.jsx)("option",{value:"Maintenance",children:"Set Maintenance"})]})]})]})]},e.id)),0===W.length&&(0,xn.jsx)("p",{className:"col-span-full text-center py-10 text-gray-500",children:"No rooms match the current filters."}),w&&(0,xn.jsx)("div",{className:"col-span-full text-center mt-4",children:(0,xn.jsx)("button",{onClick:async()=>{if(!N&&w){_(!0);try{const e=k+1,r=(await mn.get("/rooms?skip=".concat(20*(e-1),"&limit=20"))).data||[],n=r.map(e=>Fe(Fe({},e),{},{trend:Array.from({length:7},()=>Math.floor(1e3*Math.random()))}));t(e=>[...e,...n]),S(e),j(20===r.length)}catch(e){console.error("Failed to load more rooms:",e)}finally{_(!1)}}},disabled:N,className:"bg-indigo-100 text-indigo-700 font-semibold px-6 py-2 rounded-lg hover:bg-indigo-200 transition-colors disabled:bg-gray-200 disabled:text-gray-500",children:N?"Loading...":"Load More Rooms"})})]})]}),m&&(0,xn.jsx)($Q,{onClose:()=>g(!1),roomNumber:x,bookings:c,filter:E,setFilter:P,checkinFilter:T,setCheckinFilter:O,checkoutFilter:I,setCheckoutFilter:L}),v&&(0,xn.jsx)(ZQ,{imageUrl:v,onClose:()=>b(null)})]})},e$=()=>{var e;const[t,r]=(0,i.useState)(null),[n,a]=(0,i.useState)(!1),[s,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)([]),[d,u]=(0,i.useState)([]),[h,f]=(0,i.useState)(""),[p,m]=(0,i.useState)({type:null,text:""}),[g,x]=(0,i.useState)(!0),y=(e,t)=>{m({type:e,text:t})},[v,b]=(0,i.useState)(!1),[w,j]=(0,i.useState)(1),[N,_]=(0,i.useState)({name:"",email:"",password:"",phone:"",role_id:""});(0,i.useEffect)(()=>{k(),S()},[]);const k=async()=>{try{const e=await mn.get("/users?skip=0&limit=20",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});c(e.data),x(10===e.data.length),j(1)}catch(e){console.error("Error fetching users:",e),y("error","Failed to load users.")}},S=async()=>{try{const e=await mn.get("/roles",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});u(e.data)}catch(e){console.error("Error fetching roles:",e),y("error","Failed to load roles.")}},A=e=>{_(Fe(Fe({},N),{},{[e.target.name]:e.target.value}))};return(0,xn.jsxs)(Zu,{children:[(0,xn.jsx)(PX,{message:p,onClose:()=>{m({type:null,text:""})},autoDismiss:!0,duration:5e3}),n&&t&&(0,xn.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-30 z-50",children:(0,xn.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-[400px]",children:[(0,xn.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800 border-b pb-2",children:"User Details"}),(0,xn.jsxs)("div",{className:"space-y-2 text-gray-700 text-sm",children:[(0,xn.jsxs)("p",{children:[(0,xn.jsx)("strong",{children:"Name:"})," ",t.name]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("strong",{children:"Email:"})," ",t.email]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("strong",{children:"Phone:"})," ",t.phone||"-"]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("strong",{children:"Role:"})," ",null===(e=t.role)||void 0===e?void 0:e.name]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("strong",{children:"Status:"}),(0,xn.jsx)("span",{className:"ml-1 font-medium ".concat(t.is_active?"text-green-600":"text-red-600"),children:t.is_active?"Active":"Inactive"})]})]}),(0,xn.jsx)("div",{className:"mt-6 text-right",children:(0,xn.jsx)("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Close"})})]})}),(0,xn.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow",children:[(0,xn.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),(0,xn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await mn.post("/users",N,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});y("success","User created successfully!"),_({name:"",email:"",password:"",phone:"",role_id:""}),k()}catch(t){console.error("Create user error:",t),y("error","Failed to create user.")}},className:"mb-6 space-y-4 bg-gray-50 p-4 rounded shadow-sm",children:[(0,xn.jsx)("h2",{className:"text-xl font-semibold",children:"\u2795 Create New User"}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,xn.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:N.name,onChange:A,className:"border px-3 py-2 rounded w-full",required:!0}),(0,xn.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:N.email,onChange:A,className:"border px-3 py-2 rounded w-full",required:!0}),(0,xn.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:N.password,onChange:A,className:"border px-3 py-2 rounded w-full",required:!0}),(0,xn.jsx)("input",{type:"text",name:"phone",placeholder:"Phone",value:N.phone,onChange:A,className:"border px-3 py-2 rounded w-full"}),(0,xn.jsxs)("select",{name:"role_id",value:N.role_id,onChange:A,className:"border px-3 py-2 rounded w-full",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Role"}),d.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,xn.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Create User"})]}),(0,xn.jsxs)("table",{className:"w-full text-sm border",children:[(0,xn.jsx)("thead",{children:(0,xn.jsxs)("tr",{className:"bg-gray-100",children:[(0,xn.jsx)("th",{className:"p-2 border",children:"#"}),(0,xn.jsx)("th",{className:"p-2 border",children:"Username"}),(0,xn.jsx)("th",{className:"p-2 border",children:"Email"}),(0,xn.jsx)("th",{className:"p-2 border",children:"Role"}),(0,xn.jsx)("th",{className:"p-2 border",children:"Phone"}),(0,xn.jsx)("th",{className:"p-2 border",children:"Status"}),(0,xn.jsx)("th",{className:"p-2 border",children:"Actions"})]})}),(0,xn.jsxs)("tbody",{children:[l.map((e,t)=>{var n;return(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("td",{className:"p-2 border text-center",children:t+1}),(0,xn.jsx)("td",{className:"p-2 border",children:e.name}),(0,xn.jsx)("td",{className:"p-2 border",children:e.email}),(0,xn.jsx)("td",{className:"p-2 border",children:(null===(n=e.role)||void 0===n?void 0:n.name)||"-"}),(0,xn.jsx)("td",{className:"p-2 border",children:e.phone||"-"}),(0,xn.jsx)("td",{className:"p-2 border text-center",children:(0,xn.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat(e.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-600"),children:e.is_active?"Active":"Inactive"})}),(0,xn.jsx)("td",{className:"p-2 border text-center",children:(0,xn.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,xn.jsx)("button",{onClick:()=>(e=>{r(e),a(!0)})(e),className:"bg-blue-500 text-white px-3 py-1 rounded text-sm",children:"View"}),(0,xn.jsx)("button",{onClick:()=>(e=>{var t;r(e),_({name:e.name,email:e.email,phone:e.phone||"",password:"",role_id:(null===(t=e.role)||void 0===t?void 0:t.id)||""}),o(!0)})(e),className:"bg-yellow-500 text-white px-3 py-1 rounded text-sm",children:"Edit"})]})})]},e.id)}),0===l.length&&(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"7",className:"text-center py-4 text-gray-500",children:"No users found."})})]})]}),g&&(0,xn.jsx)("div",{className:"text-center mt-4",children:(0,xn.jsx)("button",{onClick:async()=>{if(v||!g)return;b(!0);const e=w+1;try{const t=(await mn.get("/users?skip=".concat(20*(e-1),"&limit=20"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data||[];c(e=>[...e,...t]),j(e),x(10===t.length)}catch(t){console.error("Failed to load more users:",t)}finally{b(!1)}},disabled:v,className:"bg-indigo-100 text-indigo-700 font-semibold px-6 py-2 rounded-lg hover:bg-indigo-200 transition-colors disabled:bg-gray-200 disabled:text-gray-500",children:v?"Loading...":"Load More Users"})})]})]})},t$=Cu("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),r$=e=>{let{title:t,className:r="",children:n}=e;const i=r.includes("gradient");return(0,xn.jsxs)("div",{className:"".concat(i?"":"bg-white"," rounded-2xl shadow-lg ").concat(i?"":"border border-gray-200"," p-6 ").concat(r),children:[t&&(0,xn.jsx)("h2",{className:"text-xl font-bold mb-4 ".concat(i?"text-white":"text-gray-800"),children:t}),n]})},n$=["#4F46E5","#6366F1","#A78BFA","#F472B6"],i$=()=>{var e,t;const[r,n]=(0,i.useState)([]),[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)({name:"",description:"",charges:"",is_visible_to_guest:!1,average_completion_time:""}),[c,d]=(0,i.useState)([]),[u,h]=(0,i.useState)([]),[f,p]=(0,i.useState)([]),[m,g]=(0,i.useState)([]),[x,y]=(0,i.useState)([]),[v,b]=(0,i.useState)([]),[w,j]=(0,i.useState)({service_id:"",employee_id:"",room_id:"",status:"pending"}),[N,_]=(0,i.useState)([]),[k,S]=(0,i.useState)(null),[A,C]=(0,i.useState)([]),[E,P]=(0,i.useState)([]),[T,O]=(0,i.useState)([]),[I,L]=(0,i.useState)([]),[D,M]=(0,i.useState)({room:"",employee:"",status:"",from:"",to:""}),[R,F]=(0,i.useState)({search:"",visible:"",hasInventory:"",hasImages:""}),[B,z]=(0,i.useState)({search:"",service:"",category:""}),[U,q]=(0,i.useState)(!0),[W,H]=(0,i.useState)(!0),[V,G]=(0,i.useState)(1),[K,Y]=(0,i.useState)(!1),[X,Q]=(0,i.useState)(null),[$,Z]=(0,i.useState)(null),[J,ee]=(0,i.useState)(null),[te,re]=(0,i.useState)([]),[ne,ie]=(0,i.useState)({}),[ae,se]=(0,i.useState)([]),[oe,le]=(0,i.useState)(!1),[ce,de]=(0,i.useState)(null),[ue,he]=(0,i.useState)(!1),[fe,pe]=(0,i.useState)({from_date:"",to_date:"",room_number:"",guest_name:"",location_id:""}),[me,ge]=(0,i.useState)("dashboard"),[xe,ye]=(0,i.useState)([]),ve=async()=>{try{const e=await mn.get("/service-requests?limit=1000");ye(e.data||[])}catch(e){console.error("Failed to fetch service requests:",e),ye([])}},be=async()=>{q(!0);try{var e;const[t,r,i,a,o,l,c]=await Promise.all([mn.get("/services?limit=1000").catch(()=>({data:[]})),mn.get("/services/assigned?skip=0&limit=20").catch(()=>({data:[]})),mn.get("/rooms?limit=1000").catch(()=>({data:[]})),mn.get("/employees").catch(()=>({data:[]})),mn.get("/bookings?limit=1000").catch(()=>({data:{bookings:[]}})),mn.get("/packages/bookingsall?limit=1000").catch(()=>({data:[]})),mn.get("/inventory/items?limit=1000").catch(()=>({data:[]}))]);n((null===t||void 0===t?void 0:t.data)||[]),s((null===r||void 0===r?void 0:r.data)||[]),P((null===i||void 0===i?void 0:i.data)||[]),L((null===a||void 0===a?void 0:a.data)||[]),y((null===c||void 0===c?void 0:c.data)||[]),"requests"===me&&ve();const d=(null===(e=o.data)||void 0===e?void 0:e.bookings)||[],u=(l.data||[]).map(e=>Fe(Fe({},e),{},{is_package:!0}));O([...d,...u]);const h=new Date;h.setHours(0,0,0,0);const f=new Set,p=e=>e?e.toLowerCase().replace(/[-_\s]/g,""):"",m=e=>"checkedin"===p(e);d.forEach(e=>{if(console.log("Checking regular booking ".concat(e.id,", status: ").concat(e.status,", rooms:"),e.rooms),m(e.status)){const t=new Date(e.check_in),r=new Date(e.check_out);t.setHours(0,0,0,0),r.setHours(0,0,0,0),t<=h&&r>=h?e.rooms&&Array.isArray(e.rooms)?e.rooms.forEach(t=>{t&&t.id?(f.add(t.id),console.log("Added checked-in room: ".concat(t.number," (ID: ").concat(t.id,") from booking ").concat(e.id,", status: ").concat(e.status))):console.log("Booking ".concat(e.id," room missing id:"),t)}):console.log("Booking ".concat(e.id," has checked-in status but no rooms array or rooms is not an array")):console.log("Booking ".concat(e.id," is checked-in but dates don't match: check_in=").concat(t,", check_out=").concat(r,", today=").concat(h))}else console.log("Regular booking ".concat(e.id," status '").concat(e.status,"' is not checked-in (normalized: '").concat(p(e.status),"')"))}),u.forEach(e=>{if(console.log("Checking package booking ".concat(e.id,", status: ").concat(e.status,", rooms:"),e.rooms),m(e.status)){const t=new Date(e.check_in),r=new Date(e.check_out);t.setHours(0,0,0,0),r.setHours(0,0,0,0),t<=h&&r>=h?e.rooms&&Array.isArray(e.rooms)?e.rooms.forEach(t=>{const r=t.room||t;r&&r.id?(f.add(r.id),console.log("Added checked-in package room: ".concat(r.number," (ID: ").concat(r.id,") from booking ").concat(e.id,", status: ").concat(e.status))):console.log("Package booking ".concat(e.id," room link missing room data:"),t)}):console.log("Package booking ".concat(e.id," has checked-in status but no rooms array")):console.log("Package booking ".concat(e.id," is checked-in but dates don't match: check_in=").concat(t,", check_out=").concat(r,", today=").concat(h))}else console.log("Package booking ".concat(e.id," status '").concat(e.status,"' is not checked-in (normalized: '").concat(p(e.status),"')"))}),i.data.forEach(e=>{"checkedin"===p(e.status)&&(f.add(e.id),console.log("Added checked-in room from room status: ".concat(e.number," (ID: ").concat(e.id,"), status: ").concat(e.status)))}),console.log("Total checked-in room IDs: ".concat(f.size),Array.from(f));const g=((null===i||void 0===i?void 0:i.data)||[]).filter(e=>f.has(e.id));console.log("Filtered checked-in rooms: ".concat(g.length),g.map(e=>"".concat(e.number," (status: ").concat(e.status,")"))),C(g)}catch(t){H(!1),G(1),n([]),s([]),C([]),L([]),O([]),y([]),console.error("Error fetching data:",t),alert("Failed to load services data. Please refresh the page.")}finally{q(!1)}};(0,i.useEffect)(()=>{be()},[]),(0,i.useEffect)(()=>{"requests"===me&&ve()},[me]);const we=e=>{if(!e)return"";if(e.startsWith("http"))return e;const t=un(),r=e.startsWith("/")?e:"/".concat(e);return"".concat(t).concat(r)},je=(e,t,r)=>{const n=[...v];n[e]=Fe(Fe({},n[e]),{},{[t]:"quantity"===t?parseFloat(r)||0:r}),b(n)},Ne=()=>{l({name:"",description:"",charges:"",is_visible_to_guest:!1,average_completion_time:""}),d([]),h([]),p([]),g([]),b([]),Q(null)},_e=()=>{Ne()},ke=(e,t,r)=>{const n=[...N];n[e]=Fe(Fe({},n[e]),{},{[t]:"quantity"===t?parseFloat(r)||0:r}),_(n)},[Se,Ae]=(0,i.useState)({}),Ce=a.filter(e=>{const t=new Date(e.assigned_at),r=D.from?new Date(D.from):null,n=D.to?new Date(D.to):null;return(!D.room||e.room_id===parseInt(D.room))&&(!D.employee||e.employee_id===parseInt(D.employee))&&(!D.status||e.status===D.status)&&(!r||t>=r)&&(!n||t<=n)}),Ee=(()=>{const e=r.map(e=>{const t=a.filter(t=>t.service_id===e.id),r=t.filter(e=>"completed"===e.status).length,n=t.filter(e=>"pending"===e.status).length,i=t.filter(e=>"in_progress"===e.status).length,s={},o=e.inventory_items||[];return t.forEach(e=>{var t;(o.length>0?o:(null===(t=e.service)||void 0===t?void 0:t.inventory_items)||[]).forEach(e=>{const t=e.id||e.inventory_item_id;s[t]||(s[t]={name:e.name,item_code:e.item_code,unit:e.unit||"pcs",quantity_used:0,total_cost:0,assignments:0});const r=e.quantity||1;s[t].quantity_used+=r,s[t].total_cost+=(e.unit_price||0)*r,s[t].assignments+=1})}),{service_id:e.id,service_name:e.name,service_charges:e.charges,total_assignments:t.length,completed:r,pending:n,in_progress:i,total_revenue:r*e.charges,inventory_items:Object.values(s),inventory_count:Object.keys(s).length}}),t={};a.forEach(e=>{var n;const i=e.service_id,a=r.find(e=>e.id===i);((null===a||void 0===a?void 0:a.inventory_items)||(null===(n=e.service)||void 0===n?void 0:n.inventory_items)||[]).forEach(e=>{const r=e.id||e.inventory_item_id;t[r]||(t[r]={id:r,name:e.name,item_code:e.item_code,unit:e.unit||"pcs",unit_price:e.unit_price||0,quantity_used:0,total_cost:0,services_used_in:new Set,assignments_count:0});const n=e.quantity||1;t[r].quantity_used+=n,t[r].total_cost+=(e.unit_price||0)*n,t[r].services_used_in.add(i),t[r].assignments_count+=1})}),Object.values(t).forEach(e=>{e.services_count=e.services_used_in.size,e.services_used_in=Array.from(e.services_used_in)});const n={};a.forEach(e=>{if(e.employee_id&&e.employee){const t=e.employee_id;n[t]||(n[t]={employee_id:t,employee_name:e.employee.name,total_assignments:0,completed:0,in_progress:0,pending:0}),n[t].total_assignments+=1,"completed"===e.status?n[t].completed+=1:"in_progress"===e.status?n[t].in_progress+=1:n[t].pending+=1}});const i={};return a.forEach(e=>{if(e.room_id&&e.room){const n=e.room_id;var t,r;if(i[n]||(i[n]={room_id:n,room_number:e.room.number,total_services:0,total_revenue:0,services:[]}),i[n].total_services+=1,"completed"===e.status)i[n].total_revenue+=(null===(t=e.service)||void 0===t?void 0:t.charges)||0;if(!i[n].services.find(t=>t.id===e.service_id))i[n].services.push({id:e.service_id,name:null===(r=e.service)||void 0===r?void 0:r.name})}}),{serviceStats:e,overallInventoryUsage:Object.values(t).sort((e,t)=>t.quantity_used-e.quantity_used),employeeStats:Object.values(n).sort((e,t)=>t.total_assignments-e.total_assignments),roomStats:Object.values(i).sort((e,t)=>t.total_services-e.total_services)}})(),Pe=r.length,Te=a.length,Oe=a.filter(e=>"completed"===e.status).length,Ie=a.filter(e=>"pending"===e.status).length,Le=[{name:"Pending",value:Ie},{name:"Completed",value:Oe},{name:"In Progress",value:Te-Ie-Oe}],De=r.map(e=>({name:e.name,assigned:a.filter(t=>t.service_id===e.id).length}));return(0,xn.jsx)(Zu,{children:(0,xn.jsxs)("div",{className:"p-6 space-y-6",children:[(0,xn.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,xn.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"Service Management Dashboard"})}),(0,xn.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:(0,xn.jsx)("div",{className:"flex border-b border-gray-200",children:[{id:"dashboard",label:"Dashboard"},{id:"create",label:"Services"},{id:"assign",label:"Assign & Manage"},{id:"items",label:"Items Used"},{id:"requests",label:"Service Requests"}].map(e=>(0,xn.jsx)("button",{onClick:()=>ge(e.id),className:"px-6 py-3 font-medium transition-colors ".concat(me===e.id?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-900"),children:e.label},e.id))})}),"dashboard"===me&&(0,xn.jsxs)("div",{className:"space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,xn.jsxs)(r$,{title:"Total Services",className:"bg-gradient-to-br from-blue-500 to-blue-700 text-white",children:[(0,xn.jsx)("div",{className:"text-4xl font-bold",children:Pe}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-2",children:"Active services available"})]}),(0,xn.jsxs)(r$,{title:"Total Assignments",className:"bg-gradient-to-br from-green-500 to-green-700 text-white",children:[(0,xn.jsx)("div",{className:"text-4xl font-bold",children:Te}),(0,xn.jsxs)("p",{className:"text-sm opacity-90 mt-2",children:[Oe," completed, ",Ie," pending"]})]}),(0,xn.jsxs)(r$,{title:"Total Revenue",className:"bg-gradient-to-br from-purple-500 to-purple-700 text-white",children:[(0,xn.jsxs)("div",{className:"text-4xl font-bold",children:["\u20b9",Ee.serviceStats.reduce((e,t)=>e+t.total_revenue,0).toFixed(2)]}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-2",children:"From completed services"})]}),(0,xn.jsxs)(r$,{title:"Inventory Items Used",className:"bg-gradient-to-br from-orange-500 to-orange-700 text-white",children:[(0,xn.jsx)("div",{className:"text-4xl font-bold",children:Ee.overallInventoryUsage.length}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-2",children:"Unique items consumed"})]})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,xn.jsx)(r$,{title:"Service Status Distribution",children:(0,xn.jsx)(Fh,{width:"100%",height:250,children:(0,xn.jsxs)(FR,{children:[(0,xn.jsx)(jB,{data:Le,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:Le.map((e,t)=>(0,xn.jsx)(aF,{fill:n$[t%n$.length]},t))}),(0,xn.jsx)(lM,{}),(0,xn.jsx)(UB,{})]})})}),(0,xn.jsx)(r$,{title:"Service Assignments",children:(0,xn.jsx)(Fh,{width:"100%",height:250,children:(0,xn.jsxs)(WB,{data:De,children:[(0,xn.jsx)(iI,{strokeDasharray:"3 3"}),(0,xn.jsx)(yI,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),(0,xn.jsx)(AI,{allowDecimals:!1}),(0,xn.jsx)(lM,{}),(0,xn.jsx)(UB,{}),(0,xn.jsx)(zz,{dataKey:"assigned",fill:"#4F46E5"})]})})})]}),(0,xn.jsx)(r$,{title:"Service-Wise Performance & Inventory Usage",children:(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full border border-gray-200 rounded-lg",children:[(0,xn.jsx)("thead",{className:"bg-gray-100 text-gray-700 uppercase tracking-wider",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Service Name"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Total Assignments"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Completed"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"In Progress"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Pending"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-right",children:"Revenue (\u20b9)"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Inventory Items"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Details"})]})}),(0,xn.jsx)("tbody",{children:0===Ee.serviceStats.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"8",className:"py-8 text-center text-gray-500",children:"No service data available"})}):Ee.serviceStats.map((e,t)=>(0,xn.jsxs)("tr",{className:"".concat(t%2===0?"bg-white":"bg-gray-50"," hover:bg-gray-100 transition-colors"),children:[(0,xn.jsx)("td",{className:"py-3 px-4 font-semibold",children:e.service_name}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:e.total_assignments})}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:e.completed})}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsx)("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium",children:e.in_progress})}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm font-medium",children:e.pending})}),(0,xn.jsxs)("td",{className:"py-3 px-4 text-right font-semibold text-green-600",children:["\u20b9",e.total_revenue.toFixed(2)]}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsxs)("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm font-medium",children:[e.inventory_count," items"]})}),(0,xn.jsx)("td",{className:"py-3 px-4",children:e.inventory_items.length>0?(0,xn.jsxs)("details",{className:"cursor-pointer",children:[(0,xn.jsxs)("summary",{className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium",children:["View Inventory (",e.inventory_items.length,")"]}),(0,xn.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg space-y-2",children:e.inventory_items.map((e,t)=>(0,xn.jsxs)("div",{className:"flex justify-between items-center text-sm border-b pb-2 last:border-0",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium",children:e.name}),e.item_code&&(0,xn.jsxs)("span",{className:"text-gray-500 ml-2",children:["(",e.item_code,")"]})]}),(0,xn.jsxs)("div",{className:"text-right",children:[(0,xn.jsxs)("div",{className:"font-semibold",children:[e.quantity_used.toFixed(2)," ",e.unit]}),(0,xn.jsxs)("div",{className:"text-xs text-gray-500",children:["\u20b9",e.total_cost.toFixed(2)]})]})]},t))})]}):(0,xn.jsx)("span",{className:"text-sm text-gray-400",children:"No inventory"})})]},e.service_id))})]})})}),(0,xn.jsx)(r$,{title:"Overall Inventory Usage (Item-Wise)",children:(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full border border-gray-200 rounded-lg",children:[(0,xn.jsx)("thead",{className:"bg-gray-100 text-gray-700 uppercase tracking-wider",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Item Name"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Item Code"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Total Quantity Used"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Unit"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Unit Price"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-right",children:"Total Cost (\u20b9)"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Used In Services"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Assignments"})]})}),(0,xn.jsx)("tbody",{children:0===Ee.overallInventoryUsage.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"8",className:"py-8 text-center text-gray-500",children:"No inventory items used"})}):Ee.overallInventoryUsage.map((e,t)=>(0,xn.jsxs)("tr",{className:"".concat(t%2===0?"bg-white":"bg-gray-50"," hover:bg-gray-100 transition-colors"),children:[(0,xn.jsx)("td",{className:"py-3 px-4 font-semibold",children:e.name}),(0,xn.jsx)("td",{className:"py-3 px-4 text-gray-600",children:e.item_code||"-"}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center font-semibold text-blue-600",children:e.quantity_used.toFixed(2)}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center text-gray-600",children:e.unit}),(0,xn.jsxs)("td",{className:"py-3 px-4 text-center",children:["\u20b9",e.unit_price.toFixed(2)]}),(0,xn.jsxs)("td",{className:"py-3 px-4 text-right font-semibold text-green-600",children:["\u20b9",e.total_cost.toFixed(2)]}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsxs)("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:[e.services_count," services"]})}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsx)("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm font-medium",children:e.assignments_count})})]},e.id))})]})})}),Ee.employeeStats.length>0&&(0,xn.jsx)(r$,{title:"Employee Performance",children:(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full border border-gray-200 rounded-lg",children:[(0,xn.jsx)("thead",{className:"bg-gray-100 text-gray-700 uppercase tracking-wider",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Employee Name"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Total Assignments"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Completed"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"In Progress"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Pending"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Completion Rate"})]})}),(0,xn.jsx)("tbody",{children:Ee.employeeStats.map((e,t)=>{const r=e.total_assignments>0?(e.completed/e.total_assignments*100).toFixed(1):0;return(0,xn.jsxs)("tr",{className:"".concat(t%2===0?"bg-white":"bg-gray-50"," hover:bg-gray-100 transition-colors"),children:[(0,xn.jsx)("td",{className:"py-3 px-4 font-semibold",children:e.employee_name}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:e.total_assignments})}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:e.completed})}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsx)("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium",children:e.in_progress})}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm font-medium",children:e.pending})}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsxs)("div",{className:"flex items-center justify-center",children:[(0,xn.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2.5 mr-2",children:(0,xn.jsx)("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:"".concat(r,"%")}})}),(0,xn.jsxs)("span",{className:"text-sm font-semibold",children:[r,"%"]})]})})]},e.employee_id)})})]})})}),Ee.roomStats.length>0&&(0,xn.jsx)(r$,{title:"Room-Wise Service Statistics",children:(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full border border-gray-200 rounded-lg",children:[(0,xn.jsx)("thead",{className:"bg-gray-100 text-gray-700 uppercase tracking-wider",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Room Number"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Total Services"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-right",children:"Revenue (\u20b9)"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Services Used"})]})}),(0,xn.jsx)("tbody",{children:Ee.roomStats.map((e,t)=>(0,xn.jsxs)("tr",{className:"".concat(t%2===0?"bg-white":"bg-gray-50"," hover:bg-gray-100 transition-colors"),children:[(0,xn.jsxs)("td",{className:"py-3 px-4 font-semibold",children:["Room ",e.room_number]}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:e.total_services})}),(0,xn.jsxs)("td",{className:"py-3 px-4 text-right font-semibold text-green-600",children:["\u20b9",e.total_revenue.toFixed(2)]}),(0,xn.jsx)("td",{className:"py-3 px-4",children:(0,xn.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.services.slice(0,3).map(e=>(0,xn.jsx)("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 rounded text-xs",children:e.name},e.id)),e.services.length>3&&(0,xn.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",e.services.length-3," more"]})]})})]},e.room_id))})]})})}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,xn.jsx)(r$,{title:"Top Performing Service",children:Ee.serviceStats.length>0?(()=>{const e=Ee.serviceStats.sort((e,t)=>t.total_assignments-e.total_assignments)[0];return(0,xn.jsxs)("div",{className:"space-y-2",children:[(0,xn.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:e.service_name}),(0,xn.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,xn.jsxs)("div",{children:["Assignments: ",(0,xn.jsx)("span",{className:"font-semibold",children:e.total_assignments})]}),(0,xn.jsxs)("div",{children:["Revenue: ",(0,xn.jsxs)("span",{className:"font-semibold text-green-600",children:["\u20b9",e.total_revenue.toFixed(2)]})]}),(0,xn.jsxs)("div",{children:["Inventory Items: ",(0,xn.jsx)("span",{className:"font-semibold",children:e.inventory_count})]})]})]})})():(0,xn.jsx)("p",{className:"text-gray-500",children:"No data available"})}),(0,xn.jsx)(r$,{title:"Most Used Inventory Item",children:Ee.overallInventoryUsage.length>0?(()=>{const e=Ee.overallInventoryUsage[0];return(0,xn.jsxs)("div",{className:"space-y-2",children:[(0,xn.jsx)("div",{className:"text-lg font-bold text-indigo-600",children:e.name}),(0,xn.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,xn.jsxs)("div",{children:["Quantity: ",(0,xn.jsxs)("span",{className:"font-semibold",children:[e.quantity_used.toFixed(2)," ",e.unit]})]}),(0,xn.jsxs)("div",{children:["Total Cost: ",(0,xn.jsxs)("span",{className:"font-semibold text-red-600",children:["\u20b9",e.total_cost.toFixed(2)]})]}),(0,xn.jsxs)("div",{children:["Used in: ",(0,xn.jsxs)("span",{className:"font-semibold",children:[e.services_count," services"]})]})]})]})})():(0,xn.jsx)("p",{className:"text-gray-500",children:"No data available"})}),(0,xn.jsx)(r$,{title:"Total Inventory Cost",children:(0,xn.jsxs)("div",{className:"space-y-2",children:[(0,xn.jsxs)("div",{className:"text-3xl font-bold text-red-600",children:["\u20b9",Ee.overallInventoryUsage.reduce((e,t)=>e+t.total_cost,0).toFixed(2)]}),(0,xn.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,xn.jsxs)("div",{children:["Items: ",(0,xn.jsx)("span",{className:"font-semibold",children:Ee.overallInventoryUsage.length})]}),(0,xn.jsxs)("div",{children:["Total Quantity: ",(0,xn.jsx)("span",{className:"font-semibold",children:Ee.overallInventoryUsage.reduce((e,t)=>e+t.quantity_used,0).toFixed(2)})]})]})]})})]})]}),oe&&(0,xn.jsx)(r$,{title:"\ud83d\udcca Detailed Service Usage Report",className:"mb-6",children:(0,xn.jsxs)("div",{className:"space-y-4",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-4",children:[(0,xn.jsx)("input",{type:"date",value:fe.from_date,onChange:e=>pe(Fe(Fe({},fe),{},{from_date:e.target.value})),placeholder:"From Date",className:"border p-2 rounded-lg"}),(0,xn.jsx)("input",{type:"date",value:fe.to_date,onChange:e=>pe(Fe(Fe({},fe),{},{to_date:e.target.value})),placeholder:"To Date",className:"border p-2 rounded-lg"}),(0,xn.jsx)("input",{type:"text",value:fe.room_number,onChange:e=>pe(Fe(Fe({},fe),{},{room_number:e.target.value})),placeholder:"Room Number",className:"border p-2 rounded-lg"}),(0,xn.jsx)("input",{type:"text",value:fe.guest_name,onChange:e=>pe(Fe(Fe({},fe),{},{guest_name:e.target.value})),placeholder:"Guest Name",className:"border p-2 rounded-lg"}),(0,xn.jsx)("button",{onClick:async()=>{he(!0);try{const e=new URLSearchParams;fe.from_date&&e.append("from_date",fe.from_date),fe.to_date&&e.append("to_date",fe.to_date),fe.room_number&&e.append("room_number",fe.room_number),fe.guest_name&&e.append("guest_name",fe.guest_name),fe.location_id&&e.append("location_id",fe.location_id);const t=await mn.get("/reports/services/detailed-usage?".concat(e.toString()));de(t.data)}catch(r){var e,t;console.error("Failed to fetch service report:",r),alert("Failed to load report: ".concat((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||r.message))}finally{he(!1)}},disabled:ue,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium disabled:opacity-50",children:ue?"Loading...":"Generate Report"})]}),ce&&(0,xn.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"text-sm text-gray-600",children:"Total Services:"}),(0,xn.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:ce.total_services})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"text-sm text-gray-600",children:"Total Charges:"}),(0,xn.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["\u20b9",ce.total_charges.toFixed(2)]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"text-sm text-gray-600",children:"Date Range:"}),(0,xn.jsxs)("p",{className:"text-lg font-semibold text-gray-800",children:[ce.from_date?new Date(ce.from_date).toLocaleDateString():"All"," -",ce.to_date?new Date(ce.to_date).toLocaleDateString():"All"]})]})]})}),ce&&(0,xn.jsxs)("div",{className:"space-y-4",children:[(0,xn.jsx)("div",{className:"border-b border-gray-200",children:(0,xn.jsx)("div",{className:"flex space-x-4",children:(0,xn.jsxs)("button",{className:"px-4 py-2 border-b-2 border-indigo-600 text-indigo-600 font-medium",children:["All Services (",ce.services.length,")"]})})}),(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full border border-gray-200 rounded-lg",children:[(0,xn.jsx)("thead",{className:"bg-gray-100 text-gray-700 uppercase tracking-wider",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Service"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Guest"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Room"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Location"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Employee"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Charges"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Status"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Assigned"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Last Used"})]})}),(0,xn.jsx)("tbody",{children:ce.services.map((e,t)=>(0,xn.jsxs)("tr",{className:"".concat(t%2===0?"bg-white":"bg-gray-50"," hover:bg-gray-100"),children:[(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium",children:e.service_name}),e.service_description&&(0,xn.jsx)("p",{className:"text-xs text-gray-500",children:e.service_description})]})}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:e.guest_name||(0,xn.jsx)("span",{className:"text-gray-400 italic",children:"N/A"})}),(0,xn.jsxs)("td",{className:"p-3 border-t border-gray-200",children:["Room ",e.room_number]}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:e.location_name?(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium",children:e.location_name}),e.location_type&&(0,xn.jsx)("p",{className:"text-xs text-gray-500",children:e.location_type})]}):(0,xn.jsx)("span",{className:"text-gray-400 italic",children:"N/A"})}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:e.employee_name}),(0,xn.jsxs)("td",{className:"p-3 border-t border-gray-200 font-semibold",children:["\u20b9",e.service_charges]}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:(0,xn.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("completed"===e.status?"bg-green-100 text-green-800":"in_progress"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200 text-sm",children:new Date(e.assigned_at).toLocaleString()}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200 text-sm",children:e.last_used_at?(0,xn.jsx)("span",{className:"text-green-600 font-medium",children:new Date(e.last_used_at).toLocaleString()}):(0,xn.jsx)("span",{className:"text-gray-400 italic",children:"Never"})})]},t))})]})}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[Object.keys(ce.by_room).length>0&&(0,xn.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,xn.jsx)("h3",{className:"font-semibold text-lg mb-3",children:"By Room"}),(0,xn.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Object.entries(ce.by_room).map(e=>{let[t,r]=e;return(0,xn.jsxs)("div",{className:"border-b pb-2",children:[(0,xn.jsxs)("div",{className:"font-medium text-blue-600",children:["Room ",t]}),(0,xn.jsxs)("div",{className:"text-sm text-gray-600",children:[r.length," service(s)"]})]},t)})})]}),Object.keys(ce.by_guest).length>0&&(0,xn.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,xn.jsx)("h3",{className:"font-semibold text-lg mb-3",children:"By Guest"}),(0,xn.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Object.entries(ce.by_guest).map(e=>{let[t,r]=e;return(0,xn.jsxs)("div",{className:"border-b pb-2",children:[(0,xn.jsx)("div",{className:"font-medium text-green-600",children:t}),(0,xn.jsxs)("div",{className:"text-sm text-gray-600",children:[r.length," service(s)"]})]},t)})})]}),Object.keys(ce.by_location).length>0&&(0,xn.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,xn.jsx)("h3",{className:"font-semibold text-lg mb-3",children:"By Location/Store"}),(0,xn.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Object.entries(ce.by_location).map(e=>{let[t,r]=e;return(0,xn.jsxs)("div",{className:"border-b pb-2",children:[(0,xn.jsx)("div",{className:"font-medium text-purple-600",children:t}),(0,xn.jsxs)("div",{className:"text-sm text-gray-600",children:[r.length," service(s)"]})]},t)})})]})]})]}),!ce&&!ue&&(0,xn.jsx)("div",{className:"text-center py-8 text-gray-500",children:'Click "Generate Report" to view detailed service usage report'})]})}),"create"===me&&(0,xn.jsxs)("div",{className:"space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,xn.jsxs)(r$,{title:"Total Services",className:"bg-gradient-to-br from-blue-500 to-blue-700 text-white",children:[(0,xn.jsx)("div",{className:"text-3xl font-bold",children:Pe}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"Active services"})]}),(0,xn.jsxs)(r$,{title:"Visible to Guests",className:"bg-gradient-to-br from-green-500 to-green-700 text-white",children:[(0,xn.jsx)("div",{className:"text-3xl font-bold",children:r.filter(e=>e.is_visible_to_guest).length}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"Guest-visible"})]}),(0,xn.jsxs)(r$,{title:"With Images",className:"bg-gradient-to-br from-purple-500 to-purple-700 text-white",children:[(0,xn.jsx)("div",{className:"text-3xl font-bold",children:r.filter(e=>e.images&&e.images.length>0).length}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"With images"})]}),(0,xn.jsxs)(r$,{title:"With Inventory",className:"bg-gradient-to-br from-orange-500 to-orange-700 text-white",children:[(0,xn.jsx)("div",{className:"text-3xl font-bold",children:r.filter(e=>e.inventory_items&&e.inventory_items.length>0).length}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"With items"})]})]}),(0,xn.jsx)(r$,{title:"Filters",children:(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,xn.jsx)("input",{type:"text",placeholder:"Search by name or description...",value:R.search,onChange:e=>F(Fe(Fe({},R),{},{search:e.target.value})),className:"border p-2 rounded-lg"}),(0,xn.jsxs)("select",{value:R.visible,onChange:e=>F(Fe(Fe({},R),{},{visible:e.target.value})),className:"border p-2 rounded-lg",children:[(0,xn.jsx)("option",{value:"",children:"All Visibility"}),(0,xn.jsx)("option",{value:"true",children:"Visible to Guests"}),(0,xn.jsx)("option",{value:"false",children:"Hidden"})]}),(0,xn.jsxs)("select",{value:R.hasInventory,onChange:e=>F(Fe(Fe({},R),{},{hasInventory:e.target.value})),className:"border p-2 rounded-lg",children:[(0,xn.jsx)("option",{value:"",children:"All Services"}),(0,xn.jsx)("option",{value:"true",children:"With Inventory"}),(0,xn.jsx)("option",{value:"false",children:"Without Inventory"})]}),(0,xn.jsxs)("select",{value:R.hasImages,onChange:e=>F(Fe(Fe({},R),{},{hasImages:e.target.value})),className:"border p-2 rounded-lg",children:[(0,xn.jsx)("option",{value:"",children:"All Services"}),(0,xn.jsx)("option",{value:"true",children:"With Images"}),(0,xn.jsx)("option",{value:"false",children:"Without Images"})]}),(0,xn.jsx)("button",{onClick:()=>F({search:"",visible:"",hasInventory:"",hasImages:""}),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-medium",children:"Clear Filters"})]})}),(0,xn.jsx)(r$,{title:"Create New Service",children:(0,xn.jsxs)("div",{className:"space-y-3",children:[X&&(0,xn.jsxs)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex flex-col gap-2",children:[(0,xn.jsxs)("div",{className:"text-sm text-yellow-800 font-semibold",children:["Editing service ID #",X,'. Update the details below and click "Update Service" to save changes.']}),(0,xn.jsx)("button",{type:"button",onClick:_e,className:"self-start text-sm text-blue-700 hover:text-blue-900 underline",children:"Cancel editing"})]}),(0,xn.jsx)("input",{type:"text",placeholder:"Service Name",value:o.name,onChange:e=>l(Fe(Fe({},o),{},{name:e.target.value})),className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-indigo-400"}),(0,xn.jsx)("input",{type:"text",placeholder:"Description",value:o.description,onChange:e=>l(Fe(Fe({},o),{},{description:e.target.value})),className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-indigo-400"}),(0,xn.jsx)("input",{type:"number",placeholder:"Charges",value:o.charges,onChange:e=>l(Fe(Fe({},o),{},{charges:e.target.value})),className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-indigo-400"}),(0,xn.jsx)("input",{type:"text",placeholder:"Average Completion Time (e.g., 30 minutes, 1 hour)",value:o.average_completion_time,onChange:e=>l(Fe(Fe({},o),{},{average_completion_time:e.target.value})),className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-indigo-400"}),(0,xn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xn.jsx)("input",{type:"checkbox",id:"is_visible_to_guest",checked:o.is_visible_to_guest,onChange:e=>l(Fe(Fe({},o),{},{is_visible_to_guest:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("label",{htmlFor:"is_visible_to_guest",className:"text-sm font-medium text-gray-700",children:"Visible to Guests/Users"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Images"}),(0,xn.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{const t=Array.from(e.target.files);d(t);const r=t.map(e=>URL.createObjectURL(e));h(r)},className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-indigo-400"}),u.length>0&&(0,xn.jsx)("div",{className:"grid grid-cols-4 gap-2 mt-2",children:u.map((e,t)=>(0,xn.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-full h-20 object-cover rounded border"},t))}),X&&f.length>0&&(0,xn.jsxs)("div",{className:"mt-4",children:[(0,xn.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Existing Images"}),(0,xn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:f.map(e=>{const t=m.includes(e.id);return(0,xn.jsxs)("div",{className:"border rounded-lg p-2 text-center ".concat(t?"border-red-400 bg-red-50 opacity-70":"border-gray-200"),children:[(0,xn.jsx)("img",{src:we(e.image_url),alt:"Service",className:"w-full h-20 object-cover rounded mb-2"}),(0,xn.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void g(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"w-full text-xs font-semibold px-2 py-1 rounded ".concat(t?"bg-gray-200 text-gray-700":"bg-red-500 text-white"),children:t?"Keep Image":"Remove Image"})]},e.id)})})]})]}),(0,xn.jsxs)("div",{className:"mt-4",children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inventory Items (Optional)"}),(0,xn.jsx)("button",{type:"button",onClick:()=>{b([...v,{inventory_item_id:"",quantity:1}])},className:"mb-2 text-sm bg-gray-200 hover:bg-gray-300 text-gray-700 px-3 py-1 rounded",children:"+ Add Inventory Item"}),v.map((e,t)=>(0,xn.jsxs)("div",{className:"flex gap-2 mb-2 items-end",children:[(0,xn.jsxs)("select",{value:e.inventory_item_id,onChange:e=>je(t,"inventory_item_id",e.target.value),className:"flex-1 border p-2 rounded-lg text-sm",children:[(0,xn.jsx)("option",{value:"",children:"Select Item"}),x.map(e=>(0,xn.jsxs)("option",{value:e.id,children:[e.name," ",e.item_code?"(".concat(e.item_code,")"):""," - ",e.unit]},e.id))]}),(0,xn.jsx)("input",{type:"number",value:e.quantity,onChange:e=>je(t,"quantity",e.target.value),placeholder:"Qty",min:"0.01",step:"0.01",className:"w-24 border p-2 rounded-lg text-sm"}),(0,xn.jsx)("button",{type:"button",onClick:()=>(e=>{b(v.filter((t,r)=>r!==e))})(t),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded text-sm",children:"Remove"})]},t))]}),(0,xn.jsx)("button",{onClick:async()=>{if(o.name&&o.description&&o.charges)try{const e=new FormData;e.append("name",o.name),e.append("description",o.description),e.append("charges",parseFloat(o.charges)),e.append("is_visible_to_guest",o.is_visible_to_guest?"true":"false"),o.average_completion_time&&e.append("average_completion_time",o.average_completion_time),c.forEach(t=>{e.append("images",t)});const t=v.filter(e=>e.inventory_item_id&&e.quantity>0);(X||t.length>0)&&e.append("inventory_items",JSON.stringify(t)),X&&m.length>0&&e.append("remove_image_ids",JSON.stringify(m)),X?await mn.put("/services/".concat(X),e,{headers:{"Content-Type":"multipart/form-data"}}):await mn.post("/services",e,{headers:{"Content-Type":"multipart/form-data"}}),Ne(),be()}catch(n){var e,t,r;console.error("Failed to save service",n);const i=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message||"Unknown error";console.error("Error details:",null===(r=n.response)||void 0===r?void 0:r.data),alert("Failed to save service: ".concat(i))}else alert("All fields are required")},className:"w-full mt-3 bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-lg shadow-lg font-semibold",children:X?"Update Service":"Create Service"}),X&&(0,xn.jsx)("button",{type:"button",onClick:_e,className:"w-full mt-2 bg-gray-200 hover:bg-gray-300 text-gray-800 p-3 rounded-lg font-semibold",children:"Cancel Edit"})]})}),(0,xn.jsx)(r$,{title:"All Services",children:U?(0,xn.jsx)("div",{className:"flex justify-center items-center h-48",children:(0,xn.jsx)(t$,{size:48,className:"animate-spin text-indigo-500"})}):(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full border border-gray-200 rounded-lg",children:[(0,xn.jsx)("thead",{className:"bg-gray-100 text-gray-700 uppercase tracking-wider",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Image"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Service Name"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Description"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-right",children:"Charges (\u20b9)"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Avg. Time"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Visible"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Inventory"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Actions"})]})}),(0,xn.jsx)("tbody",{children:(()=>{const e=r.filter(e=>{var t;return!!(!R.search||e.name.toLowerCase().includes(R.search.toLowerCase())||null!==(t=e.description)&&void 0!==t&&t.toLowerCase().includes(R.search.toLowerCase()))&&((""===R.visible||e.is_visible_to_guest===("true"===R.visible))&&((""===R.hasInventory||(e.inventory_items&&e.inventory_items.length>0)===("true"===R.hasInventory))&&(""===R.hasImages||(e.images&&e.images.length>0)===("true"===R.hasImages))))});return 0===e.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"8",className:"py-8 text-center text-gray-500",children:"No services found matching filters. Create your first service above."})}):e.map((e,t)=>(0,xn.jsxs)("tr",{className:"".concat(t%2===0?"bg-white":"bg-gray-50"," hover:bg-gray-100 transition-colors"),children:[(0,xn.jsx)("td",{className:"py-3 px-4",children:e.images&&e.images.length>0?(0,xn.jsx)("img",{src:we(e.images[0].image_url),alt:e.name,className:"w-16 h-16 object-cover rounded border"}):(0,xn.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded border flex items-center justify-center text-xs text-gray-400",children:"No Image"})}),(0,xn.jsx)("td",{className:"py-3 px-4 font-semibold",children:e.name}),(0,xn.jsx)("td",{className:"py-3 px-4",children:e.description}),(0,xn.jsxs)("td",{className:"py-3 px-4 text-right font-semibold",children:["\u20b9",e.charges]}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center text-sm",children:e.average_completion_time||(0,xn.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat(e.is_visible_to_guest?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_visible_to_guest?"Visible":"Hidden"})}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:e.inventory_items&&e.inventory_items.length>0?(0,xn.jsxs)("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-indigo-100 text-indigo-800",children:[e.inventory_items.length," items"]}):(0,xn.jsx)("span",{className:"text-gray-400 text-sm",children:"-"})}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[(0,xn.jsx)("button",{onClick:()=>{return l({name:(t=e).name||"",description:t.description||"",charges:void 0!==t.charges&&null!==t.charges?t.charges.toString():"",is_visible_to_guest:!!t.is_visible_to_guest,average_completion_time:t.average_completion_time||""}),b((t.inventory_items||[]).map(e=>({inventory_item_id:e.id,quantity:e.quantity||1}))),p(t.images||[]),g([]),d([]),h([]),Q(t.id),void window.scrollTo({top:0,behavior:"smooth"});var t},className:"px-3 py-1 rounded text-sm font-medium bg-blue-500 hover:bg-blue-600 text-white",children:"Edit"}),(0,xn.jsx)("button",{onClick:()=>(async(e,t)=>{try{await mn.patch("/services/".concat(e,"/visibility"),{is_visible_to_guest:!t}),be()}catch(r){console.error("Failed to toggle service visibility",r),alert("Failed to update service visibility. Please try again.")}})(e.id,e.is_visible_to_guest),className:"px-3 py-1 rounded text-sm font-medium transition-colors ".concat(e.is_visible_to_guest?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-green-500 hover:bg-green-600 text-white"),children:e.is_visible_to_guest?"Hide":"Show"}),(0,xn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this service? This action cannot be undone."))try{await mn.delete("/services/".concat(e)),X===e&&Ne(),be()}catch(n){var t,r;console.error("Failed to delete service",n);const e=(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||n.message||"Unknown error";alert("Failed to delete service: ".concat(e))}})(e.id),className:"px-3 py-1 rounded text-sm font-medium bg-red-500 hover:bg-red-600 text-white",children:"Delete"})]})})]},e.id))})()})]})})})]}),"items"===me&&(0,xn.jsxs)("div",{className:"space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,xn.jsxs)(r$,{title:"Total Items Used",className:"bg-gradient-to-br from-blue-500 to-blue-700 text-white",children:[(0,xn.jsx)("div",{className:"text-3xl font-bold",children:Ee.overallInventoryUsage.length}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"Unique items"})]}),(0,xn.jsxs)(r$,{title:"Total Quantity",className:"bg-gradient-to-br from-green-500 to-green-700 text-white",children:[(0,xn.jsx)("div",{className:"text-3xl font-bold",children:Ee.overallInventoryUsage.reduce((e,t)=>e+t.quantity_used,0).toFixed(1)}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"Total consumed"})]}),(0,xn.jsxs)(r$,{title:"Total Cost",className:"bg-gradient-to-br from-purple-500 to-purple-700 text-white",children:[(0,xn.jsxs)("div",{className:"text-3xl font-bold",children:["\u20b9",Ee.overallInventoryUsage.reduce((e,t)=>e+t.total_cost,0).toFixed(2)]}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"Inventory cost"})]}),(0,xn.jsxs)(r$,{title:"Services Using Items",className:"bg-gradient-to-br from-orange-500 to-orange-700 text-white",children:[(0,xn.jsx)("div",{className:"text-3xl font-bold",children:new Set(Ee.overallInventoryUsage.flatMap(e=>e.services_used_in||[])).size}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"Active services"})]})]}),(0,xn.jsx)(r$,{title:"Filters",children:(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,xn.jsx)("input",{type:"text",placeholder:"Search by item name or code...",value:B.search,onChange:e=>z(Fe(Fe({},B),{},{search:e.target.value})),className:"border p-2 rounded-lg"}),(0,xn.jsxs)("select",{value:B.service,onChange:e=>z(Fe(Fe({},B),{},{service:e.target.value})),className:"border p-2 rounded-lg",children:[(0,xn.jsx)("option",{value:"",children:"All Services"}),r.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,xn.jsx)("button",{onClick:()=>z({search:"",service:"",category:""}),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-medium",children:"Clear Filters"})]})}),(0,xn.jsx)(r$,{title:"Inventory Items Used with Services",children:(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full border border-gray-200 rounded-lg",children:[(0,xn.jsx)("thead",{className:"bg-gray-100 text-gray-700 uppercase tracking-wider",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Item Name"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Item Code"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Total Quantity"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Unit"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Unit Price"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-right",children:"Total Cost (\u20b9)"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Used In"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-center",children:"Assignments"})]})}),(0,xn.jsx)("tbody",{children:(()=>{const e=Ee.overallInventoryUsage.filter(e=>{var t;return!!(!B.search||e.name.toLowerCase().includes(B.search.toLowerCase())||null!==(t=e.item_code)&&void 0!==t&&t.toLowerCase().includes(B.search.toLowerCase()))&&!(B.service&&!e.services_used_in.includes(parseInt(B.service)))});return 0===e.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"8",className:"py-8 text-center text-gray-500",children:"No items found matching filters"})}):e.map((e,t)=>(0,xn.jsxs)("tr",{className:"".concat(t%2===0?"bg-white":"bg-gray-50"," hover:bg-gray-100 transition-colors"),children:[(0,xn.jsx)("td",{className:"py-3 px-4 font-semibold",children:e.name}),(0,xn.jsx)("td",{className:"py-3 px-4 text-gray-600",children:e.item_code||"-"}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center font-semibold text-blue-600",children:e.quantity_used.toFixed(2)}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center text-gray-600",children:e.unit}),(0,xn.jsxs)("td",{className:"py-3 px-4 text-center",children:["\u20b9",e.unit_price.toFixed(2)]}),(0,xn.jsxs)("td",{className:"py-3 px-4 text-right font-semibold text-green-600",children:["\u20b9",e.total_cost.toFixed(2)]}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsxs)("div",{className:"flex flex-wrap gap-1 justify-center",children:[e.services_used_in&&e.services_used_in.length>0?e.services_used_in.slice(0,2).map(e=>{const t=r.find(t=>t.id===e);return t?(0,xn.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs",children:t.name},e):null}):null,e.services_count>2&&(0,xn.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",e.services_count-2," more"]})]})}),(0,xn.jsx)("td",{className:"py-3 px-4 text-center",children:(0,xn.jsx)("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm font-medium",children:e.assignments_count})})]},e.id))})()})]})})})]}),"assign"===me&&(0,xn.jsxs)("div",{className:"space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,xn.jsxs)(r$,{title:"Total Assigned",className:"bg-gradient-to-br from-blue-500 to-blue-700 text-white",children:[(0,xn.jsx)("div",{className:"text-3xl font-bold",children:Te}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"All assignments"})]}),(0,xn.jsxs)(r$,{title:"Pending",className:"bg-gradient-to-br from-yellow-400 to-yellow-600 text-white",children:[(0,xn.jsx)("div",{className:"text-3xl font-bold",children:Ie}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"Awaiting completion"})]}),(0,xn.jsxs)(r$,{title:"In Progress",className:"bg-gradient-to-br from-orange-500 to-orange-700 text-white",children:[(0,xn.jsx)("div",{className:"text-3xl font-bold",children:Te-Ie-Oe}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"Currently active"})]}),(0,xn.jsxs)(r$,{title:"Completed",className:"bg-gradient-to-br from-green-500 to-green-700 text-white",children:[(0,xn.jsx)("div",{className:"text-3xl font-bold",children:Oe}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"Finished services"})]})]}),(0,xn.jsx)(r$,{title:"Assign New Service",children:(0,xn.jsxs)("div",{className:"space-y-3",children:[(0,xn.jsxs)("select",{value:w.service_id,onChange:e=>(async e=>{if(!e)return S(null),void j(Fe(Fe({},w),{},{service_id:e}));try{const t=r.find(t=>t.id===parseInt(e));if(t&&t.inventory_items&&t.inventory_items.length>0)S(t);else{const r=((await mn.get("/services?limit=1000")).data||[]).find(t=>t.id===parseInt(e));r?(S(r),n(t=>{const n=[...t],i=n.findIndex(t=>t.id===parseInt(e));return i>=0&&(n[i]=r),n})):t&&S(t)}j(Fe(Fe({},w),{},{service_id:e})),_([])}catch(t){console.error("Failed to fetch service details",t);const n=r.find(t=>t.id===parseInt(e));S(n||null),_([])}})(e.target.value),className:"w-full border p-3 rounded-lg",children:[(0,xn.jsx)("option",{value:"",children:"Select Service"}),r.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]}),k&&(0,xn.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,xn.jsx)("h3",{className:"font-semibold text-lg text-gray-800 mb-3",children:"Service Details"}),(0,xn.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium text-gray-700",children:"Name:"}),(0,xn.jsx)("span",{className:"ml-2 text-gray-900",children:k.name})]}),k.description&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium text-gray-700",children:"Description:"}),(0,xn.jsx)("p",{className:"ml-2 text-gray-900 mt-1",children:k.description})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium text-gray-700",children:"Charges:"}),(0,xn.jsxs)("span",{className:"ml-2 text-gray-900 font-semibold",children:["\u20b9",k.charges]})]}),k.images&&k.images.length>0&&(0,xn.jsxs)("div",{className:"mt-2",children:[(0,xn.jsx)("span",{className:"font-medium text-gray-700",children:"Images:"}),(0,xn.jsx)("div",{className:"flex gap-2 mt-2",children:k.images.slice(0,3).map((e,t)=>(0,xn.jsx)("img",{src:we(e.image_url),alt:"".concat(k.name," ").concat(t+1),className:"w-20 h-20 object-cover rounded border"},t))})]})]}),k.inventory_items&&k.inventory_items.length>0&&(0,xn.jsxs)("div",{className:"mt-4 pt-4 border-t border-blue-300",children:[(0,xn.jsx)("h4",{className:"font-semibold text-md text-gray-800 mb-2",children:"Inventory Items Needed:"}),(0,xn.jsx)("div",{className:"space-y-2",children:k.inventory_items.map((e,t)=>(0,xn.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-blue-200",children:[(0,xn.jsxs)("div",{className:"flex-1",children:[(0,xn.jsx)("span",{className:"font-medium text-gray-800",children:e.name}),e.item_code&&(0,xn.jsxs)("span",{className:"ml-2 text-sm text-gray-600",children:["(",e.item_code,")"]})]}),(0,xn.jsxs)("div",{className:"text-right",children:[(0,xn.jsxs)("span",{className:"text-sm text-gray-600",children:[e.quantity," ",e.unit]}),e.unit_price>0&&(0,xn.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["@ \u20b9",e.unit_price,"/",e.unit]})]})]},t))})]}),(!k.inventory_items||0===k.inventory_items.length)&&(0,xn.jsx)("div",{className:"mt-4 pt-4 border-t border-blue-300",children:(0,xn.jsx)("p",{className:"text-sm text-gray-600 italic",children:"No inventory items required for this service."})})]}),(0,xn.jsxs)("select",{value:w.employee_id,onChange:e=>j(Fe(Fe({},w),{},{employee_id:e.target.value})),className:"w-full border p-3 rounded-lg",children:[(0,xn.jsx)("option",{value:"",children:"Select Employee"}),I.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,xn.jsxs)("select",{value:w.room_id,onChange:e=>j(Fe(Fe({},w),{},{room_id:e.target.value})),className:"w-full border p-3 rounded-lg",children:[(0,xn.jsx)("option",{value:"",children:"Select Room"}),0===A.length?(0,xn.jsx)("option",{value:"",disabled:!0,children:"No checked-in rooms available"}):A.map(e=>(0,xn.jsxs)("option",{value:e.id,children:["Room ",e.number]},e.id))]}),(0,xn.jsxs)("select",{value:w.status,onChange:e=>j(Fe(Fe({},w),{},{status:e.target.value})),className:"w-full border p-3 rounded-lg",children:[(0,xn.jsx)("option",{value:"pending",children:"Pending"}),(0,xn.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,xn.jsx)("option",{value:"completed",children:"Completed"})]}),(0,xn.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Extra Inventory Items (Optional - Additional items beyond service requirements)"}),(0,xn.jsx)("button",{type:"button",onClick:()=>{_([...N,{inventory_item_id:"",quantity:1}])},className:"mb-2 text-sm bg-gray-200 hover:bg-gray-300 text-gray-700 px-3 py-1 rounded",children:"+ Add Extra Inventory Item"}),N.map((e,t)=>(0,xn.jsxs)("div",{className:"flex gap-2 mb-2 items-end",children:[(0,xn.jsxs)("select",{value:e.inventory_item_id,onChange:e=>ke(t,"inventory_item_id",e.target.value),className:"flex-1 border p-2 rounded-lg text-sm",children:[(0,xn.jsx)("option",{value:"",children:"Select Item"}),x.map(e=>(0,xn.jsxs)("option",{value:e.id,children:[e.name," ",e.item_code?"(".concat(e.item_code,")"):""," - ",e.unit]},e.id))]}),(0,xn.jsx)("input",{type:"number",value:e.quantity,onChange:e=>ke(t,"quantity",e.target.value),placeholder:"Qty",min:"0.01",step:"0.01",className:"w-24 border p-2 rounded-lg text-sm"}),(0,xn.jsx)("button",{type:"button",onClick:()=>(e=>{_(N.filter((t,r)=>r!==e))})(t),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded text-sm",children:"Remove"})]},t)),0===N.length&&(0,xn.jsx)("p",{className:"text-xs text-gray-500 italic",children:"No extra items added. Service will use only its default inventory items."})]}),(0,xn.jsx)("button",{onClick:async()=>{if(w.service_id&&w.employee_id&&w.room_id)try{const e={service_id:parseInt(w.service_id),employee_id:parseInt(w.employee_id),room_id:parseInt(w.room_id)},t=N.filter(e=>e.inventory_item_id&&e.quantity>0);t.length>0&&(e.extra_inventory_items=t.map(e=>({inventory_item_id:parseInt(e.inventory_item_id),quantity:e.quantity})));await mn.post("/services/assign",e);alert("Service assigned successfully!"),j({service_id:"",employee_id:"",room_id:"",status:"pending"}),S(null),_([]),be()}catch(r){var e,t;console.error("Failed to assign service",r),console.error("Error details:",{message:r.message,response:r.response,config:r.config,isNetworkError:r.isNetworkError,isTimeout:r.isTimeout});let n="Failed to assign service. ";r.isNetworkError?n+="Network error - please check if the backend server is running on port 8011.":r.isTimeout?n+="Request timed out - the server is taking too long to respond.":null!==(e=r.response)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.detail?n=r.response.data.detail:r.message&&(n+=r.message),alert("Error: ".concat(n))}else alert("Please select service, employee, and room")},className:"w-full mt-3 bg-green-600 hover:bg-green-700 text-white p-3 rounded-lg shadow-lg font-semibold",children:"Assign Service"})]})}),(0,xn.jsxs)(r$,{title:"Assigned Services",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4",children:[(0,xn.jsxs)("select",{value:D.room,onChange:e=>M(Fe(Fe({},D),{},{room:e.target.value})),className:"border p-2 rounded-lg",children:[(0,xn.jsx)("option",{value:"",children:"All Rooms"}),a.map(e=>{const t=e.room;return t?(0,xn.jsxs)("option",{value:t.id,children:["Room ",t.number]},t.id):null}).filter(Boolean)]}),(0,xn.jsxs)("select",{value:D.employee,onChange:e=>M(Fe(Fe({},D),{},{employee:e.target.value})),className:"border p-2 rounded-lg",children:[(0,xn.jsx)("option",{value:"",children:"All Employees"}),I.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,xn.jsxs)("select",{value:D.status,onChange:e=>M(Fe(Fe({},D),{},{status:e.target.value})),className:"border p-2 rounded-lg",children:[(0,xn.jsx)("option",{value:"",children:"All Statuses"}),(0,xn.jsx)("option",{value:"pending",children:"Pending"}),(0,xn.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,xn.jsx)("option",{value:"completed",children:"Completed"})]}),(0,xn.jsx)("input",{type:"date",value:D.from,onChange:e=>M(Fe(Fe({},D),{},{from:e.target.value})),className:"border p-2 rounded-lg"}),(0,xn.jsx)("input",{type:"date",value:D.to,onChange:e=>M(Fe(Fe({},D),{},{to:e.target.value})),className:"border p-2 rounded-lg"})]}),U?(0,xn.jsx)("div",{className:"flex justify-center items-center h-48",children:(0,xn.jsx)(t$,{size:48,className:"animate-spin text-indigo-500"})}):(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full border border-gray-200 rounded-lg",children:[(0,xn.jsx)("thead",{className:"bg-gray-100 text-gray-700 uppercase tracking-wider",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Service"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Employee"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Room"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"In Progress"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Avg. Completion Time"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Assigned At"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Status Changed"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Completed Time"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Actions"})]})}),(0,xn.jsx)("tbody",{children:Ce.map((e,t)=>{var r,n,i,s;return(0,xn.jsxs)("tr",{className:"".concat(t%2===0?"bg-white":"bg-gray-50"," hover:bg-gray-100 transition-colors"),children:[(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:null===(r=e.service)||void 0===r?void 0:r.name}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:null===(n=e.employee)||void 0===n?void 0:n.name}),(0,xn.jsxs)("td",{className:"p-3 border-t border-gray-200",children:["Room ",null===(i=e.room)||void 0===i?void 0:i.number]}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:(0,xn.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{const r=(new Date).toISOString();Ae(t=>Fe(Fe({},t),{},{[e]:r}));try{if("completed"===t)try{const t=a.find(t=>t.id===e);if(t&&t.employee){const r=((await mn.get("/services/employee-inventory/".concat(t.employee.id,"?status=assigned,in_use,completed"))).data||[]).filter(t=>t.assigned_service_id===e&&t.quantity_used>0&&t.balance_quantity>0);if(r.length>0){re(r),ee(e);const t={};return r.forEach(e=>{t[e.id]=e.balance_quantity}),void ie(t)}}}catch(s){console.warn("Could not fetch inventory assignments:",s)}await mn.patch("/services/assigned/".concat(e),{status:t}),be()}catch(o){var n,i;console.error("Failed to update status:",o),alert("Failed to update status: ".concat((null===(n=o.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.detail)||o.message))}})(e.id,t.target.value),className:"border p-2 rounded-lg bg-white",children:[(0,xn.jsx)("option",{value:"pending",children:"Pending"}),(0,xn.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,xn.jsx)("option",{value:"completed",children:"Completed"})]})}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200 text-sm",children:null!==(s=e.service)&&void 0!==s&&s.average_completion_time?(0,xn.jsx)("span",{className:"text-indigo-600 font-medium",children:e.service.average_completion_time}):(0,xn.jsx)("span",{className:"text-gray-400 italic",children:"Not set"})}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:e.assigned_at&&new Date(e.assigned_at).toLocaleString()}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:Se[e.id]?(0,xn.jsx)("span",{className:"text-blue-600 font-medium text-sm",children:new Date(Se[e.id]).toLocaleString()}):(0,xn.jsx)("span",{className:"text-gray-400 italic text-sm",children:"Not changed"})}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:e.last_used_at?(0,xn.jsx)("span",{className:"text-green-600 font-medium",children:new Date(e.last_used_at).toLocaleString()}):(0,xn.jsx)("span",{className:"text-gray-400 italic",children:"Never"})}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:(0,xn.jsxs)("div",{className:"flex gap-2",children:[(0,xn.jsx)("button",{onClick:()=>(async e=>{try{var t;console.log("[DEBUG] Viewing assigned service:",e),console.log("[DEBUG] Service data:",e.service),console.log("[DEBUG] Inventory items in assigned service:",null===(t=e.service)||void 0===t?void 0:t.inventory_items);const n=((await mn.get("/services?limit=1000")).data||[]).find(t=>t.id===e.service_id);console.log("[DEBUG] Found service from API:",n),console.log("[DEBUG] Service inventory items from API:",null===n||void 0===n?void 0:n.inventory_items);let i=[];if(e.employee&&e.employee.id)try{i=((await mn.get("/services/employee-inventory/".concat(e.employee.id,"?status=returned,partially_returned"))).data||[]).filter(t=>t.assigned_service_id===e.id&&t.quantity_returned>0),console.log("[DEBUG] Found returned items:",i)}catch(r){console.warn("Could not fetch returned inventory items:",r)}n?(Z(Fe(Fe({},e),{},{service:n})),se(i)):(console.warn("[WARNING] Service not found, using assigned service data"),Z(e),se(i))}catch(n){console.error("Failed to fetch service details:",n),Z(e),se([])}})(e),className:"px-3 py-1 rounded text-sm font-medium bg-blue-500 hover:bg-blue-600 text-white",children:"View"}),(0,xn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Remove this assigned service? This cannot be undone."))try{await mn.delete("/services/assigned/".concat(e)),be()}catch(n){var t,r;console.error("Failed to delete assigned service:",n);const e=(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||n.message||"Unknown error";alert("Failed to delete assigned service: ".concat(e))}})(e.id),className:"px-3 py-1 rounded text-sm font-medium bg-red-500 hover:bg-red-600 text-white",children:"Delete"})]})})]},e.id)})})]})})]})]}),"requests"===me&&(0,xn.jsxs)("div",{className:"space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,xn.jsxs)(r$,{title:"Total Requests",className:"bg-gradient-to-br from-blue-500 to-blue-700 text-white",children:[(0,xn.jsx)("div",{className:"text-3xl font-bold",children:xe.length}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"All requests"})]}),(0,xn.jsxs)(r$,{title:"Pending",className:"bg-gradient-to-br from-yellow-400 to-yellow-600 text-white",children:[(0,xn.jsx)("div",{className:"text-3xl font-bold",children:xe.filter(e=>"pending"===e.status).length}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"Awaiting action"})]}),(0,xn.jsxs)(r$,{title:"In Progress",className:"bg-gradient-to-br from-orange-500 to-orange-700 text-white",children:[(0,xn.jsx)("div",{className:"text-3xl font-bold",children:xe.filter(e=>"in_progress"===e.status).length}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"Being processed"})]}),(0,xn.jsxs)(r$,{title:"Completed",className:"bg-gradient-to-br from-green-500 to-green-700 text-white",children:[(0,xn.jsx)("div",{className:"text-3xl font-bold",children:xe.filter(e=>"completed"===e.status).length}),(0,xn.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"Finished"})]})]}),(0,xn.jsx)(r$,{title:"Service Requests",children:U?(0,xn.jsx)("div",{className:"flex justify-center items-center h-48",children:(0,xn.jsx)(t$,{size:48,className:"animate-spin text-indigo-500"})}):(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full border border-gray-200 rounded-lg",children:[(0,xn.jsx)("thead",{className:"bg-gray-100 text-gray-700 uppercase tracking-wider",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"ID"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Room"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Food Order"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Request Type"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Description"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Employee"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Status"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Avg. Completion Time"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Created At"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Completed At"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left",children:"Actions"})]})}),(0,xn.jsx)("tbody",{children:0===xe.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"10",className:"py-8 text-center text-gray-500",children:"No service requests found"})}):xe.map((e,t)=>{var n;return(0,xn.jsxs)("tr",{className:"".concat(t%2===0?"bg-white":"bg-gray-50"," hover:bg-gray-100 transition-colors"),children:[(0,xn.jsxs)("td",{className:"p-3 border-t border-gray-200",children:["#",e.id]}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:e.room_number?"Room ".concat(e.room_number):"Room ID: ".concat(e.room_id)}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:(0,xn.jsxs)("div",{className:"text-sm",children:[(0,xn.jsxs)("div",{children:["Order #",e.food_order_id]}),e.food_order_amount&&(0,xn.jsxs)("div",{className:"text-gray-600",children:["$",e.food_order_amount.toFixed(2)]}),e.food_order_status&&(0,xn.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("completed"===e.food_order_status?"bg-green-100 text-green-800":"pending"===e.food_order_status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.food_order_status})]})}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:(0,xn.jsx)("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800 capitalize",children:e.request_type||"delivery"})}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:(0,xn.jsx)("div",{className:"max-w-xs truncate",title:e.description,children:e.description||"-"})}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:e.employee_name?(0,xn.jsx)("span",{children:e.employee_name}):(0,xn.jsxs)("select",{value:e.employee_id||"",onChange:t=>{const r=t.target.value?parseInt(t.target.value):null;(async(e,t)=>{try{await mn.put("/service-requests/".concat(e),{employee_id:t}),ve()}catch(i){var r,n;console.error("Failed to assign employee:",i);const e=(null===(r=i.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||i.message||"Unknown error";alert("Failed to assign employee: ".concat(e))}})(e.id,r)},className:"border p-2 rounded-lg bg-white text-sm",children:[(0,xn.jsx)("option",{value:"",children:"Assign Employee"}),I.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:(0,xn.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{try{await mn.put("/service-requests/".concat(e),{status:t}),ve()}catch(i){var r,n;console.error("Failed to update request status:",i);const e=(null===(r=i.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||i.message||"Unknown error";alert("Failed to update request status: ".concat(e))}})(e.id,t.target.value),className:"border p-2 rounded-lg bg-white text-sm ".concat("completed"===e.status?"bg-green-50":"in_progress"===e.status?"bg-yellow-50":"cancelled"===e.status?"bg-red-50":"bg-gray-50"),children:[(0,xn.jsx)("option",{value:"pending",children:"Pending"}),(0,xn.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,xn.jsx)("option",{value:"completed",children:"Completed"}),(0,xn.jsx)("option",{value:"cancelled",children:"Cancelled"})]})}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200 text-sm",children:null!==(n=e.service)&&void 0!==n&&n.average_completion_time?(0,xn.jsx)("span",{className:"text-indigo-600 font-medium",children:e.service.average_completion_time}):(0,xn.jsx)("span",{className:"text-gray-400 italic",children:"-"})}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200 text-sm",children:e.created_at?new Date(e.created_at).toLocaleString():"-"}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200 text-sm",children:e.completed_at?(0,xn.jsx)("span",{className:"text-green-600",children:new Date(e.completed_at).toLocaleString()}):(0,xn.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,xn.jsx)("td",{className:"p-3 border-t border-gray-200",children:(0,xn.jsxs)("div",{className:"flex gap-2",children:["pending"===e.status&&(0,xn.jsx)("button",{onClick:()=>(async e=>{if(0===r.length)return alert("No services available. Please create a service first."),void ge("create");const t=r.map(e=>"".concat(e.id,": ").concat(e.name)).join("\n"),n=window.prompt("Select a service to assign to Room ".concat(e.room_number||e.room_id,":\n\n").concat(t,"\n\nEnter service ID:"));if(!n)return;const i=parseInt(n),a=r.find(e=>e.id===i);a?(j({service_id:i.toString(),employee_id:e.employee_id?e.employee_id.toString():"",room_id:e.room_id.toString(),status:"pending"}),S(a),ge("assign"),window.scrollTo({top:0,behavior:"smooth"})):alert("Invalid service ID")})(e),className:"px-3 py-1 rounded text-sm font-medium bg-green-500 hover:bg-green-600 text-white",title:"Quick assign service to this room",children:"Assign Service"}),(0,xn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this service request?"))try{await mn.delete("/service-requests/".concat(e)),ve()}catch(n){var t,r;console.error("Failed to delete request:",n);const e=(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||n.message||"Unknown error";alert("Failed to delete request: ".concat(e))}})(e.id),className:"px-3 py-1 rounded text-sm font-medium bg-red-500 hover:bg-red-600 text-white",children:"Delete"})]})})]},e.id)})})]})})})]}),$&&(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xn.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:(0,xn.jsxs)("div",{className:"p-6",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Assigned Service Details"}),(0,xn.jsx)("button",{onClick:()=>Z(null),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]}),(0,xn.jsxs)("div",{className:"space-y-6",children:[$.service&&(0,xn.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,xn.jsx)("h3",{className:"font-semibold text-lg text-gray-800 mb-3",children:"Service Information"}),(0,xn.jsxs)("div",{className:"space-y-2",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium text-gray-700",children:"Name:"}),(0,xn.jsx)("span",{className:"ml-2 text-gray-900",children:$.service.name})]}),$.service.description&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium text-gray-700",children:"Description:"}),(0,xn.jsx)("p",{className:"ml-2 text-gray-900 mt-1",children:$.service.description})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium text-gray-700",children:"Charges:"}),(0,xn.jsxs)("span",{className:"ml-2 text-gray-900 font-semibold",children:["\u20b9",$.service.charges]})]}),$.service.images&&$.service.images.length>0&&(0,xn.jsxs)("div",{className:"mt-2",children:[(0,xn.jsx)("span",{className:"font-medium text-gray-700",children:"Images:"}),(0,xn.jsx)("div",{className:"flex gap-2 mt-2",children:$.service.images.slice(0,3).map((e,t)=>(0,xn.jsx)("img",{src:we(e.image_url),alt:"".concat($.service.name," ").concat(t+1),className:"w-20 h-20 object-cover rounded border",onError:e=>{e.target.src="/placeholder-image.png"}},t))})]})]})]}),(0,xn.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,xn.jsx)("h3",{className:"font-semibold text-lg text-gray-800 mb-3",children:"Assignment Information"}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium text-gray-700",children:"Employee:"}),(0,xn.jsx)("span",{className:"ml-2 text-gray-900",children:(null===(e=$.employee)||void 0===e?void 0:e.name)||"N/A"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium text-gray-700",children:"Room:"}),(0,xn.jsxs)("span",{className:"ml-2 text-gray-900",children:["Room ",(null===(t=$.room)||void 0===t?void 0:t.number)||"N/A"]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium text-gray-700",children:"Status:"}),(0,xn.jsx)("span",{className:"ml-2 text-gray-900 capitalize",children:$.status||"N/A"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium text-gray-700",children:"Assigned At:"}),(0,xn.jsx)("span",{className:"ml-2 text-gray-900",children:$.assigned_at?new Date($.assigned_at).toLocaleString():"N/A"})]}),$.last_used_at&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium text-gray-700",children:"Completed Time:"}),(0,xn.jsx)("span",{className:"ml-2 text-gray-900 font-semibold text-green-600",children:new Date($.last_used_at).toLocaleString()})]})]})]}),(e=>{const t=null===(e=$.service)||void 0===e?void 0:e.inventory_items;return console.log("[DEBUG Modal] Inventory items check:",{hasService:!!$.service,hasInventoryItems:!!t,inventoryItemsType:typeof t,inventoryItemsIsArray:Array.isArray(t),inventoryItemsLength:null===t||void 0===t?void 0:t.length,inventoryItemsValue:t}),t&&Array.isArray(t)&&t.length>0?(0,xn.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,xn.jsx)("h3",{className:"font-semibold text-lg text-gray-800 mb-3",children:"Inventory Items Needed"}),(0,xn.jsx)("div",{className:"space-y-2",children:t.map((e,t)=>(0,xn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded border border-green-200",children:[(0,xn.jsxs)("div",{className:"flex-1",children:[(0,xn.jsx)("span",{className:"font-medium text-gray-800",children:e.name}),e.item_code&&(0,xn.jsxs)("span",{className:"ml-2 text-sm text-gray-600",children:["(",e.item_code,")"]})]}),(0,xn.jsxs)("div",{className:"text-right",children:[(0,xn.jsxs)("span",{className:"text-sm text-gray-600",children:[e.quantity," ",e.unit]}),e.unit_price>0&&(0,xn.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["@ \u20b9",e.unit_price,"/",e.unit]})]})]},t))})]}):(0,xn.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,xn.jsxs)("p",{className:"text-sm text-gray-600 italic",children:["No inventory items required for this service.",t&&Array.isArray(t)&&0===t.length&&(0,xn.jsx)("span",{className:"block mt-1 text-xs",children:"(Service has empty inventory_items array)"}),!t&&(0,xn.jsx)("span",{className:"block mt-1 text-xs",children:"(Service has no inventory_items property)"})]})})})(),ae&&ae.length>0&&(0,xn.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,xn.jsx)("h3",{className:"font-semibold text-lg text-gray-800 mb-3",children:"Returned Inventory Items"}),(0,xn.jsx)("div",{className:"space-y-2",children:ae.map((e,t)=>{var r,n,i,a,s,o;return(0,xn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded border border-purple-200",children:[(0,xn.jsxs)("div",{className:"flex-1",children:[(0,xn.jsx)("span",{className:"font-medium text-gray-800",children:(null===(r=e.item)||void 0===r?void 0:r.name)||e.item_name||"Unknown Item"}),(null===(n=e.item)||void 0===n?void 0:n.item_code)&&(0,xn.jsxs)("span",{className:"ml-2 text-sm text-gray-600",children:["(",e.item.item_code,")"]}),"returned"===e.status&&(0,xn.jsx)("span",{className:"ml-2 px-2 py-1 text-xs bg-green-100 text-green-800 rounded",children:"Fully Returned"}),"partially_returned"===e.status&&(0,xn.jsx)("span",{className:"ml-2 px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Partially Returned"})]}),(0,xn.jsxs)("div",{className:"text-right",children:[(0,xn.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,xn.jsxs)("div",{children:["Assigned: ",e.quantity_assigned," ",(null===(i=e.item)||void 0===i?void 0:i.unit)||e.unit||"pcs"]}),(0,xn.jsxs)("div",{children:["Used: ",e.quantity_used," ",(null===(a=e.item)||void 0===a?void 0:a.unit)||e.unit||"pcs"]}),(0,xn.jsxs)("div",{className:"font-semibold text-green-600",children:["Returned: ",e.quantity_returned," ",(null===(s=e.item)||void 0===s?void 0:s.unit)||e.unit||"pcs"]}),e.balance_quantity>0&&(0,xn.jsxs)("div",{className:"text-orange-600",children:["Balance: ",e.balance_quantity," ",(null===(o=e.item)||void 0===o?void 0:o.unit)||e.unit||"pcs"]})]}),e.returned_at&&(0,xn.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Returned: ",new Date(e.returned_at).toLocaleString()]})]})]},t)})})]}),(!ae||0===ae.length)&&"completed"===$.status&&(0,xn.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,xn.jsx)("p",{className:"text-sm text-gray-600 italic",children:"No inventory items have been returned yet."})})]}),(0,xn.jsx)("div",{className:"mt-6 flex justify-end",children:(0,xn.jsx)("button",{onClick:()=>{Z(null),se([])},className:"px-6 py-2 rounded-lg text-sm font-medium bg-gray-500 hover:bg-gray-600 text-white",children:"Close"})})]})})}),J&&te.length>0&&(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xn.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,xn.jsxs)("div",{className:"p-6",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Return Inventory Items"}),(0,xn.jsx)("button",{onClick:()=>{ee(null),re([]),ie({})},className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]}),(0,xn.jsxs)("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,xn.jsx)("p",{className:"text-gray-700 font-semibold mb-2",children:"\u26a0\ufe0f Return Only Used Items"}),(0,xn.jsxs)("p",{className:"text-sm text-gray-600",children:["Only items that were actually ",(0,xn.jsx)("strong",{children:"used"})," in this service can be returned. Return quantity cannot exceed the quantity used. All returns will be tracked with transparent transactions."]})]}),(0,xn.jsx)("div",{className:"space-y-4 mb-6",children:te.map(e=>{var t,r,n,i,a,s,o,l,c;const d=e.balance_quantity||0,u=e.quantity_used||0,h=Math.min(d,u);return(0,xn.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,xn.jsxs)("div",{className:"flex-1",children:[(0,xn.jsx)("h4",{className:"font-semibold text-gray-800",children:(null===(t=e.item)||void 0===t?void 0:t.name)||"Unknown Item"}),(null===(r=e.item)||void 0===r?void 0:r.item_code)&&(0,xn.jsxs)("p",{className:"text-sm text-gray-600",children:["Code: ",e.item.item_code]}),(0,xn.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Service: ",(null===(n=e.assigned_service)||void 0===n||null===(i=n.service)||void 0===i?void 0:i.name)||"N/A"]})]}),(0,xn.jsxs)("div",{className:"text-right",children:[(0,xn.jsxs)("p",{className:"text-sm text-gray-600",children:["Assigned: ",e.quantity_assigned," ",(null===(a=e.item)||void 0===a?void 0:a.unit)||"pcs"]}),(0,xn.jsxs)("p",{className:"text-sm font-semibold text-green-600",children:["Used: ",u," ",(null===(s=e.item)||void 0===s?void 0:s.unit)||"pcs"]}),(0,xn.jsxs)("p",{className:"text-sm text-gray-600",children:["Already Returned: ",e.quantity_returned," ",(null===(o=e.item)||void 0===o?void 0:o.unit)||"pcs"]}),(0,xn.jsxs)("p",{className:"text-sm font-semibold text-blue-600",children:["Max Returnable: ",h," ",(null===(l=e.item)||void 0===l?void 0:l.unit)||"pcs"]})]})]}),(0,xn.jsxs)("div",{className:"mt-3",children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity to Return (from used items only):"}),(0,xn.jsx)("input",{type:"number",min:"0",max:h,step:"0.01",value:void 0!==ne[e.id]?ne[e.id]:h,onChange:t=>{const r=t.target.value;if(""===r)return void ie(Fe(Fe({},ne),{},{[e.id]:""}));const n=parseFloat(r);if(isNaN(n))return void ie(Fe(Fe({},ne),{},{[e.id]:r}));const i=Math.max(0,Math.min(n,h));ie(Fe(Fe({},ne),{},{[e.id]:i}))},onBlur:t=>{const r=parseFloat(t.target.value);if(isNaN(r)||r<0)ie(Fe(Fe({},ne),{},{[e.id]:0}));else{const t=Math.min(r,h);ie(Fe(Fe({},ne),{},{[e.id]:t}))}},className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,xn.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum returnable: ",h," ",(null===(c=e.item)||void 0===c?void 0:c.unit)||"pcs"," (based on used quantity)"]}),0===u&&(0,xn.jsx)("p",{className:"text-xs text-red-600 mt-1 font-semibold",children:"\u26a0\ufe0f No items were used - nothing to return"})]})]},e.id)})}),(0,xn.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,xn.jsx)("button",{onClick:()=>{ee(null),re([]),ie({})},className:"px-6 py-2 rounded-lg text-sm font-medium bg-gray-500 hover:bg-gray-600 text-white",children:"Cancel"}),(0,xn.jsx)("button",{onClick:async()=>{if(J)try{const e=te.filter(e=>{const t=ne[e.id],r=parseFloat(t),n=e.quantity_used||0;return!isNaN(r)&&r>0&&n>0&&r<=n}).map(e=>{var t;const r=ne[e.id],n=parseFloat(r),i=e.quantity_used||0,a=Math.min(n,i);return{assignment_id:e.id,quantity_returned:a,notes:"Returned on service completion - Transparent transaction for ".concat((null===(t=e.item)||void 0===t?void 0:t.name)||"item"," (Used: ").concat(i,", Returned: ").concat(a,")")}}),t=e.filter(e=>{const t=te.find(t=>t.id===e.assignment_id);return!t||0===(t.quantity_used||0)});if(t.length>0)return void alert("Error: Cannot return items that were not used in the service. Please check your return quantities.");await mn.patch("/services/assigned/".concat(J),{status:"completed",inventory_returns:e.length>0?e:null}),ee(null),re([]),ie({}),be(),alert("Service marked as completed and inventory items returned successfully!")}catch(r){var e,t;console.error("Failed to complete service with returns:",r),alert("Failed to complete service: ".concat((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||r.message))}},className:"px-6 py-2 rounded-lg text-sm font-medium bg-green-600 hover:bg-green-700 text-white",children:"Complete & Return Items"})]})]})})})]})})},a$=()=>{const[e,t]=(0,i.useState)([]),[r,n]=(0,i.useState)([]),[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(!0),[u,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)({employee_id:"",category:"",amount:"",date:"",description:"",bill_image:null}),m=(0,i.useRef)(null),g=un();(0,i.useEffect)(()=>{b(),v()},[]);const x=(0,i.useCallback)(async()=>{if(!u&&c){h(!0);try{const r=(await mn.get("/expenses?skip=".concat(e.length,"&limit=20"))).data||[],n=r.map(e=>Fe(Fe({},e),{},{trend:Array.from({length:30},()=>Math.floor(5e3*Math.random()))}));t(e=>[...e,...n]),r.length<20&&d(!1)}catch(r){console.error("Failed to load more expenses:",r)}finally{h(!1)}}},[u,c,e.length]),y=CX(x,c,u),v=async()=>{try{const e=await mn.get("/expenses?skip=0&limit=20"),r=e.data.map(e=>Fe(Fe({},e),{},{trend:Array.from({length:30},()=>Math.floor(5e3*Math.random()))}));t(r),d(20===e.data.length)}catch(e){console.error("Error fetching expenses:",e),alert("Failed to fetch expenses")}},b=async()=>{try{const e=await mn.get("/employees?limit=1000");n(e.data)}catch(e){console.error("Error fetching employees:",e),alert("Failed to fetch employees")}},w=e.length,j=e.reduce((e,t)=>e+parseFloat(t.amount||0),0),N=w?Math.round(j/w):0,_=[{label:"Total Expenses",value:w,color:"#4f46e5",trend:e.map(e=>parseFloat(e.amount||0))},{label:"Total Amount",value:j,color:"#16a34a",trend:e.map(e=>parseFloat(e.amount||0))},{label:"Avg Expense",value:N,color:"#f59e0b",trend:e.map(e=>parseFloat(e.amount||0))}];return(0,xn.jsxs)(Zu,{children:[(0,xn.jsxs)("div",{className:"bubbles-container",children:[(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{})]}),(0,xn.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Expense Management"}),(0,xn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:_.map((e,t)=>(0,xn.jsxs)("div",{className:"relative bg-white p-5 rounded-xl shadow cursor-pointer hover:shadow-xl transition",onMouseEnter:()=>l(t),onMouseLeave:()=>l(null),children:[(0,xn.jsxs)("div",{className:"flex flex-col items-center",children:[(0,xn.jsx)("span",{className:"text-gray-500",children:e.label}),(0,xn.jsx)("span",{className:"text-2xl font-bold",style:{color:e.color},children:(0,xn.jsx)(IU.Ay,{end:e.value,duration:1.5,separator:","})})]}),o===t&&(0,xn.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center rounded-xl p-2 shadow-lg",children:(0,xn.jsx)(Fh,{width:"100%",height:50,children:(0,xn.jsxs)(qz,{data:e.trend.map((e,t)=>({day:t+1,value:e})),children:[(0,xn.jsx)(vU,{type:"monotone",dataKey:"value",stroke:e.color,strokeWidth:2,dot:!1}),(0,xn.jsx)(lM,{contentStyle:{fontSize:12},formatter:e=>["\u20b9".concat(e),"Amount"]})]})})})]},t))}),(0,xn.jsx)("section",{className:"flex justify-center mb-8",children:(0,xn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=new FormData;e.append("employee_id",f.employee_id),e.append("category",f.category),e.append("amount",f.amount),e.append("date",f.date),e.append("description",f.description),f.bill_image&&e.append("image",f.bill_image),await mn.post("/expenses",e,{headers:{"Content-Type":"multipart/form-data"}}),p({employee_id:"",category:"",amount:"",date:"",description:"",bill_image:null}),s(null),m.current.value="",v()}catch(t){console.error("Error submitting expense:",t),alert("Failed to submit expense")}},className:"bg-white p-8 rounded-3xl shadow-lg w-full max-w-4xl grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,xn.jsxs)("select",{value:f.employee_id,onChange:e=>p(Fe(Fe({},f),{},{employee_id:e.target.value})),className:"border p-3 rounded-xl focus:ring-2 focus:ring-indigo-500 w-full",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Employee"}),r.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,xn.jsx)("input",{type:"text",placeholder:"Category",value:f.category,onChange:e=>p(Fe(Fe({},f),{},{category:e.target.value})),className:"border p-3 rounded-xl focus:ring-2 focus:ring-indigo-500 w-full",required:!0}),(0,xn.jsx)("input",{type:"number",placeholder:"Amount",value:f.amount,onChange:e=>p(Fe(Fe({},f),{},{amount:e.target.value})),className:"border p-3 rounded-xl focus:ring-2 focus:ring-indigo-500 w-full",required:!0}),(0,xn.jsx)("input",{type:"date",value:f.date,onChange:e=>p(Fe(Fe({},f),{},{date:e.target.value})),className:"border p-3 rounded-xl focus:ring-2 focus:ring-indigo-500 w-full",required:!0}),(0,xn.jsx)("input",{type:"text",placeholder:"Description",value:f.description,onChange:e=>p(Fe(Fe({},f),{},{description:e.target.value})),className:"border p-3 rounded-xl focus:ring-2 focus:ring-indigo-500 w-full md:col-span-2"}),(0,xn.jsx)("input",{type:"file",accept:"image/*",ref:m,onChange:e=>{const t=e.target.files[0];t&&(p(Fe(Fe({},f),{},{bill_image:t})),s(URL.createObjectURL(t)))},className:"border p-3 rounded-xl focus:ring-2 focus:ring-indigo-500 w-full"}),a&&(0,xn.jsx)("div",{className:"md:col-span-4 flex justify-center",children:(0,xn.jsx)("img",{src:a,alt:"Preview",className:"h-24 rounded-xl border object-cover mt-2"})}),(0,xn.jsx)("div",{className:"md:col-span-4 flex justify-center",children:(0,xn.jsx)("button",{type:"submit",className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-2xl hover:scale-105 transform transition shadow-lg",children:"Add Expense"})})]})}),(0,xn.jsxs)("section",{className:"bg-white p-6 rounded-2xl shadow",children:[(0,xn.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Expense List"}),(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full text-sm text-left border-collapse border border-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-100",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"p-3 border",children:"#"}),(0,xn.jsx)("th",{className:"p-3 border",children:"Employee"}),(0,xn.jsx)("th",{className:"p-3 border",children:"Category"}),(0,xn.jsx)("th",{className:"p-3 border",children:"Amount"}),(0,xn.jsx)("th",{className:"p-3 border",children:"Date"}),(0,xn.jsx)("th",{className:"p-3 border",children:"Description"}),(0,xn.jsx)("th",{className:"p-3 border",children:"Bill"}),(0,xn.jsx)("th",{className:"p-3 border",children:"Action"})]})}),(0,xn.jsx)("tbody",{children:e.length>0?e.map((e,t)=>(0,xn.jsxs)("tr",{className:"hover:bg-gray-50 border-b",children:[(0,xn.jsx)("td",{className:"p-2",children:t+1}),(0,xn.jsx)("td",{className:"p-2",children:e.employee_name||"N/A"}),(0,xn.jsx)("td",{className:"p-2",children:e.category}),(0,xn.jsxs)("td",{className:"p-2 text-green-600 font-semibold",children:["\u20b9",e.amount]}),(0,xn.jsx)("td",{className:"p-2",children:e.date.includes("T")?e.date.split("T")[0]:e.date}),(0,xn.jsx)("td",{className:"p-2",children:e.description}),(0,xn.jsx)("td",{className:"p-2",children:e.image&&(0,xn.jsx)("img",{src:"".concat(g,"/").concat((e.image||"").replace(/\\/g,"/").replace(/^\//,"")),alt:"Bill",className:"h-12 rounded"})}),(0,xn.jsx)("td",{className:"p-2",children:(0,xn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this expense?"))try{await mn.delete("/expenses/".concat(e)),v()}catch(t){console.error("Delete failed:",t),alert("Failed to delete expense")}})(e.id),className:"text-red-500 hover:underline",children:"Delete"})})]},e.id)):(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"8",className:"p-4 text-center text-gray-500",children:"No expenses found."})})}),c&&e.length>0&&(0,xn.jsx)("tbody",{ref:y,children:(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"8",className:"text-center p-4",children:u&&(0,xn.jsx)("span",{className:"text-indigo-600",children:"Loading more..."})})})})]})})]})]})};hK.register(...mX);const s$=Cu("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]),o$=Cu("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),l$=Cu("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);function c$(){var e;const t=ie(),[r,n]=(0,i.useState)("dashboard");(0,i.useEffect)(()=>{t.pathname.includes("/food-categories")||t.pathname.includes("/food-items")?n("management"):(t.pathname.includes("/food-orders"),n("dashboard"))},[t.pathname]);const[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(""),[u,h]=(0,i.useState)({totalRevenue:0,totalOrders:0,completedOrders:0,pendingOrders:0,deliveryOrders:0,dineInOrders:0,totalItemsSold:0,topItems:[],salesByDate:[],ordersByStatus:[],employeePerformance:[],revenueByType:[],itemsUsage:[],totalCOGS:0,totalProfit:0,profitMargin:0,averageOrderValue:0,averageCOGS:0,averageProfit:0,orderCosts:[]}),[f,p]=(0,i.useState)({fromDate:"",toDate:"",orderType:"all"}),[m,g]=(0,i.useState)([]),[x,y]=(0,i.useState)({}),[v,b]=(0,i.useState)([]),[w,j]=(0,i.useState)([]),[N,_]=(0,i.useState)([]),[k,S]=(0,i.useState)([]),[A,C]=(0,i.useState)([]),[E,P]=(0,i.useState)(""),[T,O]=(0,i.useState)(""),[I,L]=(0,i.useState)(0),[D,M]=(0,i.useState)("dine_in"),[R,F]=(0,i.useState)(""),[B,z]=(0,i.useState)(""),[U,q]=(0,i.useState)(""),[W,H]=(0,i.useState)(!0),[V,G]=(0,i.useState)(!1),[K,Y]=(0,i.useState)(1),[X,Q]=(0,i.useState)(null),[$,Z]=(0,i.useState)({}),[J,ee]=(0,i.useState)(!1),[te,re]=(0,i.useState)({}),[ne,ae]=(0,i.useState)(null),[se,oe]=(0,i.useState)(""),[le,ce]=(0,i.useState)(null),[de,ue]=(0,i.useState)("unpaid"),[he,fe]=(0,i.useState)(!1),[pe,me]=(0,i.useState)(null),[ge,xe]=(0,i.useState)(""),[ye,ve]=(0,i.useState)(""),[be,we]=(0,i.useState)(""),[je,Ne]=(0,i.useState)(""),[_e,ke]=(0,i.useState)([]),[Se,Ae]=(0,i.useState)([]),[Ce,Ee]=(0,i.useState)(null),[Pe,Te]=(0,i.useState)(!0),[Oe,Ie]=(0,i.useState)(!1),[Le,De]=(0,i.useState)({search:"",category:"all",availability:"all"}),[Me,Re]=(0,i.useState)(""),[Be,ze]=(0,i.useState)(null),[Ue,qe]=(0,i.useState)(null),[We,He]=(0,i.useState)([]),[Ve,Ge]=(0,i.useState)(""),[Ke,Ye]=(0,i.useState)(null),[Xe,Qe]=(0,i.useState)([]),[$e,Ze]=(0,i.useState)([]),[Je,et]=(0,i.useState)(""),[tt,rt]=(0,i.useState)(""),[nt,it]=(0,i.useState)([]),at={pending:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"},st=localStorage.getItem("token"),ot=e=>{if(!e)return"https://placehold.co/400x300/e2e8f0/a0aec0?text=No+Image";if(e.startsWith("http"))return e;const t=un();return e.startsWith("/")?"".concat(t).concat(e):"".concat(t,"/").concat(e)},lt=e=>{let{title:t,value:r,icon:n,color:i}=e;return(0,xn.jsxs)("div",{className:"p-6 rounded-2xl text-white shadow-lg flex items-center justify-between transition-transform duration-300 transform hover:scale-105 ".concat(i),children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("h4",{className:"text-lg font-medium",children:t}),(0,xn.jsx)("p",{className:"text-3xl font-bold mt-1",children:r})]}),(0,xn.jsx)("div",{className:"text-4xl opacity-80",children:n})]})};(0,i.useEffect)(()=>{vt(),"management"===r?(gt(),xt(),ct()):"requests"===r?mt():"dashboard"===r&&ht()},[r]);const ct=async()=>{try{const e=await mn.get("/inventory/items?limit=1000");Ze(e.data||[])}catch(pe){console.error("Failed to fetch inventory items:",pe),Ze([])}},dt=(e,t,r)=>{const n=[...Xe];n[e][t]="quantity"===t?parseFloat(r)||0:r,Qe(n)},ut=(e,t,r)=>{const n=[...nt];n[e][t]=r,it(n)};(0,i.useEffect)(()=>{"dashboard"===r&&pt()},[r,m,f,x]);const ht=async()=>{try{const[e,t,r,n]=await Promise.all([mn.get("/food-orders/?limit=10000").catch(e=>(console.error("Error fetching orders:",e),{data:[]})),mn.get("/food-items/").catch(e=>(console.error("Error fetching food items:",e),{data:[]})),mn.get("/employees/").catch(e=>(console.error("Error fetching employees:",e),{data:[]})),mn.get("/inventory/items?limit=10000").catch(e=>(console.error("Error fetching inventory items:",e),{data:[]}))]),i=e.data||[],a=t.data||[],s=r.data||[],o=n.data||[],l={};a.forEach(e=>{l[e.id]=e});const c={};s.forEach(e=>{c[e.id]=e});const d={};o.forEach(e=>{d[e.id]=e}),Ze(o);const u=i.map(e=>{const t=Fe({},e);return t.items&&Array.isArray(t.items)&&(t.items=t.items.map(e=>{const t=l[e.food_item_id];return Fe(Fe({},e),{},{food_item:t||{id:e.food_item_id,name:"Item ".concat(e.food_item_id),price:0}})})),t.assigned_employee_id&&(t.assigned_employee=c[t.assigned_employee_id]||{id:t.assigned_employee_id,name:"Employee ".concat(t.assigned_employee_id)}),t});g(u),ft(a)}catch(pe){console.error("Failed to fetch orders for dashboard:",pe),g([])}},ft=async e=>{try{const t=e.map(e=>mn.get("/recipes?food_item_id=".concat(e.id)).catch(()=>({data:[]}))),r=await Promise.all(t),n={};r.forEach((t,r)=>{const i=t.data||[];i.length>0&&(n[e[r].id]=i[0])}),y(n)}catch(pe){console.error("Failed to fetch recipes:",pe)}},pt=()=>{let e=[...m];f.fromDate&&(e=e.filter(e=>e.created_at&&e.created_at>=f.fromDate)),f.toDate&&(e=e.filter(e=>e.created_at&&e.created_at<="".concat(f.toDate,"T23:59:59"))),"all"!==f.orderType&&(e=e.filter(e=>e.order_type===f.orderType));const t=e.filter(e=>"completed"===e.status).reduce((e,t)=>e+(parseFloat(t.amount)||0),0),r=e.length,n=e.filter(e=>"completed"===e.status).length,i=e.filter(e=>"pending"===e.status).length,a=e.filter(e=>"room_service"===e.order_type).length,s=e.filter(e=>"dine_in"===e.order_type).length,o={};let l=0;e.forEach(e=>{e.items&&Array.isArray(e.items)&&e.items.forEach(t=>{const r=t.food_item_id,n=t.quantity||0;var i;(l+=n,o[r])||(o[r]={food_item_id:r,food_item_name:(null===(i=t.food_item)||void 0===i?void 0:i.name)||"Item ".concat(r),quantity:0,revenue:0});if(o[r].quantity+=n,"completed"===e.status){var a;const e=(null===(a=t.food_item)||void 0===a?void 0:a.price)||0;o[r].revenue+=e*n}})});const c=Object.values(o).sort((e,t)=>t.quantity-e.quantity).slice(0,10),d={};e.filter(e=>"completed"===e.status).forEach(e=>{const t=e.created_at?e.created_at.split("T")[0]:"";t&&(d[t]||(d[t]={date:t,revenue:0,orders:0}),d[t].revenue+=parseFloat(e.amount)||0,d[t].orders+=1)});const u=Object.values(d).sort((e,t)=>new Date(e.date)-new Date(t.date)).slice(-30),p={};e.forEach(e=>{const t=e.status||"unknown";p[t]=(p[t]||0)+1});const g=Object.entries(p).map(e=>{let[t,r]=e;return{name:t.replace("_"," ").toUpperCase(),value:r}}),y={};e.filter(e=>"completed"===e.status&&e.assigned_employee_id).forEach(e=>{const t=e.assigned_employee_id;var r;y[t]||(y[t]={employee_id:t,employee_name:(null===(r=e.assigned_employee)||void 0===r?void 0:r.name)||"Employee ".concat(t),orders:0,revenue:0});y[t].orders+=1,y[t].revenue+=parseFloat(e.amount)||0});const v=Object.values(y).sort((e,t)=>t.revenue-e.revenue).slice(0,10),b=[{name:"Dine In",value:e.filter(e=>"dine_in"===e.order_type&&"completed"===e.status).reduce((e,t)=>e+(parseFloat(t.amount)||0),0)},{name:"Room Service",value:e.filter(e=>"room_service"===e.order_type&&"completed"===e.status).reduce((e,t)=>e+(parseFloat(t.amount)||0),0)}],w={};e.forEach(e=>{e.items&&Array.isArray(e.items)&&e.items.forEach(e=>{const t=e.food_item_id,r=x[t];r&&r.ingredients&&Array.isArray(r.ingredients)&&r.ingredients.forEach(t=>{const r=t.inventory_item_id,n=(parseFloat(t.quantity)||0)*(e.quantity||0);var i,a;w[r]||(w[r]={inventory_item_id:r,inventory_item_name:(null===(i=t.inventory_item)||void 0===i?void 0:i.name)||t.inventory_item_name||"Item ".concat(r),quantity:0,unit:(null===(a=t.inventory_item)||void 0===a?void 0:a.unit)||t.unit||"unit"});w[r].quantity+=n})})});const j=Object.values(w).sort((e,t)=>t.quantity-e.quantity).slice(0,20),N=e.filter(e=>"completed"===e.status);let _=0,k=0;const S=[];N.forEach(e=>{let t=0;e.items&&Array.isArray(e.items)&&e.items.forEach(r=>{var n;const i=r.food_item_id,a=r.quantity||0,s=x[i];if(s&&s.ingredients&&Array.isArray(s.ingredients)){const e=s.servings||1,r=a/e;s.ingredients.forEach(e=>{const n=$e.find(t=>t.id===e.inventory_item_id);if(n&&n.unit_price){const i=(e.quantity||0)*n.unit_price*r;t+=i}})}"room_service"===e.order_type&&null!==(n=r.food_item)&&void 0!==n&&n.extra_inventory_items&&r.food_item.extra_inventory_items.forEach(e=>{const r=$e.find(t=>t.id===e.inventory_item_id);r&&r.unit_price&&(t+=(e.quantity||0)*r.unit_price*a)})});const r=parseFloat(e.amount)||0,n=r-t;_+=t,k+=n,S.push({orderId:e.id,revenue:r,cost:t,profit:n,margin:r>0?n/r*100:0})});const A=t>0?k/t*100:0,C=n>0?t/n:0,E=n>0?_/n:0,P=n>0?k/n:0;Object.keys(o).forEach(e=>{const t=o[e],r=x[e];let n=0;if(r&&r.ingredients&&Array.isArray(r.ingredients)){const e=r.servings||1,i=t.quantity/e;r.ingredients.forEach(e=>{const t=$e.find(t=>t.id===e.inventory_item_id);t&&t.unit_price&&(n+=(e.quantity||0)*t.unit_price*i)})}t.cost=n,t.profit=t.revenue-n,t.margin=t.revenue>0?t.profit/t.revenue*100:0}),h({totalRevenue:t,totalOrders:r,completedOrders:n,pendingOrders:i,deliveryOrders:a,dineInOrders:s,totalItemsSold:l,topItems:c,salesByDate:u,ordersByStatus:g,employeePerformance:v,revenueByType:b,itemsUsage:j,totalCOGS:_,totalProfit:k,profitMargin:A,averageOrderValue:C,averageCOGS:E,averageProfit:P,orderCosts:S})},mt=async()=>{try{const e=((await mn.get("/service-requests?limit=1000")).data||[]).filter(e=>e.food_order_id);s(e)}catch(pe){console.error("Failed to fetch food order requests:",pe),s([])}},gt=async()=>{try{const e=await mn.get("/food-categories",{headers:{Authorization:"Bearer ".concat(st)}});He(e.data)}catch(e){console.error("Failed to load categories:",e)}},xt=async()=>{try{const e=await mn.get("/food-items/",{headers:{Authorization:"Bearer ".concat(st)}});S(e.data)}catch(e){console.error("Failed to fetch items",e)}},yt=()=>{xe(""),ve(""),we(""),Ne(""),Ge(""),ke([]),Ae([]),Ee(null),Te(!0),Ie(!1),Qe([]),et(""),rt(""),it([])},vt=async()=>{try{var e;const[t,r,n,i,a,s]=await Promise.all([mn.get("/food-orders/?skip=0&limit=20"),mn.get("/rooms?limit=1000").catch(e=>(console.error("Error fetching rooms:",e),{data:[]})),mn.get("/employees/").catch(e=>(console.error("Error fetching employees:",e),{data:[]})),mn.get("/food-items/").catch(e=>(console.error("Error fetching food items:",e),{data:[]})),mn.get("/bookings?limit=1000").catch(e=>(console.error("Error fetching bookings:",e),{data:{bookings:[]}})),mn.get("/packages/bookingsall?limit=1000").catch(e=>(console.error("Error fetching package bookings:",e),{data:[]}))]);b(t.data),H(12===t.data.length),_(n.data),S(i.data);const o=r.data,l=(null===(e=a.data)||void 0===e?void 0:e.bookings)||[],c=(s.data||[]).map(e=>Fe(Fe({},e),{},{is_package:!0})),d=new Date;d.setHours(0,0,0,0);const u=new Set,h=e=>e?e.toLowerCase().replace(/[-_\s]/g,""):"",f=e=>{if(!e)return!1;const t=e.toLowerCase().replace(/[-_\s]/g,"");return("checkedin"===t||"booked"===t)&&"cancelled"!==t&&!t.includes("checkedout")};l.forEach(e=>{if(f(e.status)){const t=new Date(e.check_in),r=new Date(e.check_out);t.setHours(0,0,0,0),r.setHours(0,0,0,0),t<=d&&r>=d?e.rooms&&Array.isArray(e.rooms)?e.rooms.forEach(t=>{t&&t.id?(u.add(t.id),console.log("Added active regular room: ".concat(t.number||t.id," (ID: ").concat(t.id,") from booking ").concat(e.id,", status: ").concat(e.status))):console.log("Regular booking ".concat(e.id," room missing id:"),t)}):console.log("Regular booking ".concat(e.id," has active status but no rooms array or rooms is not an array")):console.log("Regular booking ".concat(e.id," is active but dates don't match: check_in=").concat(t,", check_out=").concat(r,", today=").concat(d))}else console.log("Regular booking ".concat(e.id," status '").concat(e.status,"' is not active (normalized: '").concat(h(e.status),"')"))}),c.forEach(e=>{if(f(e.status)){const t=new Date(e.check_in),r=new Date(e.check_out);t.setHours(0,0,0,0),r.setHours(0,0,0,0),t<=d&&r>=d?e.rooms&&Array.isArray(e.rooms)?e.rooms.forEach(t=>{const r=t.room||t,n=(null===r||void 0===r?void 0:r.id)||t.room_id;n?(u.add(n),console.log("Added active package room: ".concat((null===r||void 0===r?void 0:r.number)||n," (ID: ").concat(n,") from booking ").concat(e.id,", status: ").concat(e.status))):console.log("Package booking ".concat(e.id," room link missing room data:"),t)}):console.log("Package booking ".concat(e.id," has active status but no rooms array")):console.log("Package booking ".concat(e.id," is active but dates don't match: check_in=").concat(t,", check_out=").concat(r,", today=").concat(d))}else console.log("Package booking ".concat(e.id," status '").concat(e.status,"' is not active (normalized: '").concat(h(e.status),"')"))}),o.forEach(e=>{const t=h(e.status);("checkedin"===t||"booked"===t||"occupied"===t||t.includes("checkedin"))&&u.add(e.id)});const p=o.filter(e=>u.has(e.id));console.log("Food Orders - Total checked-in room IDs: ".concat(u.size),Array.from(u)),console.log("Food Orders - Filtered checked-in rooms: ".concat(p.length),p.map(e=>"".concat(e.number||e.id," (status: ").concat(e.status,")"))),console.log("Food Orders - Room Availability Check:",{totalRooms:o.length,checkedInRoomIds:Array.from(u),checkedInRoomsCount:p.length,regularBookingsCount:l.length,packageBookingsCount:c.length,activeRegularBookings:l.filter(e=>f(e.status)).length,activePackageBookings:c.filter(e=>f(e.status)).length,today:d.toISOString(),allRoomStatuses:o.map(e=>({id:e.id,number:e.number,status:e.status}))}),j(p)}catch(pe){console.error("Failed to fetch data:",pe),b([]),j([]),_([]),S([])}},bt=(e,t,r)=>{const n=[...A];n[e][t]="quantity"===t?parseInt(r):r,C(n),wt(n)},wt=e=>{let t=0;e.forEach(e=>{const r=k.find(t=>t.id===parseInt(e.food_item_id));r&&(t+=r.price*e.quantity)}),L(t)},jt=async e=>{ee(!0);try{const t=new Map,r=e.items.map(e=>(async e=>{if(te[e])return te[e];try{const t=(await mn.get("/recipes?food_item_id=".concat(e))).data||[];return re(r=>Fe(Fe({},r),{},{[e]:t})),t}catch(pe){return console.error("Failed to fetch recipe for food item ".concat(e,":"),pe),[]}})(e.food_item_id)),n=await Promise.all(r);e.items.forEach((e,r)=>{const i=n[r],a=e.quantity||1;if(i&&i.length>0){var s;const e=i[0],r=a/(e.servings||1);null===(s=e.ingredients)||void 0===s||s.forEach(e=>{const n=e.inventory_item_id,i=(e.quantity||0)*r;if(t.has(n)){t.get(n).totalQuantity+=i}else t.set(n,{name:e.inventory_item_name||"Unknown",code:e.inventory_item_code||"",totalQuantity:i,unit:e.unit||"pcs",notes:e.notes||""})})}});const i=Array.from(t.values()).sort((e,t)=>e.name.localeCompare(t.name));return Z(t=>Fe(Fe({},t),{},{[e.id]:i})),i}catch(pe){return console.error("Failed to calculate ingredients:",pe),[]}finally{ee(!1)}},Nt=v.length,_t=v.reduce((e,t)=>e+t.amount,0),kt=v.filter(e=>"completed"===e.status).length,St=(Array.from({length:7},(e,t)=>"Day ".concat(t+1)),Array.from({length:7},()=>Math.floor(10*Math.random()+1)),Array.from({length:4},()=>Math.floor(5e3*Math.random()+2e3)),v.filter(e=>{var t;const r=!B||e.status===B,n=!U||(null===(t=e.created_at)||void 0===t?void 0:t.startsWith(U));return r&&n})),At=k.length,Ct=We.length,Et=k.filter(e=>e.available).length,Pt=k.filter(e=>{const t=e.name.toLowerCase().includes(Le.search.toLowerCase()),r="all"===Le.category||e.category_id===parseInt(Le.category),n="all"===Le.availability||"available"===Le.availability&&e.available||"unavailable"===Le.availability&&!e.available;return t&&r&&n});return(0,xn.jsx)(Zu,{children:(0,xn.jsxs)("div",{className:"p-6 space-y-8",children:[(0,xn.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,xn.jsx)("h2",{className:"text-3xl font-extrabold text-indigo-700",children:"\ud83c\udf7d Food & Beverage Management"})}),(0,xn.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:(0,xn.jsx)("div",{className:"flex border-b border-gray-200",children:[{id:"dashboard",label:"Dashboard"},{id:"orders",label:"Food Orders"},{id:"requests",label:"Requested Orders"},{id:"management",label:"Food Management"}].map(e=>(0,xn.jsx)("button",{onClick:()=>n(e.id),className:"px-6 py-3 font-medium transition-colors ".concat(r===e.id?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-900"),children:e.label},e.id))})}),"dashboard"===r&&(0,xn.jsxs)("div",{className:"space-y-6",children:[(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Filters"}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),(0,xn.jsx)("input",{type:"date",value:f.fromDate,onChange:e=>p(Fe(Fe({},f),{},{fromDate:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),(0,xn.jsx)("input",{type:"date",value:f.toDate,onChange:e=>p(Fe(Fe({},f),{},{toDate:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Type"}),(0,xn.jsxs)("select",{value:f.orderType,onChange:e=>p(Fe(Fe({},f),{},{orderType:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500",children:[(0,xn.jsx)("option",{value:"all",children:"All Types"}),(0,xn.jsx)("option",{value:"dine_in",children:"Dine In"}),(0,xn.jsx)("option",{value:"room_service",children:"Room Service"})]})]}),(0,xn.jsx)("div",{className:"flex items-end",children:(0,xn.jsx)("button",{onClick:()=>p({fromDate:"",toDate:"",orderType:"all"}),className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg transition-colors",children:"Clear Filters"})})]})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,xn.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-700 rounded-xl shadow-lg p-6 text-white",children:(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium opacity-90",children:"Total Revenue"}),(0,xn.jsxs)("p",{className:"text-3xl font-bold mt-1",children:["\u20b9",(u.totalRevenue||0).toLocaleString("en-IN",{maximumFractionDigits:2})]})]}),(0,xn.jsx)("div",{className:"text-4xl opacity-80",children:"\ud83d\udcb0"})]})}),(0,xn.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-700 rounded-xl shadow-lg p-6 text-white",children:(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium opacity-90",children:"Total Orders"}),(0,xn.jsx)("p",{className:"text-3xl font-bold mt-1",children:u.totalOrders})]}),(0,xn.jsx)("div",{className:"text-4xl opacity-80",children:"\ud83d\udce6"})]})}),(0,xn.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-purple-700 rounded-xl shadow-lg p-6 text-white",children:(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium opacity-90",children:"Completed Orders"}),(0,xn.jsx)("p",{className:"text-3xl font-bold mt-1",children:u.completedOrders}),(0,xn.jsxs)("p",{className:"text-xs opacity-75 mt-1",children:[u.totalOrders>0?(u.completedOrders/u.totalOrders*100).toFixed(1):0,"% completion rate"]})]}),(0,xn.jsx)("div",{className:"text-4xl opacity-80",children:"\u2705"})]})}),(0,xn.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-orange-700 rounded-xl shadow-lg p-6 text-white",children:(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium opacity-90",children:"Items Sold"}),(0,xn.jsx)("p",{className:"text-3xl font-bold mt-1",children:u.totalItemsSold})]}),(0,xn.jsx)("div",{className:"text-4xl opacity-80",children:"\ud83c\udf7d\ufe0f"})]})})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,xn.jsx)("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-700 rounded-xl shadow-lg p-6 text-white",children:(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium opacity-90",children:"Total Profit"}),(0,xn.jsxs)("p",{className:"text-3xl font-bold mt-1",children:["\u20b9",(u.totalProfit||0).toLocaleString("en-IN",{maximumFractionDigits:2})]}),(0,xn.jsxs)("p",{className:"text-xs opacity-75 mt-1",children:[(u.profitMargin||0).toFixed(1),"% margin"]})]}),(0,xn.jsx)("div",{className:"text-4xl opacity-80",children:"\ud83d\udcb5"})]})}),(0,xn.jsx)("div",{className:"bg-gradient-to-r from-red-500 to-red-700 rounded-xl shadow-lg p-6 text-white",children:(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium opacity-90",children:"Total COGS"}),(0,xn.jsxs)("p",{className:"text-3xl font-bold mt-1",children:["\u20b9",(u.totalCOGS||0).toLocaleString("en-IN",{maximumFractionDigits:2})]}),(0,xn.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Cost of goods sold"})]}),(0,xn.jsx)("div",{className:"text-4xl opacity-80",children:"\ud83d\udcca"})]})}),(0,xn.jsx)("div",{className:"bg-gradient-to-r from-teal-500 to-teal-700 rounded-xl shadow-lg p-6 text-white",children:(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium opacity-90",children:"Avg Order Value"}),(0,xn.jsxs)("p",{className:"text-3xl font-bold mt-1",children:["\u20b9",(u.averageOrderValue||0).toLocaleString("en-IN",{maximumFractionDigits:2})]}),(0,xn.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Per completed order"})]}),(0,xn.jsx)("div",{className:"text-4xl opacity-80",children:"\ud83d\udcc8"})]})}),(0,xn.jsx)("div",{className:"bg-gradient-to-r from-amber-500 to-amber-700 rounded-xl shadow-lg p-6 text-white",children:(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium opacity-90",children:"Avg Profit"}),(0,xn.jsxs)("p",{className:"text-3xl font-bold mt-1",children:["\u20b9",(u.averageProfit||0).toLocaleString("en-IN",{maximumFractionDigits:2})]}),(0,xn.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Per order"})]}),(0,xn.jsx)("div",{className:"text-4xl opacity-80",children:"\ud83c\udfaf"})]})})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[(0,xn.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Orders"}),(0,xn.jsx)("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:u.pendingOrders})]}),(0,xn.jsx)("div",{className:"text-3xl",children:"\u23f3"})]})}),(0,xn.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Dine In Orders"}),(0,xn.jsx)("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:u.dineInOrders}),(0,xn.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[u.totalOrders>0?(u.dineInOrders/u.totalOrders*100).toFixed(1):0,"% of total"]})]}),(0,xn.jsx)("div",{className:"text-3xl",children:"\ud83c\udf74"})]})}),(0,xn.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Room Service"}),(0,xn.jsx)("p",{className:"text-2xl font-bold text-indigo-600 mt-1",children:u.deliveryOrders}),(0,xn.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[u.totalOrders>0?(u.deliveryOrders/u.totalOrders*100).toFixed(1):0,"% of total"]})]}),(0,xn.jsx)("div",{className:"text-3xl",children:"\ud83d\ude9a"})]})})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,xn.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Sales Trend"}),(0,xn.jsx)("div",{className:"h-64",children:(0,xn.jsx)(kX,{data:{labels:u.salesByDate.map(e=>new Date(e.date).toLocaleDateString("en-IN",{month:"short",day:"numeric"})),datasets:[{label:"Revenue (\u20b9)",data:u.salesByDate.map(e=>e.revenue),borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.1)",tension:.4},{label:"Orders",data:u.salesByDate.map(e=>e.orders),borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0},tooltip:{mode:"index",intersect:!1}},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Revenue (\u20b9)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Orders"},grid:{drawOnChartArea:!1}}}}})})]}),(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,xn.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Order Status Distribution"}),(0,xn.jsx)("div",{className:"h-64",children:(0,xn.jsx)(SX,{data:{labels:u.ordersByStatus.map(e=>e.name),datasets:[{label:"Orders",data:u.ordersByStatus.map(e=>e.value),backgroundColor:["rgba(234, 179, 8, 0.8)","rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(239, 68, 68, 0.8)"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})})]})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,xn.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Revenue by Order Type"}),(0,xn.jsx)("div",{className:"h-64",children:(0,xn.jsx)(SX,{data:{labels:u.revenueByType.map(e=>e.name),datasets:[{label:"Revenue (\u20b9)",data:u.revenueByType.map(e=>e.value),backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(139, 92, 246, 0.8)"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){return"\u20b9"+e.parsed.y.toLocaleString("en-IN")}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return"\u20b9"+e.toLocaleString("en-IN")}}}}}})}),(0,xn.jsx)("div",{className:"mt-4 space-y-2",children:u.revenueByType.map((e,t)=>(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsx)("span",{className:"text-sm text-gray-600",children:e.name}),(0,xn.jsxs)("span",{className:"font-semibold text-gray-800",children:["\u20b9",e.value.toLocaleString("en-IN",{maximumFractionDigits:2})]})]},t))})]}),(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,xn.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Top 10 Selling Items (Profitability)"}),(0,xn.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:0===u.topItems.length?(0,xn.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No data available"}):u.topItems.map((e,t)=>(0,xn.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,xn.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,xn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,xn.jsx)("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 font-bold text-sm",children:t+1}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"font-medium text-gray-800",children:e.food_item_name}),(0,xn.jsxs)("p",{className:"text-xs text-gray-500",children:["Qty: ",e.quantity]})]})]})}),(0,xn.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-2 text-xs",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-gray-500",children:"Revenue"}),(0,xn.jsxs)("p",{className:"font-semibold text-green-600",children:["\u20b9",e.revenue.toLocaleString("en-IN",{maximumFractionDigits:0})]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-gray-500",children:"Cost"}),(0,xn.jsxs)("p",{className:"font-semibold text-red-600",children:["\u20b9",(e.cost||0).toLocaleString("en-IN",{maximumFractionDigits:0})]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-gray-500",children:"Profit"}),(0,xn.jsxs)("p",{className:"font-semibold ".concat((e.profit||0)>=0?"text-emerald-600":"text-red-600"),children:["\u20b9",(e.profit||0).toLocaleString("en-IN",{maximumFractionDigits:0})]}),(0,xn.jsxs)("p",{className:"text-gray-400 text-xs",children:[(e.margin||0).toFixed(1),"%"]})]})]})]},t))})]})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,xn.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Top Employee Performance"}),(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"w-full",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"py-2 px-4 text-left text-sm font-semibold text-gray-700",children:"Employee"}),(0,xn.jsx)("th",{className:"py-2 px-4 text-left text-sm font-semibold text-gray-700",children:"Orders"}),(0,xn.jsx)("th",{className:"py-2 px-4 text-left text-sm font-semibold text-gray-700",children:"Revenue"}),(0,xn.jsx)("th",{className:"py-2 px-4 text-left text-sm font-semibold text-gray-700",children:"Avg/Order"})]})}),(0,xn.jsx)("tbody",{className:"divide-y divide-gray-200",children:0===u.employeePerformance.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"4",className:"py-4 text-center text-gray-500",children:"No data available"})}):u.employeePerformance.map((e,t)=>(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"py-2 px-4 text-sm font-medium",children:e.employee_name}),(0,xn.jsx)("td",{className:"py-2 px-4 text-sm",children:e.orders}),(0,xn.jsxs)("td",{className:"py-2 px-4 text-sm font-semibold text-green-600",children:["\u20b9",e.revenue.toLocaleString("en-IN",{maximumFractionDigits:2})]}),(0,xn.jsxs)("td",{className:"py-2 px-4 text-sm text-gray-600",children:["\u20b9",(e.revenue/e.orders||0).toLocaleString("en-IN",{maximumFractionDigits:2})]})]},t))})]})})]}),(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,xn.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Top Inventory Items Used (Cost Analysis)"}),(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"w-full",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"py-2 px-4 text-left text-sm font-semibold text-gray-700",children:"Item"}),(0,xn.jsx)("th",{className:"py-2 px-4 text-left text-sm font-semibold text-gray-700",children:"Quantity"}),(0,xn.jsx)("th",{className:"py-2 px-4 text-left text-sm font-semibold text-gray-700",children:"Unit"}),(0,xn.jsx)("th",{className:"py-2 px-4 text-left text-sm font-semibold text-gray-700",children:"Total Cost"})]})}),(0,xn.jsx)("tbody",{className:"divide-y divide-gray-200",children:0===u.itemsUsage.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"4",className:"py-4 text-center text-gray-500",children:"No data available"})}):u.itemsUsage.map((e,t)=>{const r=$e.find(t=>t.id===e.inventory_item_id),n=(e.quantity||0)*((null===r||void 0===r?void 0:r.unit_price)||0);return(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"py-2 px-4 text-sm font-medium",children:e.inventory_item_name}),(0,xn.jsx)("td",{className:"py-2 px-4 text-sm",children:e.quantity.toFixed(2)}),(0,xn.jsx)("td",{className:"py-2 px-4 text-sm text-gray-500",children:e.unit}),(0,xn.jsxs)("td",{className:"py-2 px-4 text-sm font-semibold text-red-600",children:["\u20b9",n.toLocaleString("en-IN",{maximumFractionDigits:2})]})]},t)})})]})})]})]}),(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,xn.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Profitability Analysis"}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,xn.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg",children:[(0,xn.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Profit Margin"}),(0,xn.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:[u.profitMargin.toFixed(1),"%"]}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Overall margin"})]}),(0,xn.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg",children:[(0,xn.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Revenue to Cost Ratio"}),(0,xn.jsxs)("p",{className:"text-3xl font-bold text-blue-600",children:[u.totalCOGS>0?(u.totalRevenue/u.totalCOGS).toFixed(2):"0.00","x"]}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"For every \u20b91 cost"})]}),(0,xn.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg",children:[(0,xn.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Avg Cost per Order"}),(0,xn.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:["\u20b9",(u.averageCOGS||0).toLocaleString("en-IN",{maximumFractionDigits:2})]}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Average COGS"})]})]})]})]}),"orders"===r&&(0,xn.jsxs)("div",{className:"space-y-6",children:[(0,xn.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 rounded-xl p-6 border border-indigo-100",children:[(0,xn.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"w-1 h-6 bg-indigo-600 rounded"}),"Order Overview"]}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,xn.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[(0,xn.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Total Orders"}),(0,xn.jsx)("p",{className:"text-2xl font-bold text-indigo-600",children:Nt})]}),(0,xn.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[(0,xn.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Total Revenue"}),(0,xn.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["\u20b9",_t.toLocaleString("en-IN")]})]}),(0,xn.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[(0,xn.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Completed"}),(0,xn.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:kt}),(0,xn.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:[Nt>0?(kt/Nt*100).toFixed(0):0,"% rate"]})]}),(0,xn.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[(0,xn.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Pending"}),(0,xn.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:Nt-kt}),(0,xn.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Needs attention"})]})]})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,xn.jsxs)("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-lg p-5 text-white shadow-md",children:[(0,xn.jsx)("p",{className:"text-sm font-medium opacity-90 mb-1",children:"Average Order Value"}),(0,xn.jsxs)("p",{className:"text-2xl font-bold",children:["\u20b9",Nt>0?(_t/Nt).toLocaleString("en-IN",{maximumFractionDigits:0}):"0"]}),(0,xn.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Per order"})]}),(0,xn.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-5 text-white shadow-md",children:[(0,xn.jsx)("p",{className:"text-sm font-medium opacity-90 mb-1",children:"Items per Order"}),(0,xn.jsx)("p",{className:"text-2xl font-bold",children:(()=>{const e=v.reduce((e,t)=>{var r;return e+((null===(r=t.items)||void 0===r?void 0:r.length)||0)},0);return Nt>0?(e/Nt).toFixed(1):"0.0"})()}),(0,xn.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Average items"})]}),(0,xn.jsxs)("div",{className:"bg-gradient-to-br from-pink-500 to-pink-600 rounded-lg p-5 text-white shadow-md",children:[(0,xn.jsx)("p",{className:"text-sm font-medium opacity-90 mb-1",children:"Fulfillment Rate"}),(0,xn.jsxs)("p",{className:"text-2xl font-bold",children:[Nt>0?(kt/Nt*100).toFixed(0):0,"%"]}),(0,xn.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Completion rate"})]}),(0,xn.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-lg p-5 text-white shadow-md",children:[(0,xn.jsx)("p",{className:"text-sm font-medium opacity-90 mb-1",children:"Revenue/Hour"}),(0,xn.jsxs)("p",{className:"text-2xl font-bold",children:["\u20b9",(e=>{const t=Math.max(1,Math.floor((new Date-new Date((null===(e=v[0])||void 0===e?void 0:e.created_at)||Date.now()))/36e5));return(_t/t).toLocaleString("en-IN",{maximumFractionDigits:0})})()]}),(0,xn.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Hourly average"})]})]}),(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[(0,xn.jsxs)("div",{className:"mb-6",children:[(0,xn.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-2 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"w-1 h-6 bg-indigo-600 rounded"}),"Create New Food Order"]}),(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:"Quickly create orders for checked-in guests"})]}),(0,xn.jsxs)("div",{className:"space-y-5",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Room *"}),(0,xn.jsxs)("select",{value:E,onChange:e=>P(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition text-black",children:[(0,xn.jsx)("option",{value:"",children:"Choose a room..."}),0===w.length?(0,xn.jsx)("option",{disabled:!0,children:"No checked-in rooms available"}):w.map(e=>(0,xn.jsxs)("option",{value:e.id,children:["Room ",e.number||e.room_number||e.id]},e.id))]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign Employee *"}),(0,xn.jsxs)("select",{value:T,onChange:e=>O(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition text-black",children:[(0,xn.jsx)("option",{value:"",children:"Choose an employee..."}),N.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Order Type *"}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,xn.jsxs)("button",{type:"button",onClick:()=>{M("dine_in"),F("")},className:"flex items-center justify-center gap-2 p-4 border-2 rounded-lg transition-all ".concat("dine_in"===D?"border-indigo-500 bg-indigo-50 text-indigo-700 shadow-sm":"border-gray-300 hover:border-indigo-300 text-gray-700 bg-white"),children:[(0,xn.jsx)(s$,{size:20}),(0,xn.jsx)("span",{className:"font-semibold",children:"Dine In"})]}),(0,xn.jsxs)("button",{type:"button",onClick:()=>M("room_service"),className:"flex items-center justify-center gap-2 p-4 border-2 rounded-lg transition-all ".concat("room_service"===D?"border-indigo-500 bg-indigo-50 text-indigo-700 shadow-sm":"border-gray-300 hover:border-indigo-300 text-gray-700 bg-white"),children:[(0,xn.jsx)(Eu,{size:20}),(0,xn.jsx)("span",{className:"font-semibold",children:"Room Service"})]})]})]}),"room_service"===D&&(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,xn.jsx)(o$,{size:16}),"Delivery Instructions (Optional)"]}),(0,xn.jsx)("textarea",{placeholder:"Add delivery instructions, timing preferences, or special notes...",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition resize-none",rows:"3",value:R,onChange:e=>F(e.target.value)})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Food Items *"}),(0,xn.jsxs)("div",{className:"space-y-3",children:[A.map((e,t)=>(0,xn.jsxs)("div",{className:"flex gap-3 items-center bg-gray-50 p-3 rounded-lg",children:[(0,xn.jsxs)("select",{value:e.food_item_id,onChange:e=>bt(t,"food_item_id",e.target.value),className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-black",children:[(0,xn.jsx)("option",{value:"",children:"Select food item..."}),k.map(e=>(0,xn.jsxs)("option",{value:e.id,children:[e.name," - \u20b9",e.price]},e.id))]}),(0,xn.jsx)("input",{type:"number",min:1,value:e.quantity,onChange:e=>bt(t,"quantity",e.target.value),placeholder:"Qty",className:"w-20 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center"})]},t)),(0,xn.jsx)("button",{onClick:()=>{C([...A,{food_item_id:"",quantity:1}])},type:"button",className:"w-full bg-indigo-100 hover:bg-indigo-200 text-indigo-700 font-medium rounded-lg px-4 py-2.5 transition-colors border border-indigo-300",children:"+ Add Food Item"})]})]}),(0,xn.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,xn.jsx)("span",{className:"text-lg font-semibold text-gray-700",children:"Order Total:"}),(0,xn.jsxs)("span",{className:"text-2xl font-bold text-indigo-600",children:["\u20b9",I.toLocaleString("en-IN")]})]}),(0,xn.jsx)("button",{onClick:async()=>{if(!E||!T||0===A.length)return void alert("Please select room, employee, and at least one food item.");const e={room_id:parseInt(E),billing_status:"unbilled",assigned_employee_id:parseInt(T),amount:I,order_type:D,delivery_request:"room_service"===D&&R?R:null,items:A.map(e=>({food_item_id:parseInt(e.food_item_id),quantity:e.quantity}))};try{await mn.post("/food-orders/",e),vt(),C([]),P(""),O(""),L(0),M("dine_in"),F("")}catch(t){console.error(t),alert("Failed to submit order.")}},disabled:!E||!T||0===A.length,className:"w-full bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-semibold py-3 rounded-lg shadow-md hover:shadow-lg transition-all",children:"Create Order"})]})]})]}),(0,xn.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-5",children:(0,xn.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,xn.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),(0,xn.jsxs)("select",{value:B,onChange:e=>z(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-black",children:[(0,xn.jsx)("option",{value:"",children:"All Status"}),(0,xn.jsx)("option",{value:"pending",children:"Pending"}),(0,xn.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,xn.jsx)("option",{value:"completed",children:"Completed"}),(0,xn.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,xn.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Date"}),(0,xn.jsx)("input",{type:"date",value:U,onChange:e=>q(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(B||U)&&(0,xn.jsx)("div",{className:"flex items-end",children:(0,xn.jsx)("button",{onClick:()=>{z(""),q("")},className:"px-4 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors text-sm font-medium",children:"Clear Filters"})})]})}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("div",{className:"mb-4",children:(0,xn.jsxs)("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"w-1 h-6 bg-indigo-600 rounded"}),"All Orders (",St.length,")"]})}),(0,xn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===St.length?(0,xn.jsxs)("div",{className:"col-span-full text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[(0,xn.jsx)("p",{className:"text-gray-500",children:"No orders found"}),(0,xn.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your filters"})]}):St.map(e=>{var t,r,n,i;const a=w.find(t=>t.id===e.room_id);return(0,xn.jsxs)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-5 hover:shadow-lg transition-all",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("h4",{className:"font-bold text-lg text-gray-800",children:["Room ",(null===a||void 0===a?void 0:a.number)||(null===a||void 0===a?void 0:a.room_number)||e.room_id]}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.created_at?new Date(e.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"})]}),(0,xn.jsxs)("div",{className:"flex flex-col gap-2 items-end",children:[(0,xn.jsx)("span",{className:"px-2.5 py-1 rounded-full text-xs font-semibold ".concat("room_service"===e.order_type?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"),children:"room_service"===e.order_type?"Room Service":"Dine In"}),(0,xn.jsx)("span",{className:"px-2.5 py-1 rounded-full text-xs font-semibold ".concat(at[e.status]||"bg-gray-100 text-gray-800"),children:e.status.replace("_"," ")})]})]}),(0,xn.jsxs)("div",{className:"space-y-2 mb-3 text-sm",children:[(0,xn.jsxs)("div",{className:"flex justify-between",children:[(0,xn.jsx)("span",{className:"text-gray-500",children:"Guest:"}),(0,xn.jsx)("span",{className:"font-medium text-gray-800",children:e.guest_name||"N/A"})]}),(0,xn.jsxs)("div",{className:"flex justify-between",children:[(0,xn.jsx)("span",{className:"text-gray-500",children:"Employee:"}),(0,xn.jsx)("span",{className:"font-medium text-gray-800",children:(null===(t=N.find(t=>t.id===e.assigned_employee_id))||void 0===t?void 0:t.name)||"N/A"})]})]}),"room_service"===e.order_type&&e.delivery_request&&(0,xn.jsx)("div",{className:"mb-3 p-2 bg-purple-50 border border-purple-200 rounded-lg",children:(0,xn.jsxs)("div",{className:"flex items-start gap-2",children:[(0,xn.jsx)(o$,{size:14,className:"text-purple-600 mt-0.5 flex-shrink-0"}),(0,xn.jsxs)("div",{className:"flex-1",children:[(0,xn.jsx)("p",{className:"text-xs font-semibold text-purple-700 mb-1",children:"Delivery Instructions:"}),(0,xn.jsx)("p",{className:"text-xs text-purple-600",children:e.delivery_request})]})]})}),(0,xn.jsxs)("div",{className:"mb-3",children:[(0,xn.jsxs)("p",{className:"text-xs font-semibold text-gray-700 mb-1",children:["Items (",(null===(r=e.items)||void 0===r?void 0:r.length)||0,"):"]}),(0,xn.jsxs)("ul",{className:"space-y-1",children:[null===(n=e.items)||void 0===n?void 0:n.slice(0,3).map((e,t)=>(0,xn.jsxs)("li",{className:"text-xs text-gray-600 flex justify-between",children:[(0,xn.jsx)("span",{children:e.food_item_name}),(0,xn.jsxs)("span",{className:"font-medium",children:["\xd7",e.quantity]})]},t)),(null===(i=e.items)||void 0===i?void 0:i.length)>3&&(0,xn.jsxs)("li",{className:"text-xs text-gray-400 italic",children:["+",e.items.length-3," more items"]})]})]}),(0,xn.jsx)("div",{className:"mb-3 p-2 bg-gray-50 rounded-lg",children:(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Order Total:"}),(0,xn.jsxs)("span",{className:"text-lg font-bold text-indigo-600",children:["\u20b9",parseFloat(e.amount||0).toLocaleString("en-IN")]})]})}),"completed"===e.status&&(t=>{let r=0;null===(t=e.items)||void 0===t||t.forEach(t=>{var n,i;const a=null===(n=te[t.food_item_id])||void 0===n?void 0:n[0];if(a&&a.ingredients){const e=a.servings||1,n=(t.quantity||0)/e;a.ingredients.forEach(e=>{const t=$e.find(t=>t.id===e.inventory_item_id);t&&t.unit_price&&(r+=(e.quantity||0)*t.unit_price*n)})}"room_service"===e.order_type&&null!==(i=t.food_item)&&void 0!==i&&i.extra_inventory_items&&t.food_item.extra_inventory_items.forEach(e=>{const n=$e.find(t=>t.id===e.inventory_item_id);n&&n.unit_price&&(r+=(e.quantity||0)*n.unit_price*(t.quantity||0))})});const n=parseFloat(e.amount)-r,i=parseFloat(e.amount)>0?n/parseFloat(e.amount)*100:0;return(0,xn.jsxs)("div",{className:"mb-3 p-2 bg-green-50 border border-green-200 rounded-lg",children:[(0,xn.jsx)("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Profitability:"}),(0,xn.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-gray-500",children:"Cost"}),(0,xn.jsxs)("p",{className:"font-semibold text-red-600",children:["\u20b9",r.toFixed(0)]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-gray-500",children:"Profit"}),(0,xn.jsxs)("p",{className:"font-semibold ".concat(n>=0?"text-green-600":"text-red-600"),children:["\u20b9",n.toFixed(0)]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-gray-500",children:"Margin"}),(0,xn.jsxs)("p",{className:"font-semibold ".concat(i>=0?"text-green-600":"text-red-600"),children:[i.toFixed(0),"%"]})]})]})]})})(),(0,xn.jsxs)("div",{className:"space-y-2",children:[(0,xn.jsxs)("button",{onClick:()=>(async e=>{Q(e.id),$[e.id]||await jt(e)})(e),className:"w-full bg-indigo-50 hover:bg-indigo-100 text-indigo-700 text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,xn.jsx)(l$,{size:16}),"View Ingredients"]}),(0,xn.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{if("completed"===t){const t=v.find(t=>t.id===e);return ce(t),void ue("paid"===t.billing_status?"paid":"unpaid")}try{await mn.put("/food-orders/".concat(e),{status:t}),vt()}catch(pe){console.error("Failed to update status:",pe),alert("Failed to update order status.")}})(e.id,t.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm text-black focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white",children:[(0,xn.jsx)("option",{value:"pending",children:"Pending"}),(0,xn.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,xn.jsx)("option",{value:"completed",children:"Completed"}),(0,xn.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]})]},e.id)})})]}),W&&(0,xn.jsx)("div",{className:"text-center mt-6",children:(0,xn.jsx)("button",{onClick:async()=>{if(V||!W)return;G(!0);const e=K+1;try{const t=(await mn.get("/food-orders/?skip=".concat(20*(e-1),"&limit=20"))).data||[];b(e=>[...e,...t]),Y(e),H(20===t.length)}catch(t){console.error("Failed to load more orders:",t)}finally{G(!1)}},disabled:V,className:"bg-indigo-100 text-indigo-700 font-semibold px-6 py-2 rounded-lg hover:bg-indigo-200 transition-colors disabled:bg-gray-200 disabled:text-gray-500",children:V?"Loading...":"Load More Orders"})})]}),X&&((e,t)=>{const r=v.find(e=>e.id===X),n=$[X]||[],i=w.find(e=>e.id===(null===r||void 0===r?void 0:r.room_id));return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xn.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,xn.jsxs)("div",{className:"bg-indigo-600 text-white p-6 flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,xn.jsx)(l$,{size:24}),"Order Ingredients"]}),(0,xn.jsxs)("p",{className:"text-indigo-100 mt-1",children:["Room: ",(null===i||void 0===i?void 0:i.number)||(null===i||void 0===i?void 0:i.room_number)||(null===r||void 0===r?void 0:r.room_id)," | Order #",null===r||void 0===r?void 0:r.id," |",(null===r||void 0===r||null===(e=r.items)||void 0===e?void 0:e.length)||0," item(s)"]})]}),(0,xn.jsx)("button",{onClick:()=>Q(null),className:"text-white hover:text-gray-200 transition-colors",children:(0,xn.jsx)(EX,{size:24})})]}),(0,xn.jsx)("div",{className:"p-6 overflow-y-auto flex-1",children:J?(0,xn.jsxs)("div",{className:"text-center py-8",children:[(0,xn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,xn.jsx)("p",{className:"mt-4 text-gray-600",children:"Calculating ingredients..."})]}):0===n.length?(0,xn.jsxs)("div",{className:"text-center py-8",children:[(0,xn.jsx)(Bu,{size:48,className:"mx-auto text-gray-400 mb-4"}),(0,xn.jsx)("p",{className:"text-gray-600",children:"No recipes found for the items in this order."}),(0,xn.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Please add recipes for the food items in the Inventory \u2192 Recipe section."})]}):(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,xn.jsx)("h4",{className:"font-semibold text-gray-700 mb-2",children:"Order Items:"}),(0,xn.jsx)("ul",{className:"space-y-1",children:null===r||void 0===r||null===(t=r.items)||void 0===t?void 0:t.map((e,t)=>(0,xn.jsxs)("li",{className:"text-sm text-gray-600",children:["\u2022 ",e.food_item_name," \xd7 ",e.quantity]},t))})]}),(0,xn.jsxs)("div",{className:"mb-4",children:[(0,xn.jsxs)("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[(0,xn.jsx)(Bu,{size:20}),"Required Ingredients (Total):"]}),(0,xn.jsx)("div",{className:"space-y-2",children:n.map((e,t)=>(0,xn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors",children:[(0,xn.jsxs)("div",{className:"flex-1",children:[(0,xn.jsxs)("div",{className:"font-medium text-gray-800",children:[e.name,e.code&&(0,xn.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",e.code,")"]})]}),e.notes&&(0,xn.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:e.notes})]}),(0,xn.jsx)("div",{className:"text-right",children:(0,xn.jsxs)("div",{className:"font-bold text-indigo-700",children:[e.totalQuantity.toFixed(2)," ",e.unit]})})]},t))})]}),(0,xn.jsx)("div",{className:"mt-6 p-4 bg-indigo-50 rounded-lg",children:(0,xn.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"text-gray-600",children:"Total Ingredients:"}),(0,xn.jsx)("span",{className:"font-semibold ml-2",children:n.length})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"text-gray-600",children:"Total Quantity:"}),(0,xn.jsx)("span",{className:"font-semibold ml-2",children:n.reduce((e,t)=>e+t.totalQuantity,0).toFixed(2)})]})]})})]})}),(0,xn.jsx)("div",{className:"bg-gray-50 p-4 flex justify-end",children:(0,xn.jsx)("button",{onClick:()=>Q(null),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-6 py-2 rounded-lg transition-colors",children:"Close"})})]})})})(),ne&&(()=>{const e=v.find(e=>e.id===ne),t=w.find(t=>t.id===(null===e||void 0===e?void 0:e.room_id));return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xn.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,xn.jsxs)("div",{className:"bg-purple-600 text-white p-6 flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,xn.jsx)(o$,{size:24}),"Delivery Request"]}),(0,xn.jsxs)("p",{className:"text-purple-100 mt-1",children:["Room: ",(null===t||void 0===t?void 0:t.number)||(null===t||void 0===t?void 0:t.room_number)||(null===e||void 0===e?void 0:e.room_id)," | Order #",null===e||void 0===e?void 0:e.id," | Room Service"]})]}),(0,xn.jsx)("button",{onClick:()=>{ae(null),oe("")},className:"text-white hover:text-gray-200 transition-colors",children:(0,xn.jsx)(EX,{size:24})})]}),(0,xn.jsx)("div",{className:"p-6 overflow-y-auto flex-1",children:(0,xn.jsxs)("div",{className:"space-y-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Instructions / Special Requests"}),(0,xn.jsx)("textarea",{placeholder:"Enter delivery instructions, timing preferences, special requests, or any notes for the room service delivery...",className:"w-full border rounded-xl px-4 py-3 focus:ring-2 focus:ring-purple-500 transition resize-none",rows:"6",value:se,onChange:e=>oe(e.target.value)}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Add any special delivery instructions, timing preferences, or notes for the room service order."})]}),(null===e||void 0===e?void 0:e.delivery_request)&&(0,xn.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,xn.jsx)("p",{className:"text-xs font-semibold text-gray-600 mb-1",children:"Current Request:"}),(0,xn.jsx)("p",{className:"text-sm text-gray-700",children:e.delivery_request})]})]})}),(0,xn.jsxs)("div",{className:"bg-gray-50 p-4 flex justify-end gap-3",children:[(0,xn.jsx)("button",{onClick:()=>{ae(null),oe("")},className:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-6 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,xn.jsx)("button",{onClick:()=>(async e=>{try{await mn.put("/food-orders/".concat(e),{delivery_request:se}),ae(null),oe(""),vt(),alert("Delivery request updated successfully!")}catch(pe){console.error("Failed to update delivery request:",pe),alert("Failed to update delivery request.")}})(ne),className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold px-6 py-2 rounded-lg transition-colors",children:null!==e&&void 0!==e&&e.delivery_request?"Update Request":"Submit Request"})]})]})})})(),le&&(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xn.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[(0,xn.jsxs)("div",{className:"bg-indigo-600 text-white p-6 rounded-t-2xl",children:[(0,xn.jsx)("h3",{className:"text-xl font-bold",children:"Complete Food Order"}),(0,xn.jsxs)("p",{className:"text-indigo-100 mt-1",children:["Order #",le.id," | Room: ",(null===(e=w.find(e=>e.id===le.room_id))||void 0===e?void 0:e.number)||le.room_id]})]}),(0,xn.jsxs)("div",{className:"p-6 space-y-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Status *"}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,xn.jsx)("button",{type:"button",onClick:()=>ue("paid"),className:"p-3 border-2 rounded-xl transition-all ".concat("paid"===de?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:border-green-300 text-gray-700"),children:(0,xn.jsx)("span",{className:"font-semibold",children:"Paid"})}),(0,xn.jsx)("button",{type:"button",onClick:()=>ue("unpaid"),className:"p-3 border-2 rounded-xl transition-all ".concat("unpaid"===de?"border-red-500 bg-red-50 text-red-700":"border-gray-300 hover:border-red-300 text-gray-700"),children:(0,xn.jsx)("span",{className:"font-semibold",children:"Unpaid"})})]})]}),"room_service"===le.order_type&&(0,xn.jsx)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:(0,xn.jsxs)("p",{className:"text-sm text-purple-700",children:[(0,xn.jsx)("strong",{children:"Note:"})," A delivery service request will be automatically created for this room service order."]})}),(0,xn.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,xn.jsx)("button",{onClick:()=>{ce(null),ue("unpaid")},className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,xn.jsx)("button",{onClick:async()=>{if(le)try{await mn.put("/food-orders/".concat(le.id),{status:"completed",billing_status:de}),ce(null),ue("unpaid"),vt(),alert("Order completed successfully!")}catch(pe){console.error("Failed to complete order:",pe),alert("Failed to complete order.")}},className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-4 py-2 rounded-lg transition-colors",children:"Complete Order"})]})]})]})}),"requests"===r&&(0,xn.jsxs)("div",{className:"space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,xn.jsx)("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Total Requests"}),(0,xn.jsx)("p",{className:"text-3xl font-bold text-indigo-600",children:a.length})]}),(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,xn.jsx)("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Pending"}),(0,xn.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:a.filter(e=>"pending"===e.status).length})]}),(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,xn.jsx)("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"In Progress"}),(0,xn.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:a.filter(e=>"in_progress"===e.status).length})]}),(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,xn.jsx)("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Completed"}),(0,xn.jsx)("p",{className:"text-3xl font-bold text-green-600",children:a.filter(e=>"completed"===e.status).length})]})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[(0,xn.jsxs)("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-700 rounded-xl shadow-lg p-6 text-white",children:[(0,xn.jsx)("h3",{className:"text-sm font-medium opacity-90 mb-2",children:"Avg Fulfillment Time"}),(0,xn.jsx)("p",{className:"text-2xl font-bold",children:(()=>{const e=a.filter(e=>"completed"===e.status&&e.created_at&&e.completed_at);if(0===e.length)return"N/A";const t=e.reduce((e,t)=>{const r=new Date(t.created_at);return e+(new Date(t.completed_at)-r)},0)/e.length,r=Math.floor(t/6e4);return r<60?"".concat(r,"m"):"".concat(Math.floor(r/60),"h ").concat(r%60,"m")})()}),(0,xn.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Time to complete"})]}),(0,xn.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-700 rounded-xl shadow-lg p-6 text-white",children:[(0,xn.jsx)("h3",{className:"text-sm font-medium opacity-90 mb-2",children:"Completion Rate"}),(0,xn.jsxs)("p",{className:"text-2xl font-bold",children:[a.length>0?(a.filter(e=>"completed"===e.status).length/a.length*100).toFixed(1):0,"%"]}),(0,xn.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Requests completed"})]}),(0,xn.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-purple-700 rounded-xl shadow-lg p-6 text-white",children:[(0,xn.jsx)("h3",{className:"text-sm font-medium opacity-90 mb-2",children:"Assigned Rate"}),(0,xn.jsxs)("p",{className:"text-2xl font-bold",children:[a.length>0?(a.filter(e=>e.employee_id).length/a.length*100).toFixed(1):0,"%"]}),(0,xn.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"With assigned employee"})]})]}),(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,xn.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Food Order Requests"})}),(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"w-full",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"ID"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Room"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Food Order"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Request Type"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Description"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Employee"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Status"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Created At"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),(0,xn.jsx)("tbody",{className:"divide-y divide-gray-200",children:0===a.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"9",className:"py-8 text-center text-gray-500",children:"No food order requests found"})}):a.map(e=>{var t,r,n;return(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"py-3 px-4 text-sm",children:e.id}),(0,xn.jsx)("td",{className:"py-3 px-4 text-sm",children:(null===(t=e.room)||void 0===t?void 0:t.number)||e.room_number||"N/A"}),(0,xn.jsx)("td",{className:"py-3 px-4 text-sm",children:e.food_order?(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("div",{className:"font-medium",children:["Order #",e.food_order.id]}),(0,xn.jsxs)("div",{className:"text-gray-500 text-xs",children:["\u20b9",e.food_order.amount||e.food_order_amount||"0"]})]}):"N/A"}),(0,xn.jsx)("td",{className:"py-3 px-4 text-sm capitalize",children:e.request_type||"delivery"}),(0,xn.jsx)("td",{className:"py-3 px-4 text-sm max-w-xs truncate",children:e.description||"No description"}),(0,xn.jsx)("td",{className:"py-3 px-4 text-sm",children:(null===(r=e.employee)||void 0===r?void 0:r.name)||e.employee_name||(0,xn.jsx)("span",{className:"text-gray-400",children:"Unassigned"})}),(0,xn.jsx)("td",{className:"py-3 px-4",children:(0,xn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("pending"===e.status?"bg-yellow-100 text-yellow-800":"in_progress"===e.status?"bg-blue-100 text-blue-800":"completed"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:(null===(n=e.status)||void 0===n?void 0:n.replace("_"," ").toUpperCase())||"PENDING"})}),(0,xn.jsx)("td",{className:"py-3 px-4 text-sm text-gray-600",children:e.created_at?new Date(e.created_at).toLocaleString():"N/A"}),(0,xn.jsx)("td",{className:"py-3 px-4",children:(0,xn.jsxs)("div",{className:"flex gap-2",children:["pending"===e.status&&(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)("button",{onClick:()=>(async e=>{try{await mn.put("/service-requests/".concat(e),{status:"in_progress"}),PQ.success("Request accepted successfully!"),mt(),vt()}catch(pe){console.error("Failed to accept request:",pe),PQ.error("Failed to accept request.")}})(e.id),className:"bg-green-500 hover:bg-green-600 text-white text-xs py-1 px-3 rounded transition-colors",children:"Accept"}),(0,xn.jsx)("button",{onClick:()=>l(e.id),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs py-1 px-3 rounded transition-colors",children:"Assign"})]}),"in_progress"===e.status&&(0,xn.jsx)("button",{onClick:()=>(async(e,t)=>{try{await mn.put("/service-requests/".concat(e),{status:t}),PQ.success("Request status updated successfully!"),mt(),vt()}catch(pe){console.error("Failed to update request status:",pe),PQ.error("Failed to update request status.")}})(e.id,"completed"),className:"bg-purple-500 hover:bg-purple-600 text-white text-xs py-1 px-3 rounded transition-colors",children:"Complete"}),!e.employee_id&&"pending"!==e.status&&(0,xn.jsx)("button",{onClick:()=>l(e.id),className:"bg-indigo-500 hover:bg-indigo-600 text-white text-xs py-1 px-3 rounded transition-colors",children:"Assign Employee"}),(0,xn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this request?"))try{await mn.delete("/service-requests/".concat(e)),PQ.success("Request deleted successfully!"),mt()}catch(pe){console.error("Failed to delete request:",pe),PQ.error("Failed to delete request.")}})(e.id),className:"bg-red-500 hover:bg-red-600 text-white text-xs py-1 px-3 rounded transition-colors",children:"Delete"})]})})]},e.id)})})]})})]}),o&&(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-md w-full mx-4",children:[(0,xn.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Assign Employee"}),(0,xn.jsxs)("div",{className:"space-y-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Employee"}),(0,xn.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500",children:[(0,xn.jsx)("option",{value:"",children:"Choose an employee..."}),N.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,xn.jsxs)("div",{className:"flex gap-3",children:[(0,xn.jsx)("button",{onClick:()=>{l(null),d("")},className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg transition-colors",children:"Cancel"}),(0,xn.jsx)("button",{onClick:()=>(async e=>{if(c)try{await mn.put("/service-requests/".concat(e),{employee_id:parseInt(c),status:"in_progress"}),PQ.success("Employee assigned successfully!"),l(null),d(""),mt(),vt()}catch(pe){console.error("Failed to assign employee:",pe),PQ.error("Failed to assign employee.")}else PQ.error("Please select an employee.")})(o),className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Assign"})]})]})]})})]}),"management"===r&&(0,xn.jsxs)("div",{className:"space-y-6",children:[pe&&(0,xn.jsx)("div",{className:"p-4 mb-4 text-center text-red-700 bg-red-100 border border-red-200 rounded-lg",children:pe}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,xn.jsx)(lt,{title:"Total Food Items",value:At,color:"bg-gradient-to-r from-green-500 to-green-700",icon:(0,xn.jsx)("i",{className:"fas fa-utensils"})}),(0,xn.jsx)(lt,{title:"Item Categories",value:Ct,color:"bg-gradient-to-r from-blue-500 to-blue-700",icon:(0,xn.jsx)("i",{className:"fas fa-tags"})}),(0,xn.jsx)(lt,{title:"Items Available",value:Et,color:"bg-gradient-to-r from-purple-500 to-purple-700",icon:(0,xn.jsx)("i",{className:"fas fa-check-circle"})})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,xn.jsx)("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-700 rounded-xl shadow-lg p-6 text-white",children:(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium opacity-90",children:"Avg Item Price"}),(0,xn.jsxs)("p",{className:"text-3xl font-bold mt-1",children:["\u20b9",At>0?(k.reduce((e,t)=>e+(parseFloat(t.price)||0),0)/At).toLocaleString("en-IN",{maximumFractionDigits:2}):"0.00"]})]}),(0,xn.jsx)("div",{className:"text-4xl opacity-80",children:"\ud83d\udcb0"})]})}),(0,xn.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-orange-700 rounded-xl shadow-lg p-6 text-white",children:(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium opacity-90",children:"Items with Recipes"}),(0,xn.jsx)("p",{className:"text-3xl font-bold mt-1",children:Object.keys(x).length}),(0,xn.jsxs)("p",{className:"text-xs opacity-75 mt-1",children:[At>0?(Object.keys(x).length/At*100).toFixed(1):0,"% coverage"]})]}),(0,xn.jsx)("div",{className:"text-4xl opacity-80",children:"\ud83d\udccb"})]})}),(0,xn.jsx)("div",{className:"bg-gradient-to-r from-pink-500 to-pink-700 rounded-xl shadow-lg p-6 text-white",children:(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium opacity-90",children:"Time-based Pricing"}),(0,xn.jsx)("p",{className:"text-3xl font-bold mt-1",children:k.filter(e=>e.time_wise_prices&&e.time_wise_prices.length>0).length}),(0,xn.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Items with time pricing"})]}),(0,xn.jsx)("div",{className:"text-4xl opacity-80",children:"\u23f0"})]})}),(0,xn.jsx)("div",{className:"bg-gradient-to-r from-cyan-500 to-cyan-700 rounded-xl shadow-lg p-6 text-white",children:(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium opacity-90",children:"Room Service Items"}),(0,xn.jsx)("p",{className:"text-3xl font-bold mt-1",children:k.filter(e=>e.room_service_price).length}),(0,xn.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"With room service pricing"})]}),(0,xn.jsx)("div",{className:"text-4xl opacity-80",children:"\ud83d\ude9a"})]})})]}),(0,xn.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,xn.jsxs)("div",{className:"mb-6",children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"\ud83c\udf7d\ufe0f Food Item Management"}),(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:"Create and manage food items for your menu"})]}),(0,xn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),fe(!0);const t=new FormData;t.append("name",ge),t.append("description",ye),t.append("price",be),je&&t.append("room_service_price",je),t.append("category_id",Ve),t.append("available",Pe),t.append("always_available",Oe),_e.forEach(e=>t.append("images",e)),Oe||(Je&&t.append("available_from_time",Je),tt&&t.append("available_to_time",tt)),Xe.length>0&&t.append("extra_inventory_items",JSON.stringify(Xe.map(e=>({inventory_item_id:parseInt(e.inventory_item_id),quantity:parseFloat(e.quantity)||0,for_room_service:!0})))),nt.length>0&&t.append("time_wise_prices",JSON.stringify(nt.map(e=>({from_time:e.from_time,to_time:e.to_time,price:parseFloat(e.price)||0}))));try{Ce?(await mn.put("/food-items/".concat(Ce,"/"),t,{headers:{Authorization:"Bearer ".concat(st),"Content-Type":"multipart/form-data"}}),PQ.success("Food item updated successfully!")):(await mn.post("/food-items/",t,{headers:{Authorization:"Bearer ".concat(st),"Content-Type":"multipart/form-data"}}),PQ.success("Food item added successfully!")),xt(),yt()}catch(r){console.error("Failed to save food item",r),PQ.error("Failed to save food item.")}finally{fe(!1)}},className:"space-y-6",children:[(0,xn.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"w-1 h-6 bg-indigo-600 rounded"}),"Basic Information"]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Item Name *"}),(0,xn.jsx)("input",{type:"text",placeholder:"Enter food item name",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition",value:ge,onChange:e=>xe(e.target.value),required:!0})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,xn.jsxs)("select",{className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition",value:Ve,onChange:e=>Ge(e.target.value),required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select a category"}),We.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,xn.jsxs)("div",{className:"md:col-span-2",children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,xn.jsx)("textarea",{placeholder:"Describe the food item...",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition resize-none",rows:"3",value:ye,onChange:e=>ve(e.target.value),required:!0})]})]})]}),(0,xn.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"w-1 h-6 bg-indigo-600 rounded"}),"Pricing"]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dine In Price (\u20b9) *"}),(0,xn.jsx)("input",{type:"number",placeholder:"0.00",step:"0.01",min:"0",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition",value:be,onChange:e=>we(e.target.value),required:!0})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Room Service / Parcel Price (\u20b9)",(0,xn.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(Optional)"})]}),(0,xn.jsx)("input",{type:"number",placeholder:"0.00",step:"0.01",min:"0",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition",value:je,onChange:e=>Ne(e.target.value)})]})]})]}),(0,xn.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"w-1 h-6 bg-indigo-600 rounded"}),"Availability Settings"]}),(0,xn.jsxs)("div",{className:"space-y-4",children:[(0,xn.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg border border-gray-200",children:[(0,xn.jsx)("input",{type:"checkbox",id:"available",checked:Pe,onChange:e=>Te(e.target.checked),className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("label",{htmlFor:"available",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Make this item available for ordering"})]}),(0,xn.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,xn.jsx)("input",{type:"checkbox",id:"alwaysAvailable",checked:Oe,onChange:e=>{Ie(e.target.checked),e.target.checked&&(et(""),rt(""))},className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("label",{htmlFor:"alwaysAvailable",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Always Available (24/7)"}),(0,xn.jsx)("span",{className:"text-xs text-gray-500 ml-auto",children:"Available at all times"})]}),!Oe&&(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available From"}),(0,xn.jsx)("input",{type:"time",value:Je,onChange:e=>et(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Until"}),(0,xn.jsx)("input",{type:"time",value:tt,onChange:e=>rt(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"})]})]})]})]}),(0,xn.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"w-1 h-6 bg-indigo-600 rounded"}),"Images",(0,xn.jsx)("span",{className:"text-xs font-normal text-gray-500 ml-2",children:"(Optional)"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Images"}),(0,xn.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{const t=Array.from(e.target.files);ke(e=>[...e,...t]);const r=t.map(e=>URL.createObjectURL(e));Ae(e=>[...e,...r])},className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"}),Se.length>0&&(0,xn.jsx)("div",{className:"grid grid-cols-4 gap-3 mt-4",children:Se.map((e,t)=>(0,xn.jsxs)("div",{className:"relative group",children:[(0,xn.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-full h-24 object-cover rounded-lg border-2 border-gray-200"}),(0,xn.jsx)("button",{type:"button",onClick:()=>(e=>{ke(t=>t.filter((t,r)=>r!==e)),Ae(t=>t.filter((t,r)=>r!==e))})(t),className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"\xd7"})]},t))})]})]}),(0,xn.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"w-1 h-6 bg-indigo-600 rounded"}),"Extra Items for Room Service/Parcel"]}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Add packaging, condiments, or other items (only for room service/parcel orders)"})]}),(0,xn.jsxs)("button",{type:"button",onClick:()=>{Qe([...Xe,{inventory_item_id:"",quantity:1}])},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[(0,xn.jsx)("span",{children:"+"})," Add Item"]})]}),0===Xe.length?(0,xn.jsxs)("div",{className:"text-center py-8 bg-white rounded-lg border-2 border-dashed border-gray-300",children:[(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:"No extra items added"}),(0,xn.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:'Click "Add Item" to add packaging or condiments'})]}):(0,xn.jsx)("div",{className:"space-y-3",children:Xe.map((e,t)=>(0,xn.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 flex items-center gap-3",children:[(0,xn.jsxs)("select",{value:e.inventory_item_id,onChange:e=>dt(t,"inventory_item_id",e.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,xn.jsx)("option",{value:"",children:"Select inventory item"}),$e.map(e=>(0,xn.jsxs)("option",{value:e.id,children:[e.name," (",e.unit,")"]},e.id))]}),(0,xn.jsx)("input",{type:"number",placeholder:"Qty",value:e.quantity,onChange:e=>dt(t,"quantity",e.target.value),className:"w-24 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:"0",step:"0.01"}),(0,xn.jsx)("button",{type:"button",onClick:()=>(e=>{Qe(Xe.filter((t,r)=>r!==e))})(t),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg text-sm transition-colors",children:"Remove"})]},t))})]}),(0,xn.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"w-1 h-6 bg-indigo-600 rounded"}),"Time-based Pricing",(0,xn.jsx)("span",{className:"text-xs font-normal text-gray-500 ml-2",children:"(Optional)"})]}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Set different prices for breakfast, lunch, dinner, etc."})]}),(0,xn.jsxs)("button",{type:"button",onClick:()=>{it([...nt,{from_time:"",to_time:"",price:""}])},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[(0,xn.jsx)("span",{children:"+"})," Add Price"]})]}),0===nt.length?(0,xn.jsxs)("div",{className:"text-center py-8 bg-white rounded-lg border-2 border-dashed border-gray-300",children:[(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:"No time-based pricing set"}),(0,xn.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Base price will be used for all times"})]}):(0,xn.jsx)("div",{className:"space-y-3",children:nt.map((e,t)=>(0,xn.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 grid grid-cols-12 gap-3 items-center",children:[(0,xn.jsxs)("div",{className:"col-span-3",children:[(0,xn.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"From"}),(0,xn.jsx)("input",{type:"time",value:e.from_time,onChange:e=>ut(t,"from_time",e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,xn.jsxs)("div",{className:"col-span-3",children:[(0,xn.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"To"}),(0,xn.jsx)("input",{type:"time",value:e.to_time,onChange:e=>ut(t,"to_time",e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,xn.jsxs)("div",{className:"col-span-4",children:[(0,xn.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Price (\u20b9)"}),(0,xn.jsx)("input",{type:"number",placeholder:"0.00",value:e.price,onChange:e=>ut(t,"price",e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:"0",step:"0.01",required:!0})]}),(0,xn.jsx)("div",{className:"col-span-2",children:(0,xn.jsx)("button",{type:"button",onClick:()=>(e=>{it(nt.filter((t,r)=>r!==e))})(t),className:"w-full bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg text-sm transition-colors mt-6",children:"Remove"})})]},t))})]}),(0,xn.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,xn.jsx)("button",{type:"submit",className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors shadow-md hover:shadow-lg",children:Ce?"Update Food Item":"Create Food Item"}),Ce&&(0,xn.jsx)("button",{type:"button",onClick:yt,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-lg transition-colors",children:"Cancel"})]})]}),(0,xn.jsxs)("div",{className:"mt-8",children:[(0,xn.jsxs)("div",{className:"mb-6",children:[(0,xn.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"All Food Items"}),(0,xn.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,xn.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,xn.jsx)("input",{type:"text",placeholder:"\ud83d\udd0d Search items...",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition",value:Le.search,onChange:e=>De(Fe(Fe({},Le),{},{search:e.target.value}))})}),(0,xn.jsxs)("select",{className:"border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition min-w-[150px]",value:Le.category,onChange:e=>De(Fe(Fe({},Le),{},{category:e.target.value})),children:[(0,xn.jsx)("option",{value:"all",children:"All Categories"}),We.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,xn.jsxs)("select",{className:"border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition min-w-[150px]",value:Le.availability,onChange:e=>De(Fe(Fe({},Le),{},{availability:e.target.value})),children:[(0,xn.jsx)("option",{value:"all",children:"All Status"}),(0,xn.jsx)("option",{value:"available",children:"Available"}),(0,xn.jsx)("option",{value:"unavailable",children:"Unavailable"})]})]})]}),(0,xn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===Pt.length?(0,xn.jsxs)("div",{className:"col-span-full text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[(0,xn.jsx)("p",{className:"text-gray-500",children:"No food items found"}),(0,xn.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your filters"})]}):Pt.map(e=>(0,xn.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[e.images&&e.images.length>0&&(0,xn.jsxs)("div",{className:"relative h-40 bg-gray-100",children:[(0,xn.jsx)("img",{src:ot(e.images[0].image_url),alt:e.name,className:"w-full h-full object-cover"}),(0,xn.jsx)("span",{className:"absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-medium ".concat(e.available?"bg-green-500 text-white":"bg-red-500 text-white"),children:e.available?"Available":"Unavailable"})]}),(0,xn.jsxs)("div",{className:"p-4",children:[(0,xn.jsx)("h3",{className:"font-semibold text-lg text-gray-800 mb-1",children:e.name}),(0,xn.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),(0,xn.jsxs)("div",{className:"mb-3 space-y-2",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsx)("span",{className:"text-sm text-gray-500",children:"Dine In:"}),(0,xn.jsxs)("span",{className:"font-semibold text-indigo-600",children:["\u20b9",e.price||0]})]}),e.room_service_price&&(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsx)("span",{className:"text-sm text-gray-500",children:"Room Service:"}),(0,xn.jsxs)("span",{className:"font-semibold text-purple-600",children:["\u20b9",e.room_service_price]})]})]}),(()=>{const t=x[e.id];let r=0;if(t&&t.ingredients&&Array.isArray(t.ingredients)){const e=t.servings||1;t.ingredients.forEach(t=>{const n=$e.find(e=>e.id===t.inventory_item_id);n&&n.unit_price&&(r+=(t.quantity||0)*n.unit_price/e)})}const n=parseFloat(e.price||0)-r,i=parseFloat(e.price||0)>0?n/parseFloat(e.price||0)*100:0;return r>0?(0,xn.jsx)("div",{className:"mb-3 p-2 bg-gray-50 rounded border border-gray-200",children:(0,xn.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[(0,xn.jsxs)("div",{className:"text-center",children:[(0,xn.jsx)("p",{className:"text-gray-500 mb-1",children:"Cost"}),(0,xn.jsxs)("p",{className:"font-semibold text-red-600",children:["\u20b9",r.toFixed(0)]})]}),(0,xn.jsxs)("div",{className:"text-center",children:[(0,xn.jsx)("p",{className:"text-gray-500 mb-1",children:"Profit"}),(0,xn.jsxs)("p",{className:"font-semibold ".concat(n>=0?"text-green-600":"text-red-600"),children:["\u20b9",n.toFixed(0)]})]}),(0,xn.jsxs)("div",{className:"text-center",children:[(0,xn.jsx)("p",{className:"text-gray-500 mb-1",children:"Margin"}),(0,xn.jsxs)("p",{className:"font-semibold ".concat(i>=0?"text-green-600":"text-red-600"),children:[i.toFixed(0),"%"]})]})]})}):null})(),(0,xn.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,xn.jsx)("button",{onClick:()=>(e=>{var t;Ee(e.id),xe(e.name),ve(e.description),we(e.price||""),Ne(e.room_service_price||""),Ge(e.category_id),Te(e.available),Ie(e.always_available||!1),Ae((null===(t=e.images)||void 0===t?void 0:t.map(e=>ot(e.image_url)))||[]),ke([]),et(e.available_from_time||""),rt(e.available_to_time||""),Qe(e.extra_inventory_items||[]),it(e.time_wise_prices||[])})(e),className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white text-sm py-2 px-3 rounded-lg transition-colors font-medium",children:"Edit"}),(0,xn.jsx)("button",{onClick:()=>(async e=>{fe(!0);try{await mn.patch("/food-items/".concat(e.id,"/toggle-availability?available=").concat(!e.available),null,{headers:{Authorization:"Bearer ".concat(st)}}),xt(),PQ.success("Item status toggled to ".concat(e.available?"Not Available":"Available"))}catch(t){console.error("Failed to toggle availability",t),PQ.error("Failed to toggle availability.")}finally{fe(!1)}})(e),className:"bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm py-2 px-3 rounded-lg transition-colors font-medium",children:e.available?"Hide":"Show"}),(0,xn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this item?")){fe(!0);try{await mn.delete("/food-items/".concat(e),{headers:{Authorization:"Bearer ".concat(st)}}),xt(),PQ.success("Food item deleted successfully!")}catch(t){console.error("Delete failed",t),PQ.error("Failed to delete food item.")}finally{fe(!1)}}})(e.id),className:"bg-red-100 hover:bg-red-200 text-red-700 text-sm py-2 px-3 rounded-lg transition-colors font-medium",children:"Delete"})]})]})]},e.id))})]})]}),(0,xn.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg",children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"\ud83d\udcc1 Category Management"}),(0,xn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!Me)return void PQ.error("Please fill in the category name.");fe(!0);const t=new FormData;t.append("name",Me),Be&&t.append("image",Be);try{if(Ke)await mn.put("/food-categories/".concat(Ke),t,{headers:{Authorization:"Bearer ".concat(st)}}),Ye(null),PQ.success("Category updated successfully!");else{if(!Be)return PQ.error("Please select an image for the new category."),void fe(!1);await mn.post("/food-categories",t,{headers:{Authorization:"Bearer ".concat(st)}}),PQ.success("Category added successfully!")}Re(""),ze(null),qe(null),gt()}catch(s){var r,n,i,a;console.error("Failed to save category:",s);const e=(null===(r=s.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||(null===(i=s.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.message)||s.message||"Failed to save category.";PQ.error("Failed to save category: ".concat(e))}finally{fe(!1)}},className:"mb-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,xn.jsx)("input",{type:"text",placeholder:"Category Name",className:"border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-indigo-500",value:Me,onChange:e=>Re(e.target.value),required:!0}),(0,xn.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];ze(t),qe(t?URL.createObjectURL(t):null)},className:"border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-indigo-500",required:!Ke}),(0,xn.jsxs)("div",{className:"flex gap-2",children:[(0,xn.jsx)("button",{type:"submit",className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-xl",children:Ke?"Update Category":"Add Category"}),Ke&&(0,xn.jsx)("button",{type:"button",onClick:()=>{Ye(null),Re(""),ze(null),qe(null)},className:"bg-gray-500 hover:bg-gray-600 text-white font-semibold py-3 px-6 rounded-xl",children:"Cancel"})]})]}),Ue&&(0,xn.jsx)("img",{src:Ue,alt:"Preview",className:"mt-4 w-32 h-32 object-cover rounded border"})]}),(0,xn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:We.map(e=>(0,xn.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 text-center hover:shadow-lg transition-shadow",children:[(0,xn.jsx)("img",{src:ot("static/food_categories/".concat(e.image)),alt:e.name,className:"w-full h-24 object-cover rounded mb-2"}),(0,xn.jsx)("h3",{className:"font-semibold mb-2",children:e.name}),(0,xn.jsxs)("div",{className:"flex gap-2",children:[(0,xn.jsx)("button",{onClick:()=>(e=>{Ye(e.id),Re(e.name),qe(ot("static/food_categories/".concat(e.image))),ze(null)})(e),className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white text-xs py-1 px-2 rounded",children:"Edit"}),(0,xn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this category?")){fe(!0);try{await mn.delete("/food-categories/".concat(e),{headers:{Authorization:"Bearer ".concat(st)}}),gt(),PQ.success("Category deleted successfully!")}catch(t){console.error("Failed to delete:",t),PQ.error("Failed to delete category. Check if it's in use.")}finally{fe(!1)}}})(e.id),className:"flex-1 bg-red-500 hover:bg-red-600 text-white text-xs py-1 px-2 rounded",children:"Delete"})]})]},e.id))})]})]})]})})}const d$=Cu("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),u$=Cu("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),h$=Cu("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),f$=Cu("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var p$=r(7762),m$=r(557),g$=r.n(m$);const x$=ln.create({baseURL:hn()});x$.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));x$.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(localStorage.removeItem("token"),window.location.href="undefined"===typeof window?"/admin/login":(window.location.pathname||"").startsWith("/pommaadmin")?"/pommaadmin/login":"/admin/login"),Promise.reject(e)));const y$=i.memo(e=>{let{title:t,value:r,icon:n,color:i,prefix:a="",suffix:s=""}=e;return(0,xn.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-md flex items-center",children:[(0,xn.jsx)("div",{className:"rounded-full p-3 mr-4 ".concat(i),children:n}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm text-gray-500 font-medium",children:t}),(0,xn.jsxs)("p",{className:"text-2xl font-bold text-gray-800",children:[a,r,s]})]})]})});y$.displayName="KpiCard";const v$=i.memo(e=>{var t;let{checkout:r,onClose:n}=e;const[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{r&&(l(!0),x$.get("/bill/checkouts/".concat(r.id,"/details")).then(e=>{s(e.data)}).catch(e=>{console.error("Failed to load checkout details:",e),s(null)}).finally(()=>l(!1)))},[r]),r?(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4 overflow-y-auto",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] p-6 relative animate-fade-in-up overflow-y-auto",children:[(0,xn.jsx)("button",{onClick:n,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800 z-10",children:(0,xn.jsx)(EX,{size:24})}),(0,xn.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:["Checkout Details (ID: ",r.id,")"]}),o?(0,xn.jsx)("div",{className:"text-center py-8",children:"Loading details..."}):a?(0,xn.jsxs)("div",{className:"space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:"Guest Name"}),(0,xn.jsx)("p",{className:"font-semibold",children:a.guest_name||"N/A"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:"Rooms"}),(0,xn.jsx)("p",{className:"font-semibold",children:(null===(t=a.room_numbers)||void 0===t?void 0:t.join(", "))||a.room_number||"N/A"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:"Checkout Date"}),(0,xn.jsx)("p",{className:"font-semibold",children:new Date(a.created_at).toLocaleString()})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:"Payment Method"}),(0,xn.jsx)("p",{className:"font-semibold",children:a.payment_method||"N/A"})]}),a.booking_id&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:"Booking ID"}),(0,xn.jsx)("p",{className:"font-semibold",children:a.booking_id})]}),a.package_booking_id&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:"Package Booking ID"}),(0,xn.jsx)("p",{className:"font-semibold",children:a.package_booking_id})]})]}),a.booking_details&&(0,xn.jsxs)("div",{className:"border-t pt-4",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Booking Information"}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:"Check-in"}),(0,xn.jsx)("p",{className:"font-semibold",children:a.booking_details.check_in})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:"Check-out"}),(0,xn.jsx)("p",{className:"font-semibold",children:a.booking_details.check_out})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:"Adults"}),(0,xn.jsx)("p",{className:"font-semibold",children:a.booking_details.adults})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:"Children"}),(0,xn.jsx)("p",{className:"font-semibold",children:a.booking_details.children})]}),a.booking_details.package_name&&(0,xn.jsxs)("div",{className:"col-span-2",children:[(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:"Package"}),(0,xn.jsx)("p",{className:"font-semibold",children:a.booking_details.package_name})]})]})]}),a.food_orders&&a.food_orders.length>0&&(0,xn.jsxs)("div",{className:"border-t pt-4",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Food Orders"}),(0,xn.jsx)("div",{className:"space-y-4",children:a.food_orders.map((e,t)=>{var r;return(0,xn.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("p",{className:"font-semibold",children:["Order #",e.id]}),(0,xn.jsxs)("p",{className:"text-sm text-gray-500",children:["Room: ",e.room_number]}),(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleString()})]}),(0,xn.jsxs)("div",{className:"text-right",children:[(0,xn.jsx)("p",{className:"font-semibold text-indigo-600",children:Ju(e.amount)}),(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:e.status})]})]}),(0,xn.jsx)("div",{className:"mt-2 space-y-1",children:null===(r=e.items)||void 0===r?void 0:r.map((e,t)=>(0,xn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,xn.jsxs)("span",{children:[e.item_name," x ",e.quantity]}),(0,xn.jsx)("span",{className:"font-medium",children:Ju(e.total)})]},t))})]},t)})})]}),a.services&&a.services.length>0&&(0,xn.jsxs)("div",{className:"border-t pt-4",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Services"}),(0,xn.jsx)("div",{className:"space-y-2",children:a.services.map((e,t)=>(0,xn.jsxs)("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"font-semibold",children:e.service_name}),(0,xn.jsxs)("p",{className:"text-sm text-gray-500",children:["Room: ",e.room_number]}),e.created_at&&(0,xn.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleString()})]}),(0,xn.jsxs)("div",{className:"text-right",children:[(0,xn.jsx)("p",{className:"font-semibold text-indigo-600",children:Ju(e.charges)}),(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:e.status})]})]},t))})]}),(0,xn.jsxs)("div",{className:"border-t pt-4",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Bill Summary"}),(0,xn.jsxs)("div",{className:"space-y-2",children:[a.room_total>0&&(0,xn.jsxs)("div",{className:"flex justify-between",children:[(0,xn.jsx)("span",{children:"Room Charges:"}),(0,xn.jsx)("span",{className:"font-medium",children:Ju(a.room_total)})]}),a.package_total>0&&(0,xn.jsxs)("div",{className:"flex justify-between",children:[(0,xn.jsx)("span",{children:"Package Charges:"}),(0,xn.jsx)("span",{className:"font-medium",children:Ju(a.package_total)})]}),a.food_total>0&&(0,xn.jsxs)("div",{className:"flex justify-between",children:[(0,xn.jsx)("span",{children:"Food Charges:"}),(0,xn.jsx)("span",{className:"font-medium",children:Ju(a.food_total)})]}),a.service_total>0&&(0,xn.jsxs)("div",{className:"flex justify-between",children:[(0,xn.jsx)("span",{children:"Service Charges:"}),(0,xn.jsx)("span",{className:"font-medium",children:Ju(a.service_total)})]}),a.tax_amount>0&&(0,xn.jsxs)("div",{className:"flex justify-between",children:[(0,xn.jsx)("span",{children:"Tax:"}),(0,xn.jsx)("span",{className:"font-medium",children:Ju(a.tax_amount)})]}),a.discount_amount>0&&(0,xn.jsxs)("div",{className:"flex justify-between text-red-600",children:[(0,xn.jsx)("span",{children:"Discount:"}),(0,xn.jsxs)("span",{className:"font-medium",children:["-",Ju(a.discount_amount)]})]}),(0,xn.jsxs)("div",{className:"flex justify-between text-xl font-bold text-indigo-600 pt-2 border-t",children:[(0,xn.jsx)("span",{children:"Grand Total:"}),(0,xn.jsx)("span",{children:Ju(a.grand_total)})]})]})]})]}):(0,xn.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Failed to load details"})]})}):null});v$.displayName="CheckoutDetailModal";const b$=["#4f46e5","#10b981","#f59e0b","#3b82f6"],w$=()=>{se();const[e,t]=(0,i.useState)(""),[r,n]=(0,i.useState)("multiple"),[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)("Card"),[c,d]=(0,i.useState)(0),[u,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)({type:null,text:""}),[m,g]=(0,i.useState)([]),[x,y]=(0,i.useState)([]),[v,b]=(0,i.useState)(null),[w,j]=(0,i.useState)(!0),[N,_]=(0,i.useState)(!1),[k,S]=(0,i.useState)(""),[A,C]=(0,i.useState)(""),[E,P]=(0,i.useState)(""),[T,O]=(0,i.useState)(""),[I,L]=(0,i.useState)("All"),[D,M]=(0,i.useState)(""),[R,F]=(0,i.useState)(""),[B,z]=(0,i.useState)(""),[U,q]=(0,i.useState)(""),W=(e,t)=>{p({type:e,text:t})},H=(0,i.useCallback)(async()=>{if(!N&&w){_(!0);try{const e=(await x$.get("/bill/checkouts?skip=".concat(x.length,"&limit=20"))).data||[];y(t=>[...t,...e]),e.length<20&&j(!1)}catch(e){console.error("Failed to load more checkouts:",e)}finally{_(!1)}}},[N,w,x.length]),V=CX(H,w,N),[G,K]=(0,i.useState)({checkouts_today:0,checkouts_total:0,available_rooms:0,booked_rooms:0,food_revenue_today:0,package_bookings_today:0}),[Y,X]=(0,i.useState)({revenue_breakdown:[],weekly_performance:[]}),Q=(0,i.useMemo)(()=>{const e=new Set;return x.forEach(t=>{t.payment_method&&e.add(t.payment_method)}),Array.from(e).sort()},[x]),$=(0,i.useMemo)(()=>x.filter(e=>{var t,r;if(k){var n,i,a,s;const t=k.toLowerCase();if(!(e.id.toString().toLowerCase().includes(t)||(null===(n=e.guest_name)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(i=e.room_number)||void 0===i?void 0:i.toLowerCase().includes(t))||(null===(a=e.booking_id)||void 0===a?void 0:a.toString().toLowerCase().includes(t))||(null===(s=e.package_booking_id)||void 0===s?void 0:s.toString().toLowerCase().includes(t))))return!1}if(A&&(null===(t=e.guest_name)||void 0===t||!t.toLowerCase().includes(A.toLowerCase())))return!1;if(E&&(null===(r=e.room_number)||void 0===r||!r.toLowerCase().includes(E.toLowerCase())))return!1;if(T){var o,l;const t=T.toLowerCase();if(!((null===(o=e.booking_id)||void 0===o?void 0:o.toString().toLowerCase().includes(t))||(null===(l=e.package_booking_id)||void 0===l?void 0:l.toString().toLowerCase().includes(t))))return!1}if("All"!==I&&e.payment_method!==I)return!1;if(D||R){const t=new Date(e.created_at);if(D&&t<new Date(D))return!1;if(R&&t>new Date(R+"T23:59:59"))return!1}return!(B&&e.grand_total<parseFloat(B))&&!(U&&e.grand_total>parseFloat(U))}),[x,k,A,E,T,I,D,R,B,U]),Z=(0,i.useMemo)(()=>{let e=0;return k&&e++,A&&e++,E&&e++,T&&e++,"All"!==I&&e++,D&&e++,R&&e++,B&&e++,U&&e++,e},[k,A,E,T,I,D,R,B,U]),J=()=>{S(""),C(""),P(""),O(""),L("All"),M(""),F(""),z(""),q("")};(0,i.useEffect)(()=>{ee()},[]);const ee=async()=>{try{const i=await Promise.allSettled([x$.get("/bill/checkouts?skip=0&limit=20").catch(e=>({error:e,data:[]})),x$.get("/dashboard/kpis").catch(e=>({error:e,data:[{checkouts_today:0,checkouts_total:0,available_rooms:0,booked_rooms:0,food_revenue_today:0,package_bookings_today:0}]})),x$.get("/dashboard/charts").catch(e=>({error:e,data:{revenue_breakdown:[],weekly_performance:[]}})),x$.get("/bill/active-rooms").catch(e=>({error:e,data:[]}))]);var e,t;if("fulfilled"!==i[0].status||i[0].value.error)console.error("Failed to load checkouts:",(null===(e=i[0].value)||void 0===e?void 0:e.error)||i[0].reason),y([]),j(!1);else y(Array.isArray(i[0].value.data)?i[0].value.data:[]),j(i[0].value.data&&20===i[0].value.data.length);if("fulfilled"!==i[1].status||i[1].value.error){var r;console.error("Failed to load KPIs:",(null===(r=i[1].value)||void 0===r?void 0:r.error)||i[1].reason),K({checkouts_today:0,checkouts_total:0,available_rooms:0,booked_rooms:0,food_revenue_today:0,package_bookings_today:0})}else{const e=i[1].value.data;Array.isArray(e)&&e.length>0?K(e[0]):K("object"===typeof e?e:{checkouts_today:0,checkouts_total:0,available_rooms:0,booked_rooms:0,food_revenue_today:0,package_bookings_today:0})}if("fulfilled"!==i[2].status||i[2].value.error)console.error("Failed to load charts:",(null===(t=i[2].value)||void 0===t?void 0:t.error)||i[2].reason),X({revenue_breakdown:[],weekly_performance:[]});else X(i[2].value.data||{revenue_breakdown:[],weekly_performance:[]});if("fulfilled"!==i[3].status||i[3].value.error){var n;console.error("Failed to load active rooms:",(null===(n=i[3].value)||void 0===n?void 0:n.error)||i[3].reason),g([])}else{const e=Array.isArray(i[3].value.data)?i[3].value.data:[];console.log("Active rooms fetched:",e),g(e),0===e.length&&(console.warn("No active rooms found. This could mean:"),console.warn("1. No bookings are in 'checked-in' status"),console.warn("2. All rooms in checked-in bookings are already marked as 'Available' (checked out)"),console.warn("3. There are no active bookings"))}const a=i.every(e=>{var t;return"rejected"===e.status||"fulfilled"===e.status&&(null===(t=e.value)||void 0===t?void 0:t.error)});a&&W("error","Could not fetch dashboard data. Please check your connection and try again.")}catch(i){console.error("Unexpected error fetching initial data:",i),W("error","Could not fetch dashboard data: ".concat(i.message||"Unknown error",". Please refresh.")),y([]),g([]),K({checkouts_today:0,checkouts_total:0,available_rooms:0,booked_rooms:0,food_revenue_today:0,package_bookings_today:0}),X({revenue_breakdown:[],weekly_performance:[]})}},te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"print";if(!a)return;const t=new p$.default;t.addImage("data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMRDxAQEhAWFhMVFxIWDxUSFBAVExUSFxUiGRYVFRgaHCggGh0lHxMWIjEhJSktLjouGB80RDMtNyotLi0BCgoKDg0OGxAQGzUlICUtLS0rLS0vLS0tLTEtMC0tLzYrLjAtLS8vLy0tLy0tLS0tLS0tLS0tLS01Li0tLS0tLf/AABEIAOEA4QMBEQACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAABAEDBQYHAgj/xAA9EAABAwIEAwUFBwMDBQEAAAABAAIDBBEFEiExBkFREyJhcYEHMlKRoRQjQmKCsdFDkvFTwvByo7Lh8jP/xAAbAQEAAwEBAQEAAAAAAAAAAAAAAwQFAQIGB//EADQRAQACAQIEAwYFBAIDAAAAAAABAgMEERIhMUEFIlETYXGRsdEygaHB8CNC4fEUggYVJP/aAAwDAQACEQMRAD8A7e1osNEFco6IGUdEDKOiBlHRAyjogZR0QMo6IGUdEDKOiBlHRAyjogZR0QMo6IGUdEDKOiBlHRAyjogZR0QMo6IGUdEDKOiBlHRAyjogZR0QMo6IGUdEDKOiCNlHRBJbsEFUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQRkEhuwQVQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBBGQSG7BBVAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEEZBIbsEFUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQRkEhuwQVQEBAQEBAQEBAQEBAQEBAQUc4AXJsOZOydTbdi6jiSjjNnVcIPTtGE/IFT10ua3OKT8k9dLmtzik/Jah4sonuysqWOd0bmJ/ZeraTNWN7V2dtpM1Y3tXZl4pQ4XadPIj91XmNkExs9rjggICAgICCMgkN2CCqAgICAgICAgICAgICAgh4picVNGZJpAxvK+5PRoGrj4BSYsV8tuGkbykxYr5bcNI3lzzHfaTI67aZgjb/qSAOefFrdm+t/RbODwqsc8s7+6Gxh8LpSOLNP5Q1UuqKx2aWV7m/FKS4ebGXA+Vgmo8R0ui8tY5+kfvK/SK0j+lWI/nzbLhOHUcVi6mdO7rNJZvpG1uW3nfzWDqP8AyHNb8MbR7vur5a6i/wDft8I/duFBj0TAGtpxG3pHksPSwWdPisTO94n57s7Jobzz4t/izNLiMcnuu16HQ/8AtWcWsw5eVZ5+inkwXp1hLVlCICAgICAgjIJDdggqgICAgICAgICAgICAg1ji7jCOiHZttJOR3WX0YDs6Q8h4bnw3V3SaK2ed55V9fsuaXR2zTvPKvr9nIcXxmSeQySvL5Dt0aPhaOQ8AvoaUx4a8NI2/nduRbHgrwY4/nvXsPw/Z8up5NOw81894h4ra2+PDPL1+yWmKZ81+rORTNHP5ar5y1LSkmsp1PO243tzsB/Kr2xz3RWrOzaMLwyKUd2oBPNuTK75Er3j0VMvS/wCjLz6nJjnzU/VlmYC0fjPyCknwik/3SqTrrT2ZCmgLNM5cOVxqPVXtPgtijabzMe/7q17xad9tl9WUYgICAgIIyCQ3YIKoCAgICAgICAgICAg07jrjIUjTBCQahw1OhETT+J3V3Qep0sDf0WinNPFb8P1WtNp+Od7dHG62tJc4lxc9xJc4m5udySdyt+ZiscNWlk1EUjhr/pSicG98+9yvrbx81i63U8f9Os8u/vX9Dpto9pk69mQjqL7klZc09GjMx2T6epb1+hUF8N5RWZOmqmfF9Cql9Nl9ENqy2Ghpnua2RjXEcnMuRfzGxVDJgzV58MqOTLj3mtp/KWz4Xix0ZL6OOh/V/KsafxGazwZvn92Xn0sfix/JnFsqAgICAgICCMgkN2CCqAgICAgIPE0oY1znGwAJJ8AvNrRWN5drWbTtDTq/HpJCcrixvINNj6kLEzavJknyztDaw6KlI80byiMxKVpuJX/3OI+RUNcuWvS0/NPOnxz1rDJ0XE7m6StzDq2wd8tj9Fcxa+8crxuqZfDqzzpOzZKOtZK3MxwI59R5jktPHlrkjesszJivjna0Nc474tbQxZI7GokH3bdwxu3aOHToOZ8AVoaPSTmtvP4Y6u4sfFPPo4jW1jiXPc4ue4kuLjckndxX0MzFI2hdvmikbQiU7cxuf8lZ2s1Hs68MdZTeHaf21+O3SP1lLCxn0a/FIOq65snQOB2IR4lNiC68Sy2E4hJA/PE8tPMfhcOjhzTbdBmwUy12vDpOBY3HVssQBIB32HX9TeoUV8cTymN3zup0t9Pbft2llmNAFgLDkF5rWKxtHRVmd+cvS9OCAgICAgjIJDdggqgICAgICDW+MsQDYxEHC7iC8X2YNr+tvkqOtv5eCO7S8Owza/Htyj6tJdiLB+L6FZ0YbNrhl7jq2u2cD+/ySccx1OF7Mq5wmyNV46aQCVrrP/pgH3j4/l6rQ8O0WTPl2pO0R1lV1d8dce1439IaNiWIvmkknmeXPcbvJ+gHQDQAL7qla46xWvSGLF4rDDSzXu4/88FHNt+aCLTkspTVztrC31VDNp65LcUzzb+n1FsNIpEcoT46kHcW+qqW0to6c16mtpP4o2Xwbqvalq9YW63rb8Mr8bV5emZwev7JwzxNljPvsfobfkeNWny08F3dBnwzkjyztPr947uh0fDdLVxCalle0HQtdZ2V3NrgdQfVOKYYl9dqMF+DLET+iw/hypp3CSPvZTdroz3h+k6+guu8USmjXYM1eG/Lf1bdg2JduzUZZG6StNwQetjrYrxMbMjUYPZW5c4npLILiuICAgICCMgkN2CCqAgICAgINLh4TdVXmqpXtLyXBjMoIvtmLgdbcraKrXT7+a3WWtbxCMW2PDHKO8tX4u4adRZXhxfE42DiLOa618rvOxsfA7c+XxcPRf0etjP5Z5W+vway6VeeFf2XRjhjHf73w/F/hS4PD7ai21eUd5U9Xqcenrvbr2j1YCrrHSvL3nU7dAOQC+s0+npgpFKf7fMZdTbLbisxtTPc2Gw+pXu1t0Fsm/JbDbrkQjmZ35IssZaf2KjtXZtafN7Su89e6ZQ1QJDXbnQHqVFavdZi3qzUcVjYjUaEHcEbhRTzSxy5w2zhTC6esP2eQmKfUwyM1a+2pY9h0uNwRa4Guo1pZ8fD5oer63Nh83WO8T90jFeC6qmucnasH44rk2/Mzcelx4qst4PEsGXlvwz6T9/9KcL4y6kmDxcxusJmj8Teo/MOXy5ol1ukrqMe3eOk/wA9XX4Jmva17TdrgC0jYg7FeXyFqzWZrPWFTGM2awzWtfnbpfohvO2z2jggICAgIIyCQ3YIKoCAgICAgIMdxBhbaulmp3aZ2kNd8Lxqx48nAH0XqluG0Sc46TtL5yqJ5Y3vifo9jnMeCBcOabOHzBWxGg01vNEfq8/+51kRwTb89o3RXPvqT5kq7WtaRtWNoUrZrZLcVp3lGmqL6D1K5a/o7utxNubLzDxky8Fd0tsRXuOXVHo8u9+Ce5LBmaR8vAr1Nd42beKJpO8ID6NzJHRvaQ5ujgf+agggg9Cqu8T0aNZi3OHacL4fbimGwVTSG1bWmOVx92V8fdvJ+YgA5t9efLMtknFea9lf204b8M9Grinkp5bOBjljcDru1w1B/Y32U+8Wj3NCOG9eXOJdqwTEBUU8Uw3cO8Ojxo4fMFZ168M7MTLj4LzVDxnhinqbuLMkn+oywcT+YbO9dVzdY02vzYOUTvHpP85LPDNJNS5qaTvR6ugkbt+ZhH4Tzt56pKTW5cWfbLTlPeP3bAuM8QEBAQEBBGQSG7BBVAQEBAQEBAQcj9sPBry52JUzSdB9sY0XOgsJgPIAO8AD1K0dHqdv6c/kr5sUW82zkBkJ3K0d5VoiI6PcMZcdPU8gosuauON7Lmk0eXU22xxy7z2j+ejKQ0lm5hyufluu1zb4uP3Keo0lq67/AItp/uiN/dPRNpY+8x3iD6L3mmLYbTHor6Ktsevx47dYvET81Kqnyu02Oo/hd0Wf22Pn1jq+01Wk9lk5dJ6Nm4hwJs2G0OIxC7o42U9WOf3fcjefEWDSejm9FSm/DmvSfXeFbHM0yTSe/OG5exwkUlQzpLmH6o2j/Yqmr/FHwQ62PNHwbNxJw9HVs17srR92/wD2u6tUOPJNJRYM84p9zGcCB8RqKWQWcwh4B8RY28NGn1XrNtO1oT6zhtFcle7bVCoiAgICAgICAgjIJDdggqgICAgICAgICDnnFXsrp6hzpqbLDKSS5pBMLndco9wnw08FNGoy7bcSxpr4KT/Vxxb6/ZzbG+E6yjuZad2Qf1I+/HbqS33R/wBQCjmd+r6fT6vT3iK45iPd0QIJh9ml65mhv6v/AJcrNMm2GasnV6Gb+L4csRy2mZ/69PrDzDLenk6t09HbfufkrGPN/wDLaPTl81LWaDbxvDescreafjXr+z3SVPaNyu94beIUOjzezyRPbu+rz4oy027x0dI9lk7ZG1dDILskZnDTzHuSfR0fyTWztnm0erE8SwzXFjyx1jl+8fu2T2e4W6mFZE7ds2W/UBgLXeoc0+qhz24tp9zO1V4vw2j0bcoFRZdTNMglt3w0tv1aSDY+oB/yu78tnrinbh7Ly48iAgICAgICAgjIJDdggqgICAgICAgICAgINV4j4Bo6wOPZ9lIde0hs256vb7rt9yL+KLun1+bDPKd49Jch4s4MqsPDi4Z4CR97GDl37oeN2HXnpruV6i07bN3T6vBqb1t0tG+0fHrs1mGXK4OHL9ua60YnZ0H2fVWTEqYjZ+dh8nMNvqGqS8zaN5VfE8cW0lvdtP6u1tYASQNzd3ibWufQD5KB8c9ICAgICAgICAgICCMgkN2CCqAgICAgICAgICAgIOPe17ijtn/YIXXZG69QRs6UbM8m7nxt8K1dFp9o47R16M3Vara3DSendzGWO2qh1em9n5q9Po+q8E8Y/wCVHscv447+sfdtXA8p+00J5iaIf9wD9iqsfhb2q56a/wAJfQqifEiAgICAgICAgICAgjIJDdggqgICAgICAgICAgINC4/41EDXU1M68xuJZBtEOYB+P9vNaGk0c389+n1Z2r1kU8lOv0cnlwyQRNncwtjeSI3O0LyBcloOrgNLu21C1YvWbcMdmXNbRXinujtgvmC7ekXrNZ7vWHUWwZK5KdYndnPZ1Tl1bSs6TX/sGY/+C+emJrExL9S1GaLaG2SOk1+u33fQKifICAgICAgICAgICAgjIJDdggqgICAgICAgICChNtUGv4vDW1IMURFNEdHSOOaZw/I1ps0fqB8lZxThx+a3mn07KeWM+Xy08sevf+fmh4ZwPR0oMso7QtBc581sjQNSQzblfW695NZlyeWOXwecWiw4Y4rc9u8tHxXtsYryIWnI2zY73DI4r++/oTqbb7DktCkU0uLzdfrLOva+rzeTp9IU4mwNkM8NFTtzOa1oe78Uk8hvr0FslhyHzXrTZZtS2W/8iEerpFclcNOv1mWU9muB5MRqnXu2mMsea28rnlpI9GP/ALgsfJfimZ9Z3fe6i3sfDsOGesxHyiP9fJ1JQsUQEBAQEBAQEBAQEEZBIbsEFUBAQEBAQEBAQEBBrmNYfLXHscxipQR2h/qTEcmg+6wdTueVrXtYclMPm627ekf5Us+K+ong6V7+s/4ZSko4aOAhjQyNgLnnmbDVzjuTpuVDa181+fOZT1rjwY+XKIa5gmHlhnxSoYe0dnfDHa7mtI0AHxEWaB081b1OaIrGGnSOvvU/DtLbJl9tk5TaeW/aPf8Al+jM8KYQaWmDX2Mry6WoI5yv1d6DQeipWneW5rM/tsm8fhjlHwhmV5VRAQEBAQEBAQEBAQRkEhuwQVQEBAQEBAQEBAQEBBangDwA4XFwbciRqL+tj6LsWmOcPNqRaNpe3sBtcXsQR5jYrj1u9ICAgICAgICAgICAgIIyCQ3YIKoCAgICDGTY5E2tioSHdrJE+VlgMmRpsbm+9/BBdxrF4aOB9TUSBkTB3nG530AAGpJPIINbo/aRSuljjlgq6Zsrg2CWrp3RQyuOwa+5te3OyCTjfHUFLVOpDBUyytYx7hTwOlAY7YnKbjZBbHtEovsdTV3kApjG2qidG5k8ZkeGMzRutuXb7aHog8UHtBhmliibR1zTI5jGufSSNYC42Bc47N11KDIcP8YUtbUVNNC53a07nNlY9uUnK8sc5mveaHNtfxHUIK0vGFLJiMmGsc508bS6Szfuxltdua/vDMLj+EE/EMXZCJy4OPYw9s/KAbs72jbnU/dn6ILL8byd6alniZcB0j/s7mNubAu7ORxA11cRYbkgaoPVRjFpHxxU8s7mECXsuxDWOLQ4NLpZGAmzgbNva4vZBcixZjux7r2mWR8TWvYWubIxj3uDgeVonWIuDoQSDdBIqqtsboWuveV/Zst8WRz9fC0bvogsYRi0dS17o8wySSRva8ZXBzHW26HQg8wQgUeLRy1E9OzMXQiMyG3cu/NZrXfiIyG9tjpvcAJ6AgICAgICCMgkN2CCqAgICAg0HHauOLiSifLIyNv2KoGaRzWNuZBYXJsgj+0rEoHtw2pErJqWnrYH1vZPZI2MEEMfIGk6Bx+qC97U8bo5cInibNHM+oDGUccT2SPklc4ZCwNJvY2N/wCUGHviEWNVApGQSztoKQTioe9uYtvfIW7uLhzIHiuOtdxZzqnBcdxKaRhqZn0cNRTxscz7N2FSxojeHHMXHr4egO926YDikxnp2u4koZmlzAYI2Ugkkvp2bSJCbnbQXXXlr2C8MzVEddWUMgir4MSxAQvOjXxPcA+OTQ3GpcLg6jxuuOstw/w9Hh+O0VOwlzvsE755He/LM6cF8jjuST1O1guuNl4svlxO2/2AWuba3m5oJ2KU1VUwyUz4oY45mujme2eSRwieMr8jOyaC4gkAkgC99bWIXGUmaWofTVWV2e1RGQyWJs2Rurmmz2ktDDYOAN72ubkMc/EnPlpu2yg09cYZZGXbC5z6J+R7cxJaC6ojjy3Pf7tzugyeNOBqMPYPe7d77DfI2mkDnH8oL2C/V7RzCDFUVBN2LZ6UsbMXTxS9pfKYjUPyvIG7oi5zwNiC9umbMAn4NRNgrJomXytpqTUm7nEzVBc9x5ucSSTzJJQZ5AQEBAQEBBGQSG7BBVAQEBAQYzFeHqSqc19RSwzOaLNMsbHkNvewLhoEHqgwGlgZJHDSwxsk/wD1YyNjWv0t3gBY6HmgjYbwnQ00nbQUUEcmtnsiYHC++U27vogyLKCITOnETRK5oY+QNGdzBs0u3IHRBFqeHqSQzOkpYXGYNFQXRsPahhBb2mnesWttfoEEam4Ow+N7JI8PpmvYQ5jmwxBzXA3DgQNCCEGToqCKEPEUTGB73SSZGhuaR3vPdbdxsLlAdQRGYVBib2waWNkyjOIyblodva+tkHqejjfnzxtdnbkkzAHNHr3XdR3naeJQX0EKqwmCV/aPhYX2y57WeW/CXDUjU6bILjaCIRdgImdjYtMeRvZ5TuMtrWNyg80WGQwlzoomMc4AOc1ozFo2aTvYXNhtqgkQwtYMrWhouTYCwuTcn1JJ9UFBC0PL8ozkNa51tS1pJaCegL3f3FBcQEBAQEBAQRkEhuwQVQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBBGQSG7BBVAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEEZBIbsEFUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQRkEhuwQVQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBBGQUbsEFUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQR0H//2Q==","PNG",14,15,30,15),t.setFontSize(22),t.setFont("helvetica","bold"),t.text("Resort Invoice",105,25,{align:"center"}),t.setFontSize(10),t.setFont("helvetica","normal"),t.text("Your Resort Name",190,20,{align:"right"}),t.text("123 Paradise Lane, Beach City",190,25,{align:"right"}),t.text("contact@yourresort.com",190,30,{align:"right"}),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("Bill To:",14,45),t.setFont("helvetica","normal"),t.text(a.guest_name,14,51),t.text("Rooms: ".concat(a.room_numbers.join(", ")),14,57),t.setFont("helvetica","bold"),t.text("Check-in:",130,45),t.setFont("helvetica","normal"),t.text(new Date(a.check_in).toLocaleDateString(),150,45),t.setFont("helvetica","bold"),t.text("Check-out:",130,51),t.setFont("helvetica","normal"),t.text(new Date(a.check_out).toLocaleDateString(),150,51);const r=[];a.charges.room_charges>0&&r.push(["Room Charges","Stay for ".concat(a.stay_nights," nights"),Ju(a.charges.room_charges)]),a.charges.package_charges>0&&r.push(["Package Charges","Package for ".concat(a.stay_nights," nights"),Ju(a.charges.package_charges)]),a.charges.food_items.forEach(e=>r.push(["Food: ".concat(e.item_name),"Quantity: ".concat(e.quantity),Ju(e.amount)])),a.charges.service_items.forEach(e=>r.push(["Service: ".concat(e.service_name),"",Ju(e.charges)])),g$()(t,{startY:65,head:[["Description","Details","Amount"]],body:r,theme:"striped",headStyles:{fillColor:[38,41,61]}});const n=a.charges.total_due,i=a.charges.total_gst||0,s=Math.max(0,n+i-(parseFloat(c)||0)),o=[["Subtotal",Ju(n)],...a.charges.room_gst>0?[["Room GST","+".concat(Ju(a.charges.room_gst||0))]]:[],...a.charges.package_gst>0?[["Package GST","+".concat(Ju(a.charges.package_gst||0))]]:[],...a.charges.food_gst>0?[["Food GST (5%)","+".concat(Ju(a.charges.food_gst||0))]]:[],["Total GST","+".concat(Ju(i))],...c>0?[["Discount","-".concat(Ju(parseFloat(c)))]]:[],["Grand Total",Ju(s)]];g$()(t,{startY:t.lastAutoTable.finalY+2,body:o,theme:"plain",tableWidth:"wrap",margin:{left:120},styles:{cellPadding:1.5,fontSize:11},columnStyles:{0:{fontStyle:"bold",halign:"right"},1:{fontStyle:"bold",halign:"right"}},didParseCell:e=>{e.row.index===o.length-1&&(e.cell.styles.fontStyle="bold",e.cell.styles.fontSize=14)}});const l=t.internal.getNumberOfPages();for(let a=1;a<=l;a++)t.setPage(a),t.setFontSize(10),t.text("Thank you for staying with us!",105,t.internal.pageSize.height-10,{align:"center"});"print"===e?(t.autoPrint(),t.output("dataurlnewwindow")):t.save("bill-room-".concat(a.room_numbers.join("-"),".pdf"))},re=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!a)return"";const t="----------------------------------------",r=t=>e?"*".concat(t,"*"):t.toUpperCase();let n="".concat(r("Hotel Checkout Bill"),"\n").concat(t,"\n");if(n+="Guest Name: ".concat(a.guest_name,"\n"),n+="Rooms: ".concat(a.room_numbers.join(", "),"\n"),n+="Check-in: ".concat(new Date(a.check_in).toLocaleDateString(),"\n"),n+="Check-out: ".concat(new Date(a.check_out).toLocaleDateString(),"\n"),n+="".concat(t,"\n"),n+="".concat(r("Itemized Charges:"),"\n"),a.charges.room_charges>0&&(n+="Room Charges: ".concat(Ju(a.charges.room_charges),"\n")),a.charges.package_charges>0&&(n+="Package Charges: ".concat(Ju(a.charges.package_charges),"\n")),a.charges.food_items.length>0&&(n+="\nFood & Beverage:\n",a.charges.food_items.forEach(e=>{n+="- ".concat(e.item_name," (x").concat(e.quantity,"): ").concat(Ju(e.amount),"\n")})),a.charges.service_items.length>0&&(n+="\nAdditional Services:\n",a.charges.service_items.forEach(e=>{n+="- ".concat(e.service_name,": ").concat(Ju(e.charges),"\n")})),n+="".concat(t,"\n"),n+="Subtotal: ".concat(Ju(a.charges.total_due),"\n"),a.charges.room_gst>0){const e=a.charges.room_charges<=7500?"12%":"18%";n+="Room GST (".concat(e,"): +").concat(Ju(a.charges.room_gst||0),"\n")}if(a.charges.package_gst>0){const e=a.charges.package_charges<=7500?"12%":"18%";n+="Package GST (".concat(e,"): +").concat(Ju(a.charges.package_gst||0),"\n")}return a.charges.food_gst>0&&(n+="Food GST (5%): +".concat(Ju(a.charges.food_gst||0),"\n")),n+="Total GST: +".concat(Ju(a.charges.total_gst||0),"\n"),c>0&&(n+="Discount: -".concat(Ju(parseFloat(c)),"\n")),n+="".concat(r("Grand Total:")," ").concat(Ju(Math.max(0,a.charges.total_due+(a.charges.total_gst||0)-c)),"\n"),n+="".concat(t,"\nThank you for staying with us!"),encodeURIComponent(n)};return(0,xn.jsxs)(Zu,{children:[(0,xn.jsx)(PX,{message:f,onClose:()=>{p({type:null,text:""})},autoDismiss:!0,duration:5e3}),(0,xn.jsxs)("div",{className:"bubbles-container",children:[(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{})]}),(0,xn.jsxs)("div",{className:"p-2 sm:p-4 md:p-6 bg-gray-50 min-h-screen",children:[(0,xn.jsx)("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-800 mb-4 sm:mb-6",children:"Business Dashboard & Checkout"}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[(0,xn.jsx)(y$,{title:"Checkouts Today",value:G.checkouts_today,icon:(0,xn.jsx)(d$,{size:22,className:"text-indigo-600"}),color:"bg-indigo-100"}),(0,xn.jsx)(y$,{title:"Total Checkouts",value:G.checkouts_total,icon:(0,xn.jsx)(d$,{size:22,className:"text-green-600"}),color:"bg-green-100"}),(0,xn.jsx)(y$,{title:"Available Rooms",value:G.available_rooms,icon:(0,xn.jsx)(Ou,{size:22,className:"text-blue-600"}),color:"bg-blue-100"}),(0,xn.jsx)(y$,{title:"Booked Rooms",value:G.booked_rooms,icon:(0,xn.jsx)(Ou,{size:22,className:"text-red-600"}),color:"bg-red-100"}),(0,xn.jsx)(y$,{title:"Food Revenue Today",value:G.food_revenue_today.toLocaleString(),prefix:"\u20b9",icon:(0,xn.jsx)(u$,{size:22,className:"text-yellow-600"}),color:"bg-yellow-100"}),(0,xn.jsx)(y$,{title:"Package Bookings Today",value:G.package_bookings_today,icon:(0,xn.jsx)(Bu,{size:22,className:"text-purple-600"}),color:"bg-purple-100"})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4 sm:gap-6 md:gap-8 mb-6 sm:mb-8",children:[(0,xn.jsxs)("div",{className:"lg:col-span-3 bg-white p-6 rounded-xl shadow-md",children:[(0,xn.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Weekly Performance"}),(0,xn.jsx)(Fh,{width:"100%",height:300,children:(0,xn.jsxs)(WB,{data:Y.weekly_performance,margin:{top:5,right:20,left:10,bottom:5},children:[(0,xn.jsx)(yI,{dataKey:"day",stroke:"#6b7280"}),(0,xn.jsx)(AI,{yAxisId:"left",stroke:"#6b7280"}),(0,xn.jsx)(AI,{yAxisId:"right",orientation:"right",stroke:"#6b7280"}),(0,xn.jsx)(lM,{contentStyle:{backgroundColor:"#fff",border:"1px solid #ddd"}}),(0,xn.jsx)(UB,{}),(0,xn.jsx)(zz,{yAxisId:"left",dataKey:"revenue",fill:"#4f46e5",name:"Revenue (\u20b9)"}),(0,xn.jsx)(zz,{yAxisId:"right",dataKey:"checkouts",fill:"#10b981",name:"Checkouts"})]})})]}),(0,xn.jsxs)("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-md",children:[(0,xn.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Total Revenue Breakdown"}),(0,xn.jsx)(Fh,{width:"100%",height:300,children:(0,xn.jsxs)(FR,{children:[(0,xn.jsx)(jB,{data:Y.revenue_breakdown,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:Y.revenue_breakdown.map((e,t)=>(0,xn.jsx)(aF,{fill:b$[t%b$.length]},"cell-".concat(t)))}),(0,xn.jsx)(lM,{formatter:e=>"\u20b9".concat(e.toLocaleString())}),(0,xn.jsx)(UB,{})]})})]})]}),(0,xn.jsxs)("div",{className:"bg-white p-4 sm:p-6 md:p-8 rounded-xl shadow-md w-full max-w-2xl mx-auto mb-6 sm:mb-8",children:[(0,xn.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-center text-gray-800 mb-4 sm:mb-6",children:"Process New Checkout"}),(0,xn.jsxs)("div",{className:"mb-4",children:[(0,xn.jsx)("label",{htmlFor:"room-select",className:"block text-gray-700 font-medium mb-2",children:"Select a Room or Booking to Checkout"}),(0,xn.jsxs)("select",{id:"room-select",value:e,onChange:e=>{const r=e.target.value;if(!r)return t(""),n("multiple"),void s(null);const i=r.split("-");if(i.length>=3){const[e,a,o]=i,l=m.find(t=>t.booking_id.toString()===e&&t.room_number===a&&t.checkout_mode===o);t(r),l&&(n(l.checkout_mode||o||"multiple"),s(null))}else{const e=m.find(e=>e.room_number===r);t(r),e&&(n(e.checkout_mode||"multiple"),s(null))}},className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,xn.jsx)("option",{value:"",children:"-- Select a Room or Booking to Checkout --"}),m.map((e,t)=>{var r;const n="".concat(e.booking_id,"-").concat(e.room_number,"-").concat(e.checkout_mode);return(0,xn.jsx)("option",{value:n,children:e.display_label||"".concat((null===(r=e.room_numbers)||void 0===r?void 0:r.join(", "))||e.room_number," (").concat(e.guest_name,")")},"".concat(n,"-").concat(t))})]}),e&&((t,r,n)=>{let i=null,a="multiple";if(e.includes("-")){const t=e.split("-");if(t.length>=3){var s;const[e,r,n]=t;i=m.find(t=>t.booking_id.toString()===e&&t.room_number===r&&t.checkout_mode===n),a=(null===(s=i)||void 0===s?void 0:s.checkout_mode)||n||"multiple"}}else{var o;i=m.find(t=>t.room_number===e),a=(null===(o=i)||void 0===o?void 0:o.checkout_mode)||"multiple"}const l="multiple"===a;return(0,xn.jsxs)("div",{className:"mt-2 p-3 ".concat(l?"bg-blue-50 border-blue-200":"bg-green-50 border-green-200"," border rounded-lg text-sm ").concat(l?"text-blue-800":"text-green-800"),children:[(0,xn.jsx)("p",{className:"font-semibold",children:l?"\u26a0\ufe0f Important: This will checkout ALL rooms in the booking":"\u2713 Single Room Checkout: Only this room will be checked out"}),(0,xn.jsxs)("p",{className:"mt-1",children:["Rooms: ",(null===(t=i)||void 0===t||null===(r=t.room_numbers)||void 0===r?void 0:r.join(", "))||e]}),(null===(n=i)||void 0===n?void 0:n.room_numbers)&&i.room_numbers.length>1&&!l&&(0,xn.jsx)("p",{className:"mt-1 text-xs italic",children:"Other rooms in this booking will remain checked in."})]})})()]}),(0,xn.jsx)("button",{onClick:async()=>{if(e){h(!0),s(null),d(0);try{const t=e.includes("-")?e.split("-")[1]:e,n=await x$.get("/bill/".concat(t,"?checkout_mode=").concat(r));if(!n.data||!n.data.room_numbers)throw new Error("Invalid bill data received");{s(n.data);const e=n.data.room_numbers.length,t="single"===r?"single room":"all rooms in the booking";W("success","Bill retrieved for ".concat(e," room(s) (").concat(t,")."))}}catch(i){var t,n;const e=null===(t=i.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail,r="string"===typeof e?e:i.message||"Unknown error";W("error","Error: ".concat(r)),s(null),console.error("Error fetching bill:",i)}finally{h(!1)}}else W("error","Please select a booking to checkout.")},className:"w-full bg-indigo-600 text-white py-2.5 rounded-lg font-semibold hover:bg-indigo-700 transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 mb-4",disabled:u,children:u?"Fetching Bill...":"single"===r?"Get Bill for Single Room":"Get Bill for Entire Booking"}),a&&(0,xn.jsxs)("div",{id:"bill-details",className:"bg-gray-50 border border-gray-200 p-4 rounded-xl mb-6 animate-fade-in",children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"Detailed Bill"}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 mb-4 text-sm",children:[(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-semibold",children:"Guest Name:"})," ",a.guest_name]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-semibold",children:"Rooms:"})," ",a.room_numbers.join(", ")," (",a.room_numbers.length,")"]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-semibold",children:"Check-in:"})," ",new Date(a.check_in).toLocaleDateString()]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-semibold",children:"Check-out:"})," ",new Date(a.check_out).toLocaleDateString()]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-semibold",children:"Stay:"})," ",a.stay_nights," nights"]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-semibold",children:"Guests:"})," ",a.number_of_guests]})]}),(0,xn.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,xn.jsx)("h3",{className:"font-bold text-gray-700 mb-2",children:"Itemized Charges:"}),(0,xn.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-gray-600",children:[a.charges.room_charges>0&&(0,xn.jsxs)("li",{children:["Room Charges: ",Ju(a.charges.room_charges)]}),a.charges.package_charges>0&&(0,xn.jsxs)("li",{children:["Package Charges: ",Ju(a.charges.package_charges)]})]}),a.charges.food_items.length>0&&(0,xn.jsxs)("div",{className:"mt-3",children:[(0,xn.jsx)("h4",{className:"font-semibold text-gray-600",children:"Food & Beverage:"}),(0,xn.jsx)("ul",{className:"list-decimal list-inside ml-4 text-xs text-gray-500",children:a.charges.food_items.map((e,t)=>(0,xn.jsxs)("li",{children:[e.item_name," (x",e.quantity,") - ",Ju(e.amount)]},t))})]}),a.charges.service_items.length>0&&(0,xn.jsxs)("div",{className:"mt-3",children:[(0,xn.jsx)("h4",{className:"font-semibold text-gray-600",children:"Additional Services:"}),(0,xn.jsx)("ul",{className:"list-decimal list-inside ml-4 text-xs text-gray-500",children:a.charges.service_items.map((e,t)=>(0,xn.jsxs)("li",{children:[e.service_name," - ",Ju(e.charges)]},t))})]}),(0,xn.jsxs)("div",{className:"mt-4 pt-4 border-t text-right space-y-1",children:[(0,xn.jsxs)("p",{className:"text-sm text-gray-600",children:["Subtotal: ",Ju(a.charges.total_due)]}),a.charges.room_gst>0&&(0,xn.jsxs)("p",{className:"text-xs text-gray-500",children:["Room GST (",a.charges.room_charges<5e3?"5%":a.charges.room_charges<=7500?"12%":"18%","): +",Ju(a.charges.room_gst||0)]}),a.charges.package_gst>0&&(0,xn.jsxs)("p",{className:"text-xs text-gray-500",children:["Package GST (",a.charges.package_charges<5e3?"5%":a.charges.package_charges<=7500?"12%":"18%","): +",Ju(a.charges.package_gst||0)]}),a.charges.food_gst>0&&(0,xn.jsxs)("p",{className:"text-xs text-gray-500",children:["Food GST (5%): +",Ju(a.charges.food_gst||0)]}),(0,xn.jsxs)("p",{className:"text-sm text-gray-600 font-semibold",children:["Total GST: +",Ju(a.charges.total_gst||0)]}),c>0&&(0,xn.jsxs)("p",{className:"text-sm text-green-600",children:["Discount: -",Ju(parseFloat(c))]}),(0,xn.jsxs)("p",{className:"font-bold text-xl text-gray-900",children:["Grand Total: ",Ju(Math.max(0,a.charges.total_due+(a.charges.total_gst||0)-c))]})]})]})]}),a&&(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{htmlFor:"discount",className:"block text-gray-700 font-medium mb-2",children:"Discount (\u20b9)"}),(0,xn.jsx)("input",{type:"number",id:"discount",value:c,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0.00"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{htmlFor:"payment-method",className:"block text-gray-700 font-medium mb-2",children:"Payment Method"}),(0,xn.jsxs)("select",{id:"payment-method",value:o,onChange:e=>l(e.target.value),className:"w-full px-4 py-2 border rounded-lg h-full focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,xn.jsx)("option",{value:"Card",children:"Card"}),(0,xn.jsx)("option",{value:"Cash",children:"Cash"}),(0,xn.jsx)("option",{value:"Online",children:"Online"})]})]})]}),(0,xn.jsxs)("div",{className:"space-y-3",children:[(0,xn.jsxs)("div",{className:"flex space-x-2",children:[(0,xn.jsx)("button",{onClick:()=>te("print"),className:"flex-1 bg-gray-500 text-white py-2 rounded-lg font-semibold hover:bg-gray-600 transition",children:"Print"}),(0,xn.jsx)("button",{onClick:()=>te("download"),className:"flex-1 bg-indigo-500 text-white py-2 rounded-lg font-semibold hover:bg-indigo-600 transition",children:"Download"}),(0,xn.jsx)("button",{onClick:()=>{const e=re(!0);window.open("https://wa.me/?text=".concat(e),"_blank")},className:"flex-1 bg-green-500 text-white py-2 rounded-lg font-semibold hover:bg-green-600 transition",children:"WhatsApp"}),(0,xn.jsx)("button",{onClick:()=>{const e=encodeURIComponent("Your Hotel Bill for Room(s) ".concat(a.room_numbers.join(", "))),t=re(!1);window.location.href="mailto:?subject=".concat(e,"&body=").concat(t)},className:"flex-1 bg-blue-500 text-white py-2 rounded-lg font-semibold hover:bg-blue-600 transition",children:"Email"})]}),(0,xn.jsx)("button",{onClick:async()=>{if(!a)return void W("error","Please retrieve the bill before checkout.");if(!e)return void W("error","No booking selected for checkout.");const i=parseFloat(c)||0;if(i<0)return void W("error","Discount amount cannot be negative.");if(i>a.charges.total_due+(a.charges.total_gst||0))W("error","Discount cannot exceed the grand total.");else{h(!0);try{var l;const c=e.includes("-")?e.split("-")[1]:e,u=await x$.post("/bill/checkout/".concat(c),{payment_method:o,discount_amount:i,checkout_mode:r}),h=(null===(l=a.room_numbers)||void 0===l?void 0:l.length)||1,f="single"===r?"single room":"all rooms";s(null),d(0),t(""),n("multiple"),W("success","Checkout successful! ".concat(h," room(s) (").concat(f,") checked out. Checkout ID: ").concat(u.data.checkout_id)),setTimeout(()=>{ee()},1e3)}catch(g){var u,f,p,m;const e=(null===(u=g.response)||void 0===u||null===(f=u.data)||void 0===f?void 0:f.detail)||g.message||"Checkout failed";if(409===(null===(p=g.response)||void 0===p?void 0:p.status)){const r=e.includes("already")?e:"This booking or room has already been checked out. ".concat(e);W("error",r),s(null),d(0),t(""),ee()}else 404===(null===(m=g.response)||void 0===m?void 0:m.status)?(W("error","Booking not found. It may have already been checked out. Refreshing..."),s(null),t(""),ee()):W("error","Error: ".concat(e));console.error("Checkout error:",g)}finally{h(!1)}}},className:"w-full bg-red-600 text-white py-3 rounded-lg font-bold text-lg hover:bg-red-700 transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",disabled:u,children:u?"Processing...":"Complete Checkout"})]})]})]}),(0,xn.jsxs)("div",{className:"bg-white p-3 sm:p-6 rounded-xl shadow-md w-full max-w-7xl mx-auto",children:[(0,xn.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-3",children:[(0,xn.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Completed Checkouts"}),Z>0&&(0,xn.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,xn.jsxs)("span",{children:["Showing ",$.length," of ",x.length," checkouts"]}),(0,xn.jsxs)("button",{onClick:J,className:"flex items-center gap-1 px-3 py-1.5 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[(0,xn.jsx)(AU,{size:14}),"Clear Filters (",Z,")"]})]})]}),(0,xn.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-4 border border-gray-200",children:[(0,xn.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,xn.jsx)(h$,{size:18,className:"text-indigo-600"}),(0,xn.jsx)("h3",{className:"font-semibold text-gray-800",children:"Filters & Search"})]}),(0,xn.jsxs)("div",{className:"mb-4",children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,xn.jsxs)("div",{className:"relative",children:[(0,xn.jsx)(f$,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,xn.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),placeholder:"Search by ID, guest name, room number, booking ID...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guest Name"}),(0,xn.jsx)("input",{type:"text",value:A,onChange:e=>C(e.target.value),placeholder:"Filter by guest name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Number"}),(0,xn.jsx)("input",{type:"text",value:E,onChange:e=>P(e.target.value),placeholder:"Filter by room number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking/Package ID"}),(0,xn.jsx)("input",{type:"text",value:T,onChange:e=>O(e.target.value),placeholder:"Filter by booking ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),(0,xn.jsxs)("select",{value:I,onChange:e=>L(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm bg-white",children:[(0,xn.jsx)("option",{value:"All",children:"All Methods"}),Q.map(e=>(0,xn.jsx)("option",{value:e,children:e},e))]})]})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),(0,xn.jsx)("input",{type:"date",value:D,onChange:e=>M(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),(0,xn.jsx)("input",{type:"date",value:R,onChange:e=>F(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Amount (\u20b9)"}),(0,xn.jsx)("input",{type:"number",value:B,onChange:e=>z(e.target.value),placeholder:"0",min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Amount (\u20b9)"}),(0,xn.jsx)("input",{type:"number",value:U,onChange:e=>q(e.target.value),placeholder:"No limit",min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]})]})]}),(0,xn.jsx)("div",{className:"overflow-x-auto -mx-2 sm:mx-0",children:(0,xn.jsxs)("table",{className:"min-w-full text-xs sm:text-sm text-left",children:[(0,xn.jsx)("thead",{className:"bg-gray-50 border-b-2 border-gray-200 text-gray-800 uppercase tracking-wider",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"p-2 sm:p-3",children:"ID"}),(0,xn.jsx)("th",{className:"p-2 sm:p-3 hidden sm:table-cell",children:"Guest"}),(0,xn.jsx)("th",{className:"p-2 sm:p-3",children:"Rooms"}),(0,xn.jsx)("th",{className:"p-2 sm:p-3 hidden lg:table-cell",children:"Booking/Package ID"}),(0,xn.jsx)("th",{className:"p-2 sm:p-3 hidden md:table-cell",children:"Payment"}),(0,xn.jsx)("th",{className:"p-2 sm:p-3 hidden lg:table-cell",children:"Date"}),(0,xn.jsx)("th",{className:"p-2 sm:p-3 text-right",children:"Total"})]})}),(0,xn.jsx)("tbody",{className:"divide-y divide-gray-200",children:$.length>0?$.map(e=>(0,xn.jsxs)("tr",{className:"hover:bg-indigo-50 cursor-pointer",onClick:()=>b(e),children:[(0,xn.jsx)("td",{className:"p-2 sm:p-3 font-medium text-gray-800 text-xs sm:text-sm",children:e.id}),(0,xn.jsx)("td",{className:"p-2 sm:p-3 font-semibold text-gray-900 text-xs sm:text-sm hidden sm:table-cell",children:e.guest_name}),(0,xn.jsx)("td",{className:"p-2 sm:p-3 text-gray-800 text-xs sm:text-sm",children:e.room_number}),(0,xn.jsx)("td",{className:"p-2 sm:p-3 text-gray-800 text-xs sm:text-sm hidden lg:table-cell",children:e.booking_id||e.package_booking_id||"N/A"}),(0,xn.jsx)("td",{className:"p-2 sm:p-3 text-gray-800 text-xs sm:text-sm hidden md:table-cell",children:e.payment_method}),(0,xn.jsx)("td",{className:"p-2 sm:p-3 text-gray-800 text-xs sm:text-sm hidden lg:table-cell",children:new Date(e.created_at).toLocaleDateString()}),(0,xn.jsx)("td",{className:"p-2 sm:p-3 font-bold text-gray-900 text-right text-xs sm:text-sm",children:Ju(e.grand_total)})]},e.id)):(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"7",className:"p-4 text-center text-gray-500 text-sm sm:text-base",children:Z>0?(0,xn.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,xn.jsx)("span",{children:"No checkouts match your filters."}),(0,xn.jsx)("button",{onClick:J,className:"text-indigo-600 hover:text-indigo-800 underline text-sm",children:"Clear all filters"})]}):"No completed checkouts found."})})})]})}),w&&(0,xn.jsx)("div",{ref:V,className:"text-center p-4",children:N&&(0,xn.jsx)("span",{className:"text-indigo-600",children:"Loading more checkouts..."})})]}),(0,xn.jsx)(v$,{checkout:v,onClose:()=>b(null)})]})]})},j$=Cu("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),N$=Cu("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),_$=Cu("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),k$=Cu("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),S$=e=>{let{title:t,value:r,icon:n,prefix:i="",suffix:a="",loading:s}=e;return s?(0,xn.jsx)("div",{className:"bg-gray-200 h-24 rounded-2xl animate-pulse"}):(0,xn.jsxs)(xu.div,{className:"bg-white rounded-2xl shadow-lg p-5 flex items-center gap-4 hover:shadow-xl transition duration-300 transform hover:-translate-y-1",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:[n,(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-gray-500 text-sm font-medium",children:t}),(0,xn.jsx)(IU.Ay,{end:r,prefix:i,suffix:a,duration:1.5,className:"text-3xl font-bold text-gray-800"})]})]})},A$=e=>{let{title:t,icon:r,children:n,loading:i,className:a=""}=e;return i?(0,xn.jsx)("div",{className:"bg-gray-200 h-96 rounded-2xl animate-pulse"}):(0,xn.jsxs)(xu.div,{className:"bg-white rounded-2xl shadow-xl p-6 flex flex-col ".concat(a),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,xn.jsxs)("div",{className:"flex items-center mb-4 border-b border-gray-200 pb-3",children:[r,(0,xn.jsx)("h2",{className:"text-xl font-bold text-gray-800 ml-3",children:t})]}),n]})},C$=e=>{let{title:t,headers:r,data:n,loading:i,hasMore:a,loadMore:s,isSubmitting:o}=e;return i?(0,xn.jsx)("div",{className:"bg-gray-200 h-64 rounded-2xl animate-pulse"}):(0,xn.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,xn.jsx)("h3",{className:"text-xl font-bold text-gray-700 mb-4",children:t}),(0,xn.jsxs)("div",{className:"overflow-x-auto max-h-80",children:[(0,xn.jsxs)("table",{className:"min-w-full text-sm",children:[(0,xn.jsx)("thead",{className:"bg-gray-100 sticky top-0",children:(0,xn.jsx)("tr",{children:r.map(e=>(0,xn.jsx)("th",{className:"px-4 py-2 text-left font-semibold text-gray-600",children:e},e))})}),(0,xn.jsx)("tbody",{className:"divide-y divide-gray-200",children:n.length>0?n.map((e,n)=>(0,xn.jsx)("tr",{className:"hover:bg-gray-50 transition-colors",children:r.map(r=>(0,xn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:e[r.toLowerCase().replace(/ /g,"_")]||"N/A"},"".concat(t,"-").concat(n,"-").concat(r)))},"".concat(t,"-").concat(n))):(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:r.length,className:"text-center py-10 text-gray-500",children:"No data available."})})})]}),a&&(0,xn.jsx)("div",{ref:s,className:"text-center p-4",children:o&&(0,xn.jsx)("span",{className:"text-indigo-600",children:"Loading..."})})]})]})},E$=["#4f46e5","#10b981","#f59e0b","#ef4444","#3b82f6"];function P$(){const[e,t]=(0,i.useState)(!0),[r,n]=(0,i.useState)(!0),[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)("all"),[c,d]=(0,i.useState)({}),[u,h]=(0,i.useState)({}),[f,p]=(0,i.useState)({revenue_breakdown:[],weekly_performance:[]}),[m,g]=(0,i.useState)(!0),[x,y]=(0,i.useState)(!1),[v,b]=(0,i.useState)({roomBookings:[],packageBookings:[],foodOrders:[],expenses:[],employees:[]}),[w,j]=(0,i.useState)({roomBookings:{skip:0,hasMore:!0},packageBookings:{skip:0,hasMore:!0},foodOrders:{skip:0,hasMore:!0},expenses:{skip:0,hasMore:!0},employees:{skip:0,hasMore:!0}}),N=CX(()=>C("roomBookings"),w.roomBookings.hasMore,x),_=CX(()=>C("packageBookings"),w.packageBookings.hasMore,x),k=CX(()=>C("foodOrders"),w.foodOrders.hasMore,x),S=CX(()=>C("expenses"),w.expenses.hasMore,x),A=CX(()=>C("employees"),w.employees.hasMore,x);(0,i.useEffect)(()=>{(async()=>{try{t(!0);const e=await mn.get("/dashboard/summary?period=".concat(o));d(e.data)}catch(e){console.error("Failed to fetch KPI data:",e),s("Failed to load dashboard data. Please refresh the page.")}finally{t(!1)}})()},[o]),(0,i.useEffect)(()=>{(async()=>{try{n(!0);const e=await mn.get("/dashboard/charts");p(e.data)}catch(e){console.error("Failed to fetch chart data:",e)}finally{n(!1)}})()},[]),(0,i.useEffect)(()=>{(async()=>{try{g(!0),j({roomBookings:{skip:0,hasMore:!0},packageBookings:{skip:0,hasMore:!0},foodOrders:{skip:0,hasMore:!0},expenses:{skip:0,hasMore:!0},employees:{skip:0,hasMore:!0}});const e=E(o),t=new URLSearchParams;e&&t.append("from_date",e),t.append("skip",0),t.append("limit",10);const r=t.toString(),n=mn.get("/bookings?".concat(r)),i=mn.get("/reports/package-bookings?".concat(r)).catch(()=>({data:[]})),a=mn.get("/reports/food-orders?".concat(r)).catch(()=>mn.get("/food-orders?".concat(r))),s=mn.get("/reports/expenses?".concat(r)).catch(()=>mn.get("/expenses?".concat(r))),l=mn.get("/employees?".concat(r)),c=mn.get("/rooms?skip=0&limit=1000").catch(()=>({data:[]})),[d,u,f,p,m,x]=await Promise.all([n,i,a,s,l,c]),y={};(x.data||[]).forEach(e=>{y[e.id]=e.number}),h(y);const v=(f.data||[]).map(e=>Fe(Fe({},e),{},{room_number:e.room_number||e.room_id&&y[e.room_id]||"-",created_at:e.created_at||e.createdAt||"-"})),w=(p.data||[]).map(e=>({category:e.category||"-",description:e.description||"-",amount:null!=e.amount?e.amount:"-",expense_date:e.expense_date||e.date||"-"})),N=(m.data||[]).map(e=>{var t;return{name:e.name||"-",role:(null===(t=e.role)||void 0===t?void 0:t.name)||e.role||"-",salary:null!=e.salary?e.salary:"-",hire_date:e.hire_date||e.join_date||"-"}});b({roomBookings:d.data.bookings||[],packageBookings:u.data||[],foodOrders:v,expenses:w,employees:N})}catch(e){console.error("Failed to fetch detailed data:",e),b({roomBookings:[],packageBookings:[],foodOrders:[],expenses:[],employees:[]})}finally{g(!1)}})()},[o]);const C=async e=>{if(!x&&w[e].hasMore){y(!0);try{const t=E(o),r=new URLSearchParams;t&&r.append("from_date",t);const n=w[e].skip+10;r.append("skip",n),r.append("limit",10);const i=r.toString(),a={roomBookings:"/bookings",packageBookings:"/reports/package-bookings",foodOrders:"/reports/food-orders",expenses:"/reports/expenses",employees:"/employees"}[e]||"/".concat(e.replace(/([A-Z])/g,"-$1").toLowerCase()),s=await mn.get("".concat(a,"?").concat(i)).catch(async()=>mn.get("".concat({roomBookings:"/bookings",packageBookings:"/report/package-bookings",foodOrders:"/food-orders",expenses:"/expenses",employees:"/employees"}[e],"?").concat(i)));let l="roomBookings"===e?s.data.bookings||[]:s.data||[];"foodOrders"===e&&(l=l.map(e=>Fe(Fe({},e),{},{room_number:e.room_number||e.room_id&&u[e.room_id]||"-",created_at:e.created_at||e.createdAt||"-"}))),b(t=>Fe(Fe({},t),{},{[e]:[...t[e],...l]})),j(t=>Fe(Fe({},t),{},{[e]:{skip:n,hasMore:10===l.length}}))}catch(t){console.error("Failed to load more ".concat(e,":"),t)}finally{y(!1)}}};if(a)return(0,xn.jsx)(Zu,{children:(0,xn.jsx)("div",{className:"flex items-center justify-center h-screen text-red-500 text-lg",children:(0,xn.jsx)("p",{children:a})})});const E=e=>{const t=new Date;if("day"===e);else if("week"===e)t.setDate(t.getDate()-7);else{if("month"!==e)return"";t.setMonth(t.getMonth()-1)}return t.toISOString().split("T")[0]};return(0,xn.jsxs)(Zu,{children:[(0,xn.jsxs)("div",{className:"bubbles-container",children:[(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{})]}),(0,xn.jsxs)("div",{className:"p-6 md:p-8 space-y-8 bg-gray-50 min-h-screen",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Comprehensive Dashboard"}),(0,xn.jsx)("div",{className:"flex items-center space-x-2 bg-white p-1 rounded-lg shadow",children:["day","week","month","all"].map(e=>(0,xn.jsx)("button",{onClick:()=>l(e),className:"px-4 py-2 text-sm font-semibold rounded-md transition-colors ".concat(o===e?"bg-indigo-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"),children:"day"===e?"Today":"week"===e?"This Week":"month"===e?"This Month":"All Time"},e))})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-5",children:[(0,xn.jsx)(S$,{title:"Room Bookings",value:c.room_bookings||0,loading:e,icon:(0,xn.jsx)(Ou,{className:"text-purple-500 w-8 h-8"})}),(0,xn.jsx)(S$,{title:"Package Bookings",value:c.package_bookings||0,loading:e,icon:(0,xn.jsx)(Bu,{className:"text-indigo-500 w-8 h-8"})}),(0,xn.jsx)(S$,{title:"Total Bookings",value:c.total_bookings||0,loading:e,icon:(0,xn.jsx)(j$,{className:"text-blue-500 w-8 h-8"})}),(0,xn.jsx)(S$,{title:"Food Orders",value:c.food_orders||0,loading:e,icon:(0,xn.jsx)(u$,{className:"text-orange-500 w-8 h-8"})}),(0,xn.jsx)(S$,{title:"Services Assigned",value:c.assigned_services||0,loading:e,icon:(0,xn.jsx)(Iu,{className:"text-teal-500 w-8 h-8"})}),(0,xn.jsx)(S$,{title:"Services Completed",value:c.completed_services||0,loading:e,icon:(0,xn.jsx)(SU,{className:"text-green-500 w-8 h-8"})}),(0,xn.jsx)(S$,{title:"Total Expenses",value:c.total_expenses||0,prefix:"\u20b9",loading:e,icon:(0,xn.jsx)(N$,{className:"text-red-500 w-8 h-8"})}),(0,xn.jsx)(S$,{title:"Expense Count",value:c.expense_count||0,loading:e,icon:(0,xn.jsx)(_$,{className:"text-red-400 w-8 h-8"})}),(0,xn.jsx)(S$,{title:"Active Employees",value:c.active_employees||0,loading:e,icon:(0,xn.jsx)(Uu,{className:"text-cyan-500 w-8 h-8"})}),(0,xn.jsx)(S$,{title:"Total Salary",value:c.total_salary||0,prefix:"\u20b9",loading:e,icon:(0,xn.jsx)(qu,{className:"text-gray-600 w-8 h-8"})}),(0,xn.jsx)(S$,{title:"Food Items",value:c.food_items_available||0,suffix:" Available",loading:e,icon:(0,xn.jsx)(u$,{className:"text-yellow-500 w-8 h-8"})})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[(0,xn.jsx)(A$,{title:"Revenue Breakdown (All Time)",icon:(0,xn.jsx)(N$,{className:"text-green-600"}),loading:r,className:"lg:col-span-2",children:(0,xn.jsx)(Fh,{width:"100%",height:300,children:(0,xn.jsxs)(FR,{children:[(0,xn.jsx)(jB,{data:f.revenue_breakdown,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:f.revenue_breakdown.map((e,t)=>(0,xn.jsx)(aF,{fill:E$[t%E$.length]},"cell-".concat(t)))}),(0,xn.jsx)(lM,{formatter:e=>"\u20b9".concat(e.toLocaleString())}),(0,xn.jsx)(UB,{})]})})}),(0,xn.jsx)(A$,{title:"Weekly Performance",icon:(0,xn.jsx)(k$,{className:"text-blue-600"}),loading:r,className:"lg:col-span-3",children:(0,xn.jsx)(Fh,{width:"100%",height:300,children:(0,xn.jsxs)(WB,{data:f.weekly_performance,children:[(0,xn.jsx)(iI,{strokeDasharray:"3 3"}),(0,xn.jsx)(yI,{dataKey:"day"}),(0,xn.jsx)(AI,{yAxisId:"left",orientation:"left",stroke:"#8884d8"}),(0,xn.jsx)(AI,{yAxisId:"right",orientation:"right",stroke:"#82ca9d"}),(0,xn.jsx)(lM,{}),(0,xn.jsx)(UB,{}),(0,xn.jsx)(zz,{yAxisId:"left",dataKey:"revenue",fill:"#8884d8",name:"Revenue (\u20b9)"}),(0,xn.jsx)(zz,{yAxisId:"right",dataKey:"checkouts",fill:"#82ca9d",name:"Checkouts"})]})})})]}),(0,xn.jsxs)("div",{className:"mt-8",children:[(0,xn.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:["Detailed Reports for Period: ",(0,xn.jsx)("span",{className:"text-indigo-600 capitalize",children:o})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,xn.jsx)(C$,{title:"Room Bookings",headers:["Guest Name","Check In","Check Out","Status"],data:v.roomBookings,loading:m,hasMore:w.roomBookings.hasMore,loadMore:N,isSubmitting:x}),(0,xn.jsx)(C$,{title:"Package Bookings",headers:["Guest Name","Check In","Check Out","Status"],data:v.packageBookings,loading:m,hasMore:w.packageBookings.hasMore,loadMore:_,isSubmitting:x}),(0,xn.jsx)(C$,{title:"Food Orders",headers:["Room Number","Amount","Status","Created At"],data:v.foodOrders,loading:m,hasMore:w.foodOrders.hasMore,loadMore:k,isSubmitting:x}),(0,xn.jsx)(C$,{title:"Expenses",headers:["Category","Description","Amount","Expense Date"],data:v.expenses,loading:m,hasMore:w.expenses.hasMore,loadMore:S,isSubmitting:x}),(0,xn.jsx)(C$,{title:"Employee Salaries",headers:["Name","Role","Salary","Hire Date"],data:v.employees,loading:m,hasMore:w.employees.hasMore,loadMore:A,isSubmitting:x})]})]})]})]})}var T$={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O$=i.createContext&&i.createContext(T$),I$=function(){return I$=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},I$.apply(this,arguments)},L$=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function D$(e){return e&&e.map(function(e,t){return i.createElement(e.tag,I$({key:t},e.attr),D$(e.child))})}function M$(e){return function(t){return i.createElement(R$,I$({attr:I$({},e.attr)},t),D$(e.child))}}function R$(e){var t=function(t){var r,n=e.attr,a=e.size,s=e.title,o=L$(e,["attr","size","title"]),l=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),i.createElement("svg",I$({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,o,{className:r,style:I$(I$({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&i.createElement("title",null,s),e.children)};return void 0!==O$?i.createElement(O$.Consumer,null,function(e){return t(e)}):t(T$)}function F$(e){return M$({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function B$(e){return M$({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"}}]})(e)}function z$(e){return M$({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function U$(e){return M$({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(e)}function q$(e){return M$({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function W$(e){return M$({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}}]})(e)}const H$=e=>{if(!e)return console.warn("getImageUrl: imagePath is empty or null"),"";if(e.startsWith("http://")||e.startsWith("https://"))return e;const t=un();let r=e;if(r=r.trim(),r=r.replace(/\\/g,"/"),r=r.replace(/([^:])\/\/+/g,"$1/"),r.startsWith("/")||(r="/".concat(r)),!r.startsWith("/static/")&&!r.startsWith("/uploads/"))if(r.includes("static/uploads/"));else if(r.includes("/uploads/"))r=r.replace(/^\/uploads\//,"/static/uploads/");else if(r.includes("uploads/"))r="/static/".concat(r);else{if([".jpg",".jpeg",".png",".gif",".webp",".svg"].some(e=>r.toLowerCase().endsWith(e))&&!r.includes("static")&&!r.includes("uploads")){const e=r.split("/").pop();r="/static/uploads/".concat(e)}}const n="".concat(t).concat(r);return console.log('getImageUrl: "'.concat(e,'" -> "').concat(n,'"')),n},V$=e=>e?/^https?:\/\//i.test(e)?e:"https://".concat(e):"",G$=e=>{let{title:t,onAdd:r,children:n,isLoading:i}=e;return(0,xn.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-4 border-b pb-3",children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:t}),(0,xn.jsxs)("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-violet-600 text-white rounded-lg font-semibold shadow-md hover:bg-violet-700 transition-all duration-200",children:[(0,xn.jsx)(z$,{size:14})," Add New"]})]}),i?(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsx)("div",{className:"h-48 bg-gray-200 rounded-lg animate-pulse"}),(0,xn.jsx)("div",{className:"h-48 bg-gray-200 rounded-lg animate-pulse"})]}):(0,xn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-h-[500px] overflow-y-auto pr-2",children:n})]})},K$=e=>{let{isOpen:t,onClose:r,onSubmit:n,fields:a,initialData:s,title:o,isMultipart:l=!1}=e;const[c,d]=(0,i.useState)({}),[u,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(null),[m,g]=(0,i.useState)(!1);(0,i.useEffect)(()=>{s?(d(s),s.image_url&&p(H$(s.image_url))):(d({}),p(null))},[s,t]);const x=e=>{const{name:t,value:r,type:n,checked:i,files:a}=e.target;"file"===n&&a.length>0?(h(a[0]),p(URL.createObjectURL(a[0])),d(Fe(Fe({},c),{},{[t]:a[0]}))):d(Fe(Fe({},c),{},"checkbox"===n?{[t]:i}:{[t]:r}))};return t?(0,xn.jsx)(_u,{children:(0,xn.jsx)(xu.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:(0,xn.jsxs)(xu.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl relative",children:[(0,xn.jsx)("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",children:(0,xn.jsx)(q$,{size:20})}),(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:o}),(0,xn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),g(!0);try{await n(c,u),r()}finally{g(!1)}},className:"space-y-4",children:[a.map(e=>(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e.placeholder}),"file"===e.type?(0,xn.jsx)("input",{type:"file",name:e.name,onChange:x,className:"w-full text-gray-600 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100"}):"checkbox"===e.type?(0,xn.jsx)("input",{type:"checkbox",name:e.name,checked:!!c[e.name],onChange:x,className:"h-5 w-5 text-violet-600 border-gray-300 rounded focus:ring-violet-500"}):"textarea"===e.type?(0,xn.jsx)("textarea",{name:e.name,placeholder:e.placeholder,value:c[e.name]||"",onChange:x,required:!1!==e.required,rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-violet-500 transition-colors"}):(0,xn.jsx)("input",{type:e.type||"text",name:e.name,placeholder:e.placeholder,value:c[e.name]||"",onChange:x,required:!1!==e.required,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-violet-500 transition-colors"})]},e.name)),f&&(0,xn.jsx)("div",{className:"mt-4",children:(0,xn.jsx)("img",{src:f,alt:"Preview",className:"w-40 h-40 object-cover rounded-lg shadow-md"})}),(0,xn.jsx)("button",{type:"submit",disabled:m,className:"w-full mt-6 py-3 px-6 bg-violet-600 text-white rounded-lg font-semibold shadow-md hover:bg-violet-700 transition-all duration-200 disabled:bg-gray-400",children:m?"Saving...":"Save Changes"})]})]})})}):null};function Y$(){var e,t,r;const[n,a]=(0,i.useState)({banners:[],gallery:[],reviews:[],resortInfo:[],signatureExperiences:[],planWeddings:[],nearbyAttractions:[],nearbyAttractionBanners:[]}),[s,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)({isOpen:!1,config:null,initialData:null}),d=async()=>{o(!0);try{const[e,t,r,n,i,s,o,l]=await Promise.all([mn.get("/header-banner/"),mn.get("/gallery/"),mn.get("/reviews/"),mn.get("/resort-info/"),mn.get("/signature-experiences/"),mn.get("/plan-weddings/"),mn.get("/nearby-attractions/"),mn.get("/nearby-attraction-banners/")]);a({banners:e.data||[],gallery:t.data||[],reviews:r.data||[],resortInfo:n.data||[],signatureExperiences:i.data||[],planWeddings:s.data||[],nearbyAttractions:o.data||[],nearbyAttractionBanners:l.data||[]})}catch(e){console.error("Failed to fetch data:",e),PQ.error("Failed to load data.")}finally{o(!1)}};(0,i.useEffect)(()=>{d()},[]);const u=async(e,t,r)=>{if(window.confirm("Are you sure you want to delete this ".concat(r,"?")))try{const n=e.endsWith("/")?e.slice(0,-1):e;await mn.delete("".concat(n,"/").concat(t)),PQ.success("".concat(r," deleted successfully!")),a(r=>e.includes("header-banner")?Fe(Fe({},r),{},{banners:r.banners.filter(e=>e.id!==t)}):e.includes("gallery")?Fe(Fe({},r),{},{gallery:r.gallery.filter(e=>e.id!==t)}):e.includes("reviews")?Fe(Fe({},r),{},{reviews:r.reviews.filter(e=>e.id!==t)}):e.includes("resort-info")?Fe(Fe({},r),{},{resortInfo:r.resortInfo.filter(e=>e.id!==t)}):e.includes("signature-experiences")?Fe(Fe({},r),{},{signatureExperiences:r.signatureExperiences.filter(e=>e.id!==t)}):e.includes("plan-weddings")?Fe(Fe({},r),{},{planWeddings:r.planWeddings.filter(e=>e.id!==t)}):e.includes("nearby-attractions")?Fe(Fe({},r),{},{nearbyAttractions:r.nearbyAttractions.filter(e=>e.id!==t)}):e.includes("nearby-attraction-banners")?Fe(Fe({},r),{},{nearbyAttractionBanners:r.nearbyAttractionBanners.filter(e=>e.id!==t)}):r),d()}catch(s){var n,i;console.error("Delete error:",s);const e=(null===(n=s.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.detail)||s.message||"Failed to delete ".concat(r);PQ.error(e),d()}},h=function(e){c({isOpen:!0,config:e,initialData:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null})},f={title:"Header Banner",endpoint:"/header-banner/",fields:[{name:"title",placeholder:"Banner Title"},{name:"subtitle",placeholder:"Banner Description"},{name:"image",type:"file"},{name:"is_active",type:"checkbox",placeholder:"Is Active?"}],isMultipart:!0},p={title:"Gallery Image",endpoint:"/gallery/",fields:[{name:"caption",placeholder:"Image Caption"},{name:"image",type:"file"}],isMultipart:!0},m={title:"Review",endpoint:"/reviews/",fields:[{name:"name",placeholder:"Customer Name"},{name:"comment",placeholder:"Review Comment"},{name:"rating",placeholder:"Rating (1-5)",type:"number"}],isMultipart:!1},g={title:"Resort Info",endpoint:"/resort-info/",fields:[{name:"name",placeholder:"Resort Name"},{name:"address",placeholder:"Resort Address"},{name:"facebook",placeholder:"Facebook URL"},{name:"instagram",placeholder:"Instagram URL"},{name:"twitter",placeholder:"Twitter URL"},{name:"linkedin",placeholder:"LinkedIn URL"},{name:"is_active",type:"checkbox",placeholder:"Is Active?"}],isMultipart:!1},x={title:"Signature Experience",endpoint:"/signature-experiences/",fields:[{name:"title",placeholder:"Experience Title"},{name:"description",placeholder:"Description",type:"textarea"},{name:"image",type:"file"},{name:"is_active",type:"checkbox",placeholder:"Is Active?"}],isMultipart:!0},y={title:"Plan Your Wedding",endpoint:"/plan-weddings/",fields:[{name:"title",placeholder:"Title"},{name:"description",placeholder:"Description",type:"textarea"},{name:"image",type:"file"},{name:"is_active",type:"checkbox",placeholder:"Is Active?"}],isMultipart:!0},v={title:"Nearby Attraction",endpoint:"/nearby-attractions/",fields:[{name:"title",placeholder:"Attraction Title"},{name:"description",placeholder:"Description",type:"textarea"},{name:"map_link",placeholder:"Google Maps Link (optional)"},{name:"image",type:"file"},{name:"is_active",type:"checkbox",placeholder:"Is Active?"}],isMultipart:!0},b={title:"Nearby Attraction Banner",endpoint:"/nearby-attraction-banners/",fields:[{name:"title",placeholder:"Banner Title"},{name:"subtitle",placeholder:"Banner Subtitle",type:"textarea"},{name:"image",type:"file"},{name:"is_active",type:"checkbox",placeholder:"Is Active?"}],isMultipart:!0};return s?(0,xn.jsx)(Zu,{children:(0,xn.jsxs)("div",{className:"flex items-center justify-center h-screen text-2xl text-gray-500",children:[(0,xn.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-8 w-8 text-violet-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xn.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xn.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading CMS..."]})}):(0,xn.jsx)(Zu,{children:(0,xn.jsxs)("div",{className:"p-6 md:p-10 space-y-10 bg-gray-50 min-h-screen",children:[(0,xn.jsx)("h1",{className:"text-4xl font-extrabold text-gray-900 text-center",children:"Resort Website CMS"}),(0,xn.jsx)(K$,{isOpen:l.isOpen,onClose:()=>c({isOpen:!1,config:null,initialData:null}),onSubmit:(e,t)=>(async(e,t,r,n)=>{const i=t&&t.id,s=i?"".concat(e.endpoint,"/").concat(t.id):e.endpoint,o=i?"put":"post";let l=r;if(e.isMultipart){const e=new FormData;Object.keys(r).forEach(t=>{if("image"!==t){const n=r[t];e.append(t,"boolean"===typeof n?String(n):n)}}),n&&e.append("image",n),l=e}else{const e=Fe({},r);void 0!==e.rating&&(e.rating=parseInt(e.rating,10)),void 0!==e.is_active&&(e.is_active=!0===e.is_active||"true"===e.is_active),l=e}try{const r=await mn({method:o,url:s,data:l});PQ.success("".concat(e.title," ").concat(i?"updated":"added"," successfully!")),e.endpoint.includes("header-banner")?a(e=>Fe(Fe({},e),{},{banners:i?e.banners.map(e=>e.id===t.id?r.data:e):[r.data,...e.banners]})):e.endpoint.includes("gallery")?a(e=>Fe(Fe({},e),{},{gallery:i?e.gallery.map(e=>e.id===t.id?r.data:e):[r.data,...e.gallery]})):e.endpoint.includes("reviews")?a(e=>Fe(Fe({},e),{},{reviews:i?e.reviews.map(e=>e.id===t.id?r.data:e):[r.data,...e.reviews]})):e.endpoint.includes("resort-info")?a(e=>Fe(Fe({},e),{},{resortInfo:i?e.resortInfo.map(e=>e.id===t.id?r.data:e):[r.data,...e.resortInfo]})):e.endpoint.includes("signature-experiences")?a(e=>Fe(Fe({},e),{},{signatureExperiences:i?e.signatureExperiences.map(e=>e.id===t.id?r.data:e):[r.data,...e.signatureExperiences]})):e.endpoint.includes("plan-weddings")?a(e=>Fe(Fe({},e),{},{planWeddings:i?e.planWeddings.map(e=>e.id===t.id?r.data:e):[r.data,...e.planWeddings]})):e.endpoint.includes("nearby-attractions")?a(e=>Fe(Fe({},e),{},{nearbyAttractions:i?e.nearbyAttractions.map(e=>e.id===t.id?r.data:e):[r.data,...e.nearbyAttractions]})):e.endpoint.includes("nearby-attraction-banners")&&a(e=>Fe(Fe({},e),{},{nearbyAttractionBanners:i?e.nearbyAttractionBanners.map(e=>e.id===t.id?r.data:e):[r.data,...e.nearbyAttractionBanners]})),c({isOpen:!1,config:null,initialData:null})}catch(f){var d,u,h;console.error("Failed to ".concat(i?"update":"add"," ").concat(e.title,":"),(null===(d=f.response)||void 0===d?void 0:d.data)||f.message);const t=null===(u=f.response)||void 0===u||null===(h=u.data)||void 0===h?void 0:h.detail,r="string"===typeof t?t:"Failed to save ".concat(e.title,".");PQ.error(r)}})(l.config,l.initialData,e,t),fields:(null===(e=l.config)||void 0===e?void 0:e.fields)||[],initialData:l.initialData,title:"".concat(l.initialData?"Edit":"Add"," ").concat(null===(t=l.config)||void 0===t?void 0:t.title),isMultipart:null===(r=l.config)||void 0===r?void 0:r.isMultipart}),(0,xn.jsxs)("div",{className:"space-y-10",children:[(0,xn.jsx)(G$,{title:"Header Banners",onAdd:()=>h(f),isLoading:s,children:n.banners.length>0?n.banners.map(e=>(0,xn.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-4 space-y-3",children:[(0,xn.jsx)("img",{src:H$(e.image_url),alt:e.title,className:"w-full h-32 object-cover rounded-md shadow-sm"}),(0,xn.jsx)("h3",{className:"font-bold text-gray-800",children:e.title}),(0,xn.jsx)("p",{className:"text-xs text-gray-600",children:e.subtitle}),(0,xn.jsx)("p",{className:"text-xs font-semibold",children:e.is_active?"\ud83d\udfe2 Active":"\ud83d\udd34 Inactive"}),(0,xn.jsxs)("div",{className:"flex gap-2 pt-2 border-t",children:[(0,xn.jsx)("button",{onClick:()=>h(f,e),className:"text-blue-600 hover:text-blue-800",children:(0,xn.jsx)(B$,{})}),(0,xn.jsx)("button",{onClick:()=>u(f.endpoint,e.id,"banner"),className:"text-red-600 hover:text-red-800",children:(0,xn.jsx)(W$,{})})]})]},e.id)):(0,xn.jsx)("p",{className:"col-span-full text-center text-gray-500",children:"No banners found."})}),(0,xn.jsx)(G$,{title:"Gallery",onAdd:()=>h(p),isLoading:s,children:n.gallery.length>0?n.gallery.map(e=>(0,xn.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-4 space-y-3",children:[e.image_url?(0,xn.jsx)("img",{src:H$(e.image_url),alt:e.caption||"Gallery image",className:"w-full h-32 object-cover rounded-md shadow-sm",onError:t=>{console.error("Failed to load gallery image:",e.image_url),t.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2U1ZTdlYiIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5Y2EzYWYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5JbWFnZSBub3QgYXZhaWxhYmxlPC90ZXh0Pjwvc3ZnPg=="}}):(0,xn.jsx)("div",{className:"w-full h-32 bg-gray-200 rounded-md flex items-center justify-center text-gray-400 text-xs",children:"No image"}),(0,xn.jsx)("p",{className:"text-xs text-gray-600",children:e.caption||"No caption"}),(0,xn.jsxs)("div",{className:"flex gap-2 pt-2 border-t",children:[(0,xn.jsx)("button",{onClick:()=>h(p,e),className:"text-blue-600 hover:text-blue-800",children:(0,xn.jsx)(B$,{})}),(0,xn.jsx)("button",{onClick:()=>u(p.endpoint,e.id,"gallery image"),className:"text-red-600 hover:text-red-800",children:(0,xn.jsx)(W$,{})})]})]},e.id)):(0,xn.jsx)("p",{className:"col-span-full text-center text-gray-500",children:"No gallery images found."})}),(0,xn.jsx)(G$,{title:"Reviews",onAdd:()=>h(m),isLoading:s,children:n.reviews.length>0?n.reviews.map(e=>(0,xn.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-4 space-y-2",children:[(0,xn.jsx)("h4",{className:"font-semibold text-gray-800",children:e.name}),(0,xn.jsx)("div",{className:"flex text-yellow-400",children:[...Array(e.rating)].map((e,t)=>(0,xn.jsx)(U$,{},t))}),(0,xn.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',e.comment,'"']}),(0,xn.jsxs)("div",{className:"flex gap-2 pt-2 border-t",children:[(0,xn.jsx)("button",{onClick:()=>h(m,e),className:"text-blue-600 hover:text-blue-800",children:(0,xn.jsx)(B$,{})}),(0,xn.jsx)("button",{onClick:()=>u(m.endpoint,e.id,"review"),className:"text-red-600 hover:text-red-800",children:(0,xn.jsx)(W$,{})})]})]},e.id)):(0,xn.jsx)("p",{className:"col-span-full text-center text-gray-500",children:"No reviews found."})}),(0,xn.jsx)(G$,{title:"Resort Info",onAdd:()=>h(g),isLoading:s,children:n.resortInfo.length>0?n.resortInfo.map(e=>(0,xn.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-4 space-y-2 col-span-full",children:[(0,xn.jsx)("h4",{className:"text-lg font-bold text-gray-800",children:e.name}),(0,xn.jsx)("p",{className:"text-sm text-gray-600",children:e.address}),(0,xn.jsx)("p",{className:"text-xs font-semibold",children:e.is_active?"\ud83d\udfe2 Active":"\ud83d\udd34 Inactive"}),(0,xn.jsxs)("div",{className:"flex gap-4 text-sm pt-2",children:[e.facebook&&(0,xn.jsx)("a",{href:V$(e.facebook),target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:underline",children:"Facebook"}),e.instagram&&(0,xn.jsx)("a",{href:V$(e.instagram),target:"_blank",rel:"noreferrer",className:"text-pink-600 hover:underline",children:"Instagram"}),e.twitter&&(0,xn.jsx)("a",{href:V$(e.twitter),target:"_blank",rel:"noreferrer",className:"text-sky-500 hover:underline",children:"Twitter"}),e.linkedin&&(0,xn.jsx)("a",{href:V$(e.linkedin),target:"_blank",rel:"noreferrer",className:"text-blue-800 hover:underline",children:"LinkedIn"})]}),(0,xn.jsxs)("div",{className:"flex gap-2 pt-2 border-t",children:[(0,xn.jsx)("button",{onClick:()=>h(g,e),className:"text-blue-600 hover:text-blue-800",children:(0,xn.jsx)(B$,{})}),(0,xn.jsx)("button",{onClick:()=>u(g.endpoint,e.id,"resort info"),className:"text-red-600 hover:text-red-800",children:(0,xn.jsx)(W$,{})})]})]},e.id)):(0,xn.jsx)("p",{className:"col-span-full text-center text-gray-500",children:"No resort info found."})}),(0,xn.jsx)(G$,{title:"\u2726 Signature Experiences \u2726",onAdd:()=>h(x),isLoading:s,children:n.signatureExperiences.length>0?n.signatureExperiences.map(e=>(0,xn.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-4 space-y-3",children:[e.image_url?(0,xn.jsx)("img",{src:H$(e.image_url),alt:e.title||"Signature experience",className:"w-full h-32 object-cover rounded-md shadow-sm",onError:t=>{console.error("Failed to load signature experience image:",e.image_url),t.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2U1ZTdlYiIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5Y2EzYWYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5JbWFnZSBub3QgYXZhaWxhYmxlPC90ZXh0Pjwvc3ZnPg=="}}):(0,xn.jsx)("div",{className:"w-full h-32 bg-gray-200 rounded-md flex items-center justify-center text-gray-400 text-xs",children:"No image"}),(0,xn.jsx)("h3",{className:"font-bold text-gray-800",children:e.title||"No title"}),(0,xn.jsx)("p",{className:"text-xs text-gray-600 line-clamp-2",children:e.description||"No description"}),(0,xn.jsx)("p",{className:"text-xs font-semibold",children:e.is_active?"\ud83d\udfe2 Active":"\ud83d\udd34 Inactive"}),(0,xn.jsxs)("div",{className:"flex gap-2 pt-2 border-t",children:[(0,xn.jsx)("button",{onClick:()=>h(x,e),className:"text-blue-600 hover:text-blue-800",children:(0,xn.jsx)(B$,{})}),(0,xn.jsx)("button",{onClick:()=>u(x.endpoint,e.id,"signature experience"),className:"text-red-600 hover:text-red-800",children:(0,xn.jsx)(W$,{})})]})]},e.id)):(0,xn.jsx)("p",{className:"col-span-full text-center text-gray-500",children:"No signature experiences found."})}),(0,xn.jsx)(G$,{title:"Plan Your Wedding",onAdd:()=>h(y),isLoading:s,children:n.planWeddings.length>0?n.planWeddings.map(e=>(0,xn.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-4 space-y-3",children:[e.image_url?(0,xn.jsx)("img",{src:H$(e.image_url),alt:e.title||"Plan wedding",className:"w-full h-32 object-cover rounded-md shadow-sm",onError:t=>{console.error("Failed to load plan wedding image:",e.image_url),t.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2U1ZTdlYiIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5Y2EzYWYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5JbWFnZSBub3QgYXZhaWxhYmxlPC90ZXh0Pjwvc3ZnPg=="}}):(0,xn.jsx)("div",{className:"w-full h-32 bg-gray-200 rounded-md flex items-center justify-center text-gray-400 text-xs",children:"No image"}),(0,xn.jsx)("h3",{className:"font-bold text-gray-800",children:e.title||"No title"}),(0,xn.jsx)("p",{className:"text-xs text-gray-600 line-clamp-2",children:e.description||"No description"}),(0,xn.jsx)("p",{className:"text-xs font-semibold",children:e.is_active?"\ud83d\udfe2 Active":"\ud83d\udd34 Inactive"}),(0,xn.jsxs)("div",{className:"flex gap-2 pt-2 border-t",children:[(0,xn.jsx)("button",{onClick:()=>h(y,e),className:"text-blue-600 hover:text-blue-800",children:(0,xn.jsx)(B$,{})}),(0,xn.jsx)("button",{onClick:()=>u(y.endpoint,e.id,"plan wedding"),className:"text-red-600 hover:text-red-800",children:(0,xn.jsx)(W$,{})})]})]},e.id)):(0,xn.jsx)("p",{className:"col-span-full text-center text-gray-500",children:"No wedding plans found."})}),(0,xn.jsx)(G$,{title:"Nearby Attraction Banners",onAdd:()=>h(b),isLoading:s,children:n.nearbyAttractionBanners.length>0?n.nearbyAttractionBanners.map(e=>(0,xn.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-4 space-y-3",children:[e.image_url?(0,xn.jsx)("img",{src:H$(e.image_url),alt:e.title||"Nearby attraction banner",className:"w-full h-32 object-cover rounded-md shadow-sm",onError:t=>{console.error("Failed to load nearby attraction banner image:",e.image_url),t.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2U1ZTdlYiIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5Y2EzYWYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5JbWFnZSBub3QgYXZhaWxhYmxlPC90ZXh0Pjwvc3ZnPg=="}}):(0,xn.jsx)("div",{className:"w-full h-32 bg-gray-200 rounded-md flex items-center justify-center text-gray-400 text-xs",children:"No image"}),(0,xn.jsx)("h3",{className:"font-bold text-gray-800",children:e.title||"No title"}),(0,xn.jsx)("p",{className:"text-xs text-gray-600 line-clamp-2",children:e.subtitle||"No description"}),(0,xn.jsx)("p",{className:"text-xs font-semibold",children:e.is_active?"\ud83d\udfe2 Active":"\ud83d\udd34 Inactive"}),(0,xn.jsxs)("div",{className:"flex gap-2 pt-2 border-t",children:[(0,xn.jsx)("button",{onClick:()=>h(b,e),className:"text-blue-600 hover:text-blue-800",children:(0,xn.jsx)(B$,{})}),(0,xn.jsx)("button",{onClick:()=>u(b.endpoint,e.id,"nearby attraction banner"),className:"text-red-600 hover:text-red-800",children:(0,xn.jsx)(W$,{})})]})]},e.id)):(0,xn.jsx)("p",{className:"col-span-full text-center text-gray-500",children:"No nearby attraction banners found."})}),(0,xn.jsx)(G$,{title:"Nearby Attractions",onAdd:()=>h(v),isLoading:s,children:n.nearbyAttractions.length>0?n.nearbyAttractions.map(e=>(0,xn.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-4 space-y-3",children:[e.image_url?(0,xn.jsx)("img",{src:H$(e.image_url),alt:e.title||"Nearby attraction",className:"w-full h-32 object-cover rounded-md shadow-sm",onError:t=>{console.error("Failed to load nearby attraction image:",e.image_url),t.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2U1ZTdlYiIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5Y2EzYWYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5JbWFnZSBub3QgYXZhaWxhYmxlPC90ZXh0Pjwvc3ZnPg=="}}):(0,xn.jsx)("div",{className:"w-full h-32 bg-gray-200 rounded-md flex items-justify-center text-gray-400 text-xs",children:"No image"}),(0,xn.jsx)("h3",{className:"font-bold text-gray-800",children:e.title||"No title"}),(0,xn.jsx)("p",{className:"text-xs text-gray-600 line-clamp-2",children:e.description||"No description"}),e.map_link?(0,xn.jsxs)("a",{href:V$(e.map_link),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-xs font-semibold text-blue-600 hover:text-blue-800",children:[(0,xn.jsx)(F$,{className:"text-red-500"}),"View on Google Maps"]}):(0,xn.jsx)("p",{className:"text-xs text-gray-400",children:"No map link provided"}),(0,xn.jsx)("p",{className:"text-xs font-semibold",children:e.is_active?"\ud83d\udfe2 Active":"\ud83d\udd34 Inactive"}),(0,xn.jsxs)("div",{className:"flex gap-2 pt-2 border-t",children:[(0,xn.jsx)("button",{onClick:()=>h(v,e),className:"text-blue-600 hover:text-blue-800",children:(0,xn.jsx)(B$,{})}),(0,xn.jsx)("button",{onClick:()=>u(v.endpoint,e.id,"nearby attraction"),className:"text-red-600 hover:text-red-800",children:(0,xn.jsx)(W$,{})})]})]},e.id)):(0,xn.jsx)("p",{className:"col-span-full text-center text-gray-500",children:"No nearby attractions found."})})]})]})})}hK.register(yK,LY,mY,FY,qY,MK,xY,EK,AK);const X$=e=>{if(!e)return"https://placehold.co/400x300/e2e8f0/a0aec0?text=No+Image";if(e.startsWith("http"))return e;const t=un(),r=e.startsWith("/")?e:"/".concat(e);return"".concat(t).concat(r)},Q$=e=>{let{title:t,value:r,icon:n,color:i}=e;return(0,xn.jsxs)("div",{className:"p-6 rounded-2xl text-white shadow-lg flex items-center justify-between transition-transform duration-300 transform hover:scale-105 ".concat(i),children:[(0,xn.jsxs)("div",{className:"flex-1",children:[(0,xn.jsx)("h4",{className:"text-lg font-medium",children:t}),(0,xn.jsx)("p",{className:"text-3xl font-bold mt-1",children:r})]}),(0,xn.jsx)("div",{className:"text-4xl opacity-80",children:n})]})},$$=e=>{let{children:t,title:r,className:n=""}=e;return(0,xn.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200 transition-shadow duration-300 hover:shadow-xl ".concat(n),children:[r&&(0,xn.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:r}),t]})},Z$=e=>{let{booking:t,onSave:r,onClose:n,isSubmitting:a}=e;const[s,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(null),[h,f]=(0,i.useState)(null),p=(e,t)=>{const r=e.target.files[0];if(!r)return;const n=URL.createObjectURL(r);"id"===t?(o(r),u(n)):(c(r),f(n))};return(0,xn.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,xn.jsxs)(xu.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"bg-white p-8 rounded-xl shadow-2xl w-full max-w-2xl",children:[(0,xn.jsxs)("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:["Check-in Guest: ",t.guest_name]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,xn.jsxs)("div",{className:"flex flex-col items-center",children:[(0,xn.jsx)("label",{className:"font-medium text-gray-700 mb-2",children:"ID Card Image"}),(0,xn.jsx)("input",{type:"file",accept:"image/*",onChange:e=>p(e,"id"),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",required:!0}),d&&(0,xn.jsx)("img",{src:d,alt:"ID Preview",className:"mt-4 w-full h-40 object-contain rounded-lg border"})]}),(0,xn.jsxs)("div",{className:"flex flex-col items-center",children:[(0,xn.jsx)("label",{className:"font-medium text-gray-700 mb-2",children:"Guest Photo"}),(0,xn.jsx)("input",{type:"file",accept:"image/*",onChange:e=>p(e,"guest"),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",required:!0}),h&&(0,xn.jsx)("img",{src:h,alt:"Guest Preview",className:"mt-4 w-full h-40 object-contain rounded-lg border"})]})]}),(0,xn.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,xn.jsx)("button",{onClick:n,className:"w-full bg-gray-200 text-gray-800 font-semibold py-2 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,xn.jsx)("button",{onClick:()=>{s&&l?r(t.id,{id_card_image:s,guest_photo:l}):PQ.error("Please upload both ID card and guest photo.")},disabled:a||!s||!l,className:"w-full bg-indigo-600 text-white font-semibold py-2 rounded-md hover:bg-indigo-700 transition-colors disabled:bg-gray-400",children:a?"Checking in...":"Confirm Check-in"})]})]})})},J$=["#4f46e5","#10b981","#f59e0b","#ef4444","#3b82f6","#8b5cf6"],eZ={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{family:"Inter, sans-serif",size:12},color:"#4b5563"}},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:14,weight:"bold"},bodyFont:{size:12},padding:10,cornerRadius:8,boxPadding:4}},scales:{x:{grid:{display:!1},ticks:{color:"#6b7280"},border:{color:"#e5e7eb"}},y:{grid:{color:"#f3f4f6"},ticks:{color:"#6b7280"},border:{display:!1}}}},tZ=()=>{const[e,t]=(0,i.useState)([]),[r,n]=(0,i.useState)([]),[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)(!0),[u,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(null),[m,g]=(0,i.useState)(""),[x,y]=(0,i.useState)(null),[v,b]=(0,i.useState)(!1),[w,j]=(0,i.useState)({guestName:"",status:"all",checkIn:"",checkOut:""}),[N,_]=(0,i.useState)({title:"",description:"",price:"",booking_type:"room_type",selected_room_types:[],images:[]}),[k,S]=(0,i.useState)({title:"",description:"",price:"",booking_type:"room_type",selected_room_types:[],images:[]}),[A,C]=(0,i.useState)([]),[E,P]=(0,i.useState)([]),[T,O]=(0,i.useState)([]),[I,L]=(0,i.useState)([]),[D,M]=(0,i.useState)(null),[R,F]=(0,i.useState)({package_id:"",guest_name:"",guest_email:"",guest_mobile:"",check_in:"",check_out:"",adults:2,children:0,room_ids:[]}),B=async()=>{try{const[e,r,i]=await Promise.all([mn.get("/packages/"),mn.get("/rooms/"),mn.get("/packages/bookingsall")]),a=r.data||[];t(e.data||[]),s(a),n(a.filter(e=>"Available"===e.status)),l(i.data||[])}catch(e){PQ.error("Failed to load data."),console.error(e)}finally{d(!1)}};(0,i.useEffect)(()=>{B()},[]),(0,i.useEffect)(()=>{if(R.check_in&&R.check_out&&a.length>0){const t=e.find(e=>e.id===parseInt(R.package_id));let r=a.filter(e=>{const t=o.some(t=>{var r;const n=null===(r=t.status)||void 0===r?void 0:r.toLowerCase().replace(/_/g,"-");if("booked"!==n&&"checked-in"!==n)return!1;const i=new Date(t.check_in),a=new Date(t.check_out),s=new Date(R.check_in),o=new Date(R.check_out),l=t.rooms&&t.rooms.some(t=>t.room.id===e.id);return!!l&&(s<a&&o>i)});return!t});if(t&&"room_type"===t.booking_type&&t.room_types){const e=t.room_types.split(",").map(e=>e.trim().toLowerCase());r=r.filter(t=>{const r=t.type?t.type.trim().toLowerCase():"";return e.includes(r)})}n(r),t&&"whole_property"===t.booking_type&&r.length>0?F(e=>Fe(Fe({},e),{},{room_ids:r.map(e=>e.id)})):t&&t.booking_type}else R.check_in&&R.check_out||n(a.filter(e=>"Available"===e.status))},[R.check_in,R.check_out,R.package_id,a,o,e]);const z=r.filter(e=>"Available"==e.status),U=(0,i.useMemo)(()=>{const e=new Set;return a.forEach(t=>{t.type&&e.add(t.type)}),Array.from(e).sort()},[a]),q=e=>{const{name:t,value:r,type:n,checked:i}=e.target;"checkbox"===n?"room_type"===t&&_(e=>{const t=e.selected_room_types||[];return Fe(Fe({},e),{},i?{selected_room_types:[...t,r]}:{selected_room_types:t.filter(e=>e!==r)})}):(_(e=>Fe(Fe({},e),{},{[t]:r})),"booking_type"===t&&"whole_property"===r&&_(e=>Fe(Fe({},e),{},{selected_room_types:[]})))},W=e=>{const{name:t,value:r,type:n,checked:i}=e.target;"checkbox"===n?"room_type"===t&&S(e=>{const t=e.selected_room_types||[];return Fe(Fe({},e),{},i?{selected_room_types:[...t,r]}:{selected_room_types:t.filter(e=>e!==r)})}):(S(e=>Fe(Fe({},e),{},{[t]:r})),"booking_type"===t&&"whole_property"===r&&S(e=>Fe(Fe({},e),{},{selected_room_types:[]})))},H=t=>{const{name:r,value:n}=t.target;F(t=>{const i=Fe(Fe({},t),{},{[r]:n});if("package_id"===r&&n){const t=e.find(e=>e.id===parseInt(n));t&&("whole_property"===t.booking_type||"room_type"===t.booking_type&&t.room_types)&&(i.room_ids=[])}return i})},V=e.filter(e=>e.title.toLowerCase().includes(m.toLowerCase())),G=o.filter(e=>{const t=e.guest_name.toLowerCase().includes(w.guestName.toLowerCase()),r="all"===w.status||e.status===w.status,n=!w.checkIn||e.check_in>=w.checkIn,i=!w.checkOut||e.check_out<=w.checkOut;return t&&r&&n&&i}),K=e.length,Y=o.length,X=o.reduce((e,t)=>{var r;return e+((null===(r=t.package)||void 0===r?void 0:r.price)||0)},0),Q=G.reduce((e,t)=>{var r;const n=(null===(r=t.package)||void 0===r?void 0:r.title)||"Unknown";return e[n]=(e[n]||0)+1,e},{}),$={labels:Object.keys(Q),datasets:[{data:Object.values(Q),backgroundColor:J$.map(e=>"".concat(e,"B3")),borderColor:J$,borderWidth:2}]},Z=o.reduce((e,t)=>{const r=new Date(t.check_in).toLocaleString("default",{month:"short",year:"numeric"});return e[r]=(e[r]||0)+1,e},{}),J={labels:Object.keys(Z),datasets:[{label:"Bookings per Month",data:Object.values(Z),backgroundColor:"rgba(53, 162, 235, 0.8)",borderColor:"rgba(53, 162, 235, 1)",borderWidth:1,borderRadius:4}]},ee=o.reduce((e,t)=>{var r;const n=new Date(t.check_in).toISOString().split("T")[0];return e[n]=(e[n]||0)+((null===(r=t.package)||void 0===r?void 0:r.price)||0),e},{}),te=Object.keys(ee).sort(),re=te.map(e=>ee[e]),ne={labels:te,datasets:[{label:"Total Revenue",data:re,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.4,fill:!0,pointBackgroundColor:"rgba(75, 192, 192, 1)",pointBorderColor:"#fff",pointHoverRadius:7}]};return c?(0,xn.jsx)("p",{className:"text-center text-gray-600 font-serif",children:"Loading packages, rooms, and bookings..."}):(0,xn.jsxs)(Zu,{children:[D&&(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>M(null),children:(0,xn.jsx)(xu.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-auto",onClick:e=>e.stopPropagation(),children:(0,xn.jsxs)("div",{className:"p-6",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:D.title}),(0,xn.jsx)("button",{onClick:()=>M(null),className:"text-gray-500 hover:text-gray-800",children:(0,xn.jsx)("i",{className:"fas fa-times text-2xl"})})]}),(0,xn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.images.map((e,t)=>(0,xn.jsx)("div",{className:"relative",children:(0,xn.jsx)("img",{src:X$(e.image_url),alt:"".concat(D.title," - Image ").concat(t+1),className:"w-full h-64 object-cover rounded-lg cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>window.open(X$(e.image_url),"_blank")})},t))}),(0,xn.jsx)("div",{className:"mt-4 text-center text-gray-600",children:(0,xn.jsx)("p",{children:"Click on any image to view in full size"})})]})})}),(0,xn.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Package Management"}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(0,xn.jsx)(Q$,{title:"Total Packages",value:K,color:"bg-gradient-to-r from-blue-500 to-blue-700",icon:(0,xn.jsx)("i",{className:"fas fa-box-open"})}),(0,xn.jsx)(Q$,{title:"Total Bookings",value:Y,color:"bg-gradient-to-r from-green-500 to-green-700",icon:(0,xn.jsx)("i",{className:"fas fa-calendar-check"})}),(0,xn.jsx)(Q$,{title:"Total Revenue",value:"\u20b9".concat(X.toLocaleString()),color:"bg-gradient-to-r from-purple-500 to-purple-700",icon:(0,xn.jsx)("i",{className:"fas fa-rupee-sign"})})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8 mb-8 md:mb-12",children:[(0,xn.jsx)($$,{title:"Bookings by Package",className:"lg:col-span-1",children:(0,xn.jsx)("div",{className:"h-80 w-full",children:(0,xn.jsx)(AX,{data:$,options:Fe(Fe({},eZ),{},{plugins:Fe(Fe({},eZ.plugins),{},{legend:{position:"bottom"}})})})})}),(0,xn.jsx)($$,{title:"Monthly Bookings",className:"lg:col-span-2",children:(0,xn.jsx)("div",{className:"h-80 w-full",children:(0,xn.jsx)(SX,{data:J,options:eZ})})})]}),(0,xn.jsx)($$,{title:"Revenue Over Time",className:"mb-8 md:mb-12",children:(0,xn.jsx)("div",{className:"h-96 w-full",children:(0,xn.jsx)(kX,{data:ne,options:eZ})})}),(0,xn.jsxs)($$,{title:"Available Packages",children:[(0,xn.jsx)("div",{className:"mb-6",children:(0,xn.jsx)("input",{type:"text",placeholder:"Search for a package...",value:m,onChange:e=>g(e.target.value),className:"w-full md:w-1/2 p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all"})}),(0,xn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:V.length>0?V.map(e=>(0,xn.jsxs)(xu.div,{whileHover:{y:-5},className:"bg-gray-50 rounded-xl shadow-md overflow-hidden border border-gray-200 hover:shadow-lg transition-all duration-300 flex flex-col",children:[e.images&&e.images.length>0?(0,xn.jsxs)("div",{className:"relative",children:[(0,xn.jsx)("img",{className:"h-48 w-full object-cover cursor-pointer",src:X$(e.images[0].image_url),alt:e.title,onClick:()=>M(e)}),e.images.length>1&&(0,xn.jsxs)("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm font-semibold",children:["+",e.images.length-1," more"]})]}):(0,xn.jsx)("div",{className:"h-48 w-full bg-gray-200 flex items-center justify-center",children:(0,xn.jsx)("span",{className:"text-gray-500",children:"No Image"})}),(0,xn.jsxs)("div",{className:"p-6 flex flex-col flex-grow",children:[(0,xn.jsx)("h4",{className:"font-bold text-xl mb-2 text-gray-800",children:e.title}),(0,xn.jsx)("p",{className:"text-gray-600 text-base mb-3 flex-grow",children:e.description}),(0,xn.jsxs)("div",{className:"mb-3 space-y-1",children:[(0,xn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"text-xs font-semibold text-gray-500",children:"Booking Type:"}),(0,xn.jsx)("span",{className:"text-xs font-bold px-2 py-1 rounded ".concat("whole_property"===e.booking_type?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"),children:"whole_property"===e.booking_type?"Whole Property":"room_type"===e.booking_type?"Selected Rooms":"Room Type"})]}),e.room_types&&e.room_types.trim().length>0&&(0,xn.jsxs)("div",{className:"flex items-start gap-2",children:[(0,xn.jsx)("span",{className:"text-xs font-semibold text-gray-500",children:"Room Types:"}),(0,xn.jsx)("span",{className:"text-xs text-gray-700 bg-gray-100 px-2 py-1 rounded",children:e.room_types})]})]}),(0,xn.jsxs)("div",{className:"flex justify-between items-center mt-auto pt-4 border-t border-gray-200",children:[(0,xn.jsxs)("p",{className:"text-green-600 font-bold text-2xl",children:["\u20b9",e.price.toLocaleString()]}),(0,xn.jsxs)("div",{className:"flex gap-2",children:[(0,xn.jsxs)("button",{onClick:()=>(e=>{p(e),S({title:e.title||"",description:e.description||"",price:e.price||"",booking_type:e.booking_type||"room_type",selected_room_types:e.room_types?e.room_types.split(",").map(e=>e.trim()):[],images:[]}),C(e.images?e.images.map(e=>X$(e.image_url)):[]),P([])})(e),className:"text-blue-500 hover:text-blue-700 font-semibold transition-colors duration-300 flex items-center gap-2",children:[(0,xn.jsx)("i",{className:"fas fa-edit"})," Edit"]}),(0,xn.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this package?"))try{await mn.delete("/packages/".concat(e)),PQ.success("Package deleted successfully!"),B()}catch(n){var t,r;console.error(n);const e=null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail;PQ.error("string"===typeof e?e:"Failed to delete package")}})(e.id),className:"text-red-500 hover:text-red-700 font-semibold transition-colors duration-300 flex items-center gap-2",children:[(0,xn.jsx)("i",{className:"fas fa-trash-alt"})," Delete"]})]})]})]})]},e.id)):(0,xn.jsx)("p",{className:"text-center text-gray-500 col-span-full py-8",children:"No packages found matching your search."})})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8",children:[f&&(0,xn.jsx)($$,{title:"Edit Package: ".concat(f.title),children:(0,xn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=new FormData;if(e.append("title",k.title),e.append("description",k.description),e.append("price",k.price),e.append("booking_type",k.booking_type||"room_type"),"room_type"===k.booking_type){if(!k.selected_room_types||0===k.selected_room_types.length)return void PQ.error("Please select at least one room type");e.append("room_types",k.selected_room_types.join(","))}E.forEach(t=>e.append("images",t)),await mn.put("/packages/".concat(f.id),e,{headers:{"Content-Type":"multipart/form-data"}}),PQ.success("Package updated successfully!"),p(null),S({title:"",description:"",price:"",booking_type:"room_type",selected_room_types:[],images:[]}),C([]),P([]),B()}catch(n){var t,r;console.error(n);const e=null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail;PQ.error("string"===typeof e?e:"Failed to update package")}},className:"space-y-6",children:[(0,xn.jsx)("input",{type:"text",name:"title",placeholder:"Package Title",value:k.title,onChange:W,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0}),(0,xn.jsx)("textarea",{name:"description",placeholder:"Package Description",value:k.description,onChange:W,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",rows:"4",required:!0}),(0,xn.jsx)("input",{type:"number",name:"price",placeholder:"Price (\u20b9)",value:k.price,onChange:W,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0}),(0,xn.jsxs)("div",{className:"space-y-3",children:[(0,xn.jsx)("label",{className:"block text-gray-700 font-medium",children:"Booking Type"}),(0,xn.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,xn.jsx)("input",{type:"radio",name:"booking_type",value:"whole_property",checked:"whole_property"===k.booking_type,onChange:W,className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-gray-700",children:"Whole Property (Book entire property)"})]}),(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,xn.jsx)("input",{type:"radio",name:"booking_type",value:"room_type",checked:"room_type"===k.booking_type,onChange:W,className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-gray-700",children:"Selected Room Type (Book specific room types)"})]})]})]}),"room_type"===k.booking_type&&(0,xn.jsxs)("div",{className:"space-y-3",children:[(0,xn.jsx)("label",{className:"block text-gray-700 font-medium",children:"Select Room Types"}),(0,xn.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto p-3 bg-gray-50 rounded-lg border border-gray-200",children:U.length>0?U.map(e=>{var t;return(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-100 p-2 rounded",children:[(0,xn.jsx)("input",{type:"checkbox",name:"room_type",value:e,checked:(null===(t=k.selected_room_types)||void 0===t?void 0:t.includes(e))||!1,onChange:W,className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500 rounded"}),(0,xn.jsx)("span",{className:"text-sm text-gray-700",children:e})]},e)}):(0,xn.jsx)("div",{className:"col-span-2 text-sm text-gray-500 text-center py-2",children:"No room types available"})}),k.selected_room_types&&k.selected_room_types.length>0&&(0,xn.jsxs)("p",{className:"text-xs text-gray-500",children:["Selected: ",k.selected_room_types.join(", ")]})]}),(0,xn.jsxs)("label",{className:"block",children:[(0,xn.jsx)("span",{className:"text-gray-600 font-medium",children:"Add New Images (Optional):"}),(0,xn.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{const t=Array.from(e.target.files);P(e=>[...e,...t]),C(e=>[...e,...t.map(e=>URL.createObjectURL(e))])},className:"mt-2 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 transition-all"}),E.length>0&&(0,xn.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:[E.length," new image",E.length>1?"s":""," selected"]})]}),A.length>0&&(0,xn.jsxs)("div",{className:"mt-4",children:[(0,xn.jsx)("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Image Previews (Existing + New):"}),(0,xn.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:A.map((e,t)=>(0,xn.jsxs)("div",{className:"relative group",children:[(0,xn.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-full h-32 object-cover rounded-lg shadow-md"}),(0,xn.jsx)("button",{type:"button",onClick:()=>(e=>{P(t=>t.filter((t,r)=>r!==e)),C(t=>t.filter((t,r)=>r!==e))})(t),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",title:"Remove image",children:"\xd7"}),(0,xn.jsx)("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:t+1})]},t))})]}),(0,xn.jsxs)("div",{className:"flex gap-3",children:[(0,xn.jsx)("button",{type:"button",onClick:()=>{p(null),S({title:"",description:"",price:"",booking_type:"room_type",selected_room_types:[],images:[]}),C([]),P([])},className:"w-1/2 bg-gray-200 text-gray-800 font-semibold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:-translate-y-1",children:"Cancel"}),(0,xn.jsx)("button",{type:"submit",className:"w-1/2 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:-translate-y-1",children:"Update Package \u270f\ufe0f"})]})]})}),!f&&(0,xn.jsx)($$,{title:"Create New Package",children:(0,xn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();if(localStorage.getItem("token"))try{const e=new FormData;if(e.append("title",N.title),e.append("description",N.description),e.append("price",N.price),e.append("booking_type",N.booking_type||"room_type"),"room_type"===N.booking_type){if(!N.selected_room_types||0===N.selected_room_types.length)return void PQ.error("Please select at least one room type");e.append("room_types",N.selected_room_types.join(","))}I.forEach(t=>e.append("images",t)),await mn.post("/packages/",e),PQ.success("Package created successfully!"),_({title:"",description:"",price:"",booking_type:"room_type",selected_room_types:[],images:[]}),O([]),L([]),B()}catch(n){var t,r;console.error(n);const e=null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail;PQ.error("string"===typeof e?e:"Failed to create package")}else PQ.error("Please log in to create a package")},className:"space-y-6",children:[(0,xn.jsx)("input",{type:"text",name:"title",placeholder:"Package Title",value:N.title,onChange:q,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0}),(0,xn.jsx)("textarea",{name:"description",placeholder:"Package Description",value:N.description,onChange:q,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",rows:"4",required:!0}),(0,xn.jsx)("input",{type:"number",name:"price",placeholder:"Price (\u20b9)",value:N.price,onChange:q,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0}),(0,xn.jsxs)("div",{className:"space-y-3",children:[(0,xn.jsx)("label",{className:"block text-gray-700 font-medium",children:"Booking Type"}),(0,xn.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,xn.jsx)("input",{type:"radio",name:"booking_type",value:"whole_property",checked:"whole_property"===N.booking_type,onChange:q,className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-gray-700",children:"Whole Property (Book entire property)"})]}),(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,xn.jsx)("input",{type:"radio",name:"booking_type",value:"room_type",checked:"room_type"===N.booking_type,onChange:q,className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"text-gray-700",children:"Selected Room Type (Book specific room types)"})]})]})]}),"room_type"===N.booking_type&&(0,xn.jsxs)("div",{className:"space-y-3",children:[(0,xn.jsx)("label",{className:"block text-gray-700 font-medium",children:"Select Room Types"}),(0,xn.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto p-3 bg-gray-50 rounded-lg border border-gray-200",children:U.length>0?U.map(e=>{var t;return(0,xn.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-100 p-2 rounded",children:[(0,xn.jsx)("input",{type:"checkbox",name:"room_type",value:e,checked:(null===(t=N.selected_room_types)||void 0===t?void 0:t.includes(e))||!1,onChange:q,className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500 rounded"}),(0,xn.jsx)("span",{className:"text-sm text-gray-700",children:e})]},e)}):(0,xn.jsx)("div",{className:"col-span-2 text-sm text-gray-500 text-center py-2",children:"No room types available"})}),N.selected_room_types&&N.selected_room_types.length>0&&(0,xn.jsxs)("p",{className:"text-xs text-gray-500",children:["Selected: ",N.selected_room_types.join(", ")]})]}),(0,xn.jsxs)("label",{className:"block",children:[(0,xn.jsx)("span",{className:"text-gray-600 font-medium",children:"Package Images (Select multiple):"}),(0,xn.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{const t=Array.from(e.target.files);L(e=>[...e,...t]),O(e=>[...e,...t.map(e=>URL.createObjectURL(e))])},className:"mt-2 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 transition-all"}),I.length>0&&(0,xn.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:[I.length," image",I.length>1?"s":""," selected"]})]}),T.length>0&&(0,xn.jsxs)("div",{className:"mt-4",children:[(0,xn.jsx)("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Image Previews:"}),(0,xn.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:T.map((e,t)=>(0,xn.jsxs)("div",{className:"relative group",children:[(0,xn.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-full h-32 object-cover rounded-lg shadow-md"}),(0,xn.jsx)("button",{type:"button",onClick:()=>(e=>{L(t=>t.filter((t,r)=>r!==e)),O(t=>t.filter((t,r)=>r!==e))})(t),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",title:"Remove image",children:"\xd7"}),(0,xn.jsx)("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:t+1})]},t))})]}),(0,xn.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:-translate-y-1",children:"Create Package \ud83d\ude80"})]})}),(0,xn.jsx)($$,{title:u?"Edit Booking":"Book a Package",children:(0,xn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Fe(Fe({},R),{},{package_id:parseInt(R.package_id),adults:parseInt(R.adults),children:parseInt(R.children),room_ids:R.room_ids.map(e=>parseInt(e))});u?(await mn.put("/packages/bookings/".concat(u.id),e),PQ.success("Booking updated successfully!"),h(null)):(await mn.post("/packages/book",e),PQ.success("Package booked successfully!")),F({package_id:"",guest_name:"",guest_email:"",guest_mobile:"",check_in:"",check_out:"",adults:2,children:0,room_ids:[]}),B()}catch(n){var t,r;console.error(n);const e=null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail;PQ.error("string"===typeof e?e:"Failed to process booking")}},className:"space-y-6",children:[(0,xn.jsxs)("select",{name:"package_id",value:R.package_id,onChange:H,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Package"}),e.map(e=>(0,xn.jsxs)("option",{value:e.id,children:[e.title," - \u20b9",e.price]},e.id))]}),(0,xn.jsx)("input",{name:"guest_name",placeholder:"Guest Name",value:R.guest_name,onChange:H,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0}),(0,xn.jsx)("input",{type:"email",name:"guest_email",placeholder:"Guest Email",value:R.guest_email,onChange:H,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all"}),(0,xn.jsx)("input",{name:"guest_mobile",placeholder:"Guest Mobile",value:R.guest_mobile,onChange:H,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,xn.jsx)("input",{type:"date",name:"check_in",value:R.check_in,onChange:H,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0}),(0,xn.jsx)("input",{type:"date",name:"check_out",value:R.check_out,onChange:H,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,xn.jsx)("input",{type:"number",name:"adults",min:1,placeholder:"Adults",value:R.adults,onChange:H,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all",required:!0}),(0,xn.jsx)("input",{type:"number",name:"children",min:0,placeholder:"Children",value:R.children,onChange:H,className:"w-full p-3 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition-all"})]}),(()=>{const t=e.find(e=>e.id===parseInt(R.package_id));return t&&"whole_property"===t.booking_type?(0,xn.jsxs)("div",{className:"bg-indigo-50 border-2 border-indigo-300 rounded-lg p-4",children:[(0,xn.jsx)("p",{className:"text-sm font-semibold text-indigo-800",children:"Whole Property Package"}),(0,xn.jsxs)("p",{className:"text-xs text-indigo-600 mt-1",children:["All available rooms (",z.length," room",1!==z.length?"s":"",") will be booked automatically for the selected dates."]})]}):(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-gray-600 font-medium mb-2",children:["Select Rooms for Package",R.check_in&&R.check_out&&(0,xn.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",R.check_in," to ",R.check_out,")"]})]}),R.check_in&&R.check_out?(0,xn.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 max-h-48 overflow-y-auto p-2 bg-gray-50 rounded-lg border",children:z.length>0?z.map(e=>(0,xn.jsxs)("div",{onClick:()=>{return t=e.id,void F(e=>Fe(Fe({},e),{},{room_ids:e.room_ids.includes(t)?e.room_ids.filter(e=>e!==t):[...e.room_ids,t]}));var t},className:"p-4 rounded-lg border-2 cursor-pointer transition-all duration-200\n                              ".concat(R.room_ids.includes(e.id)?"bg-indigo-500 text-white border-indigo-600":"bg-white border-gray-300 hover:border-indigo-500","\n                            "),children:[(0,xn.jsxs)("p",{className:"font-semibold",children:["Room ",e.number]}),(0,xn.jsx)("p",{className:"text-sm ".concat(R.room_ids.includes(e.id)?"text-indigo-200":"text-gray-600"),children:e.type}),(0,xn.jsxs)("p",{className:"text-xs ".concat(R.room_ids.includes(e.id)?"text-indigo-200":"text-gray-500"),children:["\u20b9",e.price,"/night"]})]},e.id)):(0,xn.jsxs)("div",{className:"col-span-full text-center py-4 text-gray-500",children:[(0,xn.jsx)("p",{className:"font-medium",children:"No rooms available for the selected dates"}),(0,xn.jsx)("p",{className:"text-sm mt-1",children:"Please try different dates"})]})}):(0,xn.jsxs)("div",{className:"text-center py-8 text-gray-500 text-sm bg-gray-50 rounded-lg border",children:[(0,xn.jsx)("p",{children:"Please select check-in and check-out dates first"}),(0,xn.jsx)("p",{className:"text-xs mt-1",children:"Available rooms will be shown here"})]})]})})(),(0,xn.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:-translate-y-1",children:u?"Update Booking \u270f\ufe0f":"Book Package \u2705"})]})})]}),(0,xn.jsx)($$,{title:"All Package Bookings",className:"mt-8",children:(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full table-auto",children:[(0,xn.jsx)("thead",{className:"bg-gray-100",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guest"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Package"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rooms"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-In"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-Out"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,xn.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[G.map(e=>{var t;return(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap font-medium text-gray-900",children:e.guest_name}),(0,xn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(null===(t=e.package)||void 0===t?void 0:t.title)||"-"}),(0,xn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:e.rooms.map(e=>e.room.number).join(", ")}),(0,xn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:e.check_in}),(0,xn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:e.check_out}),(0,xn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap capitalize",children:e.status}),(0,xn.jsxs)("td",{className:"px-4 py-3 text-center space-x-2",children:[(0,xn.jsx)("button",{onClick:()=>(e=>{var t;h(e),F({package_id:null===(t=e.package)||void 0===t?void 0:t.id,guest_name:e.guest_name,guest_email:e.guest_email||"",guest_mobile:e.guest_mobile||"",check_in:e.check_in,check_out:e.check_out,adults:e.adults,children:e.children,room_ids:e.rooms.map(e=>e.room.id)}),window.scrollTo({top:0,behavior:"smooth"})})(e),className:"text-blue-600 hover:text-blue-800 font-semibold disabled:text-gray-400 disabled:cursor-not-allowed",disabled:"booked"!==e.status,children:"Edit"}),(0,xn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to cancel this booking?"))try{await mn.delete("/packages/booking/".concat(e)),PQ.success("Booking canceled successfully!"),B()}catch(t){console.error(t),PQ.error("Failed to cancel booking")}})(e.id),className:"text-red-600 hover:text-red-800 font-semibold disabled:text-gray-400 disabled:cursor-not-allowed",disabled:"booked"!==e.status,children:"Cancel"}),(0,xn.jsx)("button",{onClick:()=>y(e),className:"text-green-600 hover:text-green-800 font-semibold disabled:text-gray-400 disabled:cursor-not-allowed",disabled:"booked"!==e.status,children:"Check-in"})]})]},e.id)}),0===G.length&&(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:7,className:"text-center py-4 text-gray-500",children:"No bookings found."})})]})]})})}),x&&(0,xn.jsx)(Z$,{booking:x,onClose:()=>y(null),onSave:async(e,t)=>{b(!0);const r=PQ.loading("Processing check-in..."),n=new FormData;n.append("id_card_image",t.id_card_image),n.append("guest_photo",t.guest_photo);try{const t=await mn.put("/packages/booking/".concat(e,"/check-in"),n,{headers:{"Content-Type":"multipart/form-data"}});l(r=>r.map(r=>r.id===e?Fe(Fe({},r),t.data):r)),PQ.success("Guest checked in successfully!",{id:r}),y(null)}catch(s){var i,a;const e=null===(i=s.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.detail;PQ.error("string"===typeof e?e:"Failed to check in guest.",{id:r}),console.error("Check-in error:",s)}finally{b(!1)}},isSubmitting:v})]})},rZ=Cu("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),nZ=e=>{let{title:t,icon:r,children:n,loading:i,count:a}=e;return(0,xn.jsxs)(xu.div,{className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[(0,xn.jsxs)("div",{className:"flex items-center justify-between mb-4 border-b border-gray-200 pb-3",children:[(0,xn.jsxs)("div",{className:"flex items-center",children:[r,(0,xn.jsx)("h2",{className:"text-xl font-bold text-gray-800 ml-3",children:t})]}),!i&&(0,xn.jsxs)("span",{className:"text-sm font-bold bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full",children:[a," Records"]}),i&&(0,xn.jsx)("div",{className:"h-6 w-20 bg-gray-200 rounded-full animate-pulse"})]}),(0,xn.jsx)("div",{className:"overflow-auto max-h-96",children:i?(0,xn.jsxs)("div",{className:"space-y-2 mt-2",children:[(0,xn.jsx)("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),(0,xn.jsx)("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),(0,xn.jsx)("div",{className:"h-8 bg-gray-200 rounded animate-pulse"})]}):n})]})},iZ=e=>{let{headers:t,data:r,renderRow:n}=e;return(0,xn.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,xn.jsx)("thead",{className:"text-gray-600 uppercase tracking-wider bg-gray-50 sticky top-0",children:(0,xn.jsx)("tr",{children:t.map(e=>(0,xn.jsx)("th",{className:"p-3",children:e},e))})}),(0,xn.jsx)("tbody",{className:"divide-y divide-gray-200",children:r.map((e,t)=>n(e,t))})]})},aZ=e=>e?new Date(e).toLocaleDateString():"-";function sZ(){const[e,t]=(0,i.useState)(!0),[r,n]=(0,i.useState)(null),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)({expenses:[],serviceCharges:[],foodOrders:[],roomBookings:[],packageBookings:[],employees:[],checkInByEmployee:[]});return(0,i.useEffect)(()=>{const e={};a&&(e.from_date=a),o&&(e.to_date=o),async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var r;t(!0),n(null);const[i,a,s,o,l,c,u]=await Promise.all([mn.get("/expenses",{params:e}),mn.get("/food-orders",{params:e}),mn.get("/bookings",{params:e}),mn.get("/packages/bookingsall",{params:Fe(Fe({},e),{},{skip:0,limit:1e3})}).catch(()=>({data:[]})),mn.get("/employees",{params:e}),mn.get("/reports/checkin-by-employee",{params:e}).catch(()=>({data:[]})),mn.get("/reports/service-charges",{params:Fe(Fe({},e),{},{skip:0,limit:1e3})}).catch(()=>({data:[]}))]);d({expenses:i.data||[],serviceCharges:u.data||[],foodOrders:a.data||[],roomBookings:(null===(r=s.data)||void 0===r?void 0:r.bookings)||s.data||[],packageBookings:o.data||[],employees:l.data||[],checkInByEmployee:c.data||[]})}catch(i){console.error("Failed to fetch comprehensive report data:",i),n("Failed to load report data. Please try again.")}finally{t(!1)}}(e)},[a,o]),r?(0,xn.jsx)(Zu,{children:(0,xn.jsx)("div",{className:"flex items-center justify-center h-screen text-red-500 text-lg",children:(0,xn.jsx)("p",{children:r})})}):(0,xn.jsx)(Zu,{children:(0,xn.jsxs)("div",{className:"p-6 md:p-8 space-y-8 bg-gray-50 min-h-screen",children:[(0,xn.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Comprehensive Data Report"}),(0,xn.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md flex items-center gap-4",children:[(0,xn.jsxs)("div",{className:"flex-1",children:[(0,xn.jsx)("label",{htmlFor:"from-date",className:"block text-sm font-medium text-gray-700",children:"From Date"}),(0,xn.jsx)("input",{type:"date",id:"from-date",value:a,onChange:e=>s(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),(0,xn.jsxs)("div",{className:"flex-1",children:[(0,xn.jsx)("label",{htmlFor:"to-date",className:"block text-sm font-medium text-gray-700",children:"To Date"}),(0,xn.jsx)("input",{type:"date",id:"to-date",value:o,onChange:e=>l(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),(0,xn.jsx)("button",{onClick:()=>{s(""),l("")},className:"mt-5 px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700",children:"Clear"})]}),(0,xn.jsx)(_u,{children:(0,xn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,xn.jsx)(nZ,{title:"Check-ins by Employee",icon:(0,xn.jsx)(rZ,{className:"text-green-600"}),loading:e,count:c.checkInByEmployee.length,children:0===c.checkInByEmployee.length?(0,xn.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No check-in data available"}):(0,xn.jsx)(iZ,{headers:["Employee Name","Guests Checked-in"],data:c.checkInByEmployee,renderRow:(e,t)=>(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"p-3 font-semibold",children:e.employee_name||"-"}),(0,xn.jsx)("td",{className:"p-3 font-bold text-lg text-indigo-700",children:e.checkin_count||0})]},e.employee_name||"employee-".concat(t))})}),(0,xn.jsx)(nZ,{title:"Active Employees",icon:(0,xn.jsx)(Uu,{className:"text-blue-600"}),loading:e,count:c.employees.length,children:(0,xn.jsx)(iZ,{headers:["Name","Role","Salary","Hire Date"],data:c.employees,renderRow:e=>{var t;return(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"p-3 font-semibold",children:e.name||"-"}),(0,xn.jsx)("td",{className:"p-3",children:(null===(t=e.role)||void 0===t?void 0:t.name)||e.role||"-"}),(0,xn.jsx)("td",{className:"p-3",children:Ju(e.salary)}),(0,xn.jsx)("td",{className:"p-3",children:aZ(e.join_date||e.hire_date)})]},e.id)}})}),(0,xn.jsx)(nZ,{title:"All Expenses",icon:(0,xn.jsx)(N$,{className:"text-red-600"}),loading:e,count:c.expenses.length,children:(0,xn.jsx)(iZ,{headers:["Category","Description","Amount","Date"],data:c.expenses,renderRow:e=>(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"p-3 font-semibold",children:e.category||"-"}),(0,xn.jsx)("td",{className:"p-3",children:e.description||"-"}),(0,xn.jsx)("td",{className:"p-3",children:Ju(e.amount)}),(0,xn.jsx)("td",{className:"p-3",children:aZ(e.date||e.expense_date)})]},e.id)})}),(0,xn.jsx)(nZ,{title:"Room Bookings",icon:(0,xn.jsx)(Ou,{className:"text-purple-600"}),loading:e,count:c.roomBookings.length,children:(0,xn.jsx)(iZ,{headers:["ID","Guest","Rooms","Check-in","Check-out","Status","Total"],data:c.roomBookings,renderRow:e=>{var t;const r=(null===(t=e.rooms)||void 0===t?void 0:t.map(e=>{var t;return e.number?e.number:null!==(t=e.room)&&void 0!==t&&t.number?e.room.number:null}).filter(Boolean).join(", "))||"-";return(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"p-3 font-mono text-xs",children:e.id}),(0,xn.jsx)("td",{className:"p-3 font-semibold",children:e.guest_name||"-"}),(0,xn.jsx)("td",{className:"p-3",children:r}),(0,xn.jsx)("td",{className:"p-3",children:aZ(e.check_in)}),(0,xn.jsx)("td",{className:"p-3",children:aZ(e.check_out)}),(0,xn.jsx)("td",{className:"p-3",children:(0,xn.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("booked"===e.status?"bg-green-100 text-green-800":"checked_out"===e.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.status||"-"})}),(0,xn.jsx)("td",{className:"p-3",children:Ju(e.total_amount)})]},e.id)}})}),(0,xn.jsx)(nZ,{title:"Package Bookings",icon:(0,xn.jsx)(Bu,{className:"text-indigo-600"}),loading:e,count:c.packageBookings.length,children:(0,xn.jsx)(iZ,{headers:["Guest","Package","Rooms","Guests","Check-in","Total","Status"],data:c.packageBookings,renderRow:e=>{var t,r,n;const i=(null===(t=e.rooms)||void 0===t?void 0:t.map(e=>{var t;return null===(t=e.room)||void 0===t?void 0:t.number}).filter(Boolean).join(", "))||"-";return(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"p-3 font-semibold",children:e.guest_name||"-"}),(0,xn.jsx)("td",{className:"p-3",children:(null===(r=e.package)||void 0===r?void 0:r.title)||"-"}),(0,xn.jsx)("td",{className:"p-3",children:i}),(0,xn.jsx)("td",{className:"p-3",children:"".concat(e.adults||0,"A, ").concat(e.children||0,"C")}),(0,xn.jsx)("td",{className:"p-3",children:aZ(e.check_in)}),(0,xn.jsx)("td",{className:"p-3",children:Ju((null===(n=e.package)||void 0===n?void 0:n.price)||e.total_amount||0)}),(0,xn.jsx)("td",{className:"p-3",children:(0,xn.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("booked"===e.status?"bg-green-100 text-green-800":"checked_out"===e.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.status||"-"})})]},e.id)}})}),(0,xn.jsx)(nZ,{title:"Food Orders",icon:(0,xn.jsx)(u$,{className:"text-orange-600"}),loading:e,count:c.foodOrders.length,children:(0,xn.jsx)(iZ,{headers:["Room","Items","Amount","Assigned To","Status","Date"],data:c.foodOrders,renderRow:e=>{var t,r,n;return(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"p-3 font-semibold",children:e.room_number||(null===(t=e.room)||void 0===t?void 0:t.number)||"-"}),(0,xn.jsx)("td",{className:"p-3",children:e.item_count||(null===(r=e.items)||void 0===r?void 0:r.length)||0}),(0,xn.jsx)("td",{className:"p-3",children:Ju(e.amount)}),(0,xn.jsx)("td",{className:"p-3",children:e.employee_name||(null===(n=e.employee)||void 0===n?void 0:n.name)||"-"}),(0,xn.jsx)("td",{className:"p-3",children:e.status||"-"}),(0,xn.jsx)("td",{className:"p-3",children:aZ(e.created_at||e.createdAt)})]},e.id)}})}),(0,xn.jsx)(nZ,{title:"Service Charges",icon:(0,xn.jsx)(Iu,{className:"text-teal-600"}),loading:e,count:c.serviceCharges.length,children:0===c.serviceCharges.length?(0,xn.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No service charges available"}):(0,xn.jsx)(iZ,{headers:["Room","Service","Amount","Assigned To","Status","Date"],data:c.serviceCharges,renderRow:e=>(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"p-3 font-semibold",children:e.room_number||"-"}),(0,xn.jsx)("td",{className:"p-3",children:e.service_name||"-"}),(0,xn.jsx)("td",{className:"p-3",children:Ju(e.amount)}),(0,xn.jsx)("td",{className:"p-3",children:e.employee_name||"-"}),(0,xn.jsx)("td",{className:"p-3",children:e.status||"-"}),(0,xn.jsx)("td",{className:"p-3",children:aZ(e.created_at)})]},e.id)})})]})})]})})}const oZ=Cu("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),lZ=Cu("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),cZ=Cu("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),dZ=Cu("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),uZ=Cu("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),hZ=Cu("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),fZ=e=>{let{icon:t,label:r,value:n}=e;return(0,xn.jsxs)("div",{className:"flex items-center text-gray-700",children:[t,(0,xn.jsxs)("span",{className:"font-semibold ml-2 mr-1",children:[r,":"]}),(0,xn.jsx)("span",{children:n})]})},pZ=e=>{let{title:t,children:r}=e;return(0,xn.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[(0,xn.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:t}),(0,xn.jsx)("div",{className:"overflow-x-auto",children:r})]})},mZ=()=>{const[e,t]=(0,i.useState)(""),[r,n]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(""),[f,p]=(0,i.useState)([]);(0,i.useEffect)(()=>{(async()=>{try{const e=await mn.get("/reports/guest-suggestions");p(e.data)}catch(e){console.error("Could not fetch guest suggestions:",e)}})()},[]);const m=async e=>{if(e.email||e.mobile||e.name){d(!0),h(""),l(null);try{const t=await mn.get("/reports/guest-profile",{params:Fe(Fe(Fe({},e.name&&{guest_name:e.name}),e.email&&{guest_email:e.email}),e.mobile&&{guest_mobile:e.mobile})});l(t.data)}catch(n){var t,r;h((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to fetch guest profile.")}finally{d(!1)}}else h("Please provide a name, email, or mobile number to search.")},g=e=>{if(!e)return null;const t=hn();return e.startsWith("id_pkg_")||e.startsWith("guest_pkg_")?"".concat(t,"/packages/booking/checkin-image/").concat(e):"".concat(t,"/bookings/checkin-image/").concat(e)};return(0,xn.jsxs)(Zu,{children:[(0,xn.jsxs)("div",{className:"bubbles-container",children:[(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{})]}),(0,xn.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,xn.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Guest Profile Report"}),(0,xn.jsxs)("div",{className:"mb-6",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Quick Search"}),(0,xn.jsxs)("div",{className:"flex space-x-3 overflow-x-auto pb-3",children:[f.map((e,r)=>(0,xn.jsx)("button",{onClick:()=>{return t((r=e).guest_name),n(r.guest_email),s(r.guest_mobile),void m({name:r.guest_name,email:r.guest_email,mobile:r.guest_mobile});var r},className:"flex-shrink-0 bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-full text-sm font-medium hover:bg-indigo-50 hover:border-indigo-400 transition-colors shadow-sm",children:e.guest_name},r)),0===f.length&&(0,xn.jsx)("p",{className:"text-sm text-gray-500",children:"No guest suggestions available."})]})]}),(0,xn.jsx)("div",{className:"max-w-2xl mx-auto bg-white p-6 rounded-xl shadow-md mb-8",children:(0,xn.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),m({name:e,email:r,mobile:a})},className:"flex flex-col sm:flex-row items-center gap-4",children:[(0,xn.jsx)("input",{type:"text",placeholder:"Guest Name",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,xn.jsx)("input",{type:"email",placeholder:"Guest Email",value:r,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",list:"guest-emails"}),(0,xn.jsx)("datalist",{id:"guest-emails",children:f.map((e,t)=>(0,xn.jsxs)("option",{value:e.guest_email,children:[e.guest_name," (",e.guest_mobile,")"]},t))}),(0,xn.jsx)("input",{type:"tel",placeholder:"Guest Mobile",value:a,onChange:e=>s(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,xn.jsxs)("button",{type:"submit",className:"w-full sm:w-auto bg-indigo-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-indigo-700 transition flex items-center justify-center",disabled:c,children:[(0,xn.jsx)(f$,{size:18,className:"mr-2"}),c?"Searching...":"Search"]})]})}),u&&(0,xn.jsxs)("div",{className:"max-w-2xl mx-auto bg-red-100 text-red-700 p-4 rounded-lg flex items-center",children:[(0,xn.jsx)(oZ,{size:20,className:"mr-3"}),u]}),o&&(0,xn.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,xn.jsx)(pZ,{title:"Guest Details",children:(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,xn.jsx)(fZ,{icon:(0,xn.jsx)(lZ,{size:20,className:"text-indigo-500"}),label:"Name",value:o.guest_details.name}),(0,xn.jsx)(fZ,{icon:(0,xn.jsx)(cZ,{size:20,className:"text-indigo-500"}),label:"Email",value:o.guest_details.email}),(0,xn.jsx)(fZ,{icon:(0,xn.jsx)(dZ,{size:20,className:"text-indigo-500"}),label:"Mobile",value:o.guest_details.mobile})]})}),(0,xn.jsx)(pZ,{title:"Booking History",children:(0,xn.jsxs)("table",{className:"min-w-full text-sm",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"p-3 text-left",children:"Type"}),(0,xn.jsx)("th",{className:"p-3 text-left",children:"Dates"}),(0,xn.jsx)("th",{className:"p-3 text-left",children:"Rooms"}),(0,xn.jsx)("th",{className:"p-3 text-left",children:"Status"}),(0,xn.jsx)("th",{className:"p-3 text-left",children:"Documents"})]})}),(0,xn.jsx)("tbody",{className:"divide-y",children:o.bookings.map(e=>(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("td",{className:"p-3",children:e.type}),(0,xn.jsxs)("td",{className:"p-3",children:[e.check_in," to ",e.check_out]}),(0,xn.jsx)("td",{className:"p-3",children:e.rooms.join(", ")}),(0,xn.jsx)("td",{className:"p-3",children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:e.status})}),(0,xn.jsxs)("td",{className:"p-3 flex items-center gap-4",children:[e.id_card_image_url&&(0,xn.jsxs)("a",{href:g(e.id_card_image_url),target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline flex items-center",children:[(0,xn.jsx)(uZ,{size:16,className:"mr-1"})," ID Card"]}),e.guest_photo_url&&(0,xn.jsxs)("a",{href:g(e.guest_photo_url),target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline flex items-center",children:[(0,xn.jsx)(hZ,{size:16,className:"mr-1"})," Photo"]})]})]},"".concat(e.type,"-").concat(e.id)))})]})}),(0,xn.jsx)(pZ,{title:"Food Order History",children:(0,xn.jsxs)("table",{className:"min-w-full text-sm",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"p-3 text-left",children:"Order ID"}),(0,xn.jsx)("th",{className:"p-3 text-left",children:"Date"}),(0,xn.jsx)("th",{className:"p-3 text-left",children:"Room"}),(0,xn.jsx)("th",{className:"p-3 text-left",children:"Items"}),(0,xn.jsx)("th",{className:"p-3 text-right",children:"Amount"}),(0,xn.jsx)("th",{className:"p-3 text-center",children:"Status"})]})}),(0,xn.jsx)("tbody",{className:"divide-y",children:o.food_orders.map(e=>(0,xn.jsxs)("tr",{children:[(0,xn.jsxs)("td",{className:"p-3",children:["#",e.id]}),(0,xn.jsx)("td",{className:"p-3",children:new Date(e.created_at).toLocaleString()}),(0,xn.jsx)("td",{className:"p-3",children:e.room_number||"N/A"}),(0,xn.jsx)("td",{className:"p-3",children:e.items.map(e=>{var t;return"".concat((null===(t=e.food_item)||void 0===t?void 0:t.name)||"Unknown Item"," (x").concat(e.quantity,")")}).join(", ")}),(0,xn.jsxs)("td",{className:"p-3 text-right font-semibold",children:["\u20b9",e.amount.toFixed(2)]}),(0,xn.jsx)("td",{className:"p-3 text-center",children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:e.status})})]},e.id))})]})}),(0,xn.jsx)(pZ,{title:"Service History",children:(0,xn.jsxs)("table",{className:"min-w-full text-sm",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"p-3 text-left",children:"Service ID"}),(0,xn.jsx)("th",{className:"p-3 text-left",children:"Date"}),(0,xn.jsx)("th",{className:"p-3 text-left",children:"Service"}),(0,xn.jsx)("th",{className:"p-3 text-left",children:"Room"}),(0,xn.jsx)("th",{className:"p-3 text-right",children:"Charges"}),(0,xn.jsx)("th",{className:"p-3 text-center",children:"Status"})]})}),(0,xn.jsx)("tbody",{className:"divide-y",children:o.services.map(e=>(0,xn.jsxs)("tr",{children:[(0,xn.jsxs)("td",{className:"p-3",children:["#",e.id]}),(0,xn.jsx)("td",{className:"p-3",children:new Date(e.assigned_at).toLocaleString()}),(0,xn.jsx)("td",{className:"p-3",children:e.service_name}),(0,xn.jsx)("td",{className:"p-3",children:e.room_number||"N/A"}),(0,xn.jsxs)("td",{className:"p-3 text-right font-semibold",children:["\u20b9",(e.charges||0).toFixed(2)]}),(0,xn.jsx)("td",{className:"p-3 text-center",children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("completed"===e.status?"bg-purple-100 text-purple-800":"bg-yellow-100 text-yellow-800"),children:e.status})})]},e.id))})]})})]})]})]})},gZ=e=>{switch(e){case"Room Booking":return(0,xn.jsx)(Ou,{className:"w-5 h-5 text-purple-500"});case"Package Booking":return(0,xn.jsx)(Bu,{className:"w-5 h-5 text-indigo-500"});case"Food Order":return(0,xn.jsx)(u$,{className:"w-5 h-5 text-orange-500"});case"Service":return(0,xn.jsx)(Iu,{className:"w-5 h-5 text-teal-500"});case"Expense":return(0,xn.jsx)(N$,{className:"w-5 h-5 text-red-500"});default:return(0,xn.jsx)(j$,{className:"w-5 h-5 text-gray-500"})}},xZ=e=>{let{title:t,activities:r,icon:n}=e;return r&&0!==r.length?(0,xn.jsxs)(xu.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-xl shadow-md",children:[(0,xn.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[n,(0,xn.jsxs)("span",{className:"ml-2",children:[t," (",r.length,")"]})]}),(0,xn.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:r.map((e,t)=>(0,xn.jsx)(yZ,{activity:e},t))})]}):null},yZ=e=>{let{activity:t}=e;return(0,xn.jsx)("div",{className:"p-4 border rounded-lg bg-gray-50/50 hover:bg-white hover:shadow-sm transition-all duration-200",children:(0,xn.jsxs)("div",{className:"flex items-start gap-3",children:[(0,xn.jsx)("div",{className:"mt-1",children:gZ(t.type)}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-xs text-gray-500",children:new Date(t.activity_date).toLocaleString()}),(0,xn.jsx)("h4",{className:"font-bold text-gray-800",children:t.type}),(0,xn.jsx)("p",{className:"text-sm text-gray-600",children:t.description}),(0,xn.jsxs)("div",{className:"text-xs mt-2 flex items-center gap-4 flex-wrap",children:[null!=t.amount&&(0,xn.jsxs)("span",{className:"font-semibold text-green-600",children:["Amount: ",Ju(t.amount)]}),t.status&&(0,xn.jsx)("span",{className:"px-2 py-0.5 rounded-full bg-gray-200 text-gray-800 font-medium",children:t.status})]})]})]})})},vZ=()=>{const[e,t]=(0,i.useState)([]),[r,n]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(null),[u,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)("");(0,i.useEffect)(()=>{(async()=>{try{const e=await mn.get("/employees");t(e.data||[])}catch(e){console.error("Failed to fetch users:",e),p("Could not load the list of users.")}})()},[]);const m=(0,i.useMemo)(()=>c?c.activities.reduce((e,t)=>{const r=t.type;return e[r]||(e[r]=[]),e[r].push(t),e},{}):{},[c]);return(0,xn.jsx)(Zu,{children:(0,xn.jsxs)("div",{className:"p-6 md:p-8 space-y-8 bg-gray-50 min-h-screen",children:[(0,xn.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"User Activity History"}),(0,xn.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[(0,xn.jsxs)("div",{className:"md:col-span-2",children:[(0,xn.jsx)("label",{htmlFor:"user-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select User"}),(0,xn.jsxs)("select",{id:"user-select",value:r,onChange:e=>n(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,xn.jsx)("option",{value:"",children:"-- Select a User --"}),e.map(e=>(0,xn.jsxs)("option",{value:e.user_id||e.id,children:[e.name," (",e.role,")"]},e.id))]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{htmlFor:"from-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),(0,xn.jsx)("input",{type:"date",id:"from-date",value:a,onChange:e=>s(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{htmlFor:"to-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),(0,xn.jsx)("input",{type:"date",id:"to-date",value:o,onChange:e=>l(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),(0,xn.jsx)("div",{className:"mt-4 text-center",children:(0,xn.jsxs)("button",{onClick:async()=>{if(r){h(!0),p(""),d(null);try{const e={user_id:r};a&&(e.from_date=a),o&&(e.to_date=o);const t=await mn.get("/reports/user-history",{params:e});d(t.data)}catch(n){var e,t;console.error("Failed to fetch user history:",n),p((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"An error occurred while fetching the history.")}finally{h(!1)}}else p("Please select a user to view their history.")},disabled:u||!r,className:"w-full md:w-auto bg-indigo-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-indigo-700 transition flex items-center justify-center disabled:bg-gray-400 disabled:cursor-not-allowed",children:[(0,xn.jsx)(f$,{size:18,className:"mr-2"}),u?"Fetching...":"Get History"]})})]}),f&&(0,xn.jsxs)("div",{className:"bg-red-100 text-red-700 p-4 rounded-lg flex items-center",children:[(0,xn.jsx)(oZ,{size:20,className:"mr-3"}),f]}),c&&(0,xn.jsxs)(xu.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white p-6 rounded-xl shadow-md mt-8",children:[(0,xn.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:["Activity for ",(0,xn.jsx)("span",{className:"text-indigo-600",children:c.user_name})]}),c.activities.length>0?(0,xn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8",children:[(0,xn.jsx)(xZ,{title:"Room Bookings",activities:m["Room Booking"],icon:(0,xn.jsx)(Ou,{className:"w-6 h-6 text-purple-500"})}),(0,xn.jsx)(xZ,{title:"Package Bookings",activities:m["Package Booking"],icon:(0,xn.jsx)(Bu,{className:"w-6 h-6 text-indigo-500"})}),(0,xn.jsx)(xZ,{title:"Food Orders",activities:m["Food Order"],icon:(0,xn.jsx)(u$,{className:"w-6 h-6 text-orange-500"})}),(0,xn.jsx)(xZ,{title:"Services",activities:m.Service,icon:(0,xn.jsx)(Iu,{className:"w-6 h-6 text-teal-500"})}),(0,xn.jsx)(xZ,{title:"Expenses",activities:m.Expense,icon:(0,xn.jsx)(N$,{className:"w-6 h-6 text-red-500"})})]}):(0,xn.jsx)("p",{className:"text-center text-gray-500 py-8",children:"No activities found for this user in the selected date range."})]})]})})},bZ=Cu("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var wZ={version:"0.18.5"},jZ=1200,NZ=1252,_Z=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],kZ={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},SZ=function(e){-1!=_Z.indexOf(e)&&(NZ=kZ[0]=e)};var AZ=function(e){jZ=e,SZ(e)};function CZ(){AZ(1200),SZ(1252)}function EZ(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var PZ,TZ=function(e){return String.fromCharCode(e)},OZ=function(e){return String.fromCharCode(e)};var IZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function LZ(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0,l=0,c=0;c<e.length;)a=(r=e.charCodeAt(c++))>>2,s=(3&r)<<4|(n=e.charCodeAt(c++))>>4,o=(15&n)<<2|(i=e.charCodeAt(c++))>>6,l=63&i,isNaN(n)?o=l=64:isNaN(i)&&(l=64),t+=IZ.charAt(a)+IZ.charAt(s)+IZ.charAt(o)+IZ.charAt(l);return t}function DZ(e){var t="",r=0,n=0,i=0,a=0,s=0,o=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)r=IZ.indexOf(e.charAt(l++))<<2|(a=IZ.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(r),n=(15&a)<<4|(s=IZ.indexOf(e.charAt(l++)))>>2,64!==s&&(t+=String.fromCharCode(n)),i=(3&s)<<6|(o=IZ.indexOf(e.charAt(l++))),64!==o&&(t+=String.fromCharCode(i));return t}var MZ=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),RZ=function(){if("undefined"!==typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(UX){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function FZ(e){return MZ?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function BZ(e){return MZ?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var zZ=function(e){return MZ?RZ(e,"binary"):e.split("").map(function(e){return 255&e.charCodeAt(0)})};function UZ(e){if("undefined"===typeof ArrayBuffer)return zZ(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=255&e.charCodeAt(n);return t}function qZ(e){if(Array.isArray(e))return e.map(function(e){return String.fromCharCode(e)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}var WZ=MZ?function(e){return Buffer.concat(e.map(function(e){return Buffer.isBuffer(e)?e:RZ(e)}))}:function(e){if("undefined"!==typeof Uint8Array){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if("string"==typeof e[t])throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(e){return Array.isArray(e)?e:[].slice.call(e)}))};var HZ=/\u0000/g,VZ=/[\u0001-\u0006]/g;function GZ(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function KZ(e,t){var r=""+e;return r.length>=t?r:a0("0",t-r.length)+r}function YZ(e,t){var r=""+e;return r.length>=t?r:a0(" ",t-r.length)+r}function XZ(e,t){var r=""+e;return r.length>=t?r:r+a0(" ",t-r.length)}var QZ=Math.pow(2,32);function $Z(e,t){return e>QZ||e<-QZ?function(e,t){var r=""+Math.round(e);return r.length>=t?r:a0("0",t-r.length)+r}(e,t):function(e,t){var r=""+e;return r.length>=t?r:a0("0",t-r.length)+r}(Math.round(e),t)}function ZZ(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var JZ=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],eJ=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var tJ={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},rJ={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},nJ={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function iJ(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,s=1,o=0,l=1,c=0,d=0,u=Math.floor(i);c<t&&(o=(u=Math.floor(i))*s+a,d=u*c+l,!(i-u<5e-8));)i=1/(i-u),a=s,s=o,l=c,c=d;if(d>t&&(c>t?(d=l,o=a):(d=c,o=s)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function aJ(e,t,r){if(e>2958465||e<0)return null;var n=0|e,i=Math.floor(86400*(e-n)),a=0,s=[],o={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,86400==++i&&(o.T=i=0,++n,++o.D)),60===n)s=r?[1317,10,29]:[1900,2,29],a=3;else if(0===n)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),r&&(a=function(e,t){t[0]-=581;var r=e.getDay();e<60&&(r=(r+6)%7);return r}(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var sJ=new Date(1899,11,31,0,0,0),oJ=sJ.getTime(),lJ=new Date(1900,2,1,0,0,0);function cJ(e,t){var r=e.getTime();return t?r-=1262304e5:e>=lJ&&(r+=864e5),(r-(oJ+6e4*(e.getTimezoneOffset()-sJ.getTimezoneOffset())))/864e5}function dJ(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function uJ(e){var t,r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=r>=-4&&r<=-1?e.toPrecision(10+r):Math.abs(r)<=9?function(e){var t=e<0?12:11,r=dJ(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10)).length<=t?r:e.toExponential(5)}(e):10===r?e.toFixed(10).substr(0,12):function(e){var t=dJ(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),dJ(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function hJ(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):uJ(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return IJ(14,cJ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function fJ(e,t,r,n){var i,a="",s=0,o=0,l=r.y,c=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:i=l%100,c=2;break;default:i=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:i=r.m,c=t.length;break;case 3:return eJ[r.m-1][1];case 5:return eJ[r.m-1][0];default:return eJ[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:i=r.d,c=t.length;break;case 3:return JZ[r.q][0];default:return JZ[r.q][1]}break;case 104:switch(t.length){case 1:case 2:i=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:i=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:i=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==r.u||"s"!=t&&"ss"!=t?(o=n>=2?3===n?1e3:100:1===n?10:1,(s=Math.round(o*(r.S+r.u)))>=60*o&&(s=0),"s"===t?0===s?"0":""+s/o:(a=KZ(s,2+n),"ss"===t?a.substr(0,2):"."+a.substr(2,t.length-1))):KZ(r.S,t.length);case 90:switch(t){case"[h]":case"[hh]":i=24*r.D+r.H;break;case"[m]":case"[mm]":i=60*(24*r.D+r.H)+r.M;break;case"[s]":case"[ss]":i=60*(60*(24*r.D+r.H)+r.M)+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:i=l,c=1}return c>0?KZ(i,c):""}function pJ(e){if(e.length<=3)return e;for(var t=e.length%3,r=e.substr(0,t);t!=e.length;t+=3)r+=(r.length>0?",":"")+e.substr(t,3);return r}var mJ=/%/g;function gJ(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+gJ(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),-1===(r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i)).indexOf("e")){var s=Math.floor(Math.log(t)*Math.LOG10E);for(-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);"0."===r.substr(0,2);)r=(r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,r,n){return t+r+n.substr(0,(i+a)%i)+"."+n.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var xJ=/# (\?+)( ?)\/( ?)(\d+)/;var yJ=/^#*0*\.([0#]+)/,vJ=/\).*[0#]/,bJ=/\(###\) ###\\?-####/;function wJ(e){for(var t,r="",n=0;n!=e.length;++n)switch(t=e.charCodeAt(n)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t)}return r}function jJ(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function NJ(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function _J(e,t,r){if(40===e.charCodeAt(0)&&!t.match(vJ)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?_J("n",n,r):"("+_J("n",n,-r)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return AJ(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(e,t,r);if(-1!==t.indexOf("%"))return function(e,t,r){var n=t.replace(mJ,""),i=t.length-n.length;return AJ(e,n,r*Math.pow(10,2*i))+a0("%",i)}(e,t,r);if(-1!==t.indexOf("E"))return gJ(t,r);if(36===t.charCodeAt(0))return"$"+_J(e,t.substr(" "==t.charAt(1)?2:1),r);var i,a,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+$Z(l,t.length);if(t.match(/^[#?]+$/))return"0"===(i=$Z(r,0))&&(i=""),i.length>t.length?i:wJ(t.substr(0,t.length-i.length))+i;if(a=t.match(xJ))return function(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),s=i-a*n,o=n;return r+(0===a?"":""+a)+" "+(0===s?a0(" ",e[1].length+1+e[4].length):YZ(s,e[1].length)+e[2]+"/"+e[3]+KZ(o,e[4].length))}(a,l,c);if(t.match(/^#+0+$/))return c+$Z(l,t.length-t.indexOf("0"));if(a=t.match(yJ))return i=jJ(r,a[1].length).replace(/^([^\.]+)$/,"$1."+wJ(a[1])).replace(/\.$/,"."+wJ(a[1])).replace(/\.(\d*)$/,function(e,t){return"."+t+a0("0",wJ(a[1]).length-t.length)}),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+jJ(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+pJ($Z(l,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+_J(e,t,-r):pJ(""+(Math.floor(r)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(r,a[1].length)))+"."+KZ(NJ(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return _J(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=GZ(_J(e,t.replace(/[\\-]/g,""),r)),s=0,GZ(GZ(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return s<i.length?i.charAt(s++):"0"===e?"0":""}));if(t.match(bJ))return"("+(i=_J(e,"##########",r)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=iJ(l,Math.pow(10,s)-1,!1),i=""+c," "==(d=AJ("n",a[1],o[1])).charAt(d.length-1)&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],(d=XZ(o[2],s)).length<a[4].length&&(d=wJ(a[4].substr(a[4].length-d.length))+d),i+=d;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),c+((o=iJ(l,Math.pow(10,s)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?YZ(o[1],s)+a[2]+"/"+a[3]+XZ(o[2],s):a0(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=$Z(r,0),t.length<=i.length?i:wJ(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var u=t.indexOf(".")-s,h=t.length-i.length-u;return wJ(t.substr(0,u)+i+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return s=NJ(r,a[1].length),r<0?"-"+_J(e,t,-r):pJ(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?KZ(0,3-e.length):"")+e})+"."+KZ(s,a[1].length);switch(t){case"###,##0.00":return _J(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var f=pJ($Z(l,0));return"0"!==f?c+f:"";case"###,###.00":return _J(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return _J(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function kJ(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+kJ(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),!(r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i)).match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,r,n){return t+r+n.substr(0,(i+a)%i)+"."+n.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function SJ(e,t,r){if(40===e.charCodeAt(0)&&!t.match(vJ)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?SJ("n",n,r):"("+SJ("n",n,-r)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return AJ(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(e,t,r);if(-1!==t.indexOf("%"))return function(e,t,r){var n=t.replace(mJ,""),i=t.length-n.length;return AJ(e,n,r*Math.pow(10,2*i))+a0("%",i)}(e,t,r);if(-1!==t.indexOf("E"))return kJ(t,r);if(36===t.charCodeAt(0))return"$"+SJ(e,t.substr(" "==t.charAt(1)?2:1),r);var i,a,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+KZ(l,t.length);if(t.match(/^[#?]+$/))return i=""+r,0===r&&(i=""),i.length>t.length?i:wJ(t.substr(0,t.length-i.length))+i;if(a=t.match(xJ))return function(e,t,r){return r+(0===t?"":""+t)+a0(" ",e[1].length+2+e[4].length)}(a,l,c);if(t.match(/^#+0+$/))return c+KZ(l,t.length-t.indexOf("0"));if(a=t.match(yJ))return i=(i=(""+r).replace(/^([^\.]+)$/,"$1."+wJ(a[1])).replace(/\.$/,"."+wJ(a[1]))).replace(/\.(\d*)$/,function(e,t){return"."+t+a0("0",wJ(a[1]).length-t.length)}),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+pJ(""+l);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+SJ(e,t,-r):pJ(""+r)+"."+a0("0",a[1].length);if(a=t.match(/^#,#*,#0/))return SJ(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=GZ(SJ(e,t.replace(/[\\-]/g,""),r)),s=0,GZ(GZ(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return s<i.length?i.charAt(s++):"0"===e?"0":""}));if(t.match(bJ))return"("+(i=SJ(e,"##########",r)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=iJ(l,Math.pow(10,s)-1,!1),i=""+c," "==(d=AJ("n",a[1],o[1])).charAt(d.length-1)&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],(d=XZ(o[2],s)).length<a[4].length&&(d=wJ(a[4].substr(a[4].length-d.length))+d),i+=d;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),c+((o=iJ(l,Math.pow(10,s)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?YZ(o[1],s)+a[2]+"/"+a[3]+XZ(o[2],s):a0(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:wJ(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var u=t.indexOf(".")-s,h=t.length-i.length-u;return wJ(t.substr(0,u)+i+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+SJ(e,t,-r):pJ(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?KZ(0,3-e.length):"")+e})+"."+KZ(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=pJ(""+l);return"0"!==f?c+f:"";default:if(t.match(/\.[0#?]*$/))return SJ(e,t.slice(0,t.lastIndexOf(".")),r)+wJ(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function AJ(e,t,r){return(0|r)===r?SJ(e,t,r):_J(e,t,r)}var CJ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function EJ(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":ZZ(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(n=r;"]"!==e.charAt(t++)&&t<e.length;)n+=e.charAt(t);if(n.match(CJ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||"\\"==r&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var PJ=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function TJ(e,t){if(null==t)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0}return!1}function OJ(e,t){var r=function(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),!0===r)throw new Error("Format |"+e+"| unterminated string ");return t}(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if("number"!==typeof t)return[4,4===r.length||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"]}var a=t>0?r[0]:t<0?r[1]:r[2];if(-1===r[0].indexOf("[")&&-1===r[1].indexOf("["))return[n,a];if(null!=r[0].match(/\[[=<>]/)||null!=r[1].match(/\[[=<>]/)){var s=r[0].match(PJ),o=r[1].match(PJ);return TJ(t,s)?[n,r[0]]:TJ(t,o)?[n,r[1]]:[n,r[null!=s&&null!=o?2:1]]}return[n,a]}function IJ(e,t,r){null==r&&(r={});var n="";switch(typeof e){case"string":n="m/d/yy"==e&&r.dateNF?r.dateNF:e;break;case"number":null==(n=14==e&&r.dateNF?r.dateNF:(null!=r.table?r.table:tJ)[e])&&(n=r.table&&r.table[rJ[e]]||tJ[rJ[e]]),null==n&&(n=nJ[e]||"General")}if(ZZ(n,0))return hJ(t,r);t instanceof Date&&(t=cJ(t,r.date1904));var i=OJ(n,t);if(ZZ(i[1]))return hJ(t,r);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,r,n){for(var i,a,s,o=[],l="",c=0,d="",u="t",h="H";c<e.length;)switch(d=e.charAt(c)){case"G":if(!ZZ(e,c))throw new Error("unrecognized character "+d+" in "+e);o[o.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(s=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(s);o[o.length]={t:"t",v:l},++c;break;case"\\":var f=e.charAt(++c),p="("===f||")"===f?f:"t";o[o.length]={t:p,v:f},++c;break;case"_":o[o.length]={t:"t",v:" "},c+=2;break;case"@":o[o.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==i&&null==(i=aJ(t,r,"2"===e.charAt(c+1))))return"";o[o.length]={t:"X",v:e.substr(c,2)},u=d,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==i&&null==(i=aJ(t,r)))return"";for(l=d;++c<e.length&&e.charAt(c).toLowerCase()===d;)l+=d;"m"===d&&"h"===u.toLowerCase()&&(d="M"),"h"===d&&(d=h),o[o.length]={t:d,v:l},u=d;break;case"A":case"a":case"\u4e0a":var m={t:d,v:d};if(null==i&&(i=aJ(t,r)),"A/P"===e.substr(c,3).toUpperCase()?(null!=i&&(m.v=i.H>=12?"P":"A"),m.t="T",h="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"PM":"AM"),m.t="T",c+=5,h="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(c,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),m.t="T",c+=5,h="h"):(m.t="t",++c),null==i&&"T"===m.t)return"";o[o.length]=m,u=d;break;case"[":for(l=d;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(CJ)){if(null==i&&null==(i=aJ(t,r)))return"";o[o.length]={t:"Z",v:l.toLowerCase()},u=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",EJ(e)||(o[o.length]={t:"t",v:l}));break;case".":if(null!=i){for(l=d;++c<e.length&&"0"===(d=e.charAt(c));)l+=d;o[o.length]={t:"s",v:l};break}case"0":case"#":for(l=d;++c<e.length&&"0#?.,E+-%".indexOf(d=e.charAt(c))>-1;)l+=d;o[o.length]={t:"n",v:l};break;case"?":for(l=d;e.charAt(++c)===d;)l+=d;o[o.length]={t:d,v:l},u=d;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":o[o.length]={t:1===n?"t":d,v:d},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=d;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);o[o.length]={t:"D",v:l};break;case" ":o[o.length]={t:d,v:d},++c;break;case"$":o[o.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(d))throw new Error("unrecognized character "+d+" in "+e);o[o.length]={t:"t",v:d},++c}var g,x=0,y=0;for(c=o.length-1,u="t";c>=0;--c)switch(o[c].t){case"h":case"H":o[c].t=h,u="h",x<1&&(x=1);break;case"s":(g=o[c].v.match(/\.0+$/))&&(y=Math.max(y,g[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":u=o[c].t;break;case"m":"s"===u&&(o[c].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&o[c].v.match(/[Hh]/)&&(x=1),x<2&&o[c].v.match(/[Mm]/)&&(x=2),x<3&&o[c].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M)}var v,b="";for(c=0;c<o.length;++c)switch(o[c].t){case"t":case"T":case" ":case"D":break;case"X":o[c].v="",o[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[c].v=fJ(o[c].t.charCodeAt(0),o[c].v,i,y),o[c].t="t";break;case"n":case"?":for(v=c+1;null!=o[v]&&("?"===(d=o[v].t)||"D"===d||(" "===d||"t"===d)&&null!=o[v+1]&&("?"===o[v+1].t||"t"===o[v+1].t&&"/"===o[v+1].v)||"("===o[c].t&&(" "===d||"n"===d||")"===d)||"t"===d&&("/"===o[v].v||" "===o[v].v&&null!=o[v+1]&&"?"==o[v+1].t));)o[c].v+=o[v].v,o[v]={v:"",t:";"},++v;b+=o[c].v,c=v-1;break;case"G":o[c].t="t",o[c].v=hJ(t,r)}var w,j,N="";if(b.length>0){40==b.charCodeAt(0)?(w=t<0&&45===b.charCodeAt(0)?-t:t,j=AJ("n",b,w)):(j=AJ("n",b,w=t<0&&n>1?-t:t),w<0&&o[0]&&"t"==o[0].t&&(j=j.substr(1),o[0].v="-"+o[0].v)),v=j.length-1;var _=o.length;for(c=0;c<o.length;++c)if(null!=o[c]&&"t"!=o[c].t&&o[c].v.indexOf(".")>-1){_=c;break}var k=o.length;if(_===o.length&&-1===j.indexOf("E")){for(c=o.length-1;c>=0;--c)null!=o[c]&&-1!=="n?".indexOf(o[c].t)&&(v>=o[c].v.length-1?(v-=o[c].v.length,o[c].v=j.substr(v+1,o[c].v.length)):v<0?o[c].v="":(o[c].v=j.substr(0,v+1),v=-1),o[c].t="t",k=c);v>=0&&k<o.length&&(o[k].v=j.substr(0,v+1)+o[k].v)}else if(_!==o.length&&-1===j.indexOf("E")){for(v=j.indexOf(".")-1,c=_;c>=0;--c)if(null!=o[c]&&-1!=="n?".indexOf(o[c].t)){for(a=o[c].v.indexOf(".")>-1&&c===_?o[c].v.indexOf(".")-1:o[c].v.length-1,N=o[c].v.substr(a+1);a>=0;--a)v>=0&&("0"===o[c].v.charAt(a)||"#"===o[c].v.charAt(a))&&(N=j.charAt(v--)+N);o[c].v=N,o[c].t="t",k=c}for(v>=0&&k<o.length&&(o[k].v=j.substr(0,v+1)+o[k].v),v=j.indexOf(".")+1,c=_;c<o.length;++c)if(null!=o[c]&&(-1!=="n?(".indexOf(o[c].t)||c===_)){for(a=o[c].v.indexOf(".")>-1&&c===_?o[c].v.indexOf(".")+1:0,N=o[c].v.substr(0,a);a<o[c].v.length;++a)v<j.length&&(N+=j.charAt(v++));o[c].v=N,o[c].t="t",k=c}}}for(c=0;c<o.length;++c)null!=o[c]&&"n?".indexOf(o[c].t)>-1&&(w=n>1&&t<0&&c>0&&"-"===o[c-1].v?-t:t,o[c].v=AJ(o[c].t,o[c].v,w),o[c].t="t");var S="";for(c=0;c!==o.length;++c)null!=o[c]&&(S+=o[c].v);return S}(i[1],t,r,i[0])}function LJ(e,t){if("number"!=typeof t){t=+t||-1;for(var r=0;r<392;++r)if(void 0!=tJ[r]){if(tJ[r]==e){t=r;break}}else t<0&&(t=r);t<0&&(t=391)}return tJ[t]=e,t}function DJ(e){for(var t=0;392!=t;++t)void 0!==e[t]&&LJ(e[t],t)}function MJ(){tJ=function(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',e}()}var RJ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var FJ=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[r]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();var r=function(e){var t=0,r=0,n=0,i="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(n=0;256!=n;++n)i[n]=e[n];for(n=0;256!=n;++n)for(r=e[n],t=256+n;t<4096;t+=256)r=i[t]=r>>>8^e[255&r];var a=[];for(n=1;16!=n;++n)a[n-1]="undefined"!==typeof Int32Array?i.subarray(256*n,256*n+256):i.slice(256*n,256*n+256);return a}(t),n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],l=r[5],c=r[6],d=r[7],u=r[8],h=r[9],f=r[10],p=r[11],m=r[12],g=r[13],x=r[14];return e.table=t,e.bstr=function(e,r){for(var n=-1^r,i=0,a=e.length;i<a;)n=n>>>8^t[255&(n^e.charCodeAt(i++))];return~n},e.buf=function(e,r){for(var y=-1^r,v=e.length-15,b=0;b<v;)y=x[e[b++]^255&y]^g[e[b++]^y>>8&255]^m[e[b++]^y>>16&255]^p[e[b++]^y>>>24]^f[e[b++]]^h[e[b++]]^u[e[b++]]^d[e[b++]]^c[e[b++]]^l[e[b++]]^o[e[b++]]^s[e[b++]]^a[e[b++]]^i[e[b++]]^n[e[b++]]^t[e[b++]];for(v+=15;b<v;)y=y>>>8^t[255&(y^e[b++])];return~y},e.str=function(e,r){for(var n=-1^r,i=0,a=e.length,s=0,o=0;i<a;)(s=e.charCodeAt(i++))<128?n=n>>>8^t[255&(n^s)]:s<2048?n=(n=n>>>8^t[255&(n^(192|s>>6&31))])>>>8^t[255&(n^(128|63&s))]:s>=55296&&s<57344?(s=64+(1023&s),o=1023&e.charCodeAt(i++),n=(n=(n=(n=n>>>8^t[255&(n^(240|s>>8&7))])>>>8^t[255&(n^(128|s>>2&63))])>>>8^t[255&(n^(128|o>>6&15|(3&s)<<4))])>>>8^t[255&(n^(128|63&o))]):n=(n=(n=n>>>8^t[255&(n^(224|s>>12&15))])>>>8^t[255&(n^(128|s>>6&63))])>>>8^t[255&(n^(128|63&s))];return~n},e}(),BJ=function(){var e,t={};function r(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function n(e){if("/"==e.charAt(e.length-1))return n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function i(e,t){"string"===typeof t&&(t=new Date(t));var r=t.getHours();r=(r=r<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,r);var n=t.getFullYear()-1980;n=(n=n<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,n)}function a(e){L1(e,0);for(var t={},r=0;e.l<=e.length-4;){var n=e.read_shift(2),i=e.read_shift(2),a=e.l+i,s={};if(21589===n)1&(r=e.read_shift(1))&&(s.mtime=e.read_shift(4)),i>5&&(2&r&&(s.atime=e.read_shift(4)),4&r&&(s.ctime=e.read_shift(4))),s.mtime&&(s.mt=new Date(1e3*s.mtime));e.l=a,t[n]=s}return t}function s(){return e||(e={})}function o(e,t){if(80==e[0]&&75==e[1])return ne(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=j(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var r=t&&t.root||"",n=(MZ&&Buffer.isBuffer(e)?e.toString("binary"):j(e)).split("\r\n"),i=0,a="";for(i=0;i<n.length;++i)if(a=n[i],/^Content-Location:/i.test(a)&&(a=a.slice(a.indexOf("file")),r||(r=a.slice(0,a.lastIndexOf("/")+1)),a.slice(0,r.length)!=r))for(;r.length>0&&(r=(r=r.slice(0,r.length-1)).slice(0,r.lastIndexOf("/")+1),a.slice(0,r.length)!=r););var s=(n[1]||"").match(/boundary="(.*?)"/);if(!s)throw new Error("MAD cannot find boundary");var o="--"+(s[1]||""),l=[],c=[],d={FileIndex:l,FullPaths:c};h(d);var u,f=0;for(i=0;i<n.length;++i){var p=n[i];p!==o&&p!==o+"--"||(f++&&ce(d,n.slice(u,i),r),u=i)}return d}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var r,n,i,a,s,o,f=512,p=[],m=e.slice(0,512);L1(m,0);var g=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(y,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(m);switch(r=g[0]){case 3:f=512;break;case 4:f=4096;break;case 0:if(0==g[1])return ne(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+r)}512!==f&&L1(m=e.slice(0,f),28);var v=e.slice(0,f);!function(e,t){var r=9;switch(e.l+=2,r=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+r);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+r);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+r)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(m,r);var b=m.read_shift(4,"i");if(3===r&&0!==b)throw new Error("# Directory Sectors: Expected 0 saw "+b);m.l+=4,a=m.read_shift(4,"i"),m.l+=4,m.chk("00100000","Mini Stream Cutoff Size: "),s=m.read_shift(4,"i"),n=m.read_shift(4,"i"),o=m.read_shift(4,"i"),i=m.read_shift(4,"i");for(var w=-1,N=0;N<109&&!((w=m.read_shift(4,"i"))<0);++N)p[N]=w;var _=function(e,t){for(var r=Math.ceil(e.length/t)-1,n=[],i=1;i<r;++i)n[i-1]=e.slice(i*t,(i+1)*t);return n[r-1]=e.slice(r*t),n}(e,f);c(o,i,_,f,p);var k=function(e,t,r,n){var i=e.length,a=[],s=[],o=[],l=[],c=n-1,d=0,u=0,h=0,f=0;for(d=0;d<i;++d)if(o=[],(h=d+t)>=i&&(h-=i),!s[h]){l=[];var p=[];for(u=h;u>=0;){p[u]=!0,s[u]=!0,o[o.length]=u,l.push(e[u]);var m=r[Math.floor(4*u/n)];if(n<4+(f=4*u&c))throw new Error("FAT boundary crossed: "+u+" 4 "+n);if(!e[m])break;if(p[u=S1(e[m],f)])break}a[h]={nodes:o,data:t1([l])}}return a}(_,a,p,f);k[a].name="!Directory",n>0&&s!==x&&(k[s].name="!MiniFAT"),k[p[0]].name="!FAT",k.fat_addrs=p,k.ssz=f;var S=[],A=[],C=[];!function(e,t,r,n,i,a,s,o){for(var c,h=0,f=n.length?2:0,p=t[e].data,m=0,g=0;m<p.length;m+=128){var y=p.slice(m,m+128);L1(y,64),g=y.read_shift(2),c=n1(y,0,g-f),n.push(c);var v={name:c,type:y.read_shift(1),color:y.read_shift(1),L:y.read_shift(4,"i"),R:y.read_shift(4,"i"),C:y.read_shift(4,"i"),clsid:y.read_shift(16),state:y.read_shift(4,"i"),start:0,size:0};0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(v.ct=u(y,y.l-8)),0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(v.mt=u(y,y.l-8)),v.start=y.read_shift(4,"i"),v.size=y.read_shift(4,"i"),v.size<0&&v.start<0&&(v.size=v.type=0,v.start=x,v.name=""),5===v.type?(h=v.start,i>0&&h!==x&&(t[h].name="!StreamData")):v.size>=4096?(v.storage="fat",void 0===t[v.start]&&(t[v.start]=d(r,v.start,t.fat_addrs,t.ssz)),t[v.start].name=v.name,v.content=t[v.start].data.slice(0,v.size)):(v.storage="minifat",v.size<0?v.size=0:h!==x&&v.start!==x&&t[h]&&(v.content=l(v,t[h].data,(t[o]||{}).data))),v.content&&L1(v.content,0),a[c]=v,s.push(v)}}(a,k,_,S,n,{},A,s),function(e,t,r){for(var n=0,i=0,a=0,s=0,o=0,l=r.length,c=[],d=[];n<l;++n)c[n]=d[n]=n,t[n]=r[n];for(;o<d.length;++o)i=e[n=d[o]].L,a=e[n].R,s=e[n].C,c[n]===n&&(-1!==i&&c[i]!==i&&(c[n]=c[i]),-1!==a&&c[a]!==a&&(c[n]=c[a])),-1!==s&&(c[s]=n),-1!==i&&n!=c[n]&&(c[i]=c[n],d.lastIndexOf(i)<o&&d.push(i)),-1!==a&&n!=c[n]&&(c[a]=c[n],d.lastIndexOf(a)<o&&d.push(a));for(n=1;n<l;++n)c[n]===n&&(-1!==a&&c[a]!==a?c[n]=c[a]:-1!==i&&c[i]!==i&&(c[n]=c[i]));for(n=1;n<l;++n)if(0!==e[n].type){if((o=n)!=c[o])do{o=c[o],t[n]=t[o]+"/"+t[n]}while(0!==o&&-1!==c[o]&&o!=c[o]);c[n]=-1}for(t[0]+="/",n=1;n<l;++n)2!==e[n].type&&(t[n]+="/")}(A,C,S),S.shift();var E={FileIndex:A,FullPaths:C};return t&&t.raw&&(E.raw={header:v,sectors:_}),E}function l(e,t,r){for(var n=e.start,i=e.size,a=[],s=n;r&&i>0&&s>=0;)a.push(t.slice(s*g,s*g+g)),i-=g,s=S1(r,4*s);return 0===a.length?M1(0):WZ(a).slice(0,e.size)}function c(e,t,r,n,i){var a=x;if(e===x){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var s=r[e],o=(n>>>2)-1;if(!s)return;for(var l=0;l<o&&(a=S1(s,4*l))!==x;++l)i.push(a);c(S1(s,n-4),t-1,r,n,i)}}function d(e,t,r,n,i){var a=[],s=[];i||(i=[]);var o=n-1,l=0,c=0;for(l=t;l>=0;){i[l]=!0,a[a.length]=l,s.push(e[l]);var d=r[Math.floor(4*l/n)];if(n<4+(c=4*l&o))throw new Error("FAT boundary crossed: "+l+" 4 "+n);if(!e[d])break;l=S1(e[d],c)}return{nodes:a,data:t1([s])}}function u(e,t){return new Date(1e3*(k1(e,t+4)/1e7*Math.pow(2,32)+k1(e,t)/1e7-11644473600))}function h(e,t){var r=t||{},n=r.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=n+"/",e.FileIndex[0]={name:n,type:5}),r.CLSID&&(e.FileIndex[0].clsid=r.CLSID),function(e){var t="\x01Sh33tJ5";if(BJ.find(e,"/"+t))return;var r=M1(4);r[0]=55,r[1]=r[3]=50,r[2]=54,e.FileIndex.push({name:t,type:2,content:r,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),f(e)}(e)}function f(e,t){h(e);for(var i=!1,a=!1,s=e.FullPaths.length-1;s>=0;--s){var o=e.FileIndex[s];switch(o.type){case 0:a?i=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:a=!0,isNaN(o.R*o.L*o.C)&&(i=!0),o.R>-1&&o.L>-1&&o.R==o.L&&(i=!0);break;default:i=!0}}if(i||t){var l=new Date(1987,1,19),c=0,d=Object.create?Object.create(null):{},u=[];for(s=0;s<e.FullPaths.length;++s)d[e.FullPaths[s]]=!0,0!==e.FileIndex[s].type&&u.push([e.FullPaths[s],e.FileIndex[s]]);for(s=0;s<u.length;++s){var f=r(u[s][0]);(a=d[f])||(u.push([f,{name:n(f).replace("/",""),type:1,clsid:b,ct:l,mt:l,content:null}]),d[f]=!0)}for(u.sort(function(e,t){return function(e,t){for(var r=e.split("/"),n=t.split("/"),i=0,a=0,s=Math.min(r.length,n.length);i<s;++i){if(a=r[i].length-n[i].length)return a;if(r[i]!=n[i])return r[i]<n[i]?-1:1}return r.length-n.length}(e[0],t[0])}),e.FullPaths=[],e.FileIndex=[],s=0;s<u.length;++s)e.FullPaths[s]=u[s][0],e.FileIndex[s]=u[s][1];for(s=0;s<u.length;++s){var p=e.FileIndex[s],m=e.FullPaths[s];if(p.name=n(m).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||b,0===s)p.C=u.length>1?1:-1,p.size=0,p.type=5;else if("/"==m.slice(-1)){for(c=s+1;c<u.length&&r(e.FullPaths[c])!=m;++c);for(p.C=c>=u.length?-1:c,c=s+1;c<u.length&&r(e.FullPaths[c])!=r(m);++c);p.R=c>=u.length?-1:c,p.type=1}else r(e.FullPaths[s+1]||"")==r(m)&&(p.R=s+1),p.type=2}}}function p(e,t){var r=t||{};if("mad"==r.fileType)return function(e,t){for(var r=t||{},n=r.boundary||"SheetJS",i=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(n="------="+n).slice(2)+'"',"","",""],a=e.FullPaths[0],s=a,o=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(s=e.FullPaths[l].slice(a.length),(o=e.FileIndex[l]).size&&o.content&&"\x01Sh33tJ5"!=s){s=s.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"});for(var c=o.content,d=MZ&&Buffer.isBuffer(c)?c.toString("binary"):j(c),u=0,h=Math.min(1024,d.length),f=0,p=0;p<=h;++p)(f=d.charCodeAt(p))>=32&&f<128&&++u;var m=u>=4*h/5;i.push(n),i.push("Content-Location: "+(r.root||"file:///C:/SheetJS/")+s),i.push("Content-Transfer-Encoding: "+(m?"quoted-printable":"base64")),i.push("Content-Type: "+se(o,s)),i.push(""),i.push(m?le(d):oe(d))}return i.push(n+"--\r\n"),i.join("\r\n")}(e,r);if(f(e),"zip"===r.fileType)return function(e,t){var r=t||{},n=[],a=[],s=M1(1),o=r.compression?8:0,l=0;0;var c=0,d=0,u=0,h=0,f=e.FullPaths[0],p=f,m=e.FileIndex[0],g=[],x=0;for(c=1;c<e.FullPaths.length;++c)if(p=e.FullPaths[c].slice(f.length),(m=e.FileIndex[c]).size&&m.content&&"\x01Sh33tJ5"!=p){var y=u,v=M1(p.length);for(d=0;d<p.length;++d)v.write_shift(1,127&p.charCodeAt(d));v=v.slice(0,v.l),g[h]=FJ.buf(m.content,0);var b=m.content;8==o&&(b=N(b)),(s=M1(30)).write_shift(4,67324752),s.write_shift(2,20),s.write_shift(2,l),s.write_shift(2,o),m.mt?i(s,m.mt):s.write_shift(4,0),s.write_shift(-4,8&l?0:g[h]),s.write_shift(4,8&l?0:b.length),s.write_shift(4,8&l?0:m.content.length),s.write_shift(2,v.length),s.write_shift(2,0),u+=s.length,n.push(s),u+=v.length,n.push(v),u+=b.length,n.push(b),8&l&&((s=M1(12)).write_shift(-4,g[h]),s.write_shift(4,b.length),s.write_shift(4,m.content.length),u+=s.l,n.push(s)),(s=M1(46)).write_shift(4,33639248),s.write_shift(2,0),s.write_shift(2,20),s.write_shift(2,l),s.write_shift(2,o),s.write_shift(4,0),s.write_shift(-4,g[h]),s.write_shift(4,b.length),s.write_shift(4,m.content.length),s.write_shift(2,v.length),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s.write_shift(4,y),x+=s.l,a.push(s),x+=v.length,a.push(v),++h}return s=M1(22),s.write_shift(4,101010256),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,h),s.write_shift(2,h),s.write_shift(4,x),s.write_shift(4,u),s.write_shift(2,0),WZ([WZ(n),WZ(a),s])}(e,r);var n=function(e){for(var t=0,r=0,n=0;n<e.FileIndex.length;++n){var i=e.FileIndex[n];if(i.content){var a=i.content.length;a>0&&(a<4096?t+=a+63>>6:r+=a+511>>9)}}for(var s=e.FullPaths.length+3>>2,o=t+127>>7,l=(t+7>>3)+r+s+o,c=l+127>>7,d=c<=109?0:Math.ceil((c-109)/127);l+c+d+127>>7>c;)d=++c<=109?0:Math.ceil((c-109)/127);var u=[1,d,c,o,s,r,t,0];return e.FileIndex[0].size=t<<6,u[7]=(e.FileIndex[0].start=u[0]+u[1]+u[2]+u[3]+u[4]+u[5])+(u[6]+7>>3),u}(e),a=M1(n[7]<<9),s=0,o=0;for(s=0;s<8;++s)a.write_shift(1,v[s]);for(s=0;s<8;++s)a.write_shift(2,0);for(a.write_shift(2,62),a.write_shift(2,3),a.write_shift(2,65534),a.write_shift(2,9),a.write_shift(2,6),s=0;s<3;++s)a.write_shift(2,0);for(a.write_shift(4,0),a.write_shift(4,n[2]),a.write_shift(4,n[0]+n[1]+n[2]+n[3]-1),a.write_shift(4,0),a.write_shift(4,4096),a.write_shift(4,n[3]?n[0]+n[1]+n[2]-1:x),a.write_shift(4,n[3]),a.write_shift(-4,n[1]?n[0]-1:x),a.write_shift(4,n[1]),s=0;s<109;++s)a.write_shift(-4,s<n[2]?n[1]+s:-1);if(n[1])for(o=0;o<n[1];++o){for(;s<236+127*o;++s)a.write_shift(-4,s<n[2]?n[1]+s:-1);a.write_shift(-4,o===n[1]-1?x:o+1)}var l=function(e){for(o+=e;s<o-1;++s)a.write_shift(-4,s+1);e&&(++s,a.write_shift(-4,x))};for(o=s=0,o+=n[1];s<o;++s)a.write_shift(-4,w.DIFSECT);for(o+=n[2];s<o;++s)a.write_shift(-4,w.FATSECT);l(n[3]),l(n[4]);for(var c=0,d=0,u=e.FileIndex[0];c<e.FileIndex.length;++c)(u=e.FileIndex[c]).content&&((d=u.content.length)<4096||(u.start=o,l(d+511>>9)));for(l(n[6]+7>>3);511&a.l;)a.write_shift(-4,w.ENDOFCHAIN);for(o=s=0,c=0;c<e.FileIndex.length;++c)(u=e.FileIndex[c]).content&&(!(d=u.content.length)||d>=4096||(u.start=o,l(d+63>>6)));for(;511&a.l;)a.write_shift(-4,w.ENDOFCHAIN);for(s=0;s<n[4]<<2;++s){var h=e.FullPaths[s];if(h&&0!==h.length){u=e.FileIndex[s],0===s&&(u.start=u.size?u.start-1:x);var p=0===s&&r.root||u.name;if(d=2*(p.length+1),a.write_shift(64,p,"utf16le"),a.write_shift(2,d),a.write_shift(1,u.type),a.write_shift(1,u.color),a.write_shift(-4,u.L),a.write_shift(-4,u.R),a.write_shift(-4,u.C),u.clsid)a.write_shift(16,u.clsid,"hex");else for(c=0;c<4;++c)a.write_shift(4,0);a.write_shift(4,u.state||0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,u.start),a.write_shift(4,u.size),a.write_shift(4,0)}else{for(c=0;c<17;++c)a.write_shift(4,0);for(c=0;c<3;++c)a.write_shift(4,-1);for(c=0;c<12;++c)a.write_shift(4,0)}}for(s=1;s<e.FileIndex.length;++s)if((u=e.FileIndex[s]).size>=4096)if(a.l=u.start+1<<9,MZ&&Buffer.isBuffer(u.content))u.content.copy(a,a.l,0,u.size),a.l+=u.size+511&-512;else{for(c=0;c<u.size;++c)a.write_shift(1,u.content[c]);for(;511&c;++c)a.write_shift(1,0)}for(s=1;s<e.FileIndex.length;++s)if((u=e.FileIndex[s]).size>0&&u.size<4096)if(MZ&&Buffer.isBuffer(u.content))u.content.copy(a,a.l,0,u.size),a.l+=u.size+63&-64;else{for(c=0;c<u.size;++c)a.write_shift(1,u.content[c]);for(;63&c;++c)a.write_shift(1,0)}if(MZ)a.l=a.length;else for(;a.l<a.length;)a.write_shift(1,0);return a}t.version="1.2.1";var m,g=64,x=-2,y="d0cf11e0a1b11ae1",v=[208,207,17,224,161,177,26,225],b="00000000000000000000000000000000",w={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:x,FREESECT:-1,HEADER_SIGNATURE:y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:b,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function j(e){for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function N(e){return m?m.deflateRawSync(e):Y(e)}var _=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],S=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function A(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var C="undefined"!==typeof Uint8Array,E=C?new Uint8Array(256):[],P=0;P<256;++P)E[P]=A(P);function T(e,t){var r=E[255&e];return t<=8?r>>>8-t:(r=r<<8|E[e>>8&255],t<=16?r>>>16-t:(r=r<<8|E[e>>16&255])>>>24-t)}function O(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=6?0:e[n+1]<<8))>>>r&3}function I(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=5?0:e[n+1]<<8))>>>r&7}function L(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=3?0:e[n+1]<<8))>>>r&31}function D(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=1?0:e[n+1]<<8))>>>r&127}function M(e,t,r){var n=7&t,i=t>>>3,a=(1<<r)-1,s=e[i]>>>n;return r<8-n?s&a:(s|=e[i+1]<<8-n,r<16-n?s&a:(s|=e[i+2]<<16-n,r<24-n?s&a:(s|=e[i+3]<<24-n)&a))}function R(e,t,r){var n=7&t,i=t>>>3;return n<=5?e[i]|=(7&r)<<n:(e[i]|=r<<n&255,e[i+1]=(7&r)>>8-n),t+3}function F(e,t,r){return r=(1&r)<<(7&t),e[t>>>3]|=r,t+1}function B(e,t,r){var n=t>>>3;return r<<=7&t,e[n]|=255&r,r>>>=8,e[n+1]=r,t+8}function z(e,t,r){var n=t>>>3;return r<<=7&t,e[n]|=255&r,r>>>=8,e[n+1]=255&r,e[n+2]=r>>>8,t+16}function U(e,t){var r=e.length,n=2*r>t?2*r:t+5,i=0;if(r>=t)return e;if(MZ){var a=BZ(n);if(e.copy)e.copy(a);else for(;i<e.length;++i)a[i]=e[i];return a}if(C){var s=new Uint8Array(n);if(s.set)s.set(e);else for(;i<r;++i)s[i]=e[i];return s}return e.length=n,e}function q(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=0;return t}function W(e,t,r){var n=1,i=0,a=0,s=0,o=0,l=e.length,c=C?new Uint16Array(32):q(32);for(a=0;a<32;++a)c[a]=0;for(a=l;a<r;++a)e[a]=0;l=e.length;var d=C?new Uint16Array(l):q(l);for(a=0;a<l;++a)c[i=e[a]]++,n<i&&(n=i),d[a]=0;for(c[0]=0,a=1;a<=n;++a)c[a+16]=o=o+c[a-1]<<1;for(a=0;a<l;++a)0!=(o=e[a])&&(d[a]=c[o+16]++);var u=0;for(a=0;a<l;++a)if(0!=(u=e[a]))for(o=T(d[a],n)>>n-u,s=(1<<n+4-u)-1;s>=0;--s)t[o|s<<u]=15&u|a<<4;return n}var H=C?new Uint16Array(512):q(512),V=C?new Uint16Array(32):q(32);if(!C){for(var G=0;G<512;++G)H[G]=0;for(G=0;G<32;++G)V[G]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);W(e,V,32);var r=[];for(t=0;t<=143;t++)r.push(8);for(;t<=255;t++)r.push(9);for(;t<=279;t++)r.push(7);for(;t<=287;t++)r.push(8);W(r,H,288)}();var K=function(){for(var e=C?new Uint8Array(32768):[],t=0,r=0;t<S.length-1;++t)for(;r<S[t+1];++r)e[r]=t;for(;r<32768;++r)e[r]=29;var n=C?new Uint8Array(259):[];for(t=0,r=0;t<k.length-1;++t)for(;r<k[t+1];++r)n[r]=t;return function(t,r){return t.length<8?function(e,t){for(var r=0;r<e.length;){var n=Math.min(65535,e.length-r),i=r+n==e.length;for(t.write_shift(1,+i),t.write_shift(2,n),t.write_shift(2,65535&~n);n-- >0;)t[t.l++]=e[r++]}return t.l}(t,r):function(t,r){for(var i=0,a=0,s=C?new Uint16Array(32768):[];a<t.length;){var o=Math.min(65535,t.length-a);if(o<10){for(7&(i=R(r,i,+!(a+o!=t.length)))&&(i+=8-(7&i)),r.l=i/8|0,r.write_shift(2,o),r.write_shift(2,65535&~o);o-- >0;)r[r.l++]=t[a++];i=8*r.l}else{i=R(r,i,+!(a+o!=t.length)+2);for(var l=0;o-- >0;){var c=t[a],d=-1,u=0;if((d=s[l=32767&(l<<5^c)])&&((d|=-32768&a)>a&&(d-=32768),d<a))for(;t[d+u]==t[a+u]&&u<250;)++u;if(u>2){(c=n[u])<=22?i=B(r,i,E[c+1]>>1)-1:(B(r,i,3),B(r,i+=5,E[c-23]>>5),i+=3);var h=c<8?0:c-4>>2;h>0&&(z(r,i,u-k[c]),i+=h),c=e[a-d],i=B(r,i,E[c]>>3),i-=3;var f=c<4?0:c-2>>1;f>0&&(z(r,i,a-d-S[c]),i+=f);for(var p=0;p<u;++p)s[l]=32767&a,l=32767&(l<<5^t[a]),++a;o-=u-1}else c<=143?c+=48:i=F(r,i,1),i=B(r,i,E[c]),s[l]=32767&a,++a}i=B(r,i,0)-1}}return r.l=(i+7)/8|0,r.l}(t,r)}}();function Y(e){var t=M1(50+Math.floor(1.1*e.length)),r=K(e,t);return t.slice(0,r)}var X=C?new Uint16Array(32768):q(32768),Q=C?new Uint16Array(32768):q(32768),$=C?new Uint16Array(128):q(128),Z=1,J=1;function ee(e,t){var r=L(e,t)+257,n=L(e,t+=5)+1,i=function(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=4?0:e[n+1]<<8))>>>r&15}(e,t+=5)+4;t+=4;for(var a=0,s=C?new Uint8Array(19):q(19),o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=C?new Uint8Array(8):q(8),d=C?new Uint8Array(8):q(8),u=s.length,h=0;h<i;++h)s[_[h]]=a=I(e,t),l<a&&(l=a),c[a]++,t+=3;var f=0;for(c[0]=0,h=1;h<=l;++h)d[h]=f=f+c[h-1]<<1;for(h=0;h<u;++h)0!=(f=s[h])&&(o[h]=d[f]++);var p=0;for(h=0;h<u;++h)if(0!=(p=s[h])){f=E[o[h]]>>8-p;for(var m=(1<<7-p)-1;m>=0;--m)$[f|m<<p]=7&p|h<<3}var g=[];for(l=1;g.length<r+n;)switch(t+=7&(f=$[D(e,t)]),f>>>=3){case 16:for(a=3+O(e,t),t+=2,f=g[g.length-1];a-- >0;)g.push(f);break;case 17:for(a=3+I(e,t),t+=3;a-- >0;)g.push(0);break;case 18:for(a=11+D(e,t),t+=7;a-- >0;)g.push(0);break;default:g.push(f),l<f&&(l=f)}var x=g.slice(0,r),y=g.slice(r);for(h=r;h<286;++h)x[h]=0;for(h=n;h<30;++h)y[h]=0;return Z=W(x,X,286),J=W(y,Q,30),t}function te(e,t){var r=function(e,t){if(3==e[0]&&!(3&e[1]))return[FZ(t),2];for(var r=0,n=0,i=BZ(t||1<<18),a=0,s=i.length>>>0,o=0,l=0;0==(1&n);)if(n=I(e,r),r+=3,n>>>1!=0)for(n>>1==1?(o=9,l=5):(r=ee(e,r),o=Z,l=J);;){!t&&s<a+32767&&(s=(i=U(i,a+32767)).length);var c=M(e,r,o),d=n>>>1==1?H[c]:X[c];if(r+=15&d,0===((d>>>=4)>>>8&255))i[a++]=d;else{if(256==d)break;var u=(d-=257)<8?0:d-4>>2;u>5&&(u=0);var h=a+k[d];u>0&&(h+=M(e,r,u),r+=u),c=M(e,r,l),r+=15&(d=n>>>1==1?V[c]:Q[c]);var f=(d>>>=4)<4?0:d-2>>1,p=S[d];for(f>0&&(p+=M(e,r,f),r+=f),!t&&s<h&&(s=(i=U(i,h+100)).length);a<h;)i[a]=i[a-p],++a}}else{7&r&&(r+=8-(7&r));var m=e[r>>>3]|e[(r>>>3)+1]<<8;if(r+=32,m>0)for(!t&&s<a+m&&(s=(i=U(i,a+m)).length);m-- >0;)i[a++]=e[r>>>3],r+=8}return t?[i,r+7>>>3]:[i.slice(0,a),r+7>>>3]}(e.slice(e.l||0),t);return e.l+=r[1],r[0]}function re(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function ne(e,t){var r=e;L1(r,0);var n={FileIndex:[],FullPaths:[]};h(n,{root:t.root});for(var i=r.length-4;(80!=r[i]||75!=r[i+1]||5!=r[i+2]||6!=r[i+3])&&i>=0;)--i;r.l=i+4,r.l+=4;var s=r.read_shift(2);r.l+=6;var o=r.read_shift(4);for(r.l=o,i=0;i<s;++i){r.l+=20;var l=r.read_shift(4),c=r.read_shift(4),d=r.read_shift(2),u=r.read_shift(2),f=r.read_shift(2);r.l+=8;var p=r.read_shift(4),m=a(r.slice(r.l+d,r.l+d+u));r.l+=d+u+f;var g=r.l;r.l=p+4,ie(r,l,c,n,m),r.l=g}return n}function ie(e,t,r,n,i){e.l+=2;var s=e.read_shift(2),o=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),r=65535&e.read_shift(2),n=new Date,i=31&r,a=15&(r>>>=5);r>>>=4,n.setMilliseconds(0),n.setFullYear(r+1980),n.setMonth(a-1),n.setDate(i);var s=31&t,o=63&(t>>>=5);return t>>>=6,n.setHours(t),n.setMinutes(o),n.setSeconds(s<<1),n}(e);if(8257&s)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),d=e.read_shift(4),u=e.read_shift(2),h=e.read_shift(2),f="",p=0;p<u;++p)f+=String.fromCharCode(e[e.l++]);if(h){var g=a(e.slice(e.l,e.l+h));(g[21589]||{}).mt&&(l=g[21589].mt),((i||{})[21589]||{}).mt&&(l=i[21589].mt)}e.l+=h;var x=e.slice(e.l,e.l+c);switch(o){case 8:x=function(e,t){if(!m)return te(e,t);var r=new(0,m.InflateRaw),n=r._processChunk(e.slice(e.l),r._finishFlushFlag);return e.l+=r.bytesRead,n}(e,d);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+o)}var y=!1;8&s&&(134695760==e.read_shift(4)&&(e.read_shift(4),y=!0),c=e.read_shift(4),d=e.read_shift(4)),c!=t&&re(y,"Bad compressed size: "+t+" != "+c),d!=r&&re(y,"Bad uncompressed size: "+r+" != "+d),de(n,f,x,{unsafe:!0,mt:l})}var ae={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function se(e,t){if(e.ctype)return e.ctype;var r=e.name||"",n=r.match(/\.([^\.]+)$/);return n&&ae[n[1]]||t&&(n=(r=t).match(/[\.\\]([^\.\\])+$/))&&ae[n[1]]?ae[n[1]]:"application/octet-stream"}function oe(e){for(var t=LZ(e),r=[],n=0;n<t.length;n+=76)r.push(t.slice(n,n+76));return r.join("\r\n")+"\r\n"}function le(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)});"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var r=[],n=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),i=0;i<n.length;++i){var a=n[i];if(0!=a.length)for(var s=0;s<a.length;){var o=76,l=a.slice(s,s+o);"="==l.charAt(o-1)?o--:"="==l.charAt(o-2)?o-=2:"="==l.charAt(o-3)&&(o-=3),l=a.slice(s,s+o),(s+=o)<a.length&&(l+="="),r.push(l)}else r.push("")}return r.join("\r\n")}function ce(e,t,r){for(var n,i="",a="",s="",o=0;o<10;++o){var l=t[o];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":i=c[2].trim();break;case"content-type":s=c[2].trim();break;case"content-transfer-encoding":a=c[2].trim()}}switch(++o,a.toLowerCase()){case"base64":n=zZ(DZ(t.slice(o).join("")));break;case"quoted-printable":n=function(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r];r<=e.length&&"="==n.charAt(n.length-1);)n=n.slice(0,n.length-1)+e[++r];t.push(n)}for(var i=0;i<t.length;++i)t[i]=t[i].replace(/[=][0-9A-Fa-f]{2}/g,function(e){return String.fromCharCode(parseInt(e.slice(1),16))});return zZ(t.join("\r\n"))}(t.slice(o));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+a)}var d=de(e,i.slice(r.length),n,{unsafe:!0});s&&(d.ctype=s)}function de(e,t,r,i){var a=i&&i.unsafe;a||h(e);var s=!a&&BJ.find(e,t);if(!s){var o=e.FullPaths[0];t.slice(0,o.length)==o?o=t:("/"!=o.slice(-1)&&(o+="/"),o=(o+t).replace("//","/")),s={name:n(t),type:2},e.FileIndex.push(s),e.FullPaths.push(o),a||BJ.utils.cfb_gc(e)}return s.content=r,s.size=r?r.length:0,i&&(i.CLSID&&(s.clsid=i.CLSID),i.mt&&(s.mt=i.mt),i.ct&&(s.ct=i.ct)),s}return t.find=function(e,t){var r=e.FullPaths.map(function(e){return e.toUpperCase()}),n=r.map(function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]}),i=!1;47===t.charCodeAt(0)?(i=!0,t=r[0].slice(0,-1)+t):i=-1!==t.indexOf("/");var a=t.toUpperCase(),s=!0===i?r.indexOf(a):n.indexOf(a);if(-1!==s)return e.FileIndex[s];var o=!a.match(VZ);for(a=a.replace(HZ,""),o&&(a=a.replace(VZ,"!")),s=0;s<r.length;++s){if((o?r[s].replace(VZ,"!"):r[s]).replace(HZ,"")==a)return e.FileIndex[s];if((o?n[s].replace(VZ,"!"):n[s]).replace(HZ,"")==a)return e.FileIndex[s]}return null},t.read=function(t,r){var n=r&&r.type;switch(n||MZ&&Buffer.isBuffer(t)&&(n="buffer"),n||"base64"){case"file":return function(t,r){return s(),o(e.readFileSync(t),r)}(t,r);case"base64":return o(zZ(DZ(t)),r);case"binary":return o(zZ(t),r)}return o(t,r)},t.parse=o,t.write=function(t,r){var n=p(t,r);switch(r&&r.type||"buffer"){case"file":return s(),e.writeFileSync(r.filename,n),n;case"binary":return"string"==typeof n?n:j(n);case"base64":return LZ("string"==typeof n?n:j(n));case"buffer":if(MZ)return Buffer.isBuffer(n)?n:RZ(n);case"array":return"string"==typeof n?zZ(n):n}return n},t.writeFile=function(t,r,n){s();var i=p(t,n);e.writeFileSync(r,i)},t.utils={cfb_new:function(e){var t={};return h(t,e),t},cfb_add:de,cfb_del:function(e,t){h(e);var r=BJ.find(e,t);if(r)for(var n=0;n<e.FileIndex.length;++n)if(e.FileIndex[n]==r)return e.FileIndex.splice(n,1),e.FullPaths.splice(n,1),!0;return!1},cfb_mov:function(e,t,r){h(e);var i=BJ.find(e,t);if(i)for(var a=0;a<e.FileIndex.length;++a)if(e.FileIndex[a]==i)return e.FileIndex[a].name=n(r),e.FullPaths[a]=r,!0;return!1},cfb_gc:function(e){f(e,!0)},ReadShift:C1,CheckField:I1,prep_blob:L1,bconcat:WZ,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");m=e}catch(UX){console.error("cannot use native zlib: "+(UX.message||UX))}},_deflateRaw:Y,_inflateRaw:te,consts:w},t}();let zJ;function UJ(e){return"string"===typeof e?UZ(e):Array.isArray(e)?function(e){if("undefined"===typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function qJ(e,t,r){if("undefined"!==typeof zJ&&zJ.writeFileSync)return r?zJ.writeFileSync(e,t,r):zJ.writeFileSync(e,t);if("undefined"!==typeof Deno){if(r&&"string"==typeof t)switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=UZ(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n="utf8"==r?S0(t):t;if("undefined"!==typeof IE_SaveFile)return IE_SaveFile(n,e);if("undefined"!==typeof Blob){var i=new Blob([UJ(n)],{type:"application/octet-stream"});if("undefined"!==typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if("undefined"!==typeof saveAs)return saveAs(i,e);if("undefined"!==typeof URL&&"undefined"!==typeof document&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if("object"===typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var s=document.createElement("a");if(null!=s.download)return s.download=e,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=qZ(t)),o.write(t),o.close(),t}catch(UX){if(!UX.message||!UX.message.match(/onstruct/))throw UX}throw new Error("cannot save file "+e)}function WJ(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function HJ(e,t){for(var r=[],n=WJ(e),i=0;i!==n.length;++i)null==r[e[n[i]][t]]&&(r[e[n[i]][t]]=n[i]);return r}function VJ(e){for(var t=[],r=WJ(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function GJ(e){for(var t=[],r=WJ(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}var KJ=new Date(1899,11,30,0,0,0);function YJ(e,t){var r=e.getTime();return t&&(r-=1263168e5),(r-(KJ.getTime()+6e4*(e.getTimezoneOffset()-KJ.getTimezoneOffset())))/864e5}var XJ=new Date,QJ=KJ.getTime()+6e4*(XJ.getTimezoneOffset()-KJ.getTimezoneOffset()),$J=XJ.getTimezoneOffset();function ZJ(e){var t=new Date;return t.setTime(24*e*60*60*1e3+QJ),t.getTimezoneOffset()!==$J&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-$J)),t}var JJ=new Date("2017-02-19T19:06:09.000Z"),e0=isNaN(JJ.getFullYear())?new Date("2/19/17"):JJ,t0=2017==e0.getFullYear();function r0(e,t){var r=new Date(e);if(t0)return t>0?r.setTime(r.getTime()+60*r.getTimezoneOffset()*1e3):t<0&&r.setTime(r.getTime()-60*r.getTimezoneOffset()*1e3),r;if(e instanceof Date)return e;if(1917==e0.getFullYear()&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-60*a.getTimezoneOffset()*1e3)),a}function n0(e,t){if(MZ&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return S0(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return S0(EZ(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return S0(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return S0(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"\u20ac":"\x80","\u201a":"\x82","\u0192":"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02c6":"\x88","\u2030":"\x89","\u0160":"\x8a","\u2039":"\x8b","\u0152":"\x8c","\u017d":"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99","\u0161":"\x9a","\u203a":"\x9b","\u0153":"\x9c","\u017e":"\x9e","\u0178":"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(e){return r[e]||e})}catch(UX){}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function i0(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=i0(e[r]));return t}function a0(e,t){for(var r="";r.length<t;)r+=e;return r}function s0(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return isNaN(t=Number(n))?(n=n.replace(/[(](.*)[)]/,function(e,t){return r=-r,t}),isNaN(t=Number(n))?t:t/r):t/r}var o0=["january","february","march","april","may","june","july","august","september","october","november","december"];function l0(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==o0.indexOf(s))return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&101!=n?t:e.match(/[^-0-9:,\/\\]/)?r:t}function c0(e,t,r){if(e.FullPaths){var n;if("string"==typeof r)return n=MZ?RZ(r):function(e){for(var t=[],r=0,n=e.length+250,i=FZ(e.length+255),a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|63&s;else if(s>=55296&&s<57344){s=64+(1023&s);var o=1023&e.charCodeAt(++a);i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|o>>6&15|(3&s)<<4,i[r++]=128|63&o}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|63&s;r>n&&(t.push(i.slice(0,r)),r=0,i=FZ(65535),n=65530)}return t.push(i.slice(0,r)),WZ(t)}(r),BJ.utils.cfb_add(e,t,n);BJ.utils.cfb_add(e,t,r)}else e.file(t,r)}function d0(){return BJ.utils.cfb_new()}var u0='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n';var h0={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},f0=VJ(h0),p0=/[&<>'"]/g,m0=/[\u0000-\u0008\u000b-\u001f]/g;function g0(e){return(e+"").replace(p0,function(e){return f0[e]}).replace(m0,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function x0(e){return g0(e).replace(/ /g,"_x0020_")}var y0=/[\u0000-\u001f]/g;function v0(e){return(e+"").replace(p0,function(e){return f0[e]}).replace(/\n/g,"<br/>").replace(y0,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function b0(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function w0(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0;r<e.length;)(n=e.charCodeAt(r++))<128?t+=String.fromCharCode(n):(i=e.charCodeAt(r++),n>191&&n<224?(s=(31&n)<<6,s|=63&i,t+=String.fromCharCode(s)):(a=e.charCodeAt(r++),n<240?t+=String.fromCharCode((15&n)<<12|(63&i)<<6|63&a):(o=((7&n)<<18|(63&i)<<12|(63&a)<<6|63&(s=e.charCodeAt(r++)))-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(1023&o)))));return t}function j0(e){var t,r,n,i=FZ(2*e.length),a=1,s=0,o=0;for(r=0;r<e.length;r+=a)a=1,(n=e.charCodeAt(r))<128?t=n:n<224?(t=64*(31&n)+(63&e.charCodeAt(r+1)),a=2):n<240?(t=4096*(15&n)+64*(63&e.charCodeAt(r+1))+(63&e.charCodeAt(r+2)),a=3):(a=4,t=262144*(7&n)+4096*(63&e.charCodeAt(r+1))+64*(63&e.charCodeAt(r+2))+(63&e.charCodeAt(r+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(i[s++]=255&o,i[s++]=o>>>8,o=0),i[s++]=t%256,i[s++]=t>>>8;return i.slice(0,s).toString("ucs2")}function N0(e){return RZ(e,"binary").toString("utf8")}var _0="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",k0=MZ&&(N0(_0)==w0(_0)&&N0||j0(_0)==w0(_0)&&j0)||w0,S0=MZ?function(e){return RZ(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(63&n)));break;case n>=55296&&n<57344:n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(63&n)))}return t.join("")},A0=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),n=0;n<e.length;++n)r=r.replace(e[n][0],e[n][1]);return r}}();var C0=/(^\s|\s$|\n)/;function E0(e,t){return"<"+e+(t.match(C0)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function P0(e){return WJ(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function T0(e,t,r){return"<"+e+(null!=r?P0(r):"")+(null!=t?(t.match(C0)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function O0(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(UX){if(t)throw UX}return""}var I0="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",L0="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",D0="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",M0="http://schemas.openxmlformats.org/package/2006/content-types",R0="http://schemas.openxmlformats.org/package/2006/relationships",F0="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",B0="http://purl.org/dc/elements/1.1/",z0="http://purl.org/dc/terms/",U0="http://purl.org/dc/dcmitype/",q0="http://schemas.openxmlformats.org/officeDocument/2006/relationships",W0="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",H0="http://www.w3.org/2001/XMLSchema-instance",V0="http://www.w3.org/2001/XMLSchema",G0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],K0="urn:schemas-microsoft-com:office:office",Y0="urn:schemas-microsoft-com:office:excel",X0="urn:schemas-microsoft-com:office:spreadsheet",Q0="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",$0="http://macVmlSchemaUri",Z0="urn:schemas-microsoft-com:vml",J0="http://www.w3.org/TR/REC-html40";var e1=function(e){for(var t=[],r=0;r<e[0].length;++r)if(e[0][r])for(var n=0,i=e[0][r].length;n<i;n+=10240)t.push.apply(t,e[0][r].slice(n,n+10240));return t},t1=MZ?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(e){return Buffer.isBuffer(e)?e:RZ(e)})):e1(e)}:e1,r1=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(N1(e,i)));return n.join("").replace(HZ,"")},n1=MZ?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(HZ,""):r1(e,t,r)}:r1,i1=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},a1=MZ?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):i1(e,t,r)}:i1,s1=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(j1(e,i)));return n.join("")},o1=MZ?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):s1(e,t,r)}:s1,l1=function(e,t){var r=k1(e,t);return r>0?o1(e,t+4,t+4+r-1):""},c1=l1,d1=function(e,t){var r=k1(e,t);return r>0?o1(e,t+4,t+4+r-1):""},u1=d1,h1=function(e,t){var r=2*k1(e,t);return r>0?o1(e,t+4,t+4+r-1):""},f1=h1,p1=function(e,t){var r=k1(e,t);return r>0?n1(e,t+4,t+4+r):""},m1=p1,g1=function(e,t){var r=k1(e,t);return r>0?o1(e,t+4,t+4+r):""},x1=g1,y1=function(e,t){return function(e,t){for(var r=1-2*(e[t+7]>>>7),n=((127&e[t+7])<<4)+(e[t+6]>>>4&15),i=15&e[t+6],a=5;a>=0;--a)i=256*i+e[t+a];return 2047==n?0==i?r*(1/0):NaN:(0==n?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}(e,t)},v1=y1,b1=function(e){return Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array};function w1(){n1=function(e,t,r){return PZ.utils.decode(1200,e.slice(t,r)).replace(HZ,"")},o1=function(e,t,r){return PZ.utils.decode(65001,e.slice(t,r))},c1=function(e,t){var r=k1(e,t);return r>0?PZ.utils.decode(NZ,e.slice(t+4,t+4+r-1)):""},u1=function(e,t){var r=k1(e,t);return r>0?PZ.utils.decode(jZ,e.slice(t+4,t+4+r-1)):""},f1=function(e,t){var r=2*k1(e,t);return r>0?PZ.utils.decode(1200,e.slice(t+4,t+4+r-1)):""},m1=function(e,t){var r=k1(e,t);return r>0?PZ.utils.decode(1200,e.slice(t+4,t+4+r)):""},x1=function(e,t){var r=k1(e,t);return r>0?PZ.utils.decode(65001,e.slice(t+4,t+4+r)):""}}MZ&&(c1=function(e,t){if(!Buffer.isBuffer(e))return l1(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},u1=function(e,t){if(!Buffer.isBuffer(e))return d1(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},f1=function(e,t){if(!Buffer.isBuffer(e))return h1(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},m1=function(e,t){if(!Buffer.isBuffer(e))return p1(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},x1=function(e,t){if(!Buffer.isBuffer(e))return g1(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},v1=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):y1(e,t)},b1=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array}),"undefined"!==typeof PZ&&w1();var j1=function(e,t){return e[t]},N1=function(e,t){return 256*e[t+1]+e[t]},_1=function(e,t){var r=256*e[t+1]+e[t];return r<32768?r:-1*(65535-r+1)},k1=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},S1=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},A1=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function C1(e,t){var r,n,i,a,s,o,l="",c=[];switch(t){case"dbcs":if(o=this.l,MZ&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(s=0;s<e;++s)l+=String.fromCharCode(N1(this,o)),o+=2;e*=2;break;case"utf8":l=o1(this,this.l,this.l+e);break;case"utf16le":e*=2,l=n1(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof PZ)return C1.call(this,e,"dbcs");l=PZ.utils.decode(jZ,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":l=c1(this,this.l),e=4+k1(this,this.l);break;case"lpstr-cp":l=u1(this,this.l),e=4+k1(this,this.l);break;case"lpwstr":l=f1(this,this.l),e=4+2*k1(this,this.l);break;case"lpp4":e=4+k1(this,this.l),l=m1(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+k1(this,this.l),l=x1(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(i=j1(this,this.l+e++));)c.push(TZ(i));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(i=N1(this,this.l+e));)c.push(TZ(i)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",o=this.l,s=0;s<e;++s){if(this.lens&&-1!==this.lens.indexOf(o))return i=j1(this,o),this.l=o+1,a=C1.call(this,e-s,i?"dbcs-cont":"sbcs-cont"),c.join("")+a;c.push(TZ(N1(this,o))),o+=2}l=c.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof PZ){l=PZ.utils.decode(jZ,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(l="",o=this.l,s=0;s!=e;++s){if(this.lens&&-1!==this.lens.indexOf(o))return i=j1(this,o),this.l=o+1,a=C1.call(this,e-s,i?"dbcs-cont":"sbcs-cont"),c.join("")+a;c.push(TZ(j1(this,o))),o+=1}l=c.join("");break;default:switch(e){case 1:return r=j1(this,this.l),this.l++,r;case 2:return r=("i"===t?_1:N1)(this,this.l),this.l+=2,r;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(r=(e>0?S1:A1)(this,this.l),this.l+=4,r):(n=k1(this,this.l),this.l+=4,n);case 8:case-8:if("f"===t)return n=8==e?v1(this,this.l):v1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:l=a1(this,this.l,e)}}return this.l+=e,l}var E1=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},P1=function(e,t,r){e[r]=255&t,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},T1=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255};function O1(e,t,r){var n=0,i=0;if("dbcs"===r){for(i=0;i!=t.length;++i)T1(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if("sbcs"===r){if("undefined"!==typeof PZ&&874==NZ)for(i=0;i!=t.length;++i){var a=PZ.utils.encode(NZ,t.charAt(i));this[this.l+i]=a[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=255&t.charCodeAt(i);n=t.length}else{if("hex"===r){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===r){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var o=t.charCodeAt(i);this[this.l++]=255&o,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}switch(e){case 1:n=1,this[this.l]=255&t;break;case 2:n=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:n=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:n=4,E1(this,t,this.l);break;case 8:if(n=8,"f"===r){!function(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,s=n?-t:t;isFinite(s)?0==s?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[r+o]=255&a;e[r+6]=(15&i)<<4|15&a,e[r+7]=i>>4|n}(this,t,this.l);break}case 16:break;case-4:n=4,P1(this,t,this.l)}}return this.l+=n,this}function I1(e,t){var r=a1(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function L1(e,t){e.l=t,e.read_shift=C1,e.chk=I1,e.write_shift=O1}function D1(e,t){e.l+=t}function M1(e){var t=FZ(e);return L1(t,0),t}function R1(){var e=[],t=MZ?256:2048,r=function(e){var t=M1(e);return L1(t,0),t},n=r(t),i=function(){n&&(n.length>n.l&&((n=n.slice(0,n.l)).l=n.length),n.length>0&&e.push(n),n=null)},a=function(e){return n&&e<n.length-n.l?n:(i(),n=r(Math.max(e+1,t)))};return{next:a,push:function(e){i(),null==(n=e).l&&(n.l=n.length),a(t)},end:function(){return i(),WZ(e)},_bufs:e}}function F1(e,t,r,n){var i,a=+t;if(!isNaN(a)){n||(n=J4[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,128+(127&a)),s.write_shift(1,a>>7));for(var o=0;4!=o;++o){if(!(n>=128)){s.write_shift(1,n);break}s.write_shift(1,128+(127&n)),n>>=7}n>0&&b1(r)&&e.push(r)}}function B1(e,t,r){var n=i0(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function z1(e,t,r){var n=i0(e);return n.s=B1(n.s,t.s,r),n.e=B1(n.e,t.s,r),n}function U1(e,t){if(e.cRel&&e.c<0)for(e=i0(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=i0(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Y1(e);return e.cRel||null==e.cRel||(r=r.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(r=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(r)),r}function q1(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?U1(e.s,t.biff)+":"+U1(e.e,t.biff):(e.s.rRel?"":"$")+H1(e.s.r)+":"+(e.e.rRel?"":"$")+H1(e.e.r):(e.s.cRel?"":"$")+G1(e.s.c)+":"+(e.e.cRel?"":"$")+G1(e.e.c)}function W1(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function H1(e){return""+(e+1)}function V1(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function G1(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function K1(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function Y1(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function X1(e){var t=e.indexOf(":");return-1==t?{s:K1(e),e:K1(e)}:{s:K1(e.slice(0,t)),e:K1(e.slice(t+1))}}function Q1(e,t){return"undefined"===typeof t||"number"===typeof t?Q1(e.s,e.e):("string"!==typeof e&&(e=Y1(e)),"string"!==typeof t&&(t=Y1(t)),e==t?e:e+":"+t)}function $1(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||10!=i)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function Z1(e,t){var r="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=IJ(e.z,r?YJ(t):t)}catch(UX){}try{return e.w=IJ((e.XF||{}).numFmtId||(r?14:0),r?YJ(t):t)}catch(UX){return""+t}}function J1(e,t,r){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),"e"==e.t?L2[e.v]||e.v:Z1(e,void 0==t?e.v:t))}function e2(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function t2(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense;var a=e||(i?[]:{}),s=0,o=0;if(a&&null!=n.origin){if("number"==typeof n.origin)s=n.origin;else{var l="string"==typeof n.origin?K1(n.origin):n.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=$1(a["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),-1==s&&(c.e.r=s=d.e.r+1)}for(var u=0;u!=t.length;++u)if(t[u]){if(!Array.isArray(t[u]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[u].length;++h)if("undefined"!==typeof t[u][h]){var f={v:t[u][h]},p=s+u,m=o+h;if(c.s.r>p&&(c.s.r=p),c.s.c>m&&(c.s.c=m),c.e.r<p&&(c.e.r=p),c.e.c<m&&(c.e.c=m),!t[u][h]||"object"!==typeof t[u][h]||Array.isArray(t[u][h])||t[u][h]instanceof Date)if(Array.isArray(f.v)&&(f.f=t[u][h][1],f.v=f.v[0]),null===f.v)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else{if(!n.sheetStubs)continue;f.t="z"}else"number"===typeof f.v?f.t="n":"boolean"===typeof f.v?f.t="b":f.v instanceof Date?(f.z=n.dateNF||tJ[14],n.cellDates?(f.t="d",f.w=IJ(f.z,YJ(f.v))):(f.t="n",f.v=YJ(f.v),f.w=IJ(f.z,f.v))):f.t="s";else f=t[u][h];if(i)a[p]||(a[p]=[]),a[p][m]&&a[p][m].z&&(f.z=a[p][m].z),a[p][m]=f;else{var g=Y1({c:m,r:p});a[g]&&a[g].z&&(f.z=a[g].z),a[g]=f}}}return c.s.c<1e7&&(a["!ref"]=Q1(c)),a}function r2(e,t){return t2(null,e,t)}function n2(e,t){return t||(t=M1(4)),t.write_shift(4,e),t}function i2(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function a2(e,t){var r=!1;return null==t&&(r=!0,t=M1(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function s2(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function o2(e,t){var r=e.l,n=e.read_shift(1),i=i2(e),a=[],s={t:i,h:i};if(0!==(1&n)){for(var o=e.read_shift(4),l=0;l!=o;++l)a.push(s2(e));s.r=a}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var l2=o2;function c2(e,t){var r=!1;return null==t&&(r=!0,t=M1(23+4*e.t.length)),t.write_shift(1,1),a2(e.t,t),t.write_shift(4,1),function(e,t){t||(t=M1(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function d2(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function u2(e,t){return null==t&&(t=M1(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function h2(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function f2(e,t){return null==t&&(t=M1(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var p2=i2,m2=a2;function g2(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function x2(e,t){var r=!1;return null==t&&(r=!0,t=M1(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var y2=i2,v2=g2,b2=x2;function w2(e){var t=e.slice(e.l,e.l+4),r=1&t[0],n=2&t[0];e.l+=4;var i=0===n?v1([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):S1(t,0)>>2;return r?i/100:i}function j2(e,t){null==t&&(t=M1(4));var r=0,n=0,i=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?n=1:i==(0|i)&&i>=-(1<<29)&&i<1<<29&&(n=1,r=1),!n)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((r?i:e)<<2)+(r+2))}function N2(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var _2=N2,k2=function(e,t){return t||(t=M1(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function S2(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function A2(e,t){return(t||M1(8)).write_shift(8,e,"f")}function C2(e,t){if(t||(t=M1(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),e.rgb&&null==e.theme){var n=e.rgb||"FFFFFF";"number"==typeof n&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var E2=80,P2={1:{n:"CodePage",t:2},2:{n:"Category",t:E2},3:{n:"PresentationFormat",t:E2},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:E2},15:{n:"Company",t:E2},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:E2},27:{n:"ContentStatus",t:E2},28:{n:"Language",t:E2},29:{n:"Version",t:E2},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},T2={1:{n:"CodePage",t:2},2:{n:"Title",t:E2},3:{n:"Subject",t:E2},4:{n:"Author",t:E2},5:{n:"Keywords",t:E2},6:{n:"Comments",t:E2},7:{n:"Template",t:E2},8:{n:"LastAuthor",t:E2},9:{n:"RevNumber",t:E2},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:E2},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function O2(e){return e.map(function(e){return[e>>16&255,e>>8&255,255&e]})}var I2=i0(O2([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),L2={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},D2={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},M2={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function R2(e,t){var r,n=function(e){for(var t=[],r=WJ(e),n=0;n!==r.length;++n)null==t[e[r[n]]]&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}(D2),i=[];i[i.length]=u0,i[i.length]=T0("Types",null,{xmlns:M0,"xmlns:xsd":V0,"xmlns:xsi":H0}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(e){return T0("Default",null,{Extension:e[0],ContentType:e[1]})}));var a=function(n){e[n]&&e[n].length>0&&(r=e[n][0],i[i.length]=T0("Override",null,{PartName:("/"==r[0]?"":"/")+r,ContentType:M2[n][t.bookType]||M2[n].xlsx}))},s=function(r){(e[r]||[]).forEach(function(e){i[i.length]=T0("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:M2[r][t.bookType]||M2[r].xlsx})})},o=function(t){(e[t]||[]).forEach(function(e){i[i.length]=T0("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:n[t][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var F2={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function B2(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function z2(e){var t=[u0,T0("Relationships",null,{xmlns:R0})];return WJ(e["!id"]).forEach(function(r){t[t.length]=T0("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function U2(e,t,r,n,i,a){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=r,a?i.TargetMode=a:[F2.HLINK,F2.XPATH,F2.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function q2(e,t,r){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function W2(e,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function H2(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+wZ.version+"</meta:generator></office:meta></office:document-meta>"}var V2=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function G2(e,t,r,n,i){null==i[e]&&null!=t&&""!==t&&(i[e]=t,t=g0(t),n[n.length]=r?T0(e,t,r):E0(e,t))}function K2(e,t){var r=t||{},n=[u0,T0("cp:coreProperties",null,{"xmlns:cp":I0,"xmlns:dc":B0,"xmlns:dcterms":z0,"xmlns:dcmitype":U0,"xmlns:xsi":H0})],i={};if(!e&&!r.Props)return n.join("");e&&(null!=e.CreatedDate&&G2("dcterms:created","string"===typeof e.CreatedDate?e.CreatedDate:O0(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),null!=e.ModifiedDate&&G2("dcterms:modified","string"===typeof e.ModifiedDate?e.ModifiedDate:O0(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=V2.length;++a){var s=V2[a],o=r.Props&&null!=r.Props[s[1]]?r.Props[s[1]]:e?e[s[1]]:null;!0===o?o="1":!1===o?o="0":"number"==typeof o&&(o=String(o)),null!=o&&G2(s[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Y2=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],X2=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Q2(e){var t=[],r=T0;return e||(e={}),e.Application="SheetJS",t[t.length]=u0,t[t.length]=T0("Properties",null,{xmlns:D0,"xmlns:vt":W0}),Y2.forEach(function(n){if(void 0!==e[n[1]]){var i;switch(n[2]){case"string":i=g0(String(e[n[1]]));break;case"bool":i=e[n[1]]?"true":"false"}void 0!==i&&(t[t.length]=r(n[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(e){return"<vt:lpstr>"+g0(e)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function $2(e){var t=[u0,T0("Properties",null,{xmlns:L0,"xmlns:vt":W0})];if(!e)return t.join("");var r=1;return WJ(e).forEach(function(n){++r,t[t.length]=T0("property",function(e,t){switch(typeof e){case"string":var r=T0("vt:lpwstr",g0(e));return t&&(r=r.replace(/&quot;/g,"_x0022_")),r;case"number":return T0((0|e)==e?"vt:i4":"vt:r8",g0(String(e)));case"boolean":return T0("vt:bool",e?"true":"false")}if(e instanceof Date)return T0("vt:filetime",O0(e));throw new Error("Unable to serialize "+e)}(e[n],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:g0(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Z2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function J2(e,t){var r=M1(4),n=M1(4);switch(r.write_shift(4,80==e?31:e),e){case 3:n.write_shift(-4,t);break;case 5:(n=M1(8)).write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,r=t%Math.pow(2,32),n=(t-r)/Math.pow(2,32);n*=1e7;var i=(r*=1e7)/Math.pow(2,32)|0;i>0&&(r%=Math.pow(2,32),n+=i);var a=M1(8);return a.write_shift(4,r),a.write_shift(4,n),a}(t);break;case 31:case 80:for((n=M1(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return WZ([r,n])}var e5=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function t5(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function r5(e,t,r){var n=M1(8),i=[],a=[],s=8,o=0,l=M1(8),c=M1(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),a.push(l),i.push(c),s+=8+l.length,!t){(c=M1(8)).write_shift(4,0),i.unshift(c);var d=[M1(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var u=e[o][0];for((l=M1(8+2*(u.length+1)+(u.length%2?0:2))).write_shift(4,o+2),l.write_shift(4,u.length+1),l.write_shift(0,u,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=WZ(d),a.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if((!t||t[e[o][0]])&&!(e5.indexOf(e[o][0])>-1||X2.indexOf(e[o][0])>-1)&&null!=e[o][1]){var h=e[o][1],f=0;if(t){var p=r[f=+t[e[o][0]]];if("version"==p.p&&"string"==typeof h){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}l=J2(p.t,h)}else{var g=t5(h);-1==g&&(g=31,h=String(h)),l=J2(g,h)}a.push(l),(c=M1(8)).write_shift(4,t?f:2+o),i.push(c),s+=8+l.length}var x=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,x),x+=a[o].length;return n.write_shift(4,s),n.write_shift(4,a.length),WZ([n].concat(i).concat(a))}function n5(e,t,r,n,i,a){var s=M1(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,BJ.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,i?68:48);var l=r5(e,r,n);if(o.push(l),i){var c=r5(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+l.length),o.push(c)}return WZ(o)}function i5(e,t){return 1===e.read_shift(t)}function a5(e,t){return t||(t=M1(2)),t.write_shift(2,+!!e),t}function s5(e){return e.read_shift(2,"u")}function o5(e,t){return t||(t=M1(2)),t.write_shift(2,e),t}function l5(e,t,r){return r||(r=M1(2)),r.write_shift(1,"e"==t?+e:+!!e),r.write_shift(1,"e"==t?1:0),r}function c5(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont",a=jZ;(r&&r.biff>=8&&(jZ=1200),r&&8!=r.biff)?12==r.biff&&(i="wstr"):e.read_shift(1)&&(i="dbcs-cont");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?e.read_shift(n,i):"";return jZ=a,s}function d5(e){var t=e.t||"",r=M1(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=M1(2*t.length);return n.write_shift(2*t.length,t,"utf16le"),WZ([r,n])}function u5(e,t,r){if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function h5(e,t,r){var n=e.read_shift(r&&2==r.biff?1:2);return 0===n?(e.l++,""):u5(e,n,r)}function f5(e,t,r){if(r.biff>5)return h5(e,0,r);var n=e.read_shift(1);return 0===n?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function p5(e,t,r){return r||(r=M1(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function m5(e,t){t||(t=M1(6+2*e.length)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function g5(e){var t=M1(512),r=0,n=e.Target;"file://"==n.slice(0,7)&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3}t.write_shift(4,2),t.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(28==a)m5(n=n.slice(1),t);else if(2&a){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),8&a&&m5(i>-1?n.slice(i+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var l=0;"../"==n.slice(3*l,3*l+3)||"..\\"==n.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,255&n.charCodeAt(r+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function x5(e,t,r,n){return n||(n=M1(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function y5(e,t,r){var n=r.biff>8?4:2;return[e.read_shift(n),e.read_shift(n,"i"),e.read_shift(n,"i")]}function v5(e){var t=e.read_shift(2),r=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:r}}}function b5(e,t){return t||(t=M1(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function w5(e,t,r){var n=1536,i=16;switch(r.bookType){case"biff8":case"xla":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;default:throw new Error("unsupported BIFF version")}var a=M1(i);return a.write_shift(2,n),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function j5(e,t){var r=!t||t.biff>=8?2:1,n=M1(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function N5(e,t,r,n){var i=r&&5==r.biff;n||(n=M1(i?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return null==a.l&&(a.l=a.length),a}function _5(e,t,r,n){var i=r&&5==r.biff;n||(n=M1(i?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function k5(e,t,r){if(r.biff<8)return function(e,t,r){3==e[e.l+1]&&e[e.l]++;var n=c5(e,0,r);return 3==n.charCodeAt(0)?n.slice(1):n}(e,0,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);0!==a--;)n.push(y5(e,r.biff,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function S5(e){var t=M1(24),r=K1(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return WZ([t,g5(e[1])])}function A5(e){var t=e[1].Tooltip,r=M1(10+2*(t.length+1));r.write_shift(2,2048);var n=K1(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function C5(e,t,r){if(!r.cellStyles)return D1(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);2==n&&(e.l+=2);var c={s:i,e:a,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}var E5=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=VJ({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(t,r){var n=r||{};n.dateNF||(n.dateNF="yyyymmdd");var i=r2(function(t,r){var n=[],i=FZ(1);switch(r.type){case"base64":i=zZ(DZ(t));break;case"binary":i=zZ(t);break;case"buffer":case"array":i=t}L1(i,0);var a=i.read_shift(1),s=!!(136&a),o=!1,l=!1;switch(a){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:o=!0,s=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+a.toString(16))}var c=0,d=521;2==a&&(c=i.read_shift(2)),i.l+=3,2!=a&&(c=i.read_shift(4)),c>1048576&&(c=1e6),2!=a&&(d=i.read_shift(2));var u=i.read_shift(2),h=r.codepage||1252;2!=a&&(i.l+=16,i.read_shift(1),0!==i[i.l]&&(h=e[i[i.l]]),i.l+=1,i.l+=2),l&&(i.l+=36);for(var f=[],p={},m=Math.min(i.length,2==a?521:d-10-(o?264:0)),g=l?32:11;i.l<m&&13!=i[i.l];)switch((p={}).name=PZ.utils.decode(h,i.slice(i.l,i.l+g)).replace(/[\u0000\r\n].*$/g,""),i.l+=g,p.type=String.fromCharCode(i.read_shift(1)),2==a||l||(p.offset=i.read_shift(4)),p.len=i.read_shift(1),2==a&&(p.offset=i.read_shift(2)),p.dec=i.read_shift(1),p.name.length&&f.push(p),2!=a&&(i.l+=l?13:14),p.type){case"B":o&&8==p.len||!r.WTF||console.log("Skipping "+p.name+":"+p.type);break;case"G":case"P":r.WTF&&console.log("Skipping "+p.name+":"+p.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+p.type)}if(13!==i[i.l]&&(i.l=d-1),13!==i.read_shift(1))throw new Error("DBF Terminator not found "+i.l+" "+i[i.l]);i.l=d;var x=0,y=0;for(n[0]=[],y=0;y!=f.length;++y)n[0][y]=f[y].name;for(;c-- >0;)if(42!==i[i.l])for(++i.l,n[++x]=[],y=0,y=0;y!=f.length;++y){var v=i.slice(i.l,i.l+f[y].len);i.l+=f[y].len,L1(v,0);var b=PZ.utils.decode(h,v);switch(f[y].type){case"C":b.trim().length&&(n[x][y]=b.replace(/\s+$/,""));break;case"D":8===b.length?n[x][y]=new Date(+b.slice(0,4),+b.slice(4,6)-1,+b.slice(6,8)):n[x][y]=b;break;case"F":n[x][y]=parseFloat(b.trim());break;case"+":case"I":n[x][y]=l?2147483648^v.read_shift(-4,"i"):v.read_shift(4,"i");break;case"L":switch(b.trim().toUpperCase()){case"Y":case"T":n[x][y]=!0;break;case"N":case"F":n[x][y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+b+"|")}break;case"M":if(!s)throw new Error("DBF Unexpected MEMO for type "+a.toString(16));n[x][y]="##MEMO##"+(l?parseInt(b.trim(),10):v.read_shift(4));break;case"N":(b=b.replace(/\u0000/g,"").trim())&&"."!=b&&(n[x][y]=+b||0);break;case"@":n[x][y]=new Date(v.read_shift(-8,"f")-621356832e5);break;case"T":n[x][y]=new Date(864e5*(v.read_shift(4)-2440588)+v.read_shift(4));break;case"Y":n[x][y]=v.read_shift(4,"i")/1e4+v.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":n[x][y]=-v.read_shift(-8,"f");break;case"B":if(o&&8==f[y].len){n[x][y]=v.read_shift(8,"f");break}case"G":case"P":v.l+=f[y].len;break;case"0":if("_NullFlags"===f[y].name)break;default:throw new Error("DBF Unsupported data type "+f[y].type)}}else i.l+=u;if(2!=a&&i.l<i.length&&26!=i[i.l++])throw new Error("DBF EOF Marker missing "+(i.l-1)+" of "+i.length+" "+i[i.l-1].toString(16));return r&&r.sheetRows&&(n=n.slice(0,r.sheetRows)),r.DBF=f,n}(t,n),n);return i["!cols"]=n.DBF.map(function(e){return{wch:e.len,DBF:e}}),delete n.DBF,i}var n={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return e2(r(e,t),t)}catch(UX){if(t&&t.WTF)throw UX}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function(e,r){var i=r||{};if(+i.codepage>=0&&AZ(+i.codepage),"string"==i.type)throw new Error("Cannot write DBF to JS string");var a=R1(),s=Q6(e,{header:1,raw:!0,cellDates:!0}),o=s[0],l=s.slice(1),c=e["!cols"]||[],d=0,u=0,h=0,f=1;for(d=0;d<o.length;++d)if(((c[d]||{}).DBF||{}).name)o[d]=c[d].DBF.name,++h;else if(null!=o[d]){if(++h,"number"===typeof o[d]&&(o[d]=o[d].toString(10)),"string"!==typeof o[d])throw new Error("DBF Invalid column name "+o[d]+" |"+typeof o[d]+"|");if(o.indexOf(o[d])!==d)for(u=0;u<1024;++u)if(-1==o.indexOf(o[d]+"_"+u)){o[d]+="_"+u;break}}var p=$1(e["!ref"]),m=[],g=[],x=[];for(d=0;d<=p.e.c-p.s.c;++d){var y="",v="",b=0,w=[];for(u=0;u<l.length;++u)null!=l[u][d]&&w.push(l[u][d]);if(0!=w.length&&null!=o[d]){for(u=0;u<w.length;++u){switch(typeof w[u]){case"number":v="B";break;case"string":default:v="C";break;case"boolean":v="L";break;case"object":v=w[u]instanceof Date?"D":"C"}b=Math.max(b,String(w[u]).length),y=y&&y!=v?"C":v}b>250&&(b=250),"C"==(v=((c[d]||{}).DBF||{}).type)&&c[d].DBF.len>b&&(b=c[d].DBF.len),"B"==y&&"N"==v&&(y="N",x[d]=c[d].DBF.dec,b=c[d].DBF.len),g[d]="C"==y||"N"==v?b:n[y]||0,f+=g[d],m[d]=y}else m[d]="?"}var j=a.next(32);for(j.write_shift(4,318902576),j.write_shift(4,l.length),j.write_shift(2,296+32*h),j.write_shift(2,f),d=0;d<4;++d)j.write_shift(4,0);for(j.write_shift(4,(+t[NZ]||3)<<8),d=0,u=0;d<o.length;++d)if(null!=o[d]){var N=a.next(32),_=(o[d].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,_,"sbcs"),N.write_shift(1,"?"==m[d]?"C":m[d],"sbcs"),N.write_shift(4,u),N.write_shift(1,g[d]||n[m[d]]||0),N.write_shift(1,x[d]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),u+=g[d]||n[m[d]]||0}var k=a.next(264);for(k.write_shift(4,13),d=0;d<65;++d)k.write_shift(4,0);for(d=0;d<l.length;++d){var S=a.next(f);for(S.write_shift(1,0),u=0;u<o.length;++u)if(null!=o[u])switch(m[u]){case"L":S.write_shift(1,null==l[d][u]?63:l[d][u]?84:70);break;case"B":S.write_shift(8,l[d][u]||0,"f");break;case"N":var A="0";for("number"==typeof l[d][u]&&(A=l[d][u].toFixed(x[u]||0)),h=0;h<g[u]-A.length;++h)S.write_shift(1,32);S.write_shift(1,A,"sbcs");break;case"D":l[d][u]?(S.write_shift(4,("0000"+l[d][u].getFullYear()).slice(-4),"sbcs"),S.write_shift(2,("00"+(l[d][u].getMonth()+1)).slice(-2),"sbcs"),S.write_shift(2,("00"+l[d][u].getDate()).slice(-2),"sbcs")):S.write_shift(8,"00000000","sbcs");break;case"C":var C=String(null!=l[d][u]?l[d][u]:"").slice(0,g[u]);for(S.write_shift(1,C,"sbcs"),h=0;h<g[u]-C.length;++h)S.write_shift(1,32)}}return a.next(1).write_shift(1,26),a.end()}}}(),P5=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+WJ(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(t,r){var n=e[r];return"number"==typeof n?OZ(n):n},n=function(e,t,r){var n=t.charCodeAt(0)-32<<4|r.charCodeAt(0)-48;return 59==n?e:OZ(n)};function i(e,i){var a,s=e.split(/[\n\r]+/),o=-1,l=-1,c=0,d=0,u=[],h=[],f=null,p={},m=[],g=[],x=[],y=0;for(+i.codepage>=0&&AZ(+i.codepage);c!==s.length;++c){y=0;var v,b=s[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),w=b.replace(/;;/g,"\0").split(";").map(function(e){return e.replace(/\u0000/g,";")}),j=w[0];if(b.length>0)switch(j){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==w[1].charAt(0)&&h.push(b.slice(3).replace(/;;/g,";"));break;case"C":var N=!1,_=!1,k=!1,S=!1,A=-1,C=-1;for(d=1;d<w.length;++d)switch(w[d].charAt(0)){case"A":case"G":break;case"X":l=parseInt(w[d].slice(1))-1,_=!0;break;case"Y":for(o=parseInt(w[d].slice(1))-1,_||(l=0),a=u.length;a<=o;++a)u[a]=[];break;case"K":'"'===(v=w[d].slice(1)).charAt(0)?v=v.slice(1,v.length-1):"TRUE"===v?v=!0:"FALSE"===v?v=!1:isNaN(s0(v))?isNaN(l0(v).getDate())||(v=r0(v)):(v=s0(v),null!==f&&EJ(f)&&(v=ZJ(v))),"undefined"!==typeof PZ&&"string"==typeof v&&"string"!=(i||{}).type&&(i||{}).codepage&&(v=PZ.utils.decode(i.codepage,v)),N=!0;break;case"E":S=!0;var E=w3(w[d].slice(1),{r:o,c:l});u[o][l]=[u[o][l],E];break;case"S":k=!0,u[o][l]=[u[o][l],"S5S"];break;case"R":A=parseInt(w[d].slice(1))-1;break;case"C":C=parseInt(w[d].slice(1))-1;break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+b)}if(N&&(u[o][l]&&2==u[o][l].length?u[o][l][0]=v:u[o][l]=v,f=null),k){if(S)throw new Error("SYLK shared formula cannot have own formula");var P=A>-1&&u[A][C];if(!P||!P[1])throw new Error("SYLK shared formula cannot find base");u[o][l][1]=_3(P[1],{r:o-A,c:l-C})}break;case"F":var T=0;for(d=1;d<w.length;++d)switch(w[d].charAt(0)){case"X":l=parseInt(w[d].slice(1))-1,++T;break;case"Y":for(o=parseInt(w[d].slice(1))-1,a=u.length;a<=o;++a)u[a]=[];break;case"M":y=parseInt(w[d].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":f=h[parseInt(w[d].slice(1))];break;case"W":for(x=w[d].slice(1).split(" "),a=parseInt(x[0],10);a<=parseInt(x[1],10);++a)y=parseInt(x[2],10),g[a-1]=0===y?{hidden:!0}:{wch:y},K5(g[a-1]);break;case"C":g[l=parseInt(w[d].slice(1))-1]||(g[l]={});break;case"R":m[o=parseInt(w[d].slice(1))-1]||(m[o]={}),y>0?(m[o].hpt=y,m[o].hpx=Q5(y)):0===y&&(m[o].hidden=!0);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+b)}T<1&&(f=null);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+b)}}return m.length>0&&(p["!rows"]=m),g.length>0&&(p["!cols"]=g),i&&i.sheetRows&&(u=u.slice(0,i.sheetRows)),[u,p]}function a(e,t){var r=function(e,t){switch(t.type){case"base64":return i(DZ(e),t);case"binary":return i(e,t);case"buffer":return i(MZ&&Buffer.isBuffer(e)?e.toString("binary"):qZ(e),t);case"array":return i(n0(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),n=r[0],a=r[1],s=r2(n,t);return WJ(a).forEach(function(e){s[e]=a[e]}),s}function s(e,t,r,n){var i="C;Y"+(r+1)+";X"+(n+1)+";K";switch(e.t){case"n":i+=e.v||0,e.f&&!e.F&&(i+=";E"+N3(e.f,{r:r,c:n}));break;case"b":i+=e.v?"TRUE":"FALSE";break;case"e":i+=e.w||e.v;break;case"d":i+='"'+(e.w||e.v)+'"';break;case"s":i+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return i}return e["|"]=254,{to_workbook:function(e,t){return e2(a(e,t),t)},to_sheet:a,from_sheet:function(e,t){var r,n,i=["ID;PWXL;N;E"],a=[],o=$1(e["!ref"]),l=Array.isArray(e),c="\r\n";i.push("P;PGeneral"),i.push("F;P0;DG0G8;M255"),e["!cols"]&&(n=i,e["!cols"].forEach(function(e,t){var r="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?r+="0":("number"!=typeof e.width||e.wpx||(e.wpx=H5(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=V5(e.wpx)),"number"==typeof e.wch&&(r+=Math.round(e.wch)))," "!=r.charAt(r.length-1)&&n.push(r)})),e["!rows"]&&function(e,t){t.forEach(function(t,r){var n="F;";t.hidden?n+="M0;":t.hpt?n+="M"+20*t.hpt+";":t.hpx&&(n+="M"+20*X5(t.hpx)+";"),n.length>2&&e.push(n+"R"+(r+1))})}(i,e["!rows"]),i.push("B;Y"+(o.e.r-o.s.r+1)+";X"+(o.e.c-o.s.c+1)+";D"+[o.s.c,o.s.r,o.e.c,o.e.r].join(" "));for(var d=o.s.r;d<=o.e.r;++d)for(var u=o.s.c;u<=o.e.c;++u){var h=Y1({r:d,c:u});(r=l?(e[d]||[])[u]:e[h])&&(null!=r.v||r.f&&!r.F)&&a.push(s(r,0,d,u))}return i.join(c)+c+a.join(c)+c+"E"+c}}}(),T5=function(){function e(e,t){for(var r=e.split("\n"),n=-1,i=-1,a=0,s=[];a!==r.length;++a)if("BOT"!==r[a].trim()){if(!(n<0)){for(var o=r[a].trim().split(","),l=o[0],c=o[1],d=r[++a]||"";1&(d.match(/["]/g)||[]).length&&a<r.length-1;)d+="\n"+r[++a];switch(d=d.trim(),+l){case-1:if("BOT"===d){s[++n]=[],i=0;continue}if("EOD"!==d)throw new Error("Unrecognized DIF special command "+d);break;case 0:"TRUE"===d?s[n][i]=!0:"FALSE"===d?s[n][i]=!1:isNaN(s0(c))?isNaN(l0(c).getDate())?s[n][i]=c:s[n][i]=r0(c):s[n][i]=s0(c),++i;break;case 1:(d=(d=d.slice(1,d.length-1)).replace(/""/g,'"'))&&d.match(/^=".*"$/)&&(d=d.slice(2,-1)),s[n][i++]=""!==d?d:null}if("EOD"===d)break}}else s[++n]=[],i=0;return t&&t.sheetRows&&(s=s.slice(0,t.sheetRows)),s}function t(t,r){return r2(function(t,r){switch(r.type){case"base64":return e(DZ(t),r);case"binary":return e(t,r);case"buffer":return e(MZ&&Buffer.isBuffer(t)?t.toString("binary"):qZ(t),r);case"array":return e(n0(t),r)}throw new Error("Unrecognized type "+r.type)}(t,r),r)}var r=function(){var e=function(e,t,r,n,i){e.push(t),e.push(r+","+n),e.push('"'+i.replace(/"/g,'""')+'"')},t=function(e,t,r,n){e.push(t+","+r),e.push(1==t?'"'+n.replace(/"/g,'""')+'"':n)};return function(r){var n,i=[],a=$1(r["!ref"]),s=Array.isArray(r);e(i,"TABLE",0,1,"sheetjs"),e(i,"VECTORS",0,a.e.r-a.s.r+1,""),e(i,"TUPLES",0,a.e.c-a.s.c+1,""),e(i,"DATA",0,0,"");for(var o=a.s.r;o<=a.e.r;++o){t(i,-1,0,"BOT");for(var l=a.s.c;l<=a.e.c;++l){var c=Y1({r:o,c:l});if(n=s?(r[o]||[])[l]:r[c])switch(n.t){case"n":var d=n.w;d||null==n.v||(d=n.v),null==d?n.f&&!n.F?t(i,1,0,"="+n.f):t(i,1,0,""):t(i,0,d,"V");break;case"b":t(i,0,n.v?1:0,n.v?"TRUE":"FALSE");break;case"s":t(i,1,0,isNaN(n.v)?n.v:'="'+n.v+'"');break;case"d":n.w||(n.w=IJ(n.z||tJ[14],YJ(r0(n.v)))),t(i,0,n.w,"V");break;default:t(i,1,0,"")}else t(i,1,0,"")}}t(i,-1,0,"EOD");return i.join("\r\n")}}();return{to_workbook:function(e,r){return e2(t(e,r),r)},to_sheet:t,from_sheet:r}}(),O5=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(t,r){return r2(function(t,r){for(var n=t.split("\n"),i=-1,a=-1,s=0,o=[];s!==n.length;++s){var l=n[s].trim().split(":");if("cell"===l[0]){var c=K1(l[1]);if(o.length<=c.r)for(i=o.length;i<=c.r;++i)o[i]||(o[i]=[]);switch(i=c.r,a=c.c,l[2]){case"t":o[i][a]=e(l[3]);break;case"v":o[i][a]=+l[3];break;case"vtf":var d=l[l.length-1];case"vtc":"nl"===l[3]?o[i][a]=!!+l[4]:o[i][a]=+l[4],"vtf"==l[2]&&(o[i][a]=[o[i][a],d])}}}return r&&r.sheetRows&&(o=o.slice(0,r.sheetRows)),o}(t,r),r)}var n=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),s="--SocialCalcSpreadsheetControlSave--";function o(e){if(!e||!e["!ref"])return"";for(var r,n=[],i=[],a="",s=X1(e["!ref"]),o=Array.isArray(e),l=s.s.r;l<=s.e.r;++l)for(var c=s.s.c;c<=s.e.c;++c)if(a=Y1({r:l,c:c}),(r=o?(e[l]||[])[c]:e[a])&&null!=r.v&&"z"!==r.t){switch(i=["cell",a,"t"],r.t){case"s":case"str":i.push(t(r.v));break;case"n":r.f?(i[2]="vtf",i[3]="n",i[4]=r.v,i[5]=t(r.f)):(i[2]="v",i[3]=r.v);break;case"b":i[2]="vt"+(r.f?"f":"c"),i[3]="nl",i[4]=r.v?"1":"0",i[5]=t(r.f||(r.v?"TRUE":"FALSE"));break;case"d":var d=YJ(r0(r.v));i[2]="vtc",i[3]="nd",i[4]=""+d,i[5]=r.w||IJ(r.z||tJ[14],d);break;case"e":continue}n.push(i.join(":"))}return n.push("sheet:c:"+(s.e.c-s.s.c+1)+":r:"+(s.e.r-s.s.r+1)+":tvf:1"),n.push("valueformat:1:text-wiki"),n.join("\n")}return{to_workbook:function(e,t){return e2(r(e,t),t)},to_sheet:r,from_sheet:function(e){return[n,i,a,i,o(e),s].join("\n")}}}(),I5=function(){function e(e,t,r,n,i){i.raw?t[r][n]=e:""===e||("TRUE"===e?t[r][n]=!0:"FALSE"===e?t[r][n]=!1:isNaN(s0(e))?isNaN(l0(e).getDate())?t[r][n]=e:t[r][n]=r0(e):t[r][n]=s0(e))}var t={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(e){for(var n={},i=!1,a=0,s=0;a<e.length;++a)34==(s=e.charCodeAt(a))?i=!i:!i&&s in t&&(n[s]=(n[s]||0)+1);for(a in s=[],n)Object.prototype.hasOwnProperty.call(n,a)&&s.push([n[a],a]);if(!s.length)for(a in n=r)Object.prototype.hasOwnProperty.call(n,a)&&s.push([n[a],a]);return s.sort(function(e,t){return e[0]-t[0]||r[e[1]]-r[t[1]]}),t[s.pop()[1]]||44}function i(e,t){var r=t||{},i="";var a=r.dense?[]:{},s={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(i=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(i=e.charAt(4),e=e.slice(6)):i=n(e.slice(0,1024)):i=r&&r.FS?r.FS:n(e.slice(0,1024));var o=0,l=0,c=0,d=0,u=0,h=i.charCodeAt(0),f=!1,p=0,m=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var g=null!=r.dateNF?function(e){var t="number"==typeof e?tJ[e]:e;return t=t.replace(RJ,"(\\d+)"),new RegExp("^"+t+"$")}(r.dateNF):null;function x(){var t=e.slice(d,u),n={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)n.t="z";else if(r.raw)n.t="s",n.v=t;else if(0===t.trim().length)n.t="s",n.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(n.t="s",n.v=t.slice(2,-1).replace(/""/g,'"')):!function(e){return 1!=e.length}(t)?(n.t="s",n.v=t):(n.t="n",n.f=t.slice(1));else if("TRUE"==t)n.t="b",n.v=!0;else if("FALSE"==t)n.t="b",n.v=!1;else if(isNaN(c=s0(t)))if(!isNaN(l0(t).getDate())||g&&t.match(g)){n.z=r.dateNF||tJ[14];var i=0;g&&t.match(g)&&(t=function(e,t,r){var n=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(t.match(RJ)||[]).forEach(function(e,t){var c=parseInt(r[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":n=c;break;case"d":a=c;break;case"h":s=c;break;case"s":l=c;break;case"m":s>=0?o=c:i=c}}),l>=0&&-1==o&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==s&&-1==o&&-1==l?c:-1==n&&-1==i&&-1==a?d:c+"T"+d}(0,r.dateNF,t.match(g)||[]),i=1),r.cellDates?(n.t="d",n.v=r0(t,i)):(n.t="n",n.v=YJ(r0(t,i))),!1!==r.cellText&&(n.w=IJ(n.z,n.v instanceof Date?YJ(n.v):n.v)),r.cellNF||delete n.z}else n.t="s",n.v=t;else n.t="n",!1!==r.cellText&&(n.w=t),n.v=c;if("z"==n.t||(r.dense?(a[o]||(a[o]=[]),a[o][l]=n):a[Y1({c:l,r:o})]=n),d=u+1,m=e.charCodeAt(d),s.e.c<l&&(s.e.c=l),s.e.r<o&&(s.e.r=o),p==h)++l;else if(l=0,++o,r.sheetRows&&r.sheetRows<=o)return!0}e:for(;u<e.length;++u)switch(p=e.charCodeAt(u)){case 34:34===m&&(f=!f);break;case h:case 10:case 13:if(!f&&x())break e}return u-d>0&&x(),a["!ref"]=Q1(s),a}function a(t,r){return r&&r.PRN?r.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?i(t,r):r2(function(t,r){var n=r||{},i=[];if(!t||0===t.length)return i;for(var a=t.split(/[\r\n]/),s=a.length-1;s>=0&&0===a[s].length;)--s;for(var o=10,l=0,c=0;c<=s;++c)-1==(l=a[c].indexOf(" "))?l=a[c].length:l++,o=Math.max(o,l);for(c=0;c<=s;++c){i[c]=[];var d=0;for(e(a[c].slice(0,o).trim(),i,c,d,n),d=1;d<=(a[c].length-o)/10+1;++d)e(a[c].slice(o+10*(d-1),o+10*d).trim(),i,c,d,n)}return n.sheetRows&&(i=i.slice(0,n.sheetRows)),i}(t,r),r):i(t,r)}function s(e,t){var r="",n="string"==t.type?[0,0,0,0]:q6(e,t);switch(t.type){case"base64":r=DZ(e);break;case"binary":case"string":r=e;break;case"buffer":r=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof PZ?PZ.utils.decode(t.codepage,e):MZ&&Buffer.isBuffer(e)?e.toString("binary"):qZ(e);break;case"array":r=n0(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==n[0]&&187==n[1]&&191==n[2]?r=k0(r.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?r=k0(r):"binary"==t.type&&"undefined"!==typeof PZ&&t.codepage&&(r=PZ.utils.decode(t.codepage,PZ.utils.encode(28591,r))),"socialcalc:version:"==r.slice(0,19)?O5.to_sheet("string"==t.type?r:k0(r),t):a(r,t)}return{to_workbook:function(e,t){return e2(s(e,t),t)},to_sheet:s,from_sheet:function(e){for(var t,r=[],n=$1(e["!ref"]),i=Array.isArray(e),a=n.s.r;a<=n.e.r;++a){for(var s=[],o=n.s.c;o<=n.e.c;++o){var l=Y1({r:a,c:o});if((t=i?(e[a]||[])[o]:e[l])&&null!=t.v){for(var c=(t.w||(J1(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";s.push(c+(0===o?" ":""))}else s.push("          ")}r.push(s.join(""))}return r.join("\n")}}}();var L5=function(){function e(e,t,r){if(e){L1(e,e.l||0);for(var n=r.Enum||x;e.l<e.length;){var i=e.read_shift(2),a=n[i]||n[65535],s=e.read_shift(2),o=e.l+s,l=a.f&&a.f(e,s,r);if(e.l=o,t(l,a,i))return}}}function t(t,r){if(!t)return t;var n=r||{};var i=n.dense?[]:{},a="Sheet1",s="",o=0,l={},c=[],d=[],u={s:{r:0,c:0},e:{r:0,c:0}},h=n.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])n.Enum=x,e(t,function(e,t,r){switch(r){case 0:n.vers=e,e>=4096&&(n.qpro=!0);break;case 6:u=e;break;case 204:e&&(s=e);break;case 222:s=e;break;case 15:case 51:n.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==r&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=n.dateNF||tJ[14],n.cellDates&&(e[1].t="d",e[1].v=ZJ(e[1].v))),n.qpro&&e[3]>o&&(i["!ref"]=Q1(u),l[a]=i,c.push(a),i=n.dense?[]:{},u={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],a=s||"Sheet"+(o+1),s="");var d=n.dense?(i[e[0].r]||[])[e[0].c]:i[Y1(e[0])];if(d){d.t=e[1].t,d.v=e[1].v,null!=e[1].z&&(d.z=e[1].z),null!=e[1].f&&(d.f=e[1].f);break}n.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[Y1(e[0])]=e[1]}},n);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);n.Enum=y,14==t[2]&&(n.qpro=!0,t.l=0),e(t,function(e,t,r){switch(r){case 204:a=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>o&&(i["!ref"]=Q1(u),l[a]=i,c.push(a),i=n.dense?[]:{},u={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],a="Sheet"+(o+1)),h>0&&e[0].r>=h)break;n.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[Y1(e[0])]=e[1],u.e.c<e[0].c&&(u.e.c=e[0].c),u.e.r<e[0].r&&(u.e.r=e[0].r);break;case 27:e[14e3]&&(d[e[14e3][0]]=e[14e3][1]);break;case 1537:d[e[0]]=e[1],e[0]==o&&(a=e[1])}},n)}if(i["!ref"]=Q1(u),l[s||a]=i,c.push(s||a),!d.length)return{SheetNames:c,Sheets:l};for(var f={},p=[],m=0;m<d.length;++m)l[c[m]]?(p.push(d[m]||c[m]),f[d[m]]=l[d[m]]||l[c[m]]):(p.push(d[m]),f[d[m]]={"!ref":"A1"});return{SheetNames:p,Sheets:f}}function r(e,t,r){var n=[{c:0,r:0},{t:"n",v:0},0,0];return r.qpro&&20768!=r.vers?(n[0].c=e.read_shift(1),n[3]=e.read_shift(1),n[0].r=e.read_shift(2),e.l+=2):(n[2]=e.read_shift(1),n[0].c=e.read_shift(2),n[0].r=e.read_shift(2)),n}function n(e,t,n){var i=e.l+t,a=r(e,0,n);if(a[1].t="s",20768==n.vers){e.l++;var s=e.read_shift(1);return a[1].v=e.read_shift(s,"utf8"),a}return n.qpro&&e.l++,a[1].v=e.read_shift(i-e.l,"cstr"),a}function i(e,t,r){var n=M1(7+r.length);n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(1,39);for(var i=0;i<n.length;++i){var a=r.charCodeAt(i);n.write_shift(1,a>=128?95:a)}return n.write_shift(1,0),n}function a(e,t,r){var n=M1(7);return n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r,"i"),n}function s(e,t,r){var n=M1(13);return n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(8,r,"f"),n}function o(e,t,r){var n=32768&t;return t=(n?e:0)+((t&=-32769)>=8192?t-16384:t),(n?"":"$")+(r?G1(t):H1(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function d(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function u(e,t,r,n){var i=M1(6+n.length);i.write_shift(2,e),i.write_shift(1,r),i.write_shift(1,t),i.write_shift(1,39);for(var a=0;a<n.length;++a){var s=n.charCodeAt(a);i.write_shift(1,s>=128?95:s)}return i.write_shift(1,0),i}function h(e,t){var r=d(e),n=e.read_shift(4),i=e.read_shift(4),a=e.read_shift(2);if(65535==a)return 0===n&&3221225472===i?(r[1].t="e",r[1].v=15):0===n&&3489660928===i?(r[1].t="e",r[1].v=42):r[1].v=0,r;var s=32768&a;return a=(32767&a)-16446,r[1].v=(1-2*s)*(i*Math.pow(2,a+32)+n*Math.pow(2,a)),r}function f(e,t,r,n){var i=M1(14);if(i.write_shift(2,e),i.write_shift(1,r),i.write_shift(1,t),0==n)return i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,65535),i;var a,s=0,o=0,l=0;return n<0&&(s=1,n=-n),o=0|Math.log2(n),0==(2147483648&(l=(n/=Math.pow(2,o-31))>>>0))&&(++o,l=(n/=2)>>>0),n-=l,l|=2147483648,l>>>=0,a=(n*=Math.pow(2,32))>>>0,i.write_shift(4,a),i.write_shift(4,l),o+=16383+(s?32768:0),i.write_shift(2,o),i}function p(e,t){var r=d(e),n=e.read_shift(8,"f");return r[1].v=n,r}function m(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function g(e,t){var r=M1(5+e.length);r.write_shift(2,14e3),r.write_shift(2,t);for(var n=0;n<e.length;++n){var i=e.charCodeAt(n);r[r.l++]=i>127?95:i}return r[r.l++]=0,r}var x={0:{n:"BOF",f:s5},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,r){var n={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&r.qpro?(n.s.c=e.read_shift(1),e.l++,n.s.r=e.read_shift(2),n.e.c=e.read_shift(1),e.l++,n.e.r=e.read_shift(2),n):(n.s.c=e.read_shift(2),n.s.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),n.e.c=e.read_shift(2),n.e.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),65535==n.s.c&&(n.s.c=n.e.c=n.s.r=n.e.r=0),n)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,n){var i=r(e,0,n);return i[1].v=e.read_shift(2,"i"),i}},14:{n:"NUMBER",f:function(e,t,n){var i=r(e,0,n);return i[1].v=e.read_shift(8,"f"),i}},15:{n:"LABEL",f:n},16:{n:"FORMULA",f:function(e,t,n){var i=e.l+t,a=r(e,0,n);if(a[1].v=e.read_shift(8,"f"),n.qpro)e.l=i;else{var s=e.read_shift(2);!function(e,t){L1(e,0);var r=[],n=0,i="",a="",s="",d="";for(;e.l<e.length;){var u=e[e.l++];switch(u){case 0:r.push(e.read_shift(8,"f"));break;case 1:a=o(t[0].c,e.read_shift(2),!0),i=o(t[0].r,e.read_shift(2),!1),r.push(a+i);break;case 2:var h=o(t[0].c,e.read_shift(2),!0),f=o(t[0].r,e.read_shift(2),!1);a=o(t[0].c,e.read_shift(2),!0),i=o(t[0].r,e.read_shift(2),!1),r.push(h+f+":"+a+i);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:r.push("("+r.pop()+")");break;case 5:r.push(e.read_shift(2));break;case 6:for(var p="";u=e[e.l++];)p+=String.fromCharCode(u);r.push('"'+p.replace(/"/g,'""')+'"');break;case 8:r.push("-"+r.pop());break;case 23:r.push("+"+r.pop());break;case 22:r.push("NOT("+r.pop()+")");break;case 20:case 21:d=r.pop(),s=r.pop(),r.push(["AND","OR"][u-20]+"("+s+","+d+")");break;default:if(u<32&&c[u])d=r.pop(),s=r.pop(),r.push(s+c[u]+d);else{if(!l[u])return u<=7?console.error("WK1 invalid opcode "+u.toString(16)):u<=24?console.error("WK1 unsupported op "+u.toString(16)):u<=30?console.error("WK1 invalid opcode "+u.toString(16)):u<=115?console.error("WK1 unsupported function opcode "+u.toString(16)):console.error("WK1 unrecognized opcode "+u.toString(16));if(69==(n=l[u][1])&&(n=e[e.l++]),n>r.length)return void console.error("WK1 bad formula parse 0x"+u.toString(16)+":|"+r.join("|")+"|");var m=r.slice(-n);r.length-=n,r.push(l[u][0]+"("+m.join(",")+")")}}}1==r.length?t[1].f=""+r[0]:console.error("WK1 bad formula parse |"+r.join("|")+"|")}(e.slice(e.l,e.l+s),a),e.l+=s}return a}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:n},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:m},222:{n:"SHEETNAMELP",f:function(e,t){var r=e[e.l++];r>t-1&&(r=t-1);for(var n="";n.length<r;)n+=String.fromCharCode(e[e.l++]);return n}},65535:{n:""}},y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var r=d(e);return r[1].t="s",r[1].v=e.read_shift(t-4,"cstr"),r}},23:{n:"NUMBER17",f:h},24:{n:"NUMBER18",f:function(e,t){var r=d(e);r[1].v=e.read_shift(2);var n=r[1].v>>1;if(1&r[1].v)switch(7&n){case 0:n=5e3*(n>>3);break;case 1:n=500*(n>>3);break;case 2:n=(n>>3)/20;break;case 3:n=(n>>3)/200;break;case 4:n=(n>>3)/2e3;break;case 5:n=(n>>3)/2e4;break;case 6:n=(n>>3)/16;break;case 7:n=(n>>3)/64}return r[1].v=n,r}},25:{n:"FORMULA19",f:function(e,t){var r=h(e);return e.l+=t-14,r}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var r={},n=e.l+t;e.l<n;){var i=e.read_shift(2);if(14e3==i){for(r[i]=[0,""],r[i][0]=e.read_shift(2);e[e.l];)r[i][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return r}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var r=d(e),n=e.read_shift(4);return r[1].v=n>>6,r}},38:{n:"??"},39:{n:"NUMBER27",f:p},40:{n:"FORMULA28",f:function(e,t){var r=p(e);return e.l+=t-10,r}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:m},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,r){if(r.qpro&&!(t<21)){var n=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[n,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var r=t||{};if(+r.codepage>=0&&AZ(+r.codepage),"string"==r.type)throw new Error("Cannot write WK1 to JS string");var n=R1(),o=$1(e["!ref"]),l=Array.isArray(e),c=[];e6(n,0,function(e){var t=M1(2);return t.write_shift(2,e),t}(1030)),e6(n,6,function(e){var t=M1(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(o));for(var d=Math.min(o.e.r,8191),u=o.s.r;u<=d;++u)for(var h=H1(u),f=o.s.c;f<=o.e.c;++f){u===o.s.r&&(c[f]=G1(f));var p=c[f]+h,m=l?(e[u]||[])[f]:e[p];if(m&&"z"!=m.t)if("n"==m.t)(0|m.v)==m.v&&m.v>=-32768&&m.v<=32767?e6(n,13,a(u,f,m.v)):e6(n,14,s(u,f,m.v));else e6(n,15,i(u,f,J1(m).slice(0,239)))}return e6(n,1),n.end()},book_to_wk3:function(e,t){var r=t||{};if(+r.codepage>=0&&AZ(+r.codepage),"string"==r.type)throw new Error("Cannot write WK3 to JS string");var n=R1();e6(n,0,function(e){var t=M1(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var r=0,n=0,i=0,a=0;a<e.SheetNames.length;++a){var s=e.SheetNames[a],o=e.Sheets[s];if(o&&o["!ref"]){++i;var l=X1(o["!ref"]);r<l.e.r&&(r=l.e.r),n<l.e.c&&(n=l.e.c)}}r>8191&&(r=8191);return t.write_shift(2,r),t.write_shift(1,i),t.write_shift(1,n),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var i=0,a=0;i<e.SheetNames.length;++i)(e.Sheets[e.SheetNames[i]]||{})["!ref"]&&e6(n,27,g(e.SheetNames[i],a++));var s=0;for(i=0;i<e.SheetNames.length;++i){var o=e.Sheets[e.SheetNames[i]];if(o&&o["!ref"]){for(var l=$1(o["!ref"]),c=Array.isArray(o),d=[],h=Math.min(l.e.r,8191),p=l.s.r;p<=h;++p)for(var m=H1(p),x=l.s.c;x<=l.e.c;++x){p===l.s.r&&(d[x]=G1(x));var y=d[x]+m,v=c?(o[p]||[])[x]:o[y];if(v&&"z"!=v.t)if("n"==v.t)e6(n,23,f(p,x,s,v.v));else e6(n,22,u(p,x,s,J1(v).slice(0,239)))}++s}}return e6(n,1),n.end()},to_workbook:function(e,r){switch(r.type){case"base64":return t(zZ(DZ(e)),r);case"binary":return t(zZ(e),r);case"buffer":case"array":return t(e,r)}throw"Unsupported type "+r.type}}}();var D5=/^\s|\s$|[\t\n\r]/;function M5(e,t){if(!t.bookSST)return"";var r=[u0];r[r.length]=T0("sst",null,{xmlns:G0[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(null!=e[n]){var i=e[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(D5)&&(a+=' xml:space="preserve"'),a+=">"+g0(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}var R5=function(e,t){var r=!1;return null==t&&(r=!0,t=M1(15+4*e.t.length)),t.write_shift(1,0),a2(e.t,t),r?t.slice(0,t.l):t};function F5(e){var t=R1();F1(t,159,function(e,t){return t||(t=M1(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var r=0;r<e.length;++r)F1(t,19,R5(e[r]));return F1(t,160),t.end()}function B5(e){if("undefined"!==typeof PZ)return PZ.utils.encode(NZ,e);for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function z5(e){var t,r,n=0,i=B5(e),a=i.length+1;for((t=FZ(a))[0]=i.length,r=1;r!=a;++r)t[r]=i[r-1];for(r=a-1;r>=0;--r)n=((0===(16384&n)?0:1)|n<<1&32767)^t[r];return 52811^n}var U5=function(){function e(e,r){switch(r.type){case"base64":return t(DZ(e),r);case"binary":return t(e,r);case"buffer":return t(MZ&&Buffer.isBuffer(e)?e.toString("binary"):qZ(e),r);case"array":return t(n0(e),r)}throw new Error("Unrecognized type "+r.type)}function t(e,t){var r=(t||{}).dense?[]:{},n=e.match(/\\trowd.*?\\row\b/g);if(!n.length)throw new Error("RTF missing table");var i={s:{c:0,r:0},e:{c:0,r:n.length-1}};return n.forEach(function(e,t){Array.isArray(r)&&(r[t]=[]);for(var n,a=/\\\w+\b/g,s=0,o=-1;n=a.exec(e);){if("\\cell"===n[0]){var l=e.slice(s,a.lastIndex-n[0].length);if(" "==l[0]&&(l=l.slice(1)),++o,l.length){var c={v:l,t:"s"};Array.isArray(r)?r[t][o]=c:r[Y1({r:t,c:o})]=c}}s=a.lastIndex}o>i.e.c&&(i.e.c=o)}),r["!ref"]=Q1(i),r}return{to_workbook:function(t,r){return e2(e(t,r),r)},to_sheet:e,from_sheet:function(e){for(var t,r=["{\\rtf1\\ansi"],n=$1(e["!ref"]),i=Array.isArray(e),a=n.s.r;a<=n.e.r;++a){r.push("\\trowd\\trautofit1");for(var s=n.s.c;s<=n.e.c;++s)r.push("\\cellx"+(s+1));for(r.push("\\pard\\intbl"),s=n.s.c;s<=n.e.c;++s){var o=Y1({r:a,c:s});(t=i?(e[a]||[])[s]:e[o])&&(null!=t.v||t.f&&!t.F)&&(r.push(" "+(t.w||(J1(t),t.w))),r.push("\\cell"))}r.push("\\pard\\intbl\\row")}return r.join("")+"}"}}}();function q5(e){for(var t=0,r=1;3!=t;++t)r=256*r+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var W5=6;function H5(e){return Math.floor((e+Math.round(128/W5)/256)*W5)}function V5(e){return Math.floor((e-5)/W5*100+.5)/100}function G5(e){return Math.round((e*W5+5)/W5*256)/256}function K5(e){e.width?(e.wpx=H5(e.width),e.wch=V5(e.wpx),e.MDW=W5):e.wpx?(e.wch=V5(e.wpx),e.width=G5(e.wch),e.MDW=W5):"number"==typeof e.wch&&(e.width=G5(e.wch),e.wpx=H5(e.width),e.MDW=W5),e.customWidth&&delete e.customWidth}var Y5=96;function X5(e){return 96*e/Y5}function Q5(e){return e*Y5/96}function $5(e,t){var r,n=[u0,T0("styleSheet",null,{xmlns:G0[0],"xmlns:vt":W0})];return e.SSF&&null!=(r=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)null!=e[n]&&(t[t.length]=T0("numFmt",null,{numFmtId:n,formatCode:g0(e[n])}))}),1===t.length?"":(t[t.length]="</numFmts>",t[0]=T0("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=function(e){var t=[];return t[t.length]=T0("cellXfs",null),e.forEach(function(e){t[t.length]=T0("xf",null,e)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=T0("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function Z5(e,t,r){r||(r=M1(6+4*t.length)),r.write_shift(2,e),a2(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return null==r.l&&(r.l=r.length),n}function J5(e,t){t||(t=M1(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=M1(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,r),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var r=0;"superscript"==e.vertAlign?r=1:"subscript"==e.vertAlign&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),C2(e.color,t);var n=0;return"major"==e.scheme&&(n=1),"minor"==e.scheme&&(n=2),t.write_shift(1,n),a2(e.name,t),t.length>t.l?t.slice(0,t.l):t}var e3,t3=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],r3=D1;function n3(e,t){t||(t=M1(84)),e3||(e3=VJ(t3));var r=e3[e.patternType];null==r&&(r=40),t.write_shift(4,r);var n=0;if(40!=r)for(C2({auto:1},t),C2({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function i3(e,t,r){r||(r=M1(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);return r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function a3(e,t){return t||(t=M1(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var s3=D1;function o3(e){F1(e,613,n2(1)),F1(e,46,function(e,t){return t||(t=M1(51)),t.write_shift(1,0),a3(0,t),a3(0,t),a3(0,t),a3(0,t),a3(0,t),t.length>t.l?t.slice(0,t.l):t}()),F1(e,614)}function l3(e){F1(e,619,n2(1)),F1(e,48,function(e,t){return t||(t=M1(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),x2(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}({xfId:0,builtinId:0,name:"Normal"})),F1(e,620)}function c3(e){F1(e,508,function(e,t,r){var n=M1(2052);return n.write_shift(4,e),x2(t,n),x2(r,n),n.length>n.l?n.slice(0,n.l):n}(0,"TableStyleMedium9","PivotStyleMedium4")),F1(e,509)}function d3(e,t){var r=R1();return F1(r,278),function(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var n=e[0];n<=e[1];++n)null!=t[n]&&++r}),0!=r&&(F1(e,615,n2(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)null!=t[n]&&F1(e,44,Z5(n,t[n]))}),F1(e,616))}}(r,e.SSF),function(e){F1(e,611,n2(1)),F1(e,43,J5({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),F1(e,612)}(r),function(e){F1(e,603,n2(2)),F1(e,45,n3({patternType:"none"})),F1(e,45,n3({patternType:"gray125"})),F1(e,604)}(r),o3(r),function(e){F1(e,626,n2(1)),F1(e,47,i3({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),F1(e,627)}(r),function(e,t){F1(e,617,n2(t.length)),t.forEach(function(t){F1(e,47,i3(t,0))}),F1(e,618)}(r,t.cellXfs),l3(r),function(e){F1(e,505,n2(0)),F1(e,506)}(r),c3(r),F1(r,279),r.end()}function u3(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var r=[u0];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',r[r.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',r[r.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',r[r.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',r[r.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',r[r.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',r[r.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function h3(){var e=R1();return F1(e,332),F1(e,334,n2(1)),F1(e,335,function(e){var t=M1(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),a2(e.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),F1(e,336),F1(e,339,function(e,t){var r=M1(8+2*t.length);return r.write_shift(4,e),a2(t,r),r.slice(0,r.l)}(1,"XLDAPR")),F1(e,52),F1(e,35,n2(514)),F1(e,4096,n2(0)),F1(e,4097,o5(1)),F1(e,36),F1(e,53),F1(e,340),F1(e,337,function(e,t){var r=M1(8);return r.write_shift(4,e),r.write_shift(4,t?1:0),r}(1,!0)),F1(e,51,function(e){var t=M1(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}([[1,0]])),F1(e,338),F1(e,333),e.end()}function f3(){var e=[u0];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var p3=1024;function m3(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[T0("xml",null,{"xmlns:v":Z0,"xmlns:o":K0,"xmlns:x":Y0,"xmlns:mv":$0}).replace(/\/>/,">"),T0("o:shapelayout",T0("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),T0("v:shapetype",[T0("v:stroke",null,{joinstyle:"miter"}),T0("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];p3<1e3*e;)p3+=1e3;return t.forEach(function(e){var t=K1(e[0]),r={color2:"#BEFF82",type:"gradient"};"gradient"==r.type&&(r.angle="-180");var n="gradient"==r.type?T0("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,a=T0("v:fill",n,r);++p3,i=i.concat(["<v:shape"+P0({id:"_x0000_s"+p3,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",a,T0("v:shadow",null,{on:"t",obscured:"t"}),T0("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",E0("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),E0("x:AutoFill","False"),E0("x:Row",String(t.r)),E0("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function g3(e){var t=[u0,T0("comments",null,{xmlns:G0[0]})],r=[];return t.push("<authors>"),e.forEach(function(e){e[1].forEach(function(e){var n=g0(e.a);-1==r.indexOf(n)&&(r.push(n),t.push("<author>"+n+"</author>")),e.T&&e.ID&&-1==r.indexOf("tc="+e.ID)&&(r.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))})}),0==r.length&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(e){var n=0,i=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?n=r.indexOf("tc="+e[1][0].ID):e[1].forEach(function(e){e.a&&(n=r.indexOf(g0(e.a))),i.push(e.t||"")}),t.push('<comment ref="'+e[0]+'" authorId="'+n+'"><text>'),i.length<=1)t.push(E0("t",g0(i[0]||"")));else{for(var a="Comment:\n    "+i[0]+"\n",s=1;s<i.length;++s)a+="Reply:\n    "+i[s]+"\n";t.push(E0("t",g0(a)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function x3(e,t,r){var n=[u0,T0("ThreadedComments",null,{xmlns:F0}).replace(/[\/]>/,">")];return e.forEach(function(e){var i="";(e[1]||[]).forEach(function(a,s){if(a.T){a.a&&-1==t.indexOf(a.a)&&t.push(a.a);var o={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};0==s?i=o.id:o.parentId=i,a.ID=o.id,a.a&&(o.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),n.push(T0("threadedComment",E0("text",a.t||""),o))}else delete a.ID})}),n.push("</ThreadedComments>"),n.join("")}var y3=i2;function v3(e){var t=R1(),r=[];return F1(t,628),F1(t,630),e.forEach(function(e){e[1].forEach(function(e){r.indexOf(e.a)>-1||(r.push(e.a.slice(0,54)),F1(t,632,function(e){return a2(e.slice(0,54))}(e.a)))})}),F1(t,631),F1(t,633),e.forEach(function(e){e[1].forEach(function(n){n.iauthor=r.indexOf(n.a);var i={s:K1(e[0]),e:K1(e[0])};F1(t,635,function(e,t){return null==t&&(t=M1(36)),t.write_shift(4,e[1].iauthor),k2(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([i,n])),n.t&&n.t.length>0&&F1(t,637,c2(n)),F1(t,636),delete n.iauthor})}),F1(t,634),F1(t,629),t.end()}var b3=["xlsb","xlsm","xlam","biff8","xla"];var w3=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(e,r,n,i){var a=!1,s=!1;0==n.length?s=!0:"["==n.charAt(0)&&(s=!0,n=n.slice(1,-1)),0==i.length?a=!0:"["==i.charAt(0)&&(a=!0,i=i.slice(1,-1));var o=n.length>0?0|parseInt(n,10):0,l=i.length>0?0|parseInt(i,10):0;return a?l+=t.c:--l,s?o+=t.r:--o,r+(a?"":"$")+G1(l)+(s?"":"$")+H1(o)}return function(n,i){return t=i,n.replace(e,r)}}(),j3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,N3=function(){return function(e,t){return e.replace(j3,function(e,r,n,i,a,s){var o=V1(i)-(n?0:t.c),l=W1(s)-(a?0:t.r);return r+"R"+(0==l?"":a?l+1:"["+l+"]")+"C"+(0==o?"":n?o+1:"["+o+"]")})}}();function _3(e,t){return e.replace(j3,function(e,r,n,i,a,s){return r+("$"==n?n+i:G1(V1(i)+t.c))+("$"==a?a+s:H1(W1(s)+t.r))})}function k3(e){e.l+=1}function S3(e,t){var r=e.read_shift(1==t?1:2);return[16383&r,r>>14&1,r>>15&1]}function A3(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return C3(e);12==r.biff&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),s=S3(e,2),o=S3(e,2);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function C3(e){var t=S3(e,2),r=S3(e,2),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function E3(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return function(e){var t=S3(e,2),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}(e);var n=e.read_shift(r&&12==r.biff?4:2),i=S3(e,2);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function P3(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:255&r,fQuoted:!!(16384&r),cRel:r>>15,rRel:r>>15}}function T3(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function O3(e){return[e.read_shift(1),e.read_shift(1)]}function I3(e,t){var r=[e.read_shift(1)];if(12==t)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2}switch(r[0]){case 4:r[1]=i5(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:r[1]=L2[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:r[1]=S2(e);break;case 2:r[1]=f5(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function L3(e,t,r){for(var n=e.read_shift(12==r.biff?4:2),i=[],a=0;a!=n;++a)i.push((12==r.biff?_2:v5)(e,8));return i}function D3(e,t,r){var n=0,i=0;12==r.biff?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,0==--i&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=I3(e,r.biff);return s}function M3(e,t,r){return e.l+=2,[P3(e)]}function R3(e){return e.l+=6,[]}function F3(e){return e.l+=2,[s5(e),1&e.read_shift(2)]}var B3=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var z3={1:{n:"PtgExp",f:function(e,t,r){return e.l++,r&&12==r.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(r&&2==r.biff?1:2)]}},2:{n:"PtgTbl",f:D1},3:{n:"PtgAdd",f:k3},4:{n:"PtgSub",f:k3},5:{n:"PtgMul",f:k3},6:{n:"PtgDiv",f:k3},7:{n:"PtgPower",f:k3},8:{n:"PtgConcat",f:k3},9:{n:"PtgLt",f:k3},10:{n:"PtgLe",f:k3},11:{n:"PtgEq",f:k3},12:{n:"PtgGe",f:k3},13:{n:"PtgGt",f:k3},14:{n:"PtgNe",f:k3},15:{n:"PtgIsect",f:k3},16:{n:"PtgUnion",f:k3},17:{n:"PtgRange",f:k3},18:{n:"PtgUplus",f:k3},19:{n:"PtgUminus",f:k3},20:{n:"PtgPercent",f:k3},21:{n:"PtgParen",f:k3},22:{n:"PtgMissArg",f:k3},23:{n:"PtgStr",f:function(e,t,r){return e.l++,c5(e,0,r)}},26:{n:"PtgSheet",f:function(e,t,r){return e.l+=5,e.l+=2,e.l+=2==r.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,r){return e.l+=2==r.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,L2[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,S2(e)}},32:{n:"PtgArray",f:function(e,t,r){var n=(96&e[e.l++])>>5;return e.l+=2==r.biff?6:12==r.biff?14:7,[n]}},33:{n:"PtgFunc",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[a4[i],i4[i],n]}},34:{n:"PtgFuncVar",f:function(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[88==n?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[i,(0===a[0]?i4:n4)[a[1]]]}},35:{n:"PtgName",f:function(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[n,0,a]}},36:{n:"PtgRef",f:function(e,t,r){var n=(96&e[e.l])>>5;return e.l+=1,[n,E3(e,0,r)]}},37:{n:"PtgArea",f:function(e,t,r){return[(96&e[e.l++])>>5,A3(e,r.biff>=2&&r.biff,r)]}},38:{n:"PtgMemArea",f:function(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=r&&2==r.biff?3:4,[n,e.read_shift(r&&2==r.biff?1:2)]}},39:{n:"PtgMemErr",f:D1},40:{n:"PtgMemNoMem",f:D1},41:{n:"PtgMemFunc",f:function(e,t,r){return[e.read_shift(1)>>>5&3,e.read_shift(r&&2==r.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,12==r.biff&&(e.l+=2),[n]}},43:{n:"PtgAreaErr",f:function(e,t,r){var n=(96&e[e.l++])>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}},44:{n:"PtgRefN",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var i=function(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return function(e){var t=e.read_shift(2),r=e.read_shift(1),n=(32768&t)>>15,i=(16384&t)>>14;return t&=16383,1==n&&t>=8192&&(t-=16384),1==i&&r>=128&&(r-=256),{r:t,c:r,cRel:i,rRel:n}}(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),s=(16384&a)>>14,o=(32768&a)>>15;if(a&=16383,1==o)for(;i>524287;)i-=1048576;if(1==s)for(;a>8191;)a-=16384;return{r:i,c:a,cRel:s,rRel:o}}(e,0,r);return[n,i]}},45:{n:"PtgAreaN",f:function(e,t,r){var n=(96&e[e.l++])>>5,i=function(e,t,r){if(r.biff<8)return C3(e);var n=e.read_shift(12==r.biff?4:2),i=e.read_shift(12==r.biff?4:2),a=S3(e,2),s=S3(e,2);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}(e,0,r);return[n,i]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,r){return 5==r.biff?function(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(2);return r&&5==r.biff&&(e.l+=12),[n,i,E3(e,0,r)]}},59:{n:"PtgArea3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,i=e.read_shift(2,"i");if(r)switch(r.biff){case 5:e.l+=12;break;case 12:0}return[n,i,A3(e,0,r)]}},60:{n:"PtgRefErr3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6}return e.l+=a,[n,i]}},61:{n:"PtgAreaErr3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12}return e.l+=a,[n,i]}},255:{}},U3={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},q3={1:{n:"PtgElfLel",f:F3},2:{n:"PtgElfRw",f:M3},3:{n:"PtgElfCol",f:M3},6:{n:"PtgElfRwV",f:M3},7:{n:"PtgElfColV",f:M3},10:{n:"PtgElfRadical",f:M3},11:{n:"PtgElfRadicalS",f:R3},13:{n:"PtgElfColS",f:R3},15:{n:"PtgElfColSV",f:R3},16:{n:"PtgElfRadicalLel",f:F3},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2);return{ixti:t,coltype:3&r,rt:B3[r>>2&31],idx:n,c:i,C:a}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},W3={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=r&&2==r.biff?3:4,[n]}},2:{n:"PtgAttrIf",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(r&&2==r.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,r){e.l+=2;for(var n=e.read_shift(r&&2==r.biff?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&2==r.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(r&&2==r.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,r){e.l+=r&&2==r.biff?3:4}},32:{n:"PtgAttrBaxcel",f:T3},33:{n:"PtgAttrBaxcel",f:T3},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),O3(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),O3(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function H3(e,t,r,n){if(n.biff<8)return D1(e,t);for(var i=e.l+t,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=D3(e,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=L3(e,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&12==n.biff&&(r[s][1][1]=e.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return 0!==(t=i-e.l)&&a.push(D1(e,t)),a}function V3(e,t,r){for(var n,i,a=e.l+t,s=[];a!=e.l;)t=a-e.l,i=e[e.l],n=z3[i]||z3[U3[i]],24!==i&&25!==i||(n=(24===i?q3:W3)[e[e.l+1]]),n&&n.f?s.push([n.n,n.f(e,t,r)]):D1(e,t);return s}function G3(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var s=n[a];if(s)if(2===s[0])i.push('"'+s[1].replace(/"/g,'""')+'"');else i.push(s[1]);else i.push("")}t.push(i.join(","))}return t.join(";")}var K3={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Y3(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=-1==n[1]?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return null!=r.SID?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=-1==n[1]?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(e){return e.Name}).join(";;");default:return e[n[0]][0][3]?(i=-1==n[1]?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function X3(e,t,r){var n=Y3(e,t,r);return"#REF"==n?n:function(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(n,r)}function Q3(e,t,r,n,i){var a,s,o,l,c=i&&i.biff||8,d={s:{c:0,r:0},e:{c:0,r:0}},u=[],h=0,f=0,p="";if(!e[0]||!e[0][0])return"";for(var m=-1,g="",x=0,y=e[0].length;x<y;++x){var v=e[0][x];switch(v[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(a=u.pop(),s=u.pop(),m>=0){switch(e[0][m][1][0]){case 0:g=a0(" ",e[0][m][1][1]);break;case 1:g=a0("\r",e[0][m][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}s+=g,m=-1}u.push(s+K3[v[0]]+a);break;case"PtgIsect":a=u.pop(),s=u.pop(),u.push(s+" "+a);break;case"PtgUnion":a=u.pop(),s=u.pop(),u.push(s+","+a);break;case"PtgRange":a=u.pop(),s=u.pop(),u.push(s+":"+a);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":o=B1(v[1][1],d,i),u.push(U1(o,c));break;case"PtgRefN":o=r?B1(v[1][1],r,i):v[1][1],u.push(U1(o,c));break;case"PtgRef3d":h=v[1][1],o=B1(v[1][2],d,i);p=X3(n,h,i);u.push(p+"!"+U1(o,c));break;case"PtgFunc":case"PtgFuncVar":var b=v[1][0],w=v[1][1];b||(b=0);var j=0==(b&=127)?[]:u.slice(-b);u.length-=b,"User"===w&&(w=j.shift()),u.push(w+"("+j.join(",")+")");break;case"PtgBool":u.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":u.push(v[1]);break;case"PtgNum":u.push(String(v[1]));break;case"PtgStr":u.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=z1(v[1][1],r?{s:r}:d,i),u.push(q1(l,i));break;case"PtgArea":l=z1(v[1][1],d,i),u.push(q1(l,i));break;case"PtgArea3d":h=v[1][1],l=v[1][2],p=X3(n,h,i),u.push(p+"!"+q1(l,i));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgName":f=v[1][2];var N=(n.names||[])[f-1]||(n[0]||[])[f],_=N?N.Name:"SH33TJSNAME"+String(f);_&&"_xlfn."==_.slice(0,6)&&!i.xlfn&&(_=_.slice(6)),u.push(_);break;case"PtgNameX":var k,S=v[1][1];if(f=v[1][2],!(i.biff<=5)){var A="";if(14849==((n[S]||[])[0]||[])[0]||(1025==((n[S]||[])[0]||[])[0]?n[S][f]&&n[S][f].itab>0&&(A=n.SheetNames[n[S][f].itab-1]+"!"):A=n.SheetNames[f-1]+"!"),n[S]&&n[S][f])A+=n[S][f].Name;else if(n[0]&&n[0][f])A+=n[0][f].Name;else{var C=(Y3(n,S,i)||"").split(";;");C[f-1]?A=C[f-1]:A+="SH33TJSERRX"}u.push(A);break}S<0&&(S=-S),n[S]&&(k=n[S][f]),k||(k={Name:"SH33TJSERRY"}),u.push(k.Name);break;case"PtgParen":var E="(",P=")";if(m>=0){switch(g="",e[0][m][1][0]){case 2:E=a0(" ",e[0][m][1][1])+E;break;case 3:E=a0("\r",e[0][m][1][1])+E;break;case 4:P=a0(" ",e[0][m][1][1])+P;break;case 5:P=a0("\r",e[0][m][1][1])+P;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}u.push(E+u.pop()+P);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":u.push("#REF!");break;case"PtgExp":o={c:v[1][1],r:v[1][0]};var T={c:r.c,r:r.r};if(n.sharedf[Y1(o)]){var O=n.sharedf[Y1(o)];u.push(Q3(O,d,T,n,i))}else{var I=!1;for(a=0;a!=n.arrayf.length;++a)if(s=n.arrayf[a],!(o.c<s[0].s.c||o.c>s[0].e.c)&&!(o.r<s[0].s.r||o.r>s[0].e.r)){u.push(Q3(s[1],d,T,n,i)),I=!0;break}I||u.push(v[1])}break;case"PtgArray":u.push("{"+G3(v[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=x;break;case"PtgMissArg":u.push("");break;case"PtgList":u.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(v))}if(3!=i.biff&&m>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][x][0])){var L=!0;switch((v=e[0][m])[1][0]){case 4:L=!1;case 0:g=a0(" ",v[1][1]);break;case 5:L=!1;case 1:g=a0("\r",v[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}u.push((L?g:"")+u.pop()+(L?"":g)),m=-1}}if(u.length>1&&i.WTF)throw new Error("bad formula stack");return u[0]}function $3(e,t,r,n,i){var a=x5(t,r,i),s=function(e){if(null==e){var t=M1(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return A2("number"==typeof e?e:0)}(e.v),o=M1(6);o.write_shift(2,33),o.write_shift(4,0);for(var l=M1(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return WZ([a,s,o,l])}function Z3(e,t,r){var n=e.read_shift(4),i=V3(e,n,r),a=e.read_shift(4);return[i,a>0?H3(e,a,i,r):null]}var J3=Z3,e4=Z3,t4=Z3,r4=Z3,n4={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},i4={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},a4={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function s4(e){return("of:="+e.replace(j3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function o4(e){return e.replace(/\./,"!")}var l4="undefined"!==typeof Map;function c4(e,t,r){var n=0,i=e.length;if(r){if(l4?r.has(t):Object.prototype.hasOwnProperty.call(r,t))for(var a=l4?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}else for(;n<i;++n)if(e[n].t===t)return e.Count++,n;return e[i]={t:t},e.Count++,e.Unique++,r&&(l4?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function d4(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(W5=t.MDW),null!=t.width?r.customWidth=1:null!=t.wpx?n=V5(t.wpx):null!=t.wch&&(n=t.wch),n>-1?(r.width=G5(n),r.customWidth=1):null!=t.width&&(r.width=t.width),t.hidden&&(r.hidden=!0),null!=t.level&&(r.outlineLevel=r.level=t.level),r}function u4(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(r=[1,1,1,1,.5,.5]),null==e.left&&(e.left=r[0]),null==e.right&&(e.right=r[1]),null==e.top&&(e.top=r[2]),null==e.bottom&&(e.bottom=r[3]),null==e.header&&(e.header=r[4]),null==e.footer&&(e.footer=r[5])}}function h4(e,t,r){var n=r.revssf[null!=t.z?t.z:"General"],i=60,a=e.length;if(null==n&&r.ssf)for(;i<392;++i)if(null==r.ssf[i]){LJ(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=n=i;break}for(i=0;i!=a;++i)if(e[i].numFmtId===n)return i;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function f4(e,t,r){if(e&&e["!ref"]){var n=$1(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}var p4=["objects","scenarios","selectLockedCells","selectUnlockedCells"],m4=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function g4(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),void 0===e.v&&"string"!==typeof e.f||"z"===e.t&&!e.f)return"";var i="",a=e.t,s=e.v;if("z"!==e.t)switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=L2[e.v];break;case"d":n&&n.cellDates?i=r0(e.v,-1).toISOString():((e=i0(e)).t="n",i=""+(e.v=YJ(r0(e.v)))),"undefined"===typeof e.z&&(e.z=tJ[14]);break;default:i=e.v}var o=E0("v",g0(i)),l={r:t},c=h4(n.cellXfs,e,n);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=E0("v",""+c4(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str"}if(e.t!=a&&(e.t=a,e.v=s),"string"==typeof e.f&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=T0("f",g0(e.f),d)+(null!=e.v?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),T0("c",o,l)}function x4(e,t,r,n){var i,a=[u0,T0("worksheet",null,{xmlns:G0[0],"xmlns:r":q0})],s=r.SheetNames[e],o="",l=r.Sheets[s];null==l&&(l={});var c=l["!ref"]||"A1",d=$1(c);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),c=Q1(d)}n||(n={}),l["!comments"]=[];var u=[];!function(e,t,r,n,i){var a=!1,s={},o=null;if("xlsx"!==n.bookType&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch(UX){}a=!0,s.codeName=S0(g0(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+T0("outlinePr",null,c)}(a||o)&&(i[i.length]=T0("sheetPr",o,s))}(l,r,e,t,a),a[a.length]=T0("dimension",null,{ref:c}),a[a.length]=function(e,t,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),T0("sheetViews",T0("sheetView",null,i),{})}(0,0,0,r),t.sheetFormat&&(a[a.length]=T0("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(a[a.length]=function(e,t){for(var r,n=["<cols>"],i=0;i!=t.length;++i)(r=t[i])&&(n[n.length]=T0("col",null,d4(i,r)));return n[n.length]="</cols>",n.join("")}(0,l["!cols"])),a[i=a.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(o=function(e,t){var r,n,i=[],a=[],s=$1(e["!ref"]),o="",l="",c=[],d=0,u=0,h=e["!rows"],f=Array.isArray(e),p={r:l},m=-1;for(u=s.s.c;u<=s.e.c;++u)c[u]=G1(u);for(d=s.s.r;d<=s.e.r;++d){for(a=[],l=H1(d),u=s.s.c;u<=s.e.c;++u){r=c[u]+l;var g=f?(e[d]||[])[u]:e[r];void 0!==g&&null!=(o=g4(g,r,e,t))&&a.push(o)}(a.length>0||h&&h[d])&&(p={r:l},h&&h[d]&&((n=h[d]).hidden&&(p.hidden=1),m=-1,n.hpx?m=X5(n.hpx):n.hpt&&(m=n.hpt),m>-1&&(p.ht=m,p.customHeight=1),n.level&&(p.outlineLevel=n.level)),i[i.length]=T0("row",a.join(""),p))}if(h)for(;d<h.length;++d)h&&h[d]&&(p={r:d+1},(n=h[d]).hidden&&(p.hidden=1),m=-1,n.hpx?m=X5(n.hpx):n.hpt&&(m=n.hpt),m>-1&&(p.ht=m,p.customHeight=1),n.level&&(p.outlineLevel=n.level),i[i.length]=T0("row","",p));return i.join("")}(l,t,0,0),o.length>0&&(a[a.length]=o)),a.length>i+1&&(a[a.length]="</sheetData>",a[i]=a[i].replace("/>",">")),l["!protect"]&&(a[a.length]=function(e){var t={sheet:1};return p4.forEach(function(r){null!=e[r]&&e[r]&&(t[r]="1")}),m4.forEach(function(r){null==e[r]||e[r]||(t[r]="0")}),e.password&&(t.password=z5(e.password).toString(16).toUpperCase()),T0("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(a[a.length]=function(e,t,r,n){var i="string"==typeof e.ref?e.ref:Q1(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=X1(i);s.s.r==s.e.r&&(s.e.r=X1(t["!ref"]).e.r,i=Q1(s));for(var o=0;o<a.length;++o){var l=a[o];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),T0("autoFilter",null,{ref:i})}(l["!autofilter"],l,r,e)),null!=l["!merges"]&&l["!merges"].length>0&&(a[a.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Q1(e[r])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var h,f,p=-1,m=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(e){e[1].Target&&(h={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(m=U2(n,-1,g0(e[1].Target).replace(/#.*$/,""),F2.HLINK),h["r:id"]="rId"+m),(p=e[1].Target.indexOf("#"))>-1&&(h.location=g0(e[1].Target.slice(p+1))),e[1].Tooltip&&(h.tooltip=g0(e[1].Tooltip)),a[a.length]=T0("hyperlink",null,h))}),a[a.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(a[a.length]=(u4(f=l["!margins"]),T0("pageMargins",null,f))),t&&!t.ignoreEC&&void 0!=t.ignoreEC||(a[a.length]=E0("ignoredErrors",T0("ignoredError",null,{numberStoredAsText:1,sqref:c}))),u.length>0&&(m=U2(n,-1,"../drawings/drawing"+(e+1)+".xml",F2.DRAW),a[a.length]=T0("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=u),l["!comments"].length>0&&(m=U2(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",F2.VML),a[a.length]=T0("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function y4(e,t,r,n){var i=function(e,t,r){var n=M1(145),i=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;i.hpx?a=20*X5(i.hpx):i.hpt&&(a=20*i.hpt),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var u=-1,h=-1,f=d<<10;f<d+1<<10;++f)c.c=f,(Array.isArray(r)?(r[c.r]||[])[c.c]:r[Y1(c)])&&(u<0&&(u=f),h=f);u<0||(++o,n.write_shift(4,u),n.write_shift(4,h))}var p=n.l;return n.l=l,n.write_shift(4,o),n.l=p,n.length>n.l?n.slice(0,n.l):n}(n,r,t);(i.length>17||(t["!rows"]||[])[n])&&F1(e,0,i)}var v4=_2,b4=k2;function w4(e){return[h2(e),S2(e),"n"]}var j4=_2,N4=k2;var _4=["left","right","top","bottom","header","footer"];function k4(e,t,r,n,i,a,s){if(void 0===t.v)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":(t=i0(t)).z=t.z||tJ[14],t.v=YJ(r0(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v}var l={r:r,c:n};switch(l.s=h4(i.cellXfs,t,i),t.l&&a["!links"].push([Y1(l),t.l]),t.c&&a["!comments"].push([Y1(l),t.c]),t.t){case"s":case"str":return i.bookSST?(o=c4(i.Strings,t.v,i.revStrings),l.t="s",l.v=o,s?F1(e,18,function(e,t,r){return null==r&&(r=M1(8)),f2(t,r),r.write_shift(4,t.v),r}(0,l)):F1(e,7,function(e,t,r){return null==r&&(r=M1(12)),u2(t,r),r.write_shift(4,t.v),r}(0,l))):(l.t="str",s?F1(e,17,function(e,t,r){return null==r&&(r=M1(8+4*e.v.length)),f2(t,r),a2(e.v,r),r.length>r.l?r.slice(0,r.l):r}(t,l)):F1(e,6,function(e,t,r){return null==r&&(r=M1(12+4*e.v.length)),u2(t,r),a2(e.v,r),r.length>r.l?r.slice(0,r.l):r}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?s?F1(e,13,function(e,t,r){return null==r&&(r=M1(8)),f2(t,r),j2(e.v,r),r}(t,l)):F1(e,2,function(e,t,r){return null==r&&(r=M1(12)),u2(t,r),j2(e.v,r),r}(t,l)):s?F1(e,16,function(e,t,r){return null==r&&(r=M1(12)),f2(t,r),A2(e.v,r),r}(t,l)):F1(e,5,function(e,t,r){return null==r&&(r=M1(16)),u2(t,r),A2(e.v,r),r}(t,l)),!0;case"b":return l.t="b",s?F1(e,15,function(e,t,r){return null==r&&(r=M1(5)),f2(t,r),r.write_shift(1,e.v?1:0),r}(t,l)):F1(e,4,function(e,t,r){return null==r&&(r=M1(9)),u2(t,r),r.write_shift(1,e.v?1:0),r}(t,l)),!0;case"e":return l.t="e",s?F1(e,14,function(e,t,r){return null==r&&(r=M1(8)),f2(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}(t,l)):F1(e,3,function(e,t,r){return null==r&&(r=M1(9)),u2(t,r),r.write_shift(1,e.v),r}(t,l)),!0}return s?F1(e,12,function(e,t,r){return null==r&&(r=M1(4)),f2(t,r)}(0,l)):F1(e,1,function(e,t,r){return null==r&&(r=M1(8)),u2(t,r)}(0,l)),!0}function S4(e,t){t&&t["!merges"]&&(F1(e,177,function(e,t){return null==t&&(t=M1(4)),t.write_shift(4,e),t}(t["!merges"].length)),t["!merges"].forEach(function(t){F1(e,176,N4(t))}),F1(e,178))}function A4(e,t){t&&t["!cols"]&&(F1(e,390),t["!cols"].forEach(function(t,r){t&&F1(e,60,function(e,t,r){null==r&&(r=M1(18));var n=d4(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,256*(n.width||10)),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),"number"==typeof n.width&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}(r,t))}),F1(e,391))}function C4(e,t){t&&t["!ref"]&&(F1(e,648),F1(e,649,function(e){var t=M1(24);return t.write_shift(4,4),t.write_shift(4,1),k2(e,t),t}($1(t["!ref"]))),F1(e,650))}function E4(e,t,r){t["!links"].forEach(function(t){if(t[1].Target){var n=U2(r,-1,t[1].Target.replace(/#.*$/,""),F2.HLINK);F1(e,494,function(e,t){var r=M1(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));k2({s:K1(e[0]),e:K1(e[0])},r),b2("rId"+t,r);var n=e[1].Target.indexOf("#");return a2((-1==n?"":e[1].Target.slice(n+1))||"",r),a2(e[1].Tooltip||"",r),a2("",r),r.slice(0,r.l)}(t,n))}}),delete t["!links"]}function P4(e,t,r){F1(e,133),F1(e,137,function(e,t,r){null==r&&(r=M1(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}(0,r)),F1(e,138),F1(e,134)}function T4(e,t){t["!protect"]&&F1(e,535,function(e,t){return null==t&&(t=M1(66)),t.write_shift(2,e.password?z5(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,null==e[r[0]]||e[r[0]]?0:1):t.write_shift(4,null!=e[r[0]]&&e[r[0]]?0:1)}),t}(t["!protect"]))}function O4(e,t,r,n){var i=R1(),a=r.SheetNames[e],s=r.Sheets[a]||{},o=a;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch(UX){}var l=$1(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],F1(i,129),(r.vbaraw||s["!outline"])&&F1(i,147,function(e,t,r){null==r&&(r=M1(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return C2({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),m2(e,r),r.slice(0,r.l)}(o,s["!outline"])),F1(i,148,b4(l)),P4(i,0,r.Workbook),A4(i,s),function(e,t,r,n){var i,a=$1(t["!ref"]||"A1"),s="",o=[];F1(e,145);var l=Array.isArray(t),c=a.e.r;t["!rows"]&&(c=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=c;++d){s=H1(d),y4(e,t,a,d);var u=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(o[h]=G1(h)),i=o[h]+s;var f=l?(t[d]||[])[h]:t[i];u=!!f&&k4(e,f,d,h,n,t,u)}}F1(e,146)}(i,s,0,t),T4(i,s),function(e,t,r,n){if(t["!autofilter"]){var i=t["!autofilter"],a="string"===typeof i.ref?i.ref:Q1(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=X1(a);o.s.r==o.e.r&&(o.e.r=X1(t["!ref"]).e.r,a=Q1(o));for(var l=0;l<s.length;++l){var c=s[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),F1(e,161,k2($1(a))),F1(e,162)}}(i,s,r,e),S4(i,s),E4(i,s,n),s["!margins"]&&F1(i,476,function(e,t){return null==t&&(t=M1(48)),u4(e),_4.forEach(function(r){A2(e[r],t)}),t}(s["!margins"])),t&&!t.ignoreEC&&void 0!=t.ignoreEC||C4(i,s),function(e,t,r,n){if(t["!comments"].length>0){var i=U2(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",F2.VML);F1(e,551,b2("rId"+i)),t["!legacy"]=i}}(i,s,e,n),F1(i,130),i.end()}var I4=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];var L4="][*?/\\".split("");function D4(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return L4.forEach(function(n){if(-1!=e.indexOf(n)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}}),r}function M4(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];!function(e,t,r){e.forEach(function(n,i){D4(n);for(var a=0;a<i;++a)if(n==e[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[i]&&t[i].CodeName||n;if(95==s.charCodeAt(0)&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)f4(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function R4(e){var t=[u0];t[t.length]=T0("workbook",null,{xmlns:G0[0],"xmlns:r":q0});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(I4.forEach(function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(n[t[0]]=e.Workbook.WBProps[t[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=T0("workbookPr",null,n);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&i[a]&&i[a].Hidden;++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var s={name:g0(e.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden"}t[t.length]=T0("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(e){var r={name:e.Name};e.Comment&&(r.comment=e.Comment),null!=e.Sheet&&(r.localSheetId=""+e.Sheet),e.Hidden&&(r.hidden="1"),e.Ref&&(t[t.length]=T0("definedName",g0(e.Ref),r))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function F4(e,t){return t||(t=M1(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),b2(e.strRelID,t),a2(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function B4(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var r=t.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&-1==i?i=n:1==r[n].Hidden&&-1==a&&(a=n);a>i||(F1(e,135),F1(e,158,function(e,t){return t||(t=M1(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e),t.write_shift(1,120),t.length>t.l?t.slice(0,t.l):t}(i)),F1(e,136))}}function z4(e,t){var r=R1();return F1(r,131),F1(r,128,function(e,t){t||(t=M1(127));for(var r=0;4!=r;++r)t.write_shift(4,0);return a2("SheetJS",t),a2(wZ.version,t),a2(wZ.version,t),a2("7262",t),t.length>t.l?t.slice(0,t.l):t}()),F1(r,153,function(e,t){t||(t=M1(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),m2(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),B4(r,e),function(e,t){F1(e,143);for(var r=0;r!=t.SheetNames.length;++r)F1(e,156,F4({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]}));F1(e,144)}(r,e),F1(r,132),r.end()}function U4(e,t,r,n,i){return(".bin"===t.slice(-4)?O4:x4)(e,r,n,i)}function q4(e,t,r){return(".bin"===t.slice(-4)?v3:g3)(e,r)}function W4(e,t){var r=[];return e.Props&&r.push(function(e,t){var r=[];return WJ(Z2).map(function(e){for(var t=0;t<V2.length;++t)if(V2[t][1]==e)return V2[t];for(t=0;t<Y2.length;++t)if(Y2[t][1]==e)return Y2[t];throw e}).forEach(function(n){if(null!=e[n[1]]){var i=t&&t.Props&&null!=t.Props[n[1]]?t.Props[n[1]]:e[n[1]];"date"===n[2]&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof i?i=String(i):!0===i||!1===i?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(E0(Z2[n[1]]||n[1],i))}}),T0("DocumentProperties",r.join(""),{xmlns:K0})}(e.Props,t)),e.Custprops&&r.push(function(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return e&&WJ(e).forEach(function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var n=0;n<V2.length;++n)if(t==V2[n][1])return;for(n=0;n<Y2.length;++n)if(t==Y2[n][1])return;for(n=0;n<r.length;++n)if(t==r[n])return;var a=e[t],s="string";"number"==typeof a?(s="float",a=String(a)):!0===a||!1===a?(s="boolean",a=a?"1":"0"):a=String(a),i.push(T0(x0(t),a,{"dt:dt":s}))}}),t&&WJ(t).forEach(function(r){if(Object.prototype.hasOwnProperty.call(t,r)&&(!e||!Object.prototype.hasOwnProperty.call(e,r))){var n=t[r],a="string";"number"==typeof n?(a="float",n=String(n)):!0===n||!1===n?(a="boolean",n=n?"1":"0"):n instanceof Date?(a="dateTime.tz",n=n.toISOString()):n=String(n),i.push(T0(x0(r),n,{"dt:dt":a}))}}),"<"+n+' xmlns="'+K0+'">'+i.join("")+"</"+n+">"}(e.Props,e.Custprops)),r.join("")}function H4(e){return T0("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+N3(e.Ref,{r:0,c:0})})}function V4(e,t,r,n,i,a,s){if(!e||void 0==e.v&&void 0==e.f)return"";var o={};if(e.f&&(o["ss:Formula"]="="+g0(N3(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=K1(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=g0(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=g0(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],d=0;d!=c.length;++d)c[d].s.c==s.c&&c[d].s.r==s.r&&(c[d].e.c>c[d].s.c&&(o["ss:MergeAcross"]=c[d].e.c-c[d].s.c),c[d].e.r>c[d].s.r&&(o["ss:MergeDown"]=c[d].e.r-c[d].s.r));var u="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":u="Number",h=String(e.v);break;case"b":u="Boolean",h=e.v?"1":"0";break;case"e":u="Error",h=L2[e.v];break;case"d":u="DateTime",h=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||tJ[14]);break;case"s":u="String",h=((e.v||"")+"").replace(p0,function(e){return f0[e]}).replace(y0,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}var f=h4(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+f),o["ss:Index"]=s.c+1;var p=null!=e.v?h:"",m="z"==e.t?"":'<Data ss:Type="'+u+'">'+p+"</Data>";return(e.c||[]).length>0&&(m+=e.c.map(function(e){var t=T0("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return T0("Comment",t,{"ss:Author":e.a})}).join("")),T0("Cell",m,o)}function G4(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Q5(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function K4(e,t,r){var n=[],i=r.SheetNames[e],a=r.Sheets[i],s=a?function(e,t,r,n){if(!e)return"";if(!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||a.push(H4(o)))}return a.join("")}(a,0,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?function(e,t){if(!e["!ref"])return"";var r=$1(e["!ref"]),n=e["!merges"]||[],i=0,a=[];e["!cols"]&&e["!cols"].forEach(function(e,t){K5(e);var r=!!e.width,n=d4(t,e),i={"ss:Index":t+1};r&&(i["ss:Width"]=H5(n.width)),e.hidden&&(i["ss:Hidden"]="1"),a.push(T0("Column",null,i))});for(var s=Array.isArray(e),o=r.s.r;o<=r.e.r;++o){for(var l=[G4(o,(e["!rows"]||[])[o])],c=r.s.c;c<=r.e.c;++c){var d=!1;for(i=0;i!=n.length;++i)if(!(n[i].s.c>c)&&!(n[i].s.r>o)&&!(n[i].e.c<c)&&!(n[i].e.r<o)){n[i].s.c==c&&n[i].s.r==o||(d=!0);break}if(!d){var u={r:o,c:c},h=Y1(u),f=s?(e[o]||[])[c]:e[h];l.push(V4(f,h,e,t,0,0,u))}}l.push("</Row>"),l.length>2&&a.push(l.join(""))}return a.join("")}(a,t):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(function(e,t,r,n){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(T0("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(T0("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(T0("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(T0("Visible",1==n.Workbook.Sheets[r].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&(!n.Workbook.Sheets[a]||n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(E0("ProtectContents","True")),e["!protect"].objects&&i.push(E0("ProtectObjects","True")),e["!protect"].scenarios&&i.push(E0("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||i.push(E0("EnableSelection","UnlockedCells")):i.push(E0("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(t){e["!protect"][t[0]]&&i.push("<"+t[1]+"/>")})),0==i.length?"":T0("WorksheetOptions",i.join(""),{xmlns:Y0})}(a,0,e,r)),n.join("")}function Y4(e,t){t||(t={}),e.SSF||(e.SSF=i0(tJ)),e.SSF&&(MJ(),DJ(e.SSF),t.revssf=GJ(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],h4(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(W4(e,t)),r.push(""),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(T0("Worksheet",K4(n,t,e),{"ss:Name":g0(e.SheetNames[n])}));return r[2]=function(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(e,t){var n=[];n.push(T0("NumberFormat",null,{"ss:Format":g0(tJ[e.numFmtId])}));var i={"ss:ID":"s"+(21+t)};r.push(T0("Style",n.join(""),i))}),T0("Styles",r.join(""))}(0,t),r[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var i=t[n];null==i.Sheet&&(i.Name.match(/^_xlfn\./)||r.push(H4(i)))}return T0("Names",r.join(""))}(e),u0+T0("Workbook",r.join(""),{xmlns:X0,"xmlns:o":K0,"xmlns:x":Y0,"xmlns:ss":X0,"xmlns:dt":Q0,"xmlns:html":J0})}var X4="e0859ff2f94f6810ab9108002b27b3d9",Q4="02d5cdd59c2e1b10939708002b2cf9ae",$4="05d5cdd59c2e1b10939708002b2cf9ae";function Z4(e,t){var r=t||{},n=BJ.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return BJ.utils.cfb_add(n,i,c6(e,r)),8==r.biff&&(e.Props||e.Custprops)&&function(e,t){var r,n=[],i=[],a=[],s=0,o=HJ(P2,"n"),l=HJ(T2,"n");if(e.Props)for(r=WJ(e.Props),s=0;s<r.length;++s)(Object.prototype.hasOwnProperty.call(o,r[s])?n:Object.prototype.hasOwnProperty.call(l,r[s])?i:a).push([r[s],e.Props[r[s]]]);if(e.Custprops)for(r=WJ(e.Custprops),s=0;s<r.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},r[s])||(Object.prototype.hasOwnProperty.call(o,r[s])?n:Object.prototype.hasOwnProperty.call(l,r[s])?i:a).push([r[s],e.Custprops[r[s]]]);var c=[];for(s=0;s<a.length;++s)e5.indexOf(a[s][0])>-1||X2.indexOf(a[s][0])>-1||null!=a[s][1]&&c.push(a[s]);i.length&&BJ.utils.cfb_add(t,"/\x05SummaryInformation",n5(i,X4,l,T2)),(n.length||c.length)&&BJ.utils.cfb_add(t,"/\x05DocumentSummaryInformation",n5(n,Q4,o,P2,c.length?c:null,$4))}(e,n),8==r.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach(function(r,n){if(0!=n){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==i.slice(-1)&&BJ.utils.cfb_add(e,i,t.FileIndex[n].content)}})}(n,BJ.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),n}var J4={0:{f:function(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,7&a&&(r.level=7&a),16&a&&(r.hidden=!0),32&a&&(r.hpt=i/20),r}},1:{f:function(e){return[d2(e)]}},2:{f:function(e){return[d2(e),w2(e),"n"]}},3:{f:function(e){return[d2(e),e.read_shift(1),"e"]}},4:{f:function(e){return[d2(e),e.read_shift(1),"b"]}},5:{f:function(e){return[d2(e),S2(e),"n"]}},6:{f:function(e){return[d2(e),i2(e),"str"]}},7:{f:function(e){return[d2(e),e.read_shift(4),"s"]}},8:{f:function(e,t,r){var n=e.l+t,i=d2(e);i.r=r["!row"];var a=[i,i2(e),"str"];if(r.cellFormula){e.l+=2;var s=e4(e,n-e.l,r);a[3]=Q3(s,0,i,r.supbooks,r)}else e.l=n;return a}},9:{f:function(e,t,r){var n=e.l+t,i=d2(e);i.r=r["!row"];var a=[i,S2(e),"n"];if(r.cellFormula){e.l+=2;var s=e4(e,n-e.l,r);a[3]=Q3(s,0,i,r.supbooks,r)}else e.l=n;return a}},10:{f:function(e,t,r){var n=e.l+t,i=d2(e);i.r=r["!row"];var a=[i,e.read_shift(1),"b"];if(r.cellFormula){e.l+=2;var s=e4(e,n-e.l,r);a[3]=Q3(s,0,i,r.supbooks,r)}else e.l=n;return a}},11:{f:function(e,t,r){var n=e.l+t,i=d2(e);i.r=r["!row"];var a=[i,e.read_shift(1),"e"];if(r.cellFormula){e.l+=2;var s=e4(e,n-e.l,r);a[3]=Q3(s,0,i,r.supbooks,r)}else e.l=n;return a}},12:{f:function(e){return[h2(e)]}},13:{f:function(e){return[h2(e),w2(e),"n"]}},14:{f:function(e){return[h2(e),e.read_shift(1),"e"]}},15:{f:function(e){return[h2(e),e.read_shift(1),"b"]}},16:{f:w4},17:{f:function(e){return[h2(e),i2(e),"str"]}},18:{f:function(e){return[h2(e),e.read_shift(4),"s"]}},19:{f:o2},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=y2(e),s=t4(e,0,r),o=g2(e);e.l=n;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}},40:{},42:{},43:{f:function(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1),700===e.read_shift(2)&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript"}var a=e.read_shift(1);0!=a&&(n.underline=a);var s=e.read_shift(1);s>0&&(n.family=s);var o=e.read_shift(1);switch(o>0&&(n.charset=o),e.l++,n.color=function(e){var t={},r=e.read_shift(1)>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),a=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=n;var l=I2[n];l&&(t.rgb=q5(l));break;case 2:t.rgb=q5([a,s,o]);break;case 3:t.theme=n}return 0!=i&&(t.tint=i>0?i/32767:i/32768),t}(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor"}return n.name=i2(e),n}},44:{f:function(e,t){return[e.read_shift(2),i2(e)]}},45:{f:r3},46:{f:s3},47:{f:function(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:C5},62:{f:function(e){return[d2(e),o2(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Y1(r);var n=e.read_shift(1);return 2&n&&(t.l="1"),8&n&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:D1,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var r={},n=e[e.l];return++e.l,r.above=!(64&n),r.left=!(128&n),e.l+=18,r.name=p2(e,t-19),r}},148:{f:v4,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?i2(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(65536&n),r.backupFile=!!(64&n),r.checkCompatibility=!!(4096&n),r.date1904=!!(1&n),r.filterPrivacy=!!(8&n),r.hidePivotFieldList=!!(1024&n),r.promptedSolutions=!!(16&n),r.publishItems=!!(2048&n),r.refreshAllConnections=!!(262144&n),r.saveExternalLinkValues=!!(128&n),r.showBorderUnselectedTables=!!(4&n),r.showInkAnnotation=!!(32&n),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(32768&n),r.updateLinks=["userSet","never","always"][n>>8&3],r}},154:{},155:{},156:{f:function(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=v2(e,t-8),r.name=i2(e),r}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:_2},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:j4},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:i2(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:v2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:k5},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,r){var n=e.l+t,i=N2(e),a=e.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var o=J3(e,n-e.l,r);s[1]=o}else e.l=n;return s}},427:{f:function(e,t,r){var n=e.l+t,i=[_2(e,16)];if(r.cellFormula){var a=r4(e,n-e.l,r);i[1]=a,e.l=n}else e.l=n;return i}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return _4.forEach(function(r){t[r]=S2(e)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var r=e.l+t,n=_2(e,16),i=g2(e),a=i2(e),s=i2(e),o=i2(e);e.l=r;var l={rfx:n,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:v2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:y3},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var r=_2(e,16);return t.rfx=r.s,t.ref=Y1(r.s),e.l+=16,t}},636:{T:-1},637:{f:l2},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:i2(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function e6(e,t,r,n){var i=t;if(!isNaN(i)){var a=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&b1(r)&&e.push(r)}}function t6(e,t,r){return e||(e=M1(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function r6(e,t,r,n){if(null!=t.v)switch(t.t){case"d":case"n":var i="d"==t.t?YJ(r0(t.v)):t.v;return void(i==(0|i)&&i>=0&&i<65536?e6(e,2,function(e,t,r){var n=M1(9);return t6(n,e,t),n.write_shift(2,r),n}(r,n,i)):e6(e,3,function(e,t,r){var n=M1(15);return t6(n,e,t),n.write_shift(8,r,"f"),n}(r,n,i)));case"b":case"e":return void e6(e,5,function(e,t,r,n){var i=M1(9);return t6(i,e,t),l5(r,n||"b",i),i}(r,n,t.v,t.t));case"s":case"str":return void e6(e,4,function(e,t,r){var n=M1(8+2*r.length);return t6(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}(r,n,(t.v||"").slice(0,255)))}e6(e,1,t6(null,r,n))}function n6(e,t){var r=t||{};for(var n=R1(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(i=a);if(0==i&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return e6(n,4==r.biff?1033:3==r.biff?521:9,w5(0,16,r)),function(e,t,r,n){var i,a=Array.isArray(t),s=$1(t["!ref"]||"A1"),o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),i=Q1(s)}for(var c=s.s.r;c<=s.e.r;++c){o=H1(c);for(var d=s.s.c;d<=s.e.c;++d){c===s.s.r&&(l[d]=G1(d)),i=l[d]+o;var u=a?(t[c]||[])[d]:t[i];u&&r6(e,u,c,d)}}}(n,e.Sheets[e.SheetNames[i]],0,r),e6(n,10),n.end()}function i6(e,t,r){e6(e,49,function(e,t){var r=e.name||"Arial",n=t&&5==t.biff,i=M1(n?15+r.length:16+2*r.length);return i.write_shift(2,20*(e.sz||12)),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function a6(e,t){if(t){var r=0;t.forEach(function(t,n){++r<=256&&t&&e6(e,125,function(e,t){var r=M1(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,256*e.width),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}(d4(n,t),n))})}}function s6(e,t,r,n,i){var a=16+h4(i.cellXfs,t,i);if(null!=t.v||t.bf)if(t.bf)e6(e,6,$3(t,r,n,0,a));else switch(t.t){case"d":case"n":e6(e,515,function(e,t,r,n){var i=M1(14);return x5(e,t,n,i),A2(r,i),i}(r,n,"d"==t.t?YJ(r0(t.v)):t.v,a));break;case"b":case"e":e6(e,517,function(e,t,r,n,i,a){var s=M1(8);return x5(e,t,n,s),l5(r,a,s),s}(r,n,t.v,a,0,t.t));break;case"s":case"str":if(i.bookSST)e6(e,253,function(e,t,r,n){var i=M1(10);return x5(e,t,n,i),i.write_shift(4,r),i}(r,n,c4(i.Strings,t.v,i.revStrings),a));else e6(e,516,function(e,t,r,n,i){var a=!i||8==i.biff,s=M1(+a+8+(1+a)*r.length);return x5(e,t,n,s),s.write_shift(2,r.length),a&&s.write_shift(1,1),s.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),s}(r,n,(t.v||"").slice(0,255),a,i));break;default:e6(e,513,x5(r,n,a))}else e6(e,513,x5(r,n,a))}function o6(e,t,r){var n,i=R1(),a=r.SheetNames[e],s=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(s),d=8==t.biff,u="",h=[],f=$1(s["!ref"]||"A1"),p=d?65536:16384;if(f.e.c>255||f.e.r>=p){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,p-1)}e6(i,2057,w5(0,16,t)),e6(i,13,o5(1)),e6(i,12,o5(100)),e6(i,15,a5(!0)),e6(i,17,a5(!1)),e6(i,16,A2(.001)),e6(i,95,a5(!0)),e6(i,42,a5(!1)),e6(i,43,a5(!1)),e6(i,130,o5(1)),e6(i,128,function(e){var t=M1(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}([0,0])),e6(i,131,a5(!1)),e6(i,132,a5(!1)),d&&a6(i,s["!cols"]),e6(i,512,function(e,t){var r=8!=t.biff&&t.biff?2:4,n=M1(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}(f,t)),d&&(s["!links"]=[]);for(var m=f.s.r;m<=f.e.r;++m){u=H1(m);for(var g=f.s.c;g<=f.e.c;++g){m===f.s.r&&(h[g]=G1(g)),n=h[g]+u;var x=c?(s[m]||[])[g]:s[n];x&&(s6(i,x,m,g,t),d&&x.l&&s["!links"].push([n,x.l]))}}var y=l.CodeName||l.name||a;return d&&e6(i,574,function(e){var t=M1(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((o.Views||[])[0])),d&&(s["!merges"]||[]).length&&e6(i,229,function(e){var t=M1(2+8*e.length);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)b5(e[r],t);return t}(s["!merges"])),d&&function(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];e6(e,440,S5(n)),n[1].Tooltip&&e6(e,2048,A5(n))}delete t["!links"]}(i,s),e6(i,442,p5(y)),d&&function(e,t){var r=M1(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),e6(e,2151,r),(r=M1(39)).write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),b5($1(t["!ref"]||"A1"),r),r.write_shift(4,4),e6(e,2152,r)}(i,s),e6(i,10),i.end()}function l6(e,t,r){var n=R1(),i=(e||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=8==r.biff,l=5==r.biff;(e6(n,2057,w5(0,5,r)),"xla"==r.bookType&&e6(n,135),e6(n,225,o?o5(1200):null),e6(n,193,function(e,t){t||(t=M1(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}(2)),l&&e6(n,191),l&&e6(n,192),e6(n,226),e6(n,92,function(e,t){var r=!t||8==t.biff,n=M1(r?112:54);for(n.write_shift(8==t.biff?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}(0,r)),e6(n,66,o5(o?1200:1252)),o&&e6(n,353,o5(0)),o&&e6(n,448),e6(n,317,function(e){for(var t=M1(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}(e.SheetNames.length)),o&&e.vbaraw&&e6(n,211),o&&e.vbaraw)&&e6(n,442,p5(s.CodeName||"ThisWorkbook"));e6(n,156,o5(17)),e6(n,25,a5(!1)),e6(n,18,a5(!1)),e6(n,19,o5(0)),o&&e6(n,431,a5(!1)),o&&e6(n,444,o5(0)),e6(n,61,function(){var e=M1(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),e6(n,64,a5(!1)),e6(n,141,o5(0)),e6(n,34,a5("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&b0(e.Workbook.WBProps.date1904)?"true":"false"}(e))),e6(n,14,a5(!0)),o&&e6(n,439,a5(!1)),e6(n,218,o5(0)),i6(n,0,r),function(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)null!=t[i]&&e6(e,1054,N5(i,t[i],r))})}(n,e.SSF,r),function(e,t){for(var r=0;r<16;++r)e6(e,224,_5({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){e6(e,224,_5(r,0,t))})}(n,r),o&&e6(n,352,a5(!1));var c=n.end(),d=R1();o&&e6(d,140,function(e){return e||(e=M1(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),o&&r.Strings&&function(e,t,r,n){var i=n||(r||[]).length||0;if(i<=8224)return e6(e,t,r,i);var a=t;if(!isNaN(a)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,a),d.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<i;){for((d=e.next(4)).write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;d.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}(d,252,function(e){var t=M1(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var r=[],n=0;n<e.length;++n)r[n]=d5(e[n]);var i=WZ([t].concat(r));return i.parts=[t.length].concat(r.map(function(e){return e.length})),i}(r.Strings)),e6(d,10);var u=d.end(),h=R1(),f=0,p=0;for(p=0;p<e.SheetNames.length;++p)f+=(o?12:11)+(o?2:1)*e.SheetNames[p].length;var m=c.length+f+u.length;for(p=0;p<e.SheetNames.length;++p){e6(h,133,j5({pos:m,hs:(a[p]||{}).Hidden||0,dt:0,name:e.SheetNames[p]},r)),m+=t[p].length}var g=h.end();if(f!=g.length)throw new Error("BS8 "+f+" != "+g.length);var x=[];return c.length&&x.push(c),g.length&&x.push(g),u.length&&x.push(u),WZ(x)}function c6(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(n&&n["!ref"])X1(n["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}var i=t||{};switch(i.biff||2){case 8:case 5:return function(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=i0(tJ)),e&&e.SSF&&(MJ(),DJ(e.SSF),r.revssf=GJ(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,B6(r),r.cellXfs=[],h4(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)n[n.length]=o6(i,r,e);return n.unshift(l6(e,n,r)),WZ(n)}(e,t);case 4:case 3:case 2:return n6(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function d6(e,t,r,n){for(var i=e["!merges"]||[],a=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>s)&&!(i[c].e.r<r||i[c].e.c<s)){if(i[c].s.r<r||i[c].s.c<s){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var d=Y1({r:r,c:s}),u=n.dense?(e[r]||[])[s]:e[d],h=u&&null!=u.v&&(u.h||v0(u.w||(J1(u),u.w)||""))||"",f={};o>1&&(f.rowspan=o),l>1&&(f.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":u&&(f["data-t"]=u&&u.t||"z",null!=u.v&&(f["data-v"]=u.v),null!=u.z&&(f["data-z"]=u.z),u.l&&"#"!=(u.l.Target||"#").charAt(0)&&(h='<a href="'+u.l.Target+'">'+h+"</a>")),f.id=(n.id||"sjs")+"-"+d,a.push(T0("td",h,f))}}return"<tr>"+a.join("")+"</tr>"}var u6='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',h6="</body></html>";function f6(e,t,r){return[].join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function p6(e,t){var r=t||{},n=null!=r.header?r.header:u6,i=null!=r.footer?r.footer:h6,a=[n],s=X1(e["!ref"]);r.dense=Array.isArray(e),a.push(f6(0,0,r));for(var o=s.s.r;o<=s.e.r;++o)a.push(d6(e,s,o,r));return a.push("</table>"+i),a.join("")}function m6(e,t,r){var n=r||{};var i=0,a=0;if(null!=n.origin)if("number"==typeof n.origin)i=n.origin;else{var s="string"==typeof n.origin?K1(n.origin):n.origin;i=s.r,a=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var d=X1(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),-1==i&&(c.e.r=i=d.e.r+1)}var u=[],h=0,f=e["!rows"]||(e["!rows"]=[]),p=0,m=0,g=0,x=0,y=0,v=0;for(e["!cols"]||(e["!cols"]=[]);p<o.length&&m<l;++p){var b=o[p];if(x6(b)){if(n.display)continue;f[m]={hidden:!0}}var w=b.children;for(g=x=0;g<w.length;++g){var j=w[g];if(!n.display||!x6(j)){var N=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):A0(j.innerHTML),_=j.getAttribute("data-z")||j.getAttribute("z");for(h=0;h<u.length;++h){var k=u[h];k.s.c==x+a&&k.s.r<m+i&&m+i<=k.e.r&&(x=k.e.c+1-a,h=-1)}v=+j.getAttribute("colspan")||1,((y=+j.getAttribute("rowspan")||1)>1||v>1)&&u.push({s:{r:m+i,c:x+a},e:{r:m+i+(y||1)-1,c:x+a+(v||1)-1}});var S={t:"s",v:N},A=j.getAttribute("data-t")||j.getAttribute("t")||"";null!=N&&(0==N.length?S.t=A||"z":n.raw||0==N.trim().length||"s"==A||("TRUE"===N?S={t:"b",v:!0}:"FALSE"===N?S={t:"b",v:!1}:isNaN(s0(N))?isNaN(l0(N).getDate())||(S={t:"d",v:r0(N)},n.cellDates||(S={t:"n",v:YJ(S.v)}),S.z=n.dateNF||tJ[14]):S={t:"n",v:s0(N)})),void 0===S.z&&null!=_&&(S.z=_);var C="",E=j.getElementsByTagName("A");if(E&&E.length)for(var P=0;P<E.length&&(!E[P].hasAttribute("href")||"#"==(C=E[P].getAttribute("href")).charAt(0));++P);C&&"#"!=C.charAt(0)&&(S.l={Target:C}),n.dense?(e[m+i]||(e[m+i]=[]),e[m+i][x+a]=S):e[Y1({c:x+a,r:m+i})]=S,c.e.c<x+a&&(c.e.c=x+a),x+=v}}++m}return u.length&&(e["!merges"]=(e["!merges"]||[]).concat(u)),c.e.r=Math.max(c.e.r,m-1+i),e["!ref"]=Q1(c),m>=l&&(e["!fullref"]=Q1((c.e.r=o.length-p+m-1+i,c))),e}function g6(e,t){return m6((t||{}).dense?[]:{},e,t)}function x6(e){var t="",r=function(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}var y6=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+P0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return u0+t}}(),v6=function(){var e=function(e){return g0(e).replace(/  +/g,function(e){return'<text:s text:c="'+e.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",r=function(r,n,i){var a=[];a.push('      <table:table table:name="'+g0(n.SheetNames[i])+'" table:style-name="ta1">\n');var s=0,o=0,l=X1(r["!ref"]||"A1"),c=r["!merges"]||[],d=0,u=Array.isArray(r);if(r["!cols"])for(o=0;o<=l.e.c;++o)a.push("        <table:table-column"+(r["!cols"][o]?' table:style-name="co'+r["!cols"][o].ods+'"':"")+"></table:table-column>\n");var h="",f=r["!rows"]||[];for(s=0;s<l.s.r;++s)h=f[s]?' table:style-name="ro'+f[s].ods+'"':"",a.push("        <table:table-row"+h+"></table:table-row>\n");for(;s<=l.e.r;++s){for(h=f[s]?' table:style-name="ro'+f[s].ods+'"':"",a.push("        <table:table-row"+h+">\n"),o=0;o<l.s.c;++o)a.push(t);for(;o<=l.e.c;++o){var p=!1,m={},g="";for(d=0;d!=c.length;++d)if(!(c[d].s.c>o)&&!(c[d].s.r>s)&&!(c[d].e.c<o)&&!(c[d].e.r<s)){c[d].s.c==o&&c[d].s.r==s||(p=!0),m["table:number-columns-spanned"]=c[d].e.c-c[d].s.c+1,m["table:number-rows-spanned"]=c[d].e.r-c[d].s.r+1;break}if(p)a.push("          <table:covered-table-cell/>\n");else{var x=Y1({r:s,c:o}),y=u?(r[s]||[])[o]:r[x];if(y&&y.f&&(m["table:formula"]=g0(s4(y.f)),y.F&&y.F.slice(0,x.length)==x)){var v=X1(y.F);m["table:number-matrix-columns-spanned"]=v.e.c-v.s.c+1,m["table:number-matrix-rows-spanned"]=v.e.r-v.s.r+1}if(y){switch(y.t){case"b":g=y.v?"TRUE":"FALSE",m["office:value-type"]="boolean",m["office:boolean-value"]=y.v?"true":"false";break;case"n":g=y.w||String(y.v||0),m["office:value-type"]="float",m["office:value"]=y.v||0;break;case"s":case"str":g=null==y.v?"":y.v,m["office:value-type"]="string";break;case"d":g=y.w||r0(y.v).toISOString(),m["office:value-type"]="date",m["office:date-value"]=r0(y.v).toISOString(),m["table:style-name"]="ce1";break;default:a.push(t);continue}var b=e(g);if(y.l&&y.l.Target){var w=y.l.Target;"#"==(w="#"==w.charAt(0)?"#"+o4(w.slice(1)):w).charAt(0)||w.match(/^\w+:/)||(w="../"+w),b=T0("text:a",b,{"xlink:href":w.replace(/&/g,"&amp;")})}a.push("          "+T0("table:table-cell",T0("text:p",b,{}),m)+"\n")}else a.push(t)}}a.push("        </table:table-row>\n")}return a.push("      </table:table>\n"),a.join("")};return function(e,t){var n=[u0],i=P0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),a=P0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==t.bookType?(n.push("<office:document"+i+a+">\n"),n.push(H2().replace(/office:document-meta/g,"office:meta"))):n.push("<office:document-content"+i+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var r=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!cols"])for(var n=0;n<t["!cols"].length;++n)if(t["!cols"][n]){var i=t["!cols"][n];if(null==i.width&&null==i.wpx&&null==i.wch)continue;K5(i),i.ods=r;var a=t["!cols"][n].wpx+"px";e.push('  <style:style style:name="co'+r+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+a+'"/>\n'),e.push("  </style:style>\n"),++r}});var n=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!rows"])for(var r=0;r<t["!rows"].length;++r)if(t["!rows"][r]){t["!rows"][r].ods=n;var i=t["!rows"][r].hpx+"px";e.push('  <style:style style:name="ro'+n+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+i+'"/>\n'),e.push("  </style:style>\n"),++n}}),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(n,e),n.push("  <office:body>\n"),n.push("    <office:spreadsheet>\n");for(var s=0;s!=e.SheetNames.length;++s)n.push(r(e.Sheets[e.SheetNames[s]],e,s));return n.push("    </office:spreadsheet>\n"),n.push("  </office:body>\n"),"fods"==t.bookType?n.push("</office:document>"):n.push("</office:document-content>"),n.join("")}}();function b6(e,t){if("fods"==t.bookType)return v6(e,t);var r=d0(),n="",i=[],a=[];return c0(r,n="mimetype","application/vnd.oasis.opendocument.spreadsheet"),c0(r,n="content.xml",v6(e,t)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),c0(r,n="styles.xml",y6(e,t)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),c0(r,n="meta.xml",u0+H2()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),c0(r,n="manifest.rdf",function(e){var t=[u0];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var r=0;r!=e.length;++r)t.push(q2(e[r][0],e[r][1])),t.push(W2("",e[r][0]));return t.push(q2("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(a)),i.push([n,"application/rdf+xml"]),c0(r,n="META-INF/manifest.xml",function(e){var t=[u0];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(i)),r}function w6(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function j6(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):zZ(S0(e))}function N6(e){var t=e.reduce(function(e,t){return e+t.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(e){r.set(e,n),n+=e.length}),r}function _6(e,t){var r=t?t[0]:0,n=127&e[r];e:if(e[r++]>=128){if(n|=(127&e[r])<<7,e[r++]<128)break e;if(n|=(127&e[r])<<14,e[r++]<128)break e;if(n|=(127&e[r])<<21,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,28),++r,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,35),++r,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,42),++r,e[r++]<128)break e}return t&&(t[0]=r),n}function k6(e){var t=new Uint8Array(7);t[0]=127&e;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383)break e;if(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)break e;if(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)break e;if(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)break e;if(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103)break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function S6(e){var t=0,r=127&e[t];e:if(e[t++]>=128){if(r|=(127&e[t])<<7,e[t++]<128)break e;if(r|=(127&e[t])<<14,e[t++]<128)break e;if(r|=(127&e[t])<<21,e[t++]<128)break e;r|=(127&e[t])<<28}return r}function A6(e){for(var t=[],r=[0];r[0]<e.length;){var n,i=r[0],a=_6(e,r),s=7&a,o=0;if(0==(a=Math.floor(a/8)))break;switch(s){case 0:for(var l=r[0];e[r[0]++]>=128;);n=e.slice(l,r[0]);break;case 5:o=4,n=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,n=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=_6(e,r),n=e.slice(r[0],r[0]+o),r[0]+=o;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(i))}var c={data:n,type:s};null==t[a]?t[a]=[c]:t[a].push(c)}return t}function C6(e){var t=[];return e.forEach(function(e,r){e.forEach(function(e){e.data&&(t.push(k6(8*r+e.type)),2==e.type&&t.push(k6(e.data.length)),t.push(e.data))})}),N6(t)}function E6(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=_6(e,n),a=A6(e.slice(n[0],n[0]+i));n[0]+=i;var s={id:S6(a[1][0].data),messages:[]};a[2].forEach(function(t){var r=A6(t.data),i=S6(r[3][0].data);s.messages.push({meta:r,data:e.slice(n[0],n[0]+i)}),n[0]+=i}),(null==(t=a[3])?void 0:t[0])&&(s.merge=S6(a[3][0].data)>>>0>0),r.push(s)}return r}function P6(e){var t=[];return e.forEach(function(e){var r=[];r[1]=[{data:k6(e.id),type:0}],r[2]=[],null!=e.merge&&(r[3]=[{data:k6(+!!e.merge),type:0}]);var n=[];e.messages.forEach(function(e){n.push(e.data),e.meta[3]=[{type:0,data:k6(e.data.length)}],r[2].push({data:C6(e.meta),type:2})});var i=C6(r);t.push(k6(i.length)),t.push(i),n.forEach(function(e){return t.push(e)})}),N6(t)}function T6(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=_6(t,r),i=[];r[0]<t.length;){var a=3&t[r[0]];if(0!=a){var s=0,o=0;if(1==a?(o=4+(t[r[0]]>>2&7),s=(224&t[r[0]++])<<3,s|=t[r[0]++]):(o=1+(t[r[0]++]>>2),2==a?(s=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(s=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[N6(i)],0==s)throw new Error("Invalid offset 0");if(s>i[0].length)throw new Error("Invalid offset beyond length");if(o>=s)for(i.push(i[0].slice(-s)),o-=s;o>=i[i.length-1].length;)i.push(i[i.length-1]),o-=i[i.length-1].length;i.push(i[0].slice(-s,-s+o))}else{var l=t[r[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[r[0]],c>1&&(l|=t[r[0]+1]<<8),c>2&&(l|=t[r[0]+2]<<16),c>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=c}i.push(t.slice(r[0],r[0]+l)),r[0]+=l}}var d=N6(i);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function O6(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(T6(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return N6(t)}function I6(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var a=k6(n),s=a.length;t.push(a),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,i[0]=0,i[1]=255&s,i[2]=s>>8&255,i[3]=s>>16&255,r+=n}return N6(t)}function L6(e,t){var r=new Uint8Array(32),n=w6(r),i=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,function(e,t,r){var n=Math.floor(0==r?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(127&n)<<1;for(var a=0;i>=1;++a,i/=256)e[t+a]=255&i;e[t+15]|=r>=0?0:128}(r,i,e.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,i)}function D6(e,t){var r=new Uint8Array(32),n=w6(r),i=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(i,e.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,i)}function M6(e){return _6(A6(e)[1][0].data)}function R6(e,t,r){var n,i,a,s;if(!(null==(n=e[6])?void 0:n[0])||!(null==(i=e[7])?void 0:i[0]))throw"Mutation only works on post-BNC storages!";if((null==(s=null==(a=e[8])?void 0:a[0])?void 0:s.data)&&S6(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var o=0,l=w6(e[7][0].data),c=0,d=[],u=w6(e[4][0].data),h=0,f=[],p=0;p<t.length;++p)if(null!=t[p]){var m,g;switch(l.setUint16(2*p,c,!0),u.setUint16(2*p,h,!0),typeof t[p]){case"string":m=L6({t:"s",v:t[p]},r),g=D6({t:"s",v:t[p]},r);break;case"number":m=L6({t:"n",v:t[p]},r),g=D6({t:"n",v:t[p]},r);break;case"boolean":m=L6({t:"b",v:t[p]},r),g=D6({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}d.push(m),c+=m.length,f.push(g),h+=g.length,++o}else l.setUint16(2*p,65535,!0),u.setUint16(2*p,65535);for(e[2][0].data=k6(o);p<e[7][0].data.length/2;++p)l.setUint16(2*p,65535,!0),u.setUint16(2*p,65535,!0);return e[6][0].data=N6(d),e[3][0].data=N6(f),o}function F6(e){return function(t){for(var r=0;r!=e.length;++r){var n=e[r];void 0===t[n[0]]&&(t[n[0]]=n[1]),"n"===n[2]&&(t[n[0]]=Number(t[n[0]]))}}}function B6(e){F6([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function z6(e,t){return"ods"==t.bookType?b6(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=X1(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Q1(n)));var a=Q6(r,{range:n,header:1}),s=["~Sh33tJ5~"];a.forEach(function(e){return e.forEach(function(e){"string"==typeof e&&s.push(e)})});var o={},l=[],c=BJ.read(t.numbers,{type:"base64"});c.FileIndex.map(function(e,t){return[e,c.FullPaths[t]]}).forEach(function(e){var t=e[0],r=e[1];2==t.type&&t.name.match(/\.iwa/)&&E6(O6(t.content)).forEach(function(e){l.push(e.id),o[e.id]={deps:[],location:r,type:S6(e.messages[0].meta[1][0].data)}})}),l.sort(function(e,t){return e-t});var d=l.filter(function(e){return e>1}).map(function(e){return[e,k6(e)]});c.FileIndex.map(function(e,t){return[e,c.FullPaths[t]]}).forEach(function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&E6(O6(t.content)).forEach(function(e){e.messages.forEach(function(t){d.forEach(function(t){e.messages.some(function(e){return 11006!=S6(e.meta[1][0].data)&&function(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}(e.data,t[1])})&&o[t[0]].deps.push(e.id)})})})});for(var u,h=BJ.find(c,o[1].location),f=E6(O6(h.content)),p=0;p<f.length;++p){var m=f[p];1==m.id&&(u=m)}var g=M6(A6(u.messages[0].data)[1][0].data);for(f=E6(O6((h=BJ.find(c,o[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(u=m);for(g=M6(A6(u.messages[0].data)[2][0].data),f=E6(O6((h=BJ.find(c,o[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(u=m);for(g=M6(A6(u.messages[0].data)[2][0].data),f=E6(O6((h=BJ.find(c,o[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(u=m);var x=A6(u.messages[0].data);x[6][0].data=k6(n.e.r+1),x[7][0].data=k6(n.e.c+1);for(var y=M6(x[46][0].data),v=BJ.find(c,o[y].location),b=E6(O6(v.content)),w=0;w<b.length&&b[w].id!=y;++w);if(b[w].id!=y)throw"Bad ColumnRowUIDMapArchive";var j=A6(b[w].messages[0].data);j[1]=[],j[2]=[],j[3]=[];for(var N=0;N<=n.e.c;++N){var _=[];_[1]=_[2]=[{type:0,data:k6(N+420690)}],j[1].push({type:2,data:C6(_)}),j[2].push({type:0,data:k6(N)}),j[3].push({type:0,data:k6(N)})}j[4]=[],j[5]=[],j[6]=[];for(var k=0;k<=n.e.r;++k)(_=[])[1]=_[2]=[{type:0,data:k6(k+726270)}],j[4].push({type:2,data:C6(_)}),j[5].push({type:0,data:k6(k)}),j[6].push({type:0,data:k6(k)});b[w].messages[0].data=C6(j),v.content=I6(P6(b)),v.size=v.content.length,delete x[46];var S=A6(x[4][0].data);S[7][0].data=k6(n.e.r+1);var A=M6(A6(S[1][0].data)[2][0].data);if((b=E6(O6((v=BJ.find(c,o[A].location)).content)))[0].id!=A)throw"Bad HeaderStorageBucket";var C=A6(b[0].messages[0].data);for(k=0;k<a.length;++k){var E=A6(C[2][0].data);E[1][0].data=k6(k),E[4][0].data=k6(a[k].length),C[2][k]={type:C[2][0].type,data:C6(E)}}b[0].messages[0].data=C6(C),v.content=I6(P6(b)),v.size=v.content.length;var P=M6(S[2][0].data);if((b=E6(O6((v=BJ.find(c,o[P].location)).content)))[0].id!=P)throw"Bad HeaderStorageBucket";for(C=A6(b[0].messages[0].data),N=0;N<=n.e.c;++N)(E=A6(C[2][0].data))[1][0].data=k6(N),E[4][0].data=k6(n.e.r+1),C[2][N]={type:C[2][0].type,data:C6(E)};b[0].messages[0].data=C6(C),v.content=I6(P6(b)),v.size=v.content.length;var T=M6(S[4][0].data);!function(){for(var e,t=BJ.find(c,o[T].location),r=E6(O6(t.content)),n=0;n<r.length;++n){var i=r[n];i.id==T&&(e=i)}var a=A6(e.messages[0].data);a[3]=[];var l=[];s.forEach(function(e,t){l[1]=[{type:0,data:k6(t)}],l[2]=[{type:0,data:k6(1)}],l[3]=[{type:2,data:j6(e)}],a[3].push({type:2,data:C6(l)})}),e.messages[0].data=C6(a);var d=I6(P6(r));t.content=d,t.size=t.content.length}();var O=A6(S[3][0].data),I=O[1][0];delete O[2];var L=A6(I.data),D=M6(L[2][0].data);!function(){for(var e,t=BJ.find(c,o[D].location),r=E6(O6(t.content)),i=0;i<r.length;++i){var l=r[i];l.id==D&&(e=l)}var d=A6(e.messages[0].data);delete d[6],delete O[7];var u=new Uint8Array(d[5][0].data);d[5]=[];for(var h=0,f=0;f<=n.e.r;++f){var p=A6(u);h+=R6(p,a[f],s),p[1][0].data=k6(f),d[5].push({data:C6(p),type:2})}d[1]=[{type:0,data:k6(n.e.c+1)}],d[2]=[{type:0,data:k6(n.e.r+1)}],d[3]=[{type:0,data:k6(h)}],d[4]=[{type:0,data:k6(n.e.r+1)}],e.messages[0].data=C6(d);var m=I6(P6(r));t.content=m,t.size=t.content.length}(),I.data=C6(L),S[3][0].data=C6(O),x[4][0].data=C6(S),u.messages[0].data=C6(x);var M=I6(P6(f));return h.content=M,h.size=h.content.length,c}(e,t):"xlsb"==t.bookType?function(e,t){p3=1024,e&&!e.SSF&&(e.SSF=i0(tJ));e&&e.SSF&&(MJ(),DJ(e.SSF),t.revssf=GJ(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,l4?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xlsb"==t.bookType?"bin":"xml",n=b3.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};B6(t=t||{});var a=d0(),s="",o=0;t.cellXfs=[],h4(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(s="docProps/core.xml",c0(a,s,K2(e.Props,t)),i.coreprops.push(s),U2(t.rels,2,s,F2.CORE_PROPS),s="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,c0(a,s,Q2(e.Props)),i.extprops.push(s),U2(t.rels,3,s,F2.EXT_PROPS),e.Custprops!==e.Props&&WJ(e.Custprops||{}).length>0&&(c0(a,s="docProps/custom.xml",$2(e.Custprops)),i.custprops.push(s),U2(t.rels,4,s,F2.CUST_PROPS));for(o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},u=e.Sheets[e.SheetNames[o-1]];(u||{})["!type"];if(c0(a,s="xl/worksheets/sheet"+o+"."+r,U4(o-1,s,t,e,d)),i.sheets.push(s),U2(t.wbrels,-1,"worksheets/sheet"+o+"."+r,F2.WS[0]),u){var h=u["!comments"],f=!1,p="";h&&h.length>0&&(c0(a,p="xl/comments"+o+"."+r,q4(h,p,t)),i.comments.push(p),U2(d,-1,"../comments"+o+"."+r,F2.CMNT),f=!0),u["!legacy"]&&f&&c0(a,"xl/drawings/vmlDrawing"+o+".vml",m3(o,u["!comments"])),delete u["!comments"],delete u["!legacy"]}d["!id"].rId1&&c0(a,B2(s),z2(d))}null!=t.Strings&&t.Strings.length>0&&(c0(a,s="xl/sharedStrings."+r,function(e,t,r){return(".bin"===t.slice(-4)?F5:M5)(e,r)}(t.Strings,s,t)),i.strs.push(s),U2(t.wbrels,-1,"sharedStrings."+r,F2.SST));s="xl/workbook."+r,c0(a,s,function(e,t,r){return(".bin"===t.slice(-4)?z4:R4)(e,r)}(e,s,t)),i.workbooks.push(s),U2(t.rels,1,s,F2.WB),s="xl/theme/theme1.xml",c0(a,s,u3(e.Themes,t)),i.themes.push(s),U2(t.wbrels,-1,"theme/theme1.xml",F2.THEME),s="xl/styles."+r,c0(a,s,function(e,t,r){return(".bin"===t.slice(-4)?d3:$5)(e,r)}(e,s,t)),i.styles.push(s),U2(t.wbrels,-1,"styles."+r,F2.STY),e.vbaraw&&n&&(c0(a,s="xl/vbaProject.bin",e.vbaraw),i.vba.push(s),U2(t.wbrels,-1,"vbaProject.bin",F2.VBA));return s="xl/metadata."+r,c0(a,s,function(e){return(".bin"===e.slice(-4)?h3:f3)()}(s)),i.metadata.push(s),U2(t.wbrels,-1,"metadata."+r,F2.XLMETA),c0(a,"[Content_Types].xml",R2(i,t)),c0(a,"_rels/.rels",z2(t.rels)),c0(a,"xl/_rels/workbook."+r+".rels",z2(t.wbrels)),delete t.revssf,delete t.ssf,a}(e,t):U6(e,t)}function U6(e,t){p3=1024,e&&!e.SSF&&(e.SSF=i0(tJ)),e&&e.SSF&&(MJ(),DJ(e.SSF),t.revssf=GJ(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,l4?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=b3.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};B6(t=t||{});var a=d0(),s="",o=0;if(t.cellXfs=[],h4(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),c0(a,s="docProps/core.xml",K2(e.Props,t)),i.coreprops.push(s),U2(t.rels,2,s,F2.CORE_PROPS),s="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,c0(a,s,Q2(e.Props)),i.extprops.push(s),U2(t.rels,3,s,F2.EXT_PROPS),e.Custprops!==e.Props&&WJ(e.Custprops||{}).length>0&&(c0(a,s="docProps/custom.xml",$2(e.Custprops)),i.custprops.push(s),U2(t.rels,4,s,F2.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},h=e.Sheets[e.SheetNames[o-1]];(h||{})["!type"];if(c0(a,s="xl/worksheets/sheet"+o+"."+r,x4(o-1,t,e,u)),i.sheets.push(s),U2(t.wbrels,-1,"worksheets/sheet"+o+"."+r,F2.WS[0]),h){var f=h["!comments"],p=!1,m="";if(f&&f.length>0){var g=!1;f.forEach(function(e){e[1].forEach(function(e){1==e.T&&(g=!0)})}),g&&(c0(a,m="xl/threadedComments/threadedComment"+o+"."+r,x3(f,d,t)),i.threadedcomments.push(m),U2(u,-1,"../threadedComments/threadedComment"+o+"."+r,F2.TCMNT)),c0(a,m="xl/comments"+o+"."+r,g3(f)),i.comments.push(m),U2(u,-1,"../comments"+o+"."+r,F2.CMNT),p=!0}h["!legacy"]&&p&&c0(a,"xl/drawings/vmlDrawing"+o+".vml",m3(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&c0(a,B2(s),z2(u))}return null!=t.Strings&&t.Strings.length>0&&(c0(a,s="xl/sharedStrings."+r,M5(t.Strings,t)),i.strs.push(s),U2(t.wbrels,-1,"sharedStrings."+r,F2.SST)),c0(a,s="xl/workbook."+r,R4(e)),i.workbooks.push(s),U2(t.rels,1,s,F2.WB),c0(a,s="xl/theme/theme1.xml",u3(e.Themes,t)),i.themes.push(s),U2(t.wbrels,-1,"theme/theme1.xml",F2.THEME),c0(a,s="xl/styles."+r,$5(e,t)),i.styles.push(s),U2(t.wbrels,-1,"styles."+r,F2.STY),e.vbaraw&&n&&(c0(a,s="xl/vbaProject.bin",e.vbaraw),i.vba.push(s),U2(t.wbrels,-1,"vbaProject.bin",F2.VBA)),c0(a,s="xl/metadata."+r,f3()),i.metadata.push(s),U2(t.wbrels,-1,"metadata."+r,F2.XLMETA),d.length>1&&(c0(a,s="xl/persons/person.xml",function(e){var t=[u0,T0("personList",null,{xmlns:F0,"xmlns:x":G0[0]}).replace(/[\/]>/,">")];return e.forEach(function(e,r){t.push(T0("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}(d)),i.people.push(s),U2(t.wbrels,-1,"persons/person.xml",F2.PEOPLE)),c0(a,"[Content_Types].xml",R2(i,t)),c0(a,"_rels/.rels",z2(t.rels)),c0(a,"xl/_rels/workbook.xml.rels",z2(t.wbrels)),delete t.revssf,delete t.ssf,a}function q6(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=DZ(e.slice(0,12));break;case"binary":r=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function W6(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return qJ(t.file,BJ.write(e,{type:MZ?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return BJ.write(e,t)}function H6(e,t){var r={},n=MZ?"nodebuffer":"undefined"!==typeof Uint8Array?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?BJ.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if("undefined"!==typeof Deno&&"string"==typeof i){if("binary"==t.type||"base64"==t.type)return i;i=new Uint8Array(UZ(i))}return t.password&&"undefined"!==typeof encrypt_agile?W6(encrypt_agile(i,t.password),t):"file"===t.type?qJ(t.file,i):"string"==t.type?k0(i):i}function V6(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return LZ(S0(n));case"binary":return S0(n);case"string":return e;case"file":return qJ(t.file,n,"utf8");case"buffer":return MZ?RZ(n,"utf8"):"undefined"!==typeof TextEncoder?(new TextEncoder).encode(n):V6(n,{type:"binary"}).split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function G6(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return"base64"==t.type?LZ(r):"string"==t.type?k0(r):r;case"file":return qJ(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function K6(e,t){CZ(),M4(e);var r=i0(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),"array"==r.type){r.type="binary";var n=K6(e,r);return r.type="array",UZ(n)}var i=0;if(r.sheet&&(i="number"==typeof r.sheet?r.sheet:e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return V6(Y4(e,r),r);case"slk":case"sylk":return V6(P5.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return V6(p6(e.Sheets[e.SheetNames[i]],r),r);case"txt":return function(e,t){switch(t.type){case"base64":return LZ(e);case"binary":case"string":return e;case"file":return qJ(t.file,e,"binary");case"buffer":return MZ?RZ(e,"binary"):e.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}(e8(e.Sheets[e.SheetNames[i]],r),r);case"csv":return V6(J6(e.Sheets[e.SheetNames[i]],r),r,"\ufeff");case"dif":return V6(T5.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return G6(E5.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return V6(I5.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return V6(U5.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return V6(O5.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return V6(b6(e,r),r);case"wk1":return G6(L5.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return G6(L5.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),G6(c6(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),function(e,t){var r=t||{};return W6(Z4(e,r),r)}(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function(e,t){var r=i0(t||{});return H6(z6(e,r),r)}(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Y6(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}function X6(e,t,r,n,i,a,s,o){var l=H1(r),c=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),u=!0,h=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch(UX){h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var f=t.s.c;f<=t.e.c;++f){var p=s?e[r][f]:e[n[f]+l];if(void 0!==p&&void 0!==p.t){var m=p.v;switch(p.t){case"z":if(null==m)break;continue;case"e":m=0==m?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=a[f]){if(null==m)if("e"==p.t&&null===m)h[a[f]]=null;else if(void 0!==c)h[a[f]]=c;else{if(!d||null!==m)continue;h[a[f]]=null}else h[a[f]]=d&&("n"!==p.t||"n"===p.t&&!1!==o.rawNumbers)?m:J1(p,m,o);null!=m&&(u=!1)}}else{if(void 0===c)continue;null!=a[f]&&(h[a[f]]=c)}}return{row:h,isempty:u}}function Q6(e,t){if(null==e||null==e["!ref"])return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=null!=c.range?c.range:e["!ref"];switch(1===c.header?n=1:"A"===c.header?n=2:Array.isArray(c.header)?n=3:null==c.header&&(n=0),typeof d){case"string":l=$1(d);break;case"number":(l=$1(e["!ref"])).s.r=d;break;default:l=d}n>0&&(i=0);var u=H1(l.s.r),h=[],f=[],p=0,m=0,g=Array.isArray(e),x=l.s.r,y=0,v={};g&&!e[x]&&(e[x]=[]);var b=c.skipHidden&&e["!cols"]||[],w=c.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(b[y]||{}).hidden)switch(h[y]=G1(y),r=g?e[x][y]:e[h[y]+u],n){case 1:a[y]=y-l.s.c;break;case 2:a[y]=h[y];break;case 3:a[y]=c.header[y-l.s.c];break;default:if(null==r&&(r={w:"__EMPTY",t:"s"}),o=s=J1(r,null,c),m=v[s]||0){do{o=s+"_"+m++}while(v[o]);v[s]=m,v[o]=1}else v[s]=1;a[y]=o}for(x=l.s.r+i;x<=l.e.r;++x)if(!(w[x]||{}).hidden){var j=X6(e,l,x,h,n,a,g,c);(!1===j.isempty||(1===n?!1!==c.blankrows:c.blankrows))&&(f[p++]=j.row)}return f.length=p,f}var $6=/"/g;function Z6(e,t,r,n,i,a,s,o){for(var l=!0,c=[],d="",u=H1(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var f=o.dense?(e[r]||[])[h]:e[n[h]+u];if(null==f)d="";else if(null!=f.v){l=!1,d=""+(o.rawNumbers&&"n"==f.t?f.v:J1(f,null,o));for(var p=0,m=0;p!==d.length;++p)if((m=d.charCodeAt(p))===i||m===a||34===m||o.forceQuotes){d='"'+d.replace($6,'""')+'"';break}"ID"==d&&(d='"ID"')}else null==f.f||f.F?d="":(l=!1,(d="="+f.f).indexOf(",")>=0&&(d='"'+d.replace($6,'""')+'"'));c.push(d)}return!1===o.blankrows&&l?null:c.join(s)}function J6(e,t){var r=[],n=null==t?{}:t;if(null==e||null==e["!ref"])return"";var i=$1(e["!ref"]),a=void 0!==n.FS?n.FS:",",s=a.charCodeAt(0),o=void 0!==n.RS?n.RS:"\n",l=o.charCodeAt(0),c=new RegExp(("|"==a?"\\|":a)+"+$"),d="",u=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],f=n.skipHidden&&e["!rows"]||[],p=i.s.c;p<=i.e.c;++p)(h[p]||{}).hidden||(u[p]=G1(p));for(var m=0,g=i.s.r;g<=i.e.r;++g)(f[g]||{}).hidden||null!=(d=Z6(e,i,g,u,s,l,a,n))&&(n.strip&&(d=d.replace(c,"")),(d||!1!==n.blankrows)&&r.push((m++?o:"")+d));return delete n.dense,r.join("")}function e8(e,t){t||(t={}),t.FS="\t",t.RS="\n";var r=J6(e,t);if("undefined"==typeof PZ||"string"==t.type)return r;var n=PZ.utils.encode(1200,r,"str");return String.fromCharCode(255)+String.fromCharCode(254)+n}function t8(e,t,r){var n,i=r||{},a=+!i.skipHeader,s=e||{},o=0,l=0;if(s&&null!=i.origin)if("number"==typeof i.origin)o=i.origin;else{var c="string"==typeof i.origin?K1(i.origin):i.origin;o=c.r,l=c.c}var d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(s["!ref"]){var u=$1(s["!ref"]);d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),-1==o&&(o=u.e.r+1,d.e.r=o+t.length-1+a)}else-1==o&&(o=0,d.e.r=t.length-1+a);var h=i.header||[],f=0;t.forEach(function(e,t){WJ(e).forEach(function(r){-1==(f=h.indexOf(r))&&(h[f=h.length]=r);var c=e[r],d="z",u="",p=Y1({c:l+f,r:o+t+a});n=r8(s,p),!c||"object"!==typeof c||c instanceof Date?("number"==typeof c?d="n":"boolean"==typeof c?d="b":"string"==typeof c?d="s":c instanceof Date?(d="d",i.cellDates||(d="n",c=YJ(c)),u=i.dateNF||tJ[14]):null===c&&i.nullError&&(d="e",c=0),n?(n.t=d,n.v=c,delete n.w,delete n.R,u&&(n.z=u)):s[p]=n={t:d,v:c},u&&(n.z=u)):s[p]=c})}),d.e.c=Math.max(d.e.c,l+h.length-1);var p=H1(o);if(a)for(f=0;f<h.length;++f)s[G1(f+l)+p]={t:"s",v:h[f]};return s["!ref"]=Q1(d),s}function r8(e,t,r){if("string"==typeof t){if(Array.isArray(e)){var n=K1(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return r8(e,Y1("number"!=typeof t?t:{r:t,c:r||0}))}function n8(){return{SheetNames:[],Sheets:{}}}function i8(e,t,r,n){var i=1;if(!r)for(;i<=65535&&-1!=e.SheetNames.indexOf(r="Sheet"+i);++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&-1!=e.SheetNames.indexOf(r=s+i);++i);}if(D4(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function a8(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}var s8={encode_col:G1,encode_row:H1,encode_cell:Y1,encode_range:Q1,decode_col:V1,decode_row:W1,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:K1,decode_range:X1,format_cell:J1,sheet_add_aoa:t2,sheet_add_json:t8,sheet_add_dom:m6,aoa_to_sheet:r2,json_to_sheet:function(e,t){return t8(null,e,t)},table_to_sheet:g6,table_to_book:function(e,t){return e2(g6(e,t),t)},sheet_to_csv:J6,sheet_to_txt:e8,sheet_to_json:Q6,sheet_to_html:p6,sheet_to_formulae:function(e){var t,r="",n="";if(null==e||null==e["!ref"])return[];var i,a=$1(e["!ref"]),s="",o=[],l=[],c=Array.isArray(e);for(i=a.s.c;i<=a.e.c;++i)o[i]=G1(i);for(var d=a.s.r;d<=a.e.r;++d)for(s=H1(d),i=a.s.c;i<=a.e.c;++i)if(r=o[i]+s,n="",void 0!==(t=c?(e[d]||[])[i]:e[r])){if(null!=t.F){if(r=t.F,!t.f)continue;n=t.f,-1==r.indexOf(":")&&(r=r+":"+r)}if(null!=t.f)n=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)n=""+t.v;else if("b"==t.t)n=t.v?"TRUE":"FALSE";else if(void 0!==t.w)n="'"+t.w;else{if(void 0===t.v)continue;n="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=r+"="+n}return l},sheet_to_row_object_array:Q6,sheet_get_cell:r8,book_new:n8,book_append_sheet:i8,book_set_sheet_visibility:function(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:a8,cell_set_internal_link:function(e,t,r){return a8(e,"#"+t,r)},cell_add_comment:function(e,t,r){e.c||(e.c=[]),e.c.push({t:t,a:r||"SheetJS"})},sheet_set_array_formula:function(e,t,r,n){for(var i="string"!=typeof t?t:$1(t),a="string"==typeof t?t:Q1(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=r8(e,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};wZ.version;const o8=()=>{const[e,t]=(0,i.useState)([]),[r,n]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(null),[u,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)("");(0,i.useMemo)(()=>un(),[]);(0,i.useEffect)(()=>{(async()=>{try{const[e,r]=await Promise.all([mn.get("/users/"),mn.get("/employees")]),n=e.data||[],i=r.data||[],a=new Map;i.forEach(e=>{e.user_id&&a.set(e.user_id,e)});const s=n.map(e=>{var t,r,n,i;return{id:e.id,name:e.name,email:e.email,role:(null===(t=e.role)||void 0===t?void 0:t.name)||"Unknown",phone:e.phone,is_active:e.is_active,salary:(null===(r=a.get(e.id))||void 0===r?void 0:r.salary)||null,join_date:(null===(n=a.get(e.id))||void 0===n?void 0:n.join_date)||null,image_url:(null===(i=a.get(e.id))||void 0===i?void 0:i.image_url)||null,has_employee_record:a.has(e.id)}});t(s)}catch(e){console.error("Failed to fetch users:",e)}})()},[]);return(0,xn.jsxs)("div",{className:"space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end bg-gray-50 p-4 rounded-lg",children:[(0,xn.jsxs)("div",{className:"md:col-span-2",children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select User"}),(0,xn.jsxs)("select",{value:r,onChange:e=>n(e.target.value),className:"w-full p-2 border rounded-md",children:[(0,xn.jsx)("option",{value:"",children:"-- Select a User --"}),e.map(e=>(0,xn.jsxs)("option",{value:e.id,children:[e.name," (",e.role,") ",e.has_employee_record?"":"(Admin)"]},e.id))]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From"}),(0,xn.jsx)("input",{type:"date",value:a,onChange:e=>s(e.target.value),className:"w-full p-2 border rounded-md"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To"}),(0,xn.jsx)("input",{type:"date",value:o,onChange:e=>l(e.target.value),className:"w-full p-2 border rounded-md"})]})]}),(0,xn.jsx)("button",{onClick:async()=>{if(r){h(!0),p(""),d(null);try{const e={user_id:r};a&&""!==a.trim()&&(e.from_date=a),o&&""!==o.trim()&&(e.to_date=o);const t=await mn.get("/reports/user-history",{params:e});d(t.data)}catch(n){var e,t;p((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"An error occurred.")}finally{h(!1)}}},disabled:u||!r,className:"w-full bg-indigo-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-indigo-700 disabled:bg-gray-400",children:u?"Fetching...":"Get Activity Report"}),f&&(0,xn.jsx)("p",{className:"text-red-500",children:f}),c&&(0,xn.jsxs)("div",{className:"mt-6",children:[(0,xn.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:["Activity for ",c.user_name]}),(0,xn.jsx)("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:c.activities.length>0?c.activities.map((e,t)=>(0,xn.jsxs)("div",{className:"p-3 border rounded-lg bg-white shadow-sm",children:[(0,xn.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.activity_date).toLocaleString()}),(0,xn.jsx)("h4",{className:"font-bold",children:e.type}),(0,xn.jsx)("p",{className:"text-sm",children:e.description}),null!=e.amount&&(0,xn.jsxs)("span",{className:"text-sm font-semibold text-green-600",children:["Amount: ",Ju(e.amount)]})]},t)):(0,xn.jsx)("p",{children:"No activities found."})})]})]})},l8=()=>{const[e,t]=(0,i.useState)([]),[r,n]=(0,i.useState)([]),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)({employee_id:"",from_date:"",to_date:"",reason:"",leave_type:"Paid"});(0,i.useEffect)(()=>{mn.get("/employees").then(e=>n(e.data))},[]),(0,i.useEffect)(()=>{a?(d(e=>Fe(Fe({},e),{},{employee_id:a})),mn.get("/employees/leave/".concat(a)).then(e=>t(e.data)).catch(e=>console.error("Failed to fetch leaves",e))):t([])},[a]);const u=(r,n)=>{mn.put("/employees/leave/".concat(r,"/status/").concat(n)).then(n=>{t(e.map(e=>e.id===r?n.data:e))})},h=e=>{d(Fe(Fe({},c),{},{[e.target.name]:e.target.value}))};return(0,xn.jsxs)("div",{className:"space-y-4",children:[(0,xn.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,xn.jsx)("button",{onClick:()=>l(!o),className:"font-semibold text-indigo-600",children:o?"\u25bc Hide Form":"\u25b6 Create Leave Entry"}),o&&(0,xn.jsxs)(xu.form,{onSubmit:async r=>{r.preventDefault();try{const r=await mn.post("/employees/leave",c);r.data.employee_id===parseInt(a)&&t([r.data,...e]),d({employee_id:"",from_date:"",to_date:"",reason:"",leave_type:"Paid"}),l(!1)}catch(n){console.error("Failed to create leave",n),alert("Failed to create leave request.")}},initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 space-y-3",children:[(0,xn.jsxs)("select",{name:"employee_id",value:c.employee_id,onChange:h,className:"w-full p-2 border rounded-md",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"-- Select Employee --"}),r.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,xn.jsxs)("select",{name:"leave_type",value:c.leave_type,onChange:h,className:"w-full p-2 border rounded-md",required:!0,children:[(0,xn.jsx)("option",{value:"Paid",children:"Paid Leave"}),(0,xn.jsx)("option",{value:"Sick",children:"Sick Leave"}),(0,xn.jsx)("option",{value:"Unpaid",children:"Unpaid Leave"})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,xn.jsx)("input",{type:"date",name:"from_date",value:c.from_date,onChange:h,className:"w-full p-2 border rounded-md",required:!0}),(0,xn.jsx)("input",{type:"date",name:"to_date",value:c.to_date,onChange:h,className:"w-full p-2 border rounded-md",required:!0})]}),(0,xn.jsx)("input",{type:"text",name:"reason",placeholder:"Reason for leave",value:c.reason,onChange:h,className:"w-full p-2 border rounded-md",required:!0}),(0,xn.jsx)("button",{type:"submit",className:"w-full bg-green-600 text-white px-4 py-2 rounded-md",children:"Submit Leave"})]})]}),(0,xn.jsx)("h3",{className:"text-lg font-semibold pt-4 border-t",children:"View Existing Leaves"}),(0,xn.jsxs)("select",{value:a,onChange:e=>s(e.target.value),className:"w-full p-2 border rounded-md",children:[(0,xn.jsx)("option",{value:"",children:"Select Employee to view leaves"}),r.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,xn.jsxs)("div",{className:"overflow-x-auto max-h-96",children:[a&&0===e.length&&(0,xn.jsx)("p",{className:"text-center text-gray-500 py-4",children:"No leave records found for this employee."}),(0,xn.jsxs)("table",{className:"min-w-full bg-white",children:[(0,xn.jsx)("thead",{className:"bg-gray-100",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"py-2 px-4",children:"From"}),(0,xn.jsx)("th",{className:"py-2 px-4",children:"To"}),(0,xn.jsx)("th",{className:"py-2 px-4",children:"Reason"}),(0,xn.jsx)("th",{className:"py-2 px-4",children:"Type"}),(0,xn.jsx)("th",{className:"py-2 px-4",children:"Status"}),(0,xn.jsx)("th",{className:"py-2 px-4",children:"Actions"})]})}),(0,xn.jsx)("tbody",{children:e.length>0&&e.map(e=>(0,xn.jsxs)("tr",{className:"border-b",children:[(0,xn.jsx)("td",{className:"py-2 px-4",children:e.from_date}),(0,xn.jsx)("td",{className:"py-2 px-4",children:e.to_date}),(0,xn.jsx)("td",{className:"py-2 px-4",children:e.reason}),(0,xn.jsx)("td",{className:"py-2 px-4",children:e.leave_type}),(0,xn.jsx)("td",{className:"py-2 px-4",children:e.status}),(0,xn.jsx)("td",{className:"py-2 px-4 space-x-2",children:"pending"===e.status&&(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)("button",{onClick:()=>u(e.id,"approved"),className:"text-green-600",children:"Approve"}),(0,xn.jsx)("button",{onClick:()=>u(e.id,"rejected"),className:"text-red-600",children:"Reject"})]})})]},e.id))})]})]})]})},c8=()=>{const[e,t]=(0,i.useState)([]),[r,n]=(0,i.useState)(""),[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)({text:"",type:""}),[u,h]=(0,i.useState)({type:null,text:""}),f=(e,t)=>{h({type:e,text:t})},[p,m]=(0,i.useState)("Office"),[g,x]=(0,i.useState)(null);(0,i.useEffect)(()=>{mn.get("/employees").then(e=>t(e.data))},[]),(0,i.useEffect)(()=>{r?(l(!0),mn.get("/attendance/work-logs/".concat(r)).then(e=>{s(e.data||[]),e.data&&0!==e.data.length||console.log("No work logs found for this employee")}).catch(e=>{var t,r;console.error("Failed to fetch data",e);const n=null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail;f("error","string"===typeof n?n:"Failed to fetch employee records"),s([])}).finally(()=>l(!1))):s([])},[r]);const y=(e,t)=>{f(t,e)},v=(0,i.useMemo)(()=>{const e=a.reduce((e,t)=>{const r=t.date;e[r]||(e[r]={totalHours:0,logs:[],completedLogs:[],openLogs:[]});const n=t.duration_hours||0;return e[r].totalHours+=n,e[r].logs.push(t),t.check_out_time&&n>0?e[r].completedLogs.push(t):t.check_out_time||e[r].openLogs.push(t),e},{});return Object.entries(e).map(e=>{let[t,r]=e;const n=r.totalHours;let i="Absent",a="";n>=8?(i="Present",a="Full Day Present (8+ hours)"):n>=4&&n<8?(i="Half Day",a="Half Day (4-8 hours)"):n>0&&n<4?(i="Partial",a="Partial Day (".concat(n.toFixed(2)," hours)")):(i="Absent",a="No attendance recorded");const s=r.completedLogs.reduce((e,t)=>e+(t.duration_hours||0),0),o=r.openLogs.length,l=r.completedLogs.length;return{date:t,totalHours:n,status:i,statusDescription:a,logs:r.logs,completedLogs:r.completedLogs,openLogs:r.openLogs,completedHours:s,completedLogsCount:l,openLogsCount:o}}).sort((e,t)=>new Date(t.date)-new Date(e.date))},[a]);return(0,xn.jsxs)("div",{className:"space-y-6",children:[(0,xn.jsx)(PX,{message:u,onClose:()=>{h({type:null,text:""})},autoDismiss:!0,duration:5e3}),(0,xn.jsxs)("select",{value:r,onChange:e=>n(e.target.value),className:"w-full p-2 border rounded-md",children:[(0,xn.jsx)("option",{value:"",children:"-- Select an Employee --"}),e.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]}),r&&(0,xn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,xn.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold",children:"Live Attendance"}),(()=>{const e=a.some(e=>null===e.check_out_time||void 0===e.check_out_time);return(0,xn.jsxs)("div",{className:"p-2 rounded-md text-center text-sm font-semibold ".concat(e?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:["Status: ",e?"\ud83d\udfe2 Clocked In":"\u26aa Not Clocked In"]})})(),(0,xn.jsxs)("div",{className:"space-y-2",children:[(0,xn.jsx)("label",{htmlFor:"location-select",className:"block text-sm font-medium text-gray-700",children:"Location"}),(0,xn.jsxs)("select",{id:"location-select",value:p,onChange:e=>m(e.target.value),className:"w-full p-2 border rounded-md",children:[(0,xn.jsx)("option",{children:"Office"}),(0,xn.jsx)("option",{children:"Remote"}),(0,xn.jsx)("option",{children:"On-Site"})]})]}),(0,xn.jsxs)("div",{className:"flex space-x-2",children:[(0,xn.jsx)("button",{onClick:async()=>{if(!r)return y("Please select an employee.","error");try{const e=await mn.post("/attendance/clock-in",{employee_id:r,location:p});s([e.data,...a]),y("Clocked in successfully.","success")}catch(n){var e,t;const r=null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail;y("string"===typeof r?r:"Failed to clock in.","error")}},className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"Clock In"}),(0,xn.jsx)("button",{onClick:async()=>{if(!r)return y("Please select an employee.","error");const e=a.some(e=>null===e.check_out_time||void 0===e.check_out_time);if(!e)return y("Please clock in first before clocking out.","error");try{const e=await mn.post("/attendance/clock-out",{employee_id:r});s(a.map(t=>t.id===e.data.id?e.data:t).sort((e,t)=>new Date(t.date)-new Date(e.date)||t.id-e.id)),y("Clocked out successfully.","success")}catch(i){var t,n;const e=null===(t=i.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail;y("string"===typeof e?e:"Failed to clock out.","error")}},className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Clock Out"})]})]}),(0,xn.jsxs)("div",{className:"bg-white p-4 rounded-lg space-y-4 lg:col-span-2",children:[(0,xn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold",children:"Daily Attendance Summary"}),!o&&a.length>0&&(0,xn.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,xn.jsx)("span",{className:"font-semibold",children:"Total Records:"})," ",a.length]})]}),o&&(0,xn.jsx)("p",{className:"text-center text-gray-500",children:"Loading attendance records..."}),!o&&0===a.length&&(0,xn.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[(0,xn.jsx)("p",{className:"text-gray-600 font-medium",children:"No attendance records found for this employee."}),(0,xn.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Use the Clock In button above to create attendance records."})]}),!o&&a.length>0&&(0,xn.jsxs)("div",{className:"space-y-4",children:[(0,xn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:(()=>{const e=v.length,t=v.filter(e=>"Present"===e.status).length,r=v.filter(e=>"Half Day"===e.status).length,n=v.reduce((e,t)=>e+t.totalHours,0);return(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[(0,xn.jsx)("p",{className:"text-xs text-blue-600 font-medium",children:"Total Days"}),(0,xn.jsx)("p",{className:"text-lg font-bold text-blue-800",children:e})]}),(0,xn.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[(0,xn.jsx)("p",{className:"text-xs text-green-600 font-medium",children:"Present Days"}),(0,xn.jsx)("p",{className:"text-lg font-bold text-green-800",children:t})]}),(0,xn.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[(0,xn.jsx)("p",{className:"text-xs text-yellow-600 font-medium",children:"Half Days"}),(0,xn.jsx)("p",{className:"text-lg font-bold text-yellow-800",children:r})]}),(0,xn.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200",children:[(0,xn.jsx)("p",{className:"text-xs text-purple-600 font-medium",children:"Total Hours"}),(0,xn.jsx)("p",{className:"text-lg font-bold text-purple-800",children:n.toFixed(2)})]})]})})()}),(0,xn.jsx)("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:(0,xn.jsxs)("table",{className:"min-w-full bg-white text-sm",children:[(0,xn.jsx)("thead",{className:"bg-gray-100 sticky top-0 z-10",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-gray-700 border-b",children:"Date"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-gray-700 border-b",children:"Total Hours"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-gray-700 border-b",children:"Status"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-gray-700 border-b",children:"Sessions"}),(0,xn.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-gray-700 border-b",children:"Details"})]})}),(0,xn.jsx)("tbody",{children:v.map(e=>{return(0,xn.jsxs)(i.Fragment,{children:[(0,xn.jsxs)("tr",{className:"border-b hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>x(g===e.date?null:e.date),children:[(0,xn.jsx)("td",{className:"py-3 px-4 font-medium text-gray-800",children:new Date(e.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}),(0,xn.jsx)("td",{className:"py-3 px-4",children:(0,xn.jsxs)("div",{className:"flex flex-col",children:[(0,xn.jsxs)("span",{className:"font-semibold text-gray-900",children:[e.totalHours.toFixed(2)," hrs"]}),e.completedHours>0&&e.openLogsCount>0&&(0,xn.jsxs)("span",{className:"text-xs text-gray-500",children:[e.completedHours.toFixed(2)," completed"]})]})}),(0,xn.jsx)("td",{className:"py-3 px-4",children:(0,xn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,xn.jsx)("span",{className:"px-3 py-1 rounded-md text-xs font-semibold border ".concat((t=e.status,"Present"===t?"bg-green-100 text-green-800 border-green-300":"Half Day"===t?"bg-yellow-100 text-yellow-800 border-yellow-300":"Partial"===t?"bg-orange-100 text-orange-800 border-orange-300":"bg-red-100 text-red-800 border-red-300")),children:e.status}),(0,xn.jsx)("span",{className:"text-xs text-gray-500",children:e.statusDescription})]})}),(0,xn.jsx)("td",{className:"py-3 px-4",children:(0,xn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,xn.jsxs)("span",{className:"text-xs",children:[(0,xn.jsx)("span",{className:"font-semibold text-green-600",children:e.completedLogsCount})," completed"]}),e.openLogsCount>0&&(0,xn.jsxs)("span",{className:"text-xs",children:[(0,xn.jsx)("span",{className:"font-semibold text-orange-600",children:e.openLogsCount})," open"]})]})}),(0,xn.jsx)("td",{className:"py-3 px-4",children:(0,xn.jsx)("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:g===e.date?"\u25b2 Hide Details":"\u25bc Show Details"})})]}),g===e.date&&(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"5",className:"p-0 bg-gray-50",children:(0,xn.jsxs)("div",{className:"p-4 border-t-2 border-gray-200",children:[(0,xn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,xn.jsxs)("h4",{className:"font-semibold text-gray-800",children:["Detailed Logs for ",e.date]}),(0,xn.jsxs)("span",{className:"text-xs text-gray-500",children:["Total: ",e.totalHours.toFixed(2)," hours | Completed: ",e.completedHours.toFixed(2)," hours",e.openLogsCount>0&&" | Open: ".concat(e.openLogsCount," session(s)")]})]}),(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full bg-white text-xs border border-gray-200 rounded-lg",children:[(0,xn.jsx)("thead",{className:"bg-gray-100",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-gray-700 border-b",children:"Check-in Time"}),(0,xn.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-gray-700 border-b",children:"Check-out Time"}),(0,xn.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-gray-700 border-b",children:"Location"}),(0,xn.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-gray-700 border-b",children:"Duration"}),(0,xn.jsx)("th",{className:"py-2 px-3 text-left font-semibold text-gray-700 border-b",children:"Status"})]})}),(0,xn.jsx)("tbody",{children:e.logs.length>0?e.logs.map((e,t)=>{const r=!e.check_out_time,n=e.duration_hours||0;return(0,xn.jsxs)("tr",{className:"border-b last:border-b-0 ".concat(r?"bg-orange-50":""),children:[(0,xn.jsx)("td",{className:"py-2 px-3 font-medium",children:e.check_in_time||"N/A"}),(0,xn.jsx)("td",{className:"py-2 px-3",children:e.check_out_time||(0,xn.jsx)("span",{className:"text-orange-600 font-medium",children:"In Progress..."})}),(0,xn.jsx)("td",{className:"py-2 px-3",children:(0,xn.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:e.location||"N/A"})}),(0,xn.jsx)("td",{className:"py-2 px-3",children:n>0?(0,xn.jsxs)("span",{className:"font-semibold",children:[n.toFixed(2)," hrs"]}):(0,xn.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,xn.jsx)("td",{className:"py-2 px-3",children:r?(0,xn.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-orange-100 text-orange-800",children:"Open"}):(0,xn.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Completed"})})]},t)}):(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"5",className:"py-4 text-center text-gray-500",children:"No logs available for this date"})})})]})})]})})})]},e.date);var t})})]})})]})]})]})]})},d8=()=>{const[e,t]=(0,i.useState)([]),[r,n]=(0,i.useState)(""),[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)((new Date).toISOString().slice(0,7));(0,i.useEffect)(()=>{mn.get("/employees").then(e=>t(e.data))},[]),(0,i.useEffect)(()=>{r&&u()},[r,c]);const u=async()=>{if(!r)return;l(!0);const[e,t]=c.split("-"),n=parseInt(e,10),i=parseInt(t,10);try{const e=await mn.get("/attendance/monthly-report/".concat(r),{params:{year:n,month:i}});s(e.data)}catch(d){var a,o;console.error("Failed to fetch monthly report",d);const e=null===(a=d.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.detail,t="string"===typeof e?e:"Failed to load monthly report";console.error(t),s(null)}finally{l(!1)}},h=e=>{let{title:t,value:r,colorClass:n}=e;return(0,xn.jsxs)("div",{className:"p-4 rounded-lg shadow ".concat(n),children:[(0,xn.jsx)("p",{className:"text-sm font-medium",children:t}),(0,xn.jsx)("p",{className:"text-2xl font-bold",children:r})]})};return(0,xn.jsxs)("div",{className:"space-y-4",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[(0,xn.jsxs)("select",{value:r,onChange:e=>n(e.target.value),className:"w-full p-2 border rounded-md",children:[(0,xn.jsx)("option",{value:"",children:"-- Select Employee --"}),e.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,xn.jsx)("input",{type:"month",value:c,onChange:e=>d(e.target.value),className:"w-full p-2 border rounded-md"})]}),o&&(0,xn.jsx)("p",{children:"Loading report..."}),a&&!o&&(0,xn.jsxs)(xu.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4",children:[(0,xn.jsxs)("h3",{className:"text-xl font-bold",children:["Monthly Report for ",a.year&&a.month?new Date(a.year,a.month-1).toLocaleString("default",{month:"long",year:"numeric"}):c]}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,xn.jsx)(h,{title:"Total Days",value:a.total_days||0,colorClass:"bg-blue-100 text-blue-800"}),(0,xn.jsx)(h,{title:"Present Days",value:a.present_days||0,colorClass:"bg-green-100 text-green-800"}),(0,xn.jsx)(h,{title:"Paid Leaves",value:a.paid_leaves_taken||0,colorClass:"bg-yellow-100 text-yellow-800"}),(0,xn.jsx)(h,{title:"Unpaid/Absent",value:a.unpaid_leaves||0,colorClass:"bg-red-100 text-red-800"})]}),(0,xn.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,xn.jsx)("h4",{className:"font-semibold mb-2",children:"Annual Leave Balance"}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"font-medium",children:"Paid Leave"}),(0,xn.jsxs)("p",{children:["Balance: ",(0,xn.jsx)("span",{className:"font-bold",children:a.paid_leave_balance||0})," / ",a.total_paid_leaves_year||0]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"font-medium",children:"Sick Leave"}),(0,xn.jsxs)("p",{children:["Balance: ",(0,xn.jsx)("span",{className:"font-bold",children:a.sick_leave_balance||0})," / ",a.total_sick_leaves_year||0]})]})]})]}),(0,xn.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,xn.jsx)("h4",{className:"font-semibold mb-2",children:"Salary Calculation for the Month"}),(0,xn.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"font-medium text-gray-600",children:"Base Salary"}),(0,xn.jsx)("p",{className:"font-bold text-lg",children:Ju(a.base_salary||0)})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"font-medium text-red-600",children:"Deductions (Unpaid)"}),(0,xn.jsxs)("p",{className:"font-bold text-lg text-red-500",children:["- ",Ju(a.deductions||0)]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"font-medium text-green-600",children:"Net Salary"}),(0,xn.jsx)("p",{className:"font-bold text-xl text-green-700",children:Ju(a.net_salary||0)})]})]})]})]})]})},u8=()=>{const[e,t]=(0,i.useState)(null),[r,n]=(0,i.useState)(!0);(0,i.useEffect)(()=>{mn.get("/employees/status-overview").then(e=>t(e.data)).catch(e=>console.error("Failed to fetch status overview",e)).finally(()=>n(!1))},[]);const a=e=>{let{title:t,employees:r,colorClass:n}=e;return(0,xn.jsxs)("div",{className:"p-4 rounded-lg shadow-sm ".concat(n),children:[(0,xn.jsxs)("h4",{className:"font-bold text-lg mb-2",children:[t," (",r.length,")"]}),r.length>0?(0,xn.jsx)("ul",{className:"space-y-1 text-sm max-h-60 overflow-y-auto",children:r.map(e=>(0,xn.jsxs)("li",{className:"flex justify-between items-center p-1.5 rounded hover:bg-white/50",children:[(0,xn.jsx)("span",{children:e.name}),(0,xn.jsx)("span",{className:"text-xs text-gray-600",children:e.role})]},e.id))}):(0,xn.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No employees in this category."})]})};return r?(0,xn.jsx)("p",{children:"Loading employee overview..."}):e?(0,xn.jsx)(_u,{children:(0,xn.jsxs)(xu.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,xn.jsx)(a,{title:"Active Employees",employees:e.active_employees,colorClass:"bg-green-50 text-green-900"}),(0,xn.jsx)(a,{title:"On Paid Leave",employees:e.on_paid_leave,colorClass:"bg-blue-50 text-blue-900"}),(0,xn.jsx)(a,{title:"On Sick Leave",employees:e.on_sick_leave,colorClass:"bg-yellow-50 text-yellow-900"}),(0,xn.jsx)(a,{title:"On Unpaid Leave",employees:e.on_unpaid_leave,colorClass:"bg-orange-50 text-orange-900"}),(0,xn.jsx)(a,{title:"Inactive Employees",employees:e.inactive_employees,colorClass:"bg-red-50 text-red-900"})]})}):(0,xn.jsx)("p",{children:"Could not load data."})},h8=()=>{const[e,t]=(0,i.useState)([]),[r,n]=(0,i.useState)([]),[a,s]=(0,i.useState)({name:"",role:"",salary:"",join_date:"",email:"",phone:"",password:"",image:null}),[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(null),[u,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(!0),[m,g]=(0,i.useState)(!1),[x,y]=(0,i.useState)(1),[v,b]=(0,i.useState)(null),w=(0,i.useMemo)(()=>un(),[]);(0,i.useEffect)(()=>{N(),_()},[]);const j=()=>({headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),N=async()=>{try{const[e,r]=await Promise.all([mn.get("/users/?skip=0&limit=20",j()),mn.get("/employees?skip=0&limit=20",j())]),n=e.data||[],i=r.data||[],a=new Map;i.forEach(e=>{e.user_id&&a.set(e.user_id,e)});const s=n.map(e=>{var t,r,n,i;return{id:e.id,name:e.name,email:e.email,role:(null===(t=e.role)||void 0===t?void 0:t.name)||"Unknown",phone:e.phone,is_active:e.is_active,salary:(null===(r=a.get(e.id))||void 0===r?void 0:r.salary)||null,join_date:(null===(n=a.get(e.id))||void 0===n?void 0:n.join_date)||null,image_url:(null===(i=a.get(e.id))||void 0===i?void 0:i.image_url)||null,has_employee_record:a.has(e.id),trend:Array.from({length:30},()=>Math.floor(1e4*Math.random()))}});t(s),p(s.length>=20),y(1)}catch(e){console.error("Error fetching employees:",e)}},_=async()=>{try{const e=await mn.get("/roles?limit=1000",j());n(e.data)}catch(e){console.error("Error fetching roles:",e)}},k=e=>{const{name:t,value:r,files:n}=e.target;if("image"===t){const e=n[0];s(Fe(Fe({},a),{},{image:e})),l(URL.createObjectURL(e))}else s(Fe(Fe({},a),{},{[t]:r}))},S=()=>{s({name:"",role:"",salary:"",join_date:"",email:"",phone:"",password:"",is_active:!0,image:null}),l(null),d(null)},A=e.filter(e=>!u||e.salary>=parseFloat(u)),C=e.length,E=e.length>0?Math.round(e.reduce((e,t)=>e+t.salary,0)/e.length):0,P=r.map(t=>({name:t.name,count:e.filter(e=>e.role===t.name).length,trend:Array.from({length:30},()=>Math.floor(1e4*Math.random()))})),T=[{label:"Total Employees",value:C,color:"#4f46e5",trend:e.map(e=>e.salary)},{label:"Avg Salary",value:E,color:"#16a34a",trend:e.map(e=>e.salary)},...P.map(e=>({label:e.name,value:e.count,color:"#f59e0b",trend:e.trend}))];return(0,xn.jsxs)("div",{className:"space-y-6",children:[(0,xn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:T.map((e,t)=>(0,xn.jsxs)("div",{className:"relative bg-white p-5 rounded-xl shadow cursor-pointer hover:shadow-xl transition",onMouseEnter:()=>b(t),onMouseLeave:()=>b(null),children:[(0,xn.jsxs)("div",{className:"flex flex-col items-center",children:[(0,xn.jsx)("span",{className:"text-gray-500",children:e.label}),(0,xn.jsx)("span",{className:"text-2xl font-bold",style:{color:e.color},children:(0,xn.jsx)(IU.Ay,{end:e.value,duration:1.5})})]}),v===t&&(0,xn.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center rounded-xl p-2 shadow-lg",children:(0,xn.jsx)(Fh,{width:"100%",height:50,children:(0,xn.jsxs)(qz,{data:e.trend.map((e,t)=>({day:t+1,value:e})),children:[(0,xn.jsx)(vU,{type:"monotone",dataKey:"value",stroke:e.color,strokeWidth:2,dot:!1}),(0,xn.jsx)(lM,{contentStyle:{fontSize:12},formatter:e=>["\u20b9".concat(e),"Salary"]})]})})})]},t))}),(0,xn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c){const e=["name","role","salary","join_date","email"];for(const t of e)if(!a[t])return void alert("Please fill in the required field: ".concat(t))}else{const e=["name","role","salary","join_date","email","password"];for(const t of e)if(!a[t])return void alert("Please fill in the required field: ".concat(t))}const t=new FormData;t.append("name",a.name),t.append("role",a.role),t.append("salary",a.salary),t.append("join_date",a.join_date),t.append("email",a.email),c?(a.password&&a.password.trim()&&t.append("password",a.password),void 0!==a.is_active&&t.append("is_active",String(a.is_active))):t.append("password",a.password),a.phone&&t.append("phone",a.phone),a.image&&t.append("image",a.image);try{c?await mn.put("/employees/".concat(c),t,j()):await mn.post("/employees",t,j()),N(),fetchUsers(),S()}catch(i){var r,n;const e=(null===(r=i.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||"An error occurred while saving the employee.";console.error("Error saving employee:",i.response||i),alert(e)}},className:"bg-white p-6 rounded-2xl shadow mb-8 max-w-4xl mx-auto flex gap-6",encType:"multipart/form-data",children:[(0,xn.jsxs)("div",{className:"flex-1",children:[(0,xn.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:[c?"Edit":"Create"," Employee"]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,xn.jsxs)("label",{className:"text-sm text-gray-600 mb-1",children:["Name ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{name:"name",value:a.name,onChange:k,placeholder:"Name",className:"border px-3 py-2 rounded w-full",required:!0}),(0,xn.jsxs)("label",{className:"text-sm text-gray-600 mb-1",children:["Role ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsxs)("select",{name:"role",value:a.role,onChange:k,className:"border px-3 py-2 rounded w-full",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Role"}),r.map(e=>(0,xn.jsx)("option",{value:e.name,children:e.name},e.id))]}),(0,xn.jsxs)("label",{className:"text-sm text-gray-600 mb-1",children:["Salary ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{name:"salary",type:"number",value:a.salary,onChange:k,placeholder:"Salary",className:"border px-3 py-2 rounded w-full",required:!0}),(0,xn.jsxs)("label",{className:"text-sm text-gray-600 mb-1",children:["Joining Date ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{type:"date",name:"join_date",value:a.join_date,onChange:k,className:"border px-3 py-2 rounded w-full",required:!0}),(0,xn.jsxs)("label",{className:"text-sm text-gray-600 mb-1",children:["Email ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{name:"email",type:"email",value:a.email,onChange:k,placeholder:"Email",className:"border px-3 py-2 rounded w-full",required:!0}),(0,xn.jsx)("label",{className:"text-sm text-gray-600 mb-1",children:"Phone"}),(0,xn.jsx)("input",{name:"phone",type:"tel",value:a.phone,onChange:k,placeholder:"Phone (optional)",className:"border px-3 py-2 rounded w-full"}),(0,xn.jsxs)("label",{className:"text-sm text-gray-600 mb-1",children:["Password ",c?"(Leave blank to keep current)":(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{name:"password",type:"password",value:a.password,onChange:k,placeholder:c?"New password (optional)":"Password",className:"border px-3 py-2 rounded w-full",required:!c}),c&&(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)("label",{className:"text-sm text-gray-600 mb-1",children:"Status"}),(0,xn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xn.jsx)("input",{type:"checkbox",name:"is_active",checked:void 0===a.is_active||a.is_active,onChange:e=>s(Fe(Fe({},a),{},{is_active:e.target.checked})),className:"w-5 h-5"}),(0,xn.jsx)("span",{className:"text-sm",children:a.is_active?"Active":"Inactive"})]})]}),(0,xn.jsx)("label",{className:"text-sm text-gray-600 mb-1",children:"Image"}),(0,xn.jsx)("input",{type:"file",name:"image",accept:"image/*",onChange:k,className:"w-full"}),(0,xn.jsx)("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:c?"Update":"Create"})]})]}),(0,xn.jsx)("div",{className:"flex items-center justify-center w-48 h-48 border rounded",children:o?(0,xn.jsx)("img",{src:o,alt:"Preview",className:"w-full h-full object-cover rounded"}):(0,xn.jsx)("span",{className:"text-gray-400",children:"Image Preview"})})]}),(0,xn.jsxs)("div",{className:"mb-4 flex flex-wrap gap-4 justify-between items-center",children:[(0,xn.jsx)("input",{type:"number",placeholder:"Min Salary",value:u,onChange:e=>h(e.target.value),className:"border px-3 py-2 rounded"}),(0,xn.jsx)("button",{onClick:()=>{const e=s8.json_to_sheet(A),t=s8.book_new();s8.book_append_sheet(t,e,"Employees"),function(e,t,r){var n=r||{};n.type="file",n.file=t,Y6(n),K6(e,n)}(t,"employees.xlsx")},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Export to Excel"})]}),(0,xn.jsx)("div",{className:"bg-white p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow overflow-x-auto",children:(0,xn.jsxs)("table",{className:"w-full text-sm border-collapse border border-gray-200",children:[(0,xn.jsx)("thead",{children:(0,xn.jsxs)("tr",{className:"bg-gray-100",children:[(0,xn.jsx)("th",{className:"p-2 sm:p-3 border text-xs sm:text-sm",children:"#"}),(0,xn.jsx)("th",{className:"p-2 sm:p-3 border text-xs sm:text-sm",children:"Image"}),(0,xn.jsx)("th",{className:"p-2 sm:p-3 border text-xs sm:text-sm",children:"Name"}),(0,xn.jsx)("th",{className:"p-2 sm:p-3 border text-xs sm:text-sm",children:"Role"}),(0,xn.jsx)("th",{className:"p-2 sm:p-3 border text-xs sm:text-sm",children:"Salary"}),(0,xn.jsx)("th",{className:"p-2 sm:p-3 border text-xs sm:text-sm",children:"Join Date"}),(0,xn.jsx)("th",{className:"p-2 sm:p-3 border text-xs sm:text-sm",children:"Status"}),(0,xn.jsx)("th",{className:"p-2 sm:p-3 border text-xs sm:text-sm",children:"Actions"})]})}),(0,xn.jsxs)("tbody",{children:[A.map((e,t)=>(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"p-1 sm:p-2 border text-center text-xs sm:text-sm",children:t+1}),(0,xn.jsx)("td",{className:"p-1 sm:p-2 border",children:e.image_url?(0,xn.jsx)("img",{src:"".concat(w,"/").concat(e.image_url.startsWith("/")?e.image_url.substring(1):e.image_url),alt:"Profile",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover"}):(0,xn.jsx)("span",{className:"text-gray-400 text-xs sm:text-sm",children:"No image"})}),(0,xn.jsx)("td",{className:"p-1 sm:p-2 border text-xs sm:text-sm",children:(0,xn.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[(0,xn.jsx)("span",{className:"truncate",children:e.name}),!e.has_employee_record&&(0,xn.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-1 sm:px-2 py-0.5 sm:py-1 rounded mt-1 sm:mt-0 sm:ml-2",children:"Admin"})]})}),(0,xn.jsx)("td",{className:"p-1 sm:p-2 border text-xs sm:text-sm",children:e.role}),(0,xn.jsx)("td",{className:"p-1 sm:p-2 border text-right text-xs sm:text-sm",children:e.salary?"\u20b9".concat(e.salary):"N/A"}),(0,xn.jsx)("td",{className:"p-1 sm:p-2 border text-xs sm:text-sm",children:e.join_date||"N/A"}),(0,xn.jsx)("td",{className:"p-1 sm:p-2 border text-xs sm:text-sm",children:e.has_employee_record?(0,xn.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(e.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.is_active?"Active":"Inactive"}):(0,xn.jsx)("span",{className:"text-gray-500 text-xs",children:"-"})}),(0,xn.jsx)("td",{className:"p-1 sm:p-2 border",children:(0,xn.jsx)("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-2",children:e.has_employee_record?(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)("button",{className:"bg-blue-500 text-white px-1 sm:px-2 py-1 text-xs sm:text-sm rounded",onClick:()=>(e=>{if(d(e.id),s({name:e.name,role:e.role,salary:e.salary,join_date:e.join_date?e.join_date.split("T")[0]:"",email:e.email,phone:e.phone,password:"",is_active:void 0===e.is_active||e.is_active,image:null}),e.image_url){const t=e.image_url.startsWith("/")?e.image_url.substring(1):e.image_url;l("".concat(w,"/").concat(t))}else l(null)})(e),children:"Edit"}),(0,xn.jsx)("button",{className:"px-1 sm:px-2 py-1 text-xs sm:text-sm rounded ".concat(e.is_active?"bg-yellow-500":"bg-green-500"," text-white"),onClick:()=>(async e=>{if(window.confirm("Are you sure you want to ".concat(e.is_active?"deactivate":"activate"," this employee?")))try{const t=new FormData;t.append("is_active",String(!e.is_active)),await mn.put("/employees/".concat(e.id),t,j()),N(),fetchUsers()}catch(n){var t,r;const e=(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"An error occurred while updating employee status.";console.error("Error updating employee:",n.response||n),alert(e)}})(e),children:e.is_active?"Deactivate":"Activate"}),(0,xn.jsx)("button",{className:"bg-red-500 text-white px-1 sm:px-2 py-1 text-xs sm:text-sm rounded",onClick:()=>(async e=>{window.confirm("Delete this employee?")&&(await mn.delete("/employees/".concat(e),j()),N())})(e.id),children:"Delete"})]}):(0,xn.jsx)("span",{className:"text-gray-500 text-xs sm:text-sm",children:"Admin User"})})})]},e.id)),0===A.length&&(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"8",className:"text-center py-4 text-gray-500 text-sm sm:text-base",children:"No employees found."})})]}),f&&A.length>0&&(0,xn.jsx)("tfoot",{children:(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"8",className:"text-center p-4",children:(0,xn.jsx)("button",{onClick:async()=>{if(m||!f)return;const e=x+1;g(!0);try{const r=(await mn.get("/employees?skip=".concat(20*(e-1),"&limit=20"),j())).data||[],n=r.map(e=>Fe(Fe({},e),{},{trend:Array.from({length:30},()=>Math.floor(1e4*Math.random()))}));t(e=>[...e,...n]),y(e),p(r.length>=20)}catch(r){console.error("Failed to load more employees:",r)}finally{g(!1)}},disabled:m,className:"bg-indigo-100 text-indigo-700 font-semibold px-6 py-2 rounded-lg hover:bg-indigo-200 transition-colors disabled:bg-gray-200 disabled:text-gray-500",children:m?"Loading...":"Load More"})})})})]})})]})},f8=()=>{const[e,t]=(0,i.useState)("attendance"),r=r=>{let{id:n,label:i,icon:a}=r;return(0,xn.jsxs)("button",{onClick:()=>t(n),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-lg transition-all ".concat(e===n?"bg-indigo-600 text-white shadow-md":"text-gray-600 hover:bg-gray-200"),children:[a,i]})};return(0,xn.jsx)(Zu,{children:(0,xn.jsxs)("div",{className:"p-4 md:p-6 space-y-6 bg-gray-50 min-h-screen",children:[(0,xn.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Employee Management"}),(0,xn.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-md",children:[(0,xn.jsxs)("div",{className:"flex flex-wrap gap-2 border-b mb-4 pb-2",children:[(0,xn.jsx)(r,{id:"manage-employees",label:"Manage Employees",icon:(0,xn.jsx)(Uu,{size:16})}),(0,xn.jsx)(r,{id:"report",label:"Activity Report",icon:(0,xn.jsx)(qu,{size:16})}),(0,xn.jsx)(r,{id:"leave",label:"Leave Requests",icon:(0,xn.jsx)(rZ,{size:16})}),(0,xn.jsx)(r,{id:"attendance",label:"Attendance & Hours",icon:(0,xn.jsx)(bZ,{size:16})}),(0,xn.jsx)(r,{id:"monthly-report",label:"Monthly Report",icon:(0,xn.jsx)(j$,{size:16})}),(0,xn.jsx)(r,{id:"status-overview",label:"Status Overview",icon:(0,xn.jsx)(qu,{size:16})})]}),(0,xn.jsx)("div",{className:"p-4",children:(()=>{switch(e){case"manage-employees":return(0,xn.jsx)(h8,{});case"report":return(0,xn.jsx)(o8,{});case"leave":return(0,xn.jsx)(l8,{});case"attendance":return(0,xn.jsx)(c8,{});case"monthly-report":return(0,xn.jsx)(d8,{});case"status-overview":return(0,xn.jsx)(u8,{});default:return null}})()})]})]})})},p8=Cu("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),m8=Cu("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),g8=Cu("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),x8=Cu("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),y8=Cu("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]),v8=Cu("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),b8=Cu("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]),w8=Cu("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),j8=Cu("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),N8=Cu("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),_8=Cu("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),k8=["account_number_confirm"],S8=e=>{let{locations:t,onLocationClick:r}=e;return(0,xn.jsxs)("div",{className:"space-y-4",children:[(0,xn.jsx)("div",{className:"md:hidden space-y-4",children:0===t.length?(0,xn.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No locations found. Sync rooms or create locations first."}):t.map(e=>(0,xn.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm cursor-pointer hover:shadow-md transition-shadow",onClick:()=>r(e.id),children:[(0,xn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,xn.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name||"".concat(e.building," - ").concat(e.room_area)}),(0,xn.jsx)("span",{className:"text-xs text-gray-500",children:e.location_type})]}),(0,xn.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[e.location_code&&(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Code:"})," ",e.location_code]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Total Items:"})," ",e.total_items||0]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Assets:"})," ",e.asset_count||0]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Consumables:"})," ",e.consumable_items_count||0]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Stock Value:"})," ",Ju(e.total_stock_value||0)]})]})]},e.id))}),(0,xn.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Location"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Items"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assets"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Consumables"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Stock Value"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===t.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-500",children:"No locations found. Sync rooms or create locations first."})}):t.map(e=>(0,xn.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>r(e.id),children:[(0,xn.jsx)("td",{className:"px-4 py-3",children:(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name||"".concat(e.building," - ").concat(e.room_area)}),e.location_code&&(0,xn.jsx)("p",{className:"text-xs text-gray-500",children:e.location_code})]})}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.location_type}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:e.total_items||0}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.asset_count||0}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.consumable_items_count||0}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900",children:Ju(e.total_stock_value||0)}),(0,xn.jsx)("td",{className:"px-4 py-3",children:(0,xn.jsxs)("button",{onClick:t=>{t.stopPropagation(),r(e.id)},className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700 flex items-center gap-1",children:[(0,xn.jsx)(p8,{className:"w-4 h-4"}),"View Items"]})})]},e.id))})]})})]})},A8=e=>{let{locationData:t,onClose:r}=e;return t?(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[(0,xn.jsxs)("div",{className:"p-4 sm:p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:["Inventory at ",t.location.name]}),(0,xn.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[t.location.building," ",t.location.floor?"- ".concat(t.location.floor):""]})]}),(0,xn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),(0,xn.jsxs)("div",{className:"p-4 sm:p-6 space-y-4",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Total Items"}),(0,xn.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t.total_items})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Stock Value"}),(0,xn.jsx)("p",{className:"text-2xl font-bold text-green-600 mt-1",children:Ju(t.total_stock_value)})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Location Type"}),(0,xn.jsx)("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:t.location.location_type})]})]}),t.room_usage&&(0,xn.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Room Usage Information"}),t.room_usage.booking_info&&(0,xn.jsxs)("div",{className:"mb-4 p-3 bg-white rounded-lg border border-blue-100",children:[(0,xn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Current Guest:"}),(0,xn.jsx)("span",{className:"text-lg font-bold text-blue-700",children:t.room_usage.booking_info.guest_name})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[t.room_usage.booking_info.guest_mobile&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Mobile:"})," ",t.room_usage.booking_info.guest_mobile]}),t.room_usage.booking_info.guest_email&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Email:"})," ",t.room_usage.booking_info.guest_email]}),t.room_usage.booking_info.check_in&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Check-in:"})," ",new Date(t.room_usage.booking_info.check_in).toLocaleDateString()]}),t.room_usage.booking_info.check_out&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Check-out:"})," ",new Date(t.room_usage.booking_info.check_out).toLocaleDateString()]})]})]}),t.room_usage.services_used&&t.room_usage.services_used.length>0?(0,xn.jsxs)("div",{className:"mb-4",children:[(0,xn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Services Used:"}),(0,xn.jsxs)("span",{className:"text-sm font-semibold text-gray-800",children:[t.room_usage.total_services," service(s) - Total: \u20b9",t.room_usage.total_service_charges.toFixed(2)]})]}),(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[(0,xn.jsx)("thead",{className:"bg-gray-100",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-600",children:"Service"}),(0,xn.jsx)("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-600",children:"Employee"}),(0,xn.jsx)("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-600",children:"Charges"}),(0,xn.jsx)("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-600",children:"Status"}),(0,xn.jsx)("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-600",children:"Assigned"}),(0,xn.jsx)("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-600",children:"Last Used"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.room_usage.services_used.map((e,t)=>(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"px-2 py-1 text-gray-900 font-medium",children:e.service_name}),(0,xn.jsx)("td",{className:"px-2 py-1 text-gray-600",children:e.employee_name||"N/A"}),(0,xn.jsxs)("td",{className:"px-2 py-1 text-gray-900 font-semibold",children:["\u20b9",e.charges]}),(0,xn.jsx)("td",{className:"px-2 py-1",children:(0,xn.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"in_progress"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,xn.jsx)("td",{className:"px-2 py-1 text-gray-600 text-xs",children:e.assigned_at?new Date(e.assigned_at).toLocaleString():"N/A"}),(0,xn.jsx)("td",{className:"px-2 py-1 text-gray-600 text-xs",children:e.last_used_at?(0,xn.jsx)("span",{className:"text-green-600 font-medium",children:new Date(e.last_used_at).toLocaleString()}):(0,xn.jsx)("span",{className:"text-gray-400 italic",children:"Never"})})]},t))})]})})]}):(0,xn.jsx)("div",{className:"text-sm text-gray-500 italic mb-4",children:"No services have been used in this room yet."})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Items & Stock"}),(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Location Stock"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Unit"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Unit Price"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Value"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===t.items.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"8",className:"px-4 py-8 text-center text-gray-500",children:"No items found at this location"})}):t.items.map((e,t)=>(0,xn.jsxs)("tr",{className:e.is_low_stock?"bg-red-50":"",children:[(0,xn.jsx)("td",{className:"px-3 py-2 text-sm font-medium text-gray-900",children:e.item_name}),(0,xn.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600",children:e.category_name||"-"}),(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("asset"===e.type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:"asset"===e.type?"Asset":"Consumable"})}),(0,xn.jsx)("td",{className:"px-3 py-2 text-sm text-gray-900 font-medium",children:e.location_stock||0}),(0,xn.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600",children:e.unit}),(0,xn.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600",children:Ju(e.unit_price||0)}),(0,xn.jsx)("td",{className:"px-3 py-2 text-sm font-semibold text-gray-900",children:Ju(e.stock_value||0)}),(0,xn.jsx)("td",{className:"px-3 py-2",children:e.is_low_stock?(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full",children:"Low Stock"}):(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"In Stock"})})]},t))})]})})]}),(0,xn.jsx)("div",{className:"flex justify-end pt-4 border-t",children:(0,xn.jsx)("button",{onClick:r,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Close"})})]})]})}):null},C8=e=>{let{label:t,value:r,icon:n,color:i,highlight:a}=e;const s={blue:"bg-blue-50 text-blue-600",red:"bg-red-50 text-red-600",green:"bg-green-50 text-green-600",purple:"bg-purple-50 text-purple-600",indigo:"bg-indigo-50 text-indigo-600",teal:"bg-teal-50 text-teal-600",orange:"bg-orange-50 text-orange-600"};return(0,xn.jsx)("div",{className:"bg-white rounded-xl shadow-sm border-2 p-4 ".concat(a?"border-red-300":"border-gray-100"),children:(0,xn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm text-gray-600",children:t}),(0,xn.jsx)("p",{className:"text-2xl font-bold mt-1 ".concat(s[i]),children:r})]}),(0,xn.jsx)("div",{className:s[i]+" p-3 rounded-lg",children:n})]})})},E8=e=>{let{items:t,categories:r,onDelete:n}=e;return(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Stock"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Min Level"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Unit Price"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Value"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===t.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"8",className:"px-4 py-8 text-center text-gray-500",children:"No items found"})}):t.map(e=>(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.name}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.category_name||"-"}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:(0,xn.jsxs)("span",{className:e.is_low_stock?"text-red-600 font-semibold":"",children:[e.current_stock," ",e.unit]})}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.min_stock_level}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ju(e.unit_price)}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ju(e.current_stock*e.unit_price)}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm",children:e.is_low_stock?(0,xn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold text-red-800 bg-red-100 rounded-full",children:"Low Stock"}):(0,xn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full",children:"In Stock"})}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,xn.jsx)("button",{onClick:()=>n(e.id),className:"text-red-600 hover:text-red-800",children:(0,xn.jsx)(EU,{className:"w-4 h-4"})})})]},e.id))})]})})},P8=e=>{let{categories:t}=e;return(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===t.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"3",className:"px-4 py-8 text-center text-gray-500",children:"No categories found"})}):t.map(e=>(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.name}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.description||"-"}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})})},T8=e=>{let{vendors:t}=e;return(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Company"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"GST"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Contact"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===t.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"5",className:"px-4 py-8 text-center text-gray-500",children:"No vendors found"})}):t.map(e=>(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.name}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.company_name||"-"}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.gst_number||"-"}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.phone||e.email||"-"}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm",children:e.is_active?(0,xn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full",children:"Active"}):(0,xn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold text-gray-800 bg-gray-100 rounded-full",children:"Inactive"})})]},e.id))})]})})},O8=e=>{let{purchases:t,onPurchaseClick:r}=e;return(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"PO Number"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Vendor"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Payment"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===t.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500",children:"No purchases found"})}):t.map(e=>(0,xn.jsxs)("tr",{className:"hover:bg-indigo-50 cursor-pointer transition-colors",onClick:()=>r&&r(e),children:[(0,xn.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.purchase_number}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.vendor_name||"-"}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(e.purchase_date).toLocaleDateString()}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("received"===e.status?"bg-green-100 text-green-800":"confirmed"===e.status?"bg-blue-100 text-blue-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("paid"===e.payment_status?"bg-green-100 text-green-800":"partial"===e.payment_status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.payment_status})}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:Ju(e.total_amount)})]},e.id))})]})})},I8=e=>{let{transactions:t,purchases:r,items:n,categories:i,filters:a,setFilters:s,onRefresh:o,onTransactionClick:l}=e;const c=(()=>{const e=r.reduce((e,t)=>e+(parseFloat(t.total_amount)||0),0),i=t.filter(e=>{var t;return"out"===e.transaction_type&&(null===(t=e.notes)||void 0===t?void 0:t.toLowerCase().includes("kitchen"))}).reduce((e,t)=>e+(parseFloat(t.total_amount)||0),0),a=t.filter(e=>{var t,r;return"out"===e.transaction_type&&((null===(t=e.notes)||void 0===t?void 0:t.toLowerCase().includes("waste"))||(null===(r=e.notes)||void 0===r?void 0:r.toLowerCase().includes("spoilage")))}).reduce((e,t)=>e+(parseFloat(t.total_amount)||0),0);return{totalPurchases:e,kitchenUsage:i,wasteSpoilage:a,currentStockValue:n.reduce((e,t)=>e+(parseFloat(t.current_stock)||0)*(parseFloat(t.unit_price)||0),0)}})(),d=(()=>{let e=[...t];if("all"!==a.type){const t={purchase:"in",usage:"out",waste:"out",adjustment:"adjustment"};e=e.filter(e=>{var r,n,i,s;return"waste"===a.type?"out"===e.transaction_type&&((null===(r=e.notes)||void 0===r?void 0:r.toLowerCase().includes("waste"))||(null===(n=e.notes)||void 0===n?void 0:n.toLowerCase().includes("spoilage"))):"usage"===a.type?"out"===e.transaction_type&&!(null!==(i=e.notes)&&void 0!==i&&i.toLowerCase().includes("waste"))&&!(null!==(s=e.notes)&&void 0!==s&&s.toLowerCase().includes("spoilage")):e.transaction_type===t[a.type]})}if("all"!==a.category&&(e=e.filter(e=>{const t=n.find(t=>t.id===e.item_id);if(!t)return!1;const r=i.find(e=>e.id===t.category_id);return(null===r||void 0===r?void 0:r.name)===a.category})),"all"!==a.dateRange){const t=new Date;let r=new Date;if("today"===a.dateRange)r.setHours(0,0,0,0);else if("week"===a.dateRange)r.setDate(t.getDate()-7);else if("month"===a.dateRange)r.setMonth(t.getMonth()-1);else if("custom"===a.dateRange&&a.startDate&&a.endDate){r=new Date(a.startDate);const t=new Date(a.endDate);return t.setHours(23,59,59,999),e=e.filter(e=>{const n=new Date(e.created_at);return n>=r&&n<=t}),e}e=e.filter(e=>new Date(e.created_at)>=r)}return e.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at))})();return(0,xn.jsxs)("div",{className:"space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,xn.jsx)("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-blue-500",children:(0,xn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Purchases"}),(0,xn.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:Ju(c.totalPurchases)}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Sum of all Purchase Invoices"})]}),(0,xn.jsx)(y8,{className:"w-8 h-8 text-blue-500"})]})}),(0,xn.jsx)("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-yellow-500",children:(0,xn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Kitchen Consumption"}),(0,xn.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:Ju(c.kitchenUsage)}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Sum of Usage Logs (COGS)"})]}),(0,xn.jsx)(_$,{className:"w-8 h-8 text-yellow-500"})]})}),(0,xn.jsx)("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-red-500",children:(0,xn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Waste / Spoilage"}),(0,xn.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:Ju(c.wasteSpoilage)}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Loss from expired/ruined food"})]}),(0,xn.jsx)(v8,{className:"w-8 h-8 text-red-500"})]})}),(0,xn.jsx)("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-green-500",children:(0,xn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Current Stock Value"}),(0,xn.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:Ju(c.currentStockValue)}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Value of inventory on shelves"})]}),(0,xn.jsx)(Bu,{className:"w-8 h-8 text-green-500"})]})})]}),(0,xn.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,xn.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,xn.jsx)(h$,{className:"w-5 h-5 text-gray-600"}),(0,xn.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction Type"}),(0,xn.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"all",label:"All",icon:null},{value:"purchase",label:"Purchase (In)",icon:(0,xn.jsx)(y8,{className:"w-4 h-4"})},{value:"usage",label:"Kitchen Usage",icon:(0,xn.jsx)(_$,{className:"w-4 h-4"})},{value:"waste",label:"Waste/Spoilage",icon:(0,xn.jsx)(v8,{className:"w-4 h-4"})},{value:"adjustment",label:"Audit Correction",icon:(0,xn.jsx)(w8,{className:"w-4 h-4"})}].map(e=>(0,xn.jsxs)("button",{onClick:()=>s(Fe(Fe({},a),{},{type:e.value})),className:"px-3 py-2 text-sm font-medium rounded-lg flex items-center gap-2 ".concat(a.type===e.value?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[e.icon,e.label]},e.value))})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,xn.jsxs)("select",{value:a.category,onChange:e=>s(Fe(Fe({},a),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,xn.jsx)("option",{value:"all",children:"All Categories"}),i.map(e=>(0,xn.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),(0,xn.jsxs)("div",{className:"flex gap-2",children:[(0,xn.jsxs)("select",{value:a.dateRange,onChange:e=>s(Fe(Fe({},a),{},{dateRange:e.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,xn.jsx)("option",{value:"today",children:"Today"}),(0,xn.jsx)("option",{value:"week",children:"This Week"}),(0,xn.jsx)("option",{value:"month",children:"This Month"}),(0,xn.jsx)("option",{value:"custom",children:"Custom"}),(0,xn.jsx)("option",{value:"all",children:"All Time"})]}),"custom"===a.dateRange&&(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)("input",{type:"date",value:a.startDate,onChange:e=>s(Fe(Fe({},a),{},{startDate:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Start Date"}),(0,xn.jsx)("input",{type:"date",value:a.endDate,onChange:e=>s(Fe(Fe({},a),{},{endDate:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"End Date"})]})]})]})]})]}),(0,xn.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Item Details"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Transaction Type"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Qty Change"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Batch/Expiry"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Financials"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===d.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"8",className:"px-4 py-8 text-center text-gray-500",children:"No transactions found"})}):d.map(e=>{var t,r,a,s;const o=(e=>{return"in"===e.transaction_type?{icon:(0,xn.jsx)(y8,{className:"w-4 h-4"}),label:"Purchase",color:"text-green-600 bg-green-50",statusColor:"bg-green-500"}:"out"===e.transaction_type?null!==(t=e.notes)&&void 0!==t&&t.toLowerCase().includes("waste")||null!==(r=e.notes)&&void 0!==r&&r.toLowerCase().includes("spoilage")?{icon:(0,xn.jsx)(v8,{className:"w-4 h-4"}),label:"Waste/Spoilage",color:"text-red-600 bg-red-50",statusColor:"bg-red-500"}:null!==(n=e.notes)&&void 0!==n&&n.toLowerCase().includes("kitchen")?{icon:(0,xn.jsx)(_$,{className:"w-4 h-4"}),label:"Kitchen Usage",color:"text-yellow-600 bg-yellow-50",statusColor:"bg-yellow-500"}:{icon:(0,xn.jsx)(b8,{className:"w-4 h-4"}),label:"Usage",color:"text-orange-600 bg-orange-50",statusColor:"bg-orange-500"}:{icon:(0,xn.jsx)(w8,{className:"w-4 h-4"}),label:"Audit Correction",color:"text-blue-600 bg-blue-50",statusColor:"bg-blue-500"};var t,r,n})(e),l=(e=>{const t=n.find(t=>t.id===e);if(!t)return{name:"-",category:"-",unit:"-"};const r=i.find(e=>e.id===t.category_id);return{name:t.name,category:(null===r||void 0===r?void 0:r.name)||"-",unit:t.unit||"pcs",isPerishable:(null===r||void 0===r?void 0:r.is_perishable)||!1}})(e.item_id),c="in"===e.transaction_type;return(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"px-4 py-3",children:(0,xn.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(o.statusColor)})}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString()}),(0,xn.jsxs)("td",{className:"px-4 py-3",children:[(0,xn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:l.name}),(0,xn.jsxs)("div",{className:"text-xs text-gray-500",children:["(",l.category," / ",l.unit,")"]})]}),(0,xn.jsxs)("td",{className:"px-4 py-3",children:[(0,xn.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold ".concat(o.color),children:[o.icon,o.label]}),e.reference_number&&(0,xn.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["in"===e.transaction_type&&"Vendor: ",e.reference_number]})]}),(0,xn.jsx)("td",{className:"px-4 py-3",children:(0,xn.jsxs)("div",{className:"text-sm font-semibold ".concat(c?"text-green-600":"text-red-600"),children:[c?"+":"-"," ",e.quantity," ",l.unit]})}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:null!==(t=e.notes)&&void 0!==t&&t.includes("Exp:")?(0,xn.jsx)("span",{className:"text-orange-600 font-medium",children:(null===(r=e.notes.match(/Exp: ([^\n]+)/))||void 0===r?void 0:r[1])||"See notes"}):null!==(a=e.notes)&&void 0!==a&&a.includes("Batch:")?(0,xn.jsx)("span",{className:"text-blue-600",children:(null===(s=e.notes.match(/Batch: ([^\n]+)/))||void 0===s?void 0:s[1])||"See notes"}):l.isPerishable?(0,xn.jsx)("span",{className:"text-gray-400 italic",children:"N/A"}):"-"}),(0,xn.jsx)("td",{className:"px-4 py-3",children:e.total_amount?(0,xn.jsxs)("div",{children:[(0,xn.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:Ju(e.total_amount)}),e.unit_price&&(0,xn.jsxs)("div",{className:"text-xs text-gray-500",children:["Rate: ",Ju(e.unit_price)]})]}):(0,xn.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,xn.jsx)("td",{className:"px-4 py-3",children:(0,xn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xn.jsx)("button",{className:"p-1 text-gray-600 hover:text-indigo-600",title:"View Details",children:(0,xn.jsx)(p8,{className:"w-4 h-4"})}),"Waste/Spoilage"===o.label&&(0,xn.jsx)("button",{className:"p-1 text-gray-600 hover:text-indigo-600",title:"View Photo",children:(0,xn.jsx)(hZ,{className:"w-4 h-4"})})]})})]},e.id)})})]})})})]})},L8=e=>{var t;let{form:r,setForm:n,categories:i,vendors:a,units:s,setShowUnitForm:o,onSubmit:l,onClose:c}=e;const d=i.find(e=>e.id===parseInt(r.category_id)),u=(null===d||void 0===d||null===(t=d.name)||void 0===t?void 0:t.toLowerCase())||"",h=u.includes("restaurant")||u.includes("food"),f=u.includes("linen")||u.includes("hotel"),p=(u.includes("security")||u.includes("office"),u.includes("fire")||u.includes("safety"),u.includes("consumable")||u.includes("guest"),h?["Meat","Dairy","Spices","Vegetables","Beverages","Dry Goods","Frozen"]:u.includes("facility")?["Plumbing","Electrical","HVAC","Maintenance","Tools"]:f?["Bedsheets","Towels","Curtains","Pillows","Blankets"]:[]);return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-5xl w-full mx-4 max-h-[95vh] overflow-y-auto",children:[(0,xn.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10 shadow-sm",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Create Inventory Item"}),(0,xn.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Smart form adapts based on category selection"})]}),(0,xn.jsx)("button",{onClick:c,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-6 h-6"})})]}),(0,xn.jsxs)("form",{onSubmit:l,className:"p-6 space-y-6",children:[(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"bg-indigo-100 text-indigo-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"1"}),"Basic Information"]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{className:"md:col-span-2",children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Name ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{type:"text",value:r.name,onChange:e=>n(Fe(Fe({},r),{},{name:e.target.value})),placeholder:"e.g., Chicken Breast, LED Bulb 9W, Bath Towel White",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Code / SKU"}),(0,xn.jsx)("input",{type:"text",value:r.item_code,onChange:e=>n(Fe(Fe({},r),{},{item_code:e.target.value})),placeholder:"Unique system ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsxs)("select",{value:r.category_id,onChange:e=>n(Fe(Fe({},r),{},{category_id:e.target.value,sub_category:""})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Category"}),i.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),p.length>0&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub-Category"}),(0,xn.jsxs)("select",{value:r.sub_category,onChange:e=>n(Fe(Fe({},r),{},{sub_category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,xn.jsx)("option",{value:"",children:"Select Sub-Category"}),p.map(e=>(0,xn.jsx)("option",{value:e,children:e},e))]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HSN / SAC Code"}),(0,xn.jsx)("input",{type:"text",value:r.hsn_code,onChange:e=>n(Fe(Fe({},r),{},{hsn_code:e.target.value})),placeholder:"For GST compliance",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit of Measurement (UOM) ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsxs)("div",{className:"flex gap-2",children:[(0,xn.jsxs)("select",{value:r.unit,onChange:e=>n(Fe(Fe({},r),{},{unit:e.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Unit"}),s.map(e=>(0,xn.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,xn.jsxs)("button",{type:"button",onClick:()=>o(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-1 whitespace-nowrap transition-colors",title:"Add New Unit",children:[(0,xn.jsx)(x8,{className:"w-4 h-4"}),(0,xn.jsx)("span",{className:"hidden sm:inline",children:"Add Unit"})]})]})]}),(0,xn.jsxs)("div",{className:"md:col-span-2",children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,xn.jsx)("textarea",{value:r.description,onChange:e=>n(Fe(Fe({},r),{},{description:e.target.value})),rows:"3",placeholder:"e.g., Samsung 43 inch TV, Double ply toilet paper",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,xn.jsxs)("div",{className:"md:col-span-2",children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Image"}),(0,xn.jsx)("input",{type:"file",accept:"image/*",onChange:e=>n(Fe(Fe({},r),{},{image:e.target.files[0]||null})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.image&&(0,xn.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",r.image.name]})]})]})]}),(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"bg-indigo-100 text-indigo-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"2"}),"Inventory & Measurement Settings"]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Initial Stock"}),(0,xn.jsx)("input",{type:"number",step:"0.01",min:"0",value:r.initial_stock,onChange:e=>n(Fe(Fe({},r),{},{initial_stock:parseFloat(e.target.value)||0})),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Stock Level (Reorder Point)"}),(0,xn.jsx)("input",{type:"number",step:"0.01",min:"0",value:r.min_stock_level,onChange:e=>n(Fe(Fe({},r),{},{min_stock_level:parseFloat(e.target.value)||0})),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"System alerts when stock hits this"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Location"}),(0,xn.jsxs)("select",{value:r.location,onChange:e=>n(Fe(Fe({},r),{},{location:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,xn.jsx)("option",{value:"",children:"Select Location"}),["Cold Storage","Dry Store","Housekeeping Closet","Server Room","Warehouse A","Warehouse B","Main Store","Kitchen Store","Office Store"].map(e=>(0,xn.jsx)("option",{value:e,children:e},e))]})]}),(0,xn.jsxs)("div",{className:"flex items-center pt-6",children:[(0,xn.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",checked:r.is_perishable,onChange:e=>n(Fe(Fe({},r),{},{is_perishable:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Is Perishable / Has Expiry?"})]}),(0,xn.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(Required for Restaurant & Fire Safety)"})]}),(0,xn.jsxs)("div",{className:"flex items-center pt-6",children:[(0,xn.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",checked:r.track_serial_number,onChange:e=>n(Fe(Fe({},r),{},{track_serial_number:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Track Serial Number?"})]}),(0,xn.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(For Security & Facility assets)"})]})]})]}),(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"bg-indigo-100 text-indigo-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"3"}),"Pricing & Tax (Purchase & Sales)"]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Price (Cost)"}),(0,xn.jsx)("input",{type:"number",step:"0.01",min:"0",value:r.unit_price,onChange:e=>n(Fe(Fe({},r),{},{unit_price:parseFloat(e.target.value)||0})),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Rate you pay the vendor"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Tax Rate (Input) %"}),(0,xn.jsxs)("select",{value:r.gst_rate,onChange:e=>n(Fe(Fe({},r),{},{gst_rate:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,xn.jsx)("option",{value:"0",children:"0%"}),(0,xn.jsx)("option",{value:"5",children:"5%"}),(0,xn.jsx)("option",{value:"12",children:"12%"}),(0,xn.jsx)("option",{value:"18",children:"18%"}),(0,xn.jsx)("option",{value:"28",children:"28%"})]})]}),(0,xn.jsxs)("div",{className:"flex items-center pt-6",children:[(0,xn.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",checked:r.is_sellable_to_guest,onChange:e=>n(Fe(Fe({},r),{},{is_sellable_to_guest:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Is Sellable to Guest?"})]}),(0,xn.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(Vegetables: No, Soft Drinks: Yes)"})]}),r.is_sellable_to_guest&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Selling Price (MRP)"}),(0,xn.jsx)("input",{type:"number",step:"0.01",min:"0",value:r.selling_price,onChange:e=>n(Fe(Fe({},r),{},{selling_price:e.target.value?parseFloat(e.target.value):""})),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Price charged to guest if consumed"})]})]})]}),(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"bg-indigo-100 text-indigo-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"4"}),"Vendor Linking (Procurement)"]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preferred Vendor"}),(0,xn.jsxs)("select",{value:r.preferred_vendor_id,onChange:e=>n(Fe(Fe({},r),{},{preferred_vendor_id:e.target.value?parseInt(e.target.value):""})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,xn.jsx)("option",{value:"",children:"Select Vendor"}),a.filter(e=>e.is_active).map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Item Code"}),(0,xn.jsx)("input",{type:"text",value:r.vendor_item_code,onChange:e=>n(Fe(Fe({},r),{},{vendor_item_code:e.target.value})),placeholder:"Vendor's code for this item",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Time (Days)"}),(0,xn.jsx)("input",{type:"number",min:"0",value:r.lead_time_days,onChange:e=>n(Fe(Fe({},r),{},{lead_time_days:e.target.value?parseInt(e.target.value):""})),placeholder:"Days to arrive after ordering",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,xn.jsx)("div",{className:"flex items-center pt-6",children:(0,xn.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",checked:r.is_active,onChange:e=>n(Fe(Fe({},r),{},{is_active:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Item is Active"})]})})]})]}),(0,xn.jsxs)("div",{className:"flex justify-end gap-4 pt-4",children:[(0,xn.jsx)("button",{type:"button",onClick:c,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),(0,xn.jsx)("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium transition-colors shadow-sm",children:"Create Item"})]})]})]})})},D8=e=>{let{form:t,setForm:r,onSubmit:n,onClose:i}=e;return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,xn.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Add Category"}),(0,xn.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"GST-friendly category setup"})]}),(0,xn.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-6 h-6"})})]}),(0,xn.jsxs)("form",{onSubmit:n,className:"p-6 space-y-6",children:[(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-4",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Basic Information"}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category Name ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{type:"text",value:t.name,onChange:e=>r(Fe(Fe({},t),{},{name:e.target.value})),placeholder:"e.g., Dairy, Housekeeping Linen, Electrical Spares",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Parent Department ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsxs)("select",{value:t.parent_department,onChange:e=>r(Fe(Fe({},t),{},{parent_department:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Department"}),(0,xn.jsx)("option",{value:"Restaurant",children:"Restaurant"}),(0,xn.jsx)("option",{value:"Facility",children:"Facility"}),(0,xn.jsx)("option",{value:"Hotel",children:"Hotel"}),(0,xn.jsx)("option",{value:"Office",children:"Office"}),(0,xn.jsx)("option",{value:"Fire & Safety",children:"Fire & Safety"}),(0,xn.jsx)("option",{value:"Security",children:"Security"})]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["GST Tax Rate ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsxs)("select",{value:t.gst_tax_rate,onChange:e=>r(Fe(Fe({},t),{},{gst_tax_rate:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"0",children:"0%"}),(0,xn.jsx)("option",{value:"5",children:"5%"}),(0,xn.jsx)("option",{value:"12",children:"12%"}),(0,xn.jsx)("option",{value:"18",children:"18%"}),(0,xn.jsx)("option",{value:"28",children:"28%"})]}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Essential for Purchase Logic"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Classification ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsxs)("select",{value:t.classification,onChange:e=>r(Fe(Fe({},t),{},{classification:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Classification"}),(0,xn.jsx)("option",{value:"Goods",children:"Goods"}),(0,xn.jsx)("option",{value:"Services",children:"Services"})]}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Goods require HSN, Services require SAC"})]}),(0,xn.jsxs)("div",{className:"md:col-span-2",children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,xn.jsx)("textarea",{value:t.description,onChange:e=>r(Fe(Fe({},t),{},{description:e.target.value})),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-4",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"GST Classification Properties"}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["HSN / SAC Code ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{type:"text",value:t.hsn_sac_code,onChange:e=>r(Fe(Fe({},t),{},{hsn_sac_code:e.target.value})),placeholder:"Goods"===t.classification?"e.g., 6302 (Bed Linen)":"e.g., 996331 (Restaurant Service)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"4, 6, or 8 digits - Mandatory for invoices"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["GST Slab (Default) ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsxs)("select",{value:t.default_gst_rate,onChange:e=>r(Fe(Fe({},t),{},{default_gst_rate:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"0",children:"0%"}),(0,xn.jsx)("option",{value:"5",children:"5%"}),(0,xn.jsx)("option",{value:"12",children:"12%"}),(0,xn.jsx)("option",{value:"18",children:"18%"}),(0,xn.jsx)("option",{value:"28",children:"28%"})]}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Default tax rate for all items in this category"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cess Percentage"}),(0,xn.jsx)("input",{type:"number",step:"0.01",min:"0",value:t.cess_percentage,onChange:e=>r(Fe(Fe({},t),{},{cess_percentage:parseFloat(e.target.value)||0})),placeholder:"e.g., 12",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Required for Aerated Drinks, Tobacco, etc."})]})]})]}),(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-4",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"ITC (Input Tax Credit) Rules"}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ITC Eligibility ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsxs)("select",{value:t.itc_eligibility,onChange:e=>r(Fe(Fe({},t),{},{itc_eligibility:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"Eligible",children:"Eligible"}),(0,xn.jsx)("option",{value:"Ineligible (Blocked)",children:"Ineligible (Blocked)"})]}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Construction materials are usually Blocked"})]}),(0,xn.jsxs)("div",{className:"flex items-center pt-6",children:[(0,xn.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",checked:t.is_capital_good,onChange:e=>r(Fe(Fe({},t),{},{is_capital_good:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Capital Good?"})]}),(0,xn.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(ACs, Generators have different rules)"})]})]})]}),(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-4",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Logic Switches"}),(0,xn.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Enable specific workflows by toggling these options:"}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsx)("div",{className:"flex items-start p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:(0,xn.jsxs)("label",{className:"flex items-start cursor-pointer flex-1",children:[(0,xn.jsx)("input",{type:"checkbox",checked:t.is_perishable,onChange:e=>r(Fe(Fe({},t),{},{is_perishable:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mt-1"}),(0,xn.jsxs)("div",{className:"ml-3 flex-1",children:[(0,xn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Is Perishable"}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Activates Logic 1.1: System schedules expiry-based alerts. Used for: Vegetables, Milk, Meat (Restaurant)"})]})]})}),(0,xn.jsx)("div",{className:"flex items-start p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:(0,xn.jsxs)("label",{className:"flex items-start cursor-pointer flex-1",children:[(0,xn.jsx)("input",{type:"checkbox",checked:t.is_asset_fixed,onChange:e=>r(Fe(Fe({},t),{},{is_asset_fixed:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mt-1"}),(0,xn.jsxs)("div",{className:"ml-3 flex-1",children:[(0,xn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Is Asset / Fixed"}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Activates Logic 2.2 & 6.2: System auto-generates maintenance reminders. Used for: ACs, CCTV, Fire Extinguishers"})]})]})}),(0,xn.jsx)("div",{className:"flex items-start p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:(0,xn.jsxs)("label",{className:"flex items-start cursor-pointer flex-1",children:[(0,xn.jsx)("input",{type:"checkbox",checked:t.is_sellable,onChange:e=>r(Fe(Fe({},t),{},{is_sellable:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mt-1"}),(0,xn.jsxs)("div",{className:"ml-3 flex-1",children:[(0,xn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Is Sellable"}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Activates Logic 3.2: If usage exceeds limit, add charge to customer billing. Used for: Minibar drinks, Snacks, Chargeable Toiletries"})]})]})}),(0,xn.jsx)("div",{className:"flex items-start p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:(0,xn.jsxs)("label",{className:"flex items-start cursor-pointer flex-1",children:[(0,xn.jsx)("input",{type:"checkbox",checked:t.track_laundry,onChange:e=>r(Fe(Fe({},t),{},{track_laundry:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mt-1"}),(0,xn.jsxs)("div",{className:"ml-3 flex-1",children:[(0,xn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Track Laundry Cycle"}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Activates Logic 5.4: Enables "Fresh \u2192 Used \u2192 Laundry \u2192 Fresh" cycle. Used for: Bed sheets, Towels, Robes'})]})]})}),(0,xn.jsx)("div",{className:"flex items-start p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:(0,xn.jsxs)("label",{className:"flex items-start cursor-pointer flex-1",children:[(0,xn.jsx)("input",{type:"checkbox",checked:t.allow_partial_usage,onChange:e=>r(Fe(Fe({},t),{},{allow_partial_usage:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mt-1"}),(0,xn.jsxs)("div",{className:"ml-3 flex-1",children:[(0,xn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Allow Partial Usage"}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Activates Logic 1.2: Kitchen raises stock usage request by weight/volume. Used for: Oil (Liters), Rice (Kg)"})]})]})}),(0,xn.jsx)("div",{className:"flex items-start p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:(0,xn.jsxs)("label",{className:"flex items-start cursor-pointer flex-1",children:[(0,xn.jsx)("input",{type:"checkbox",checked:t.consumable_instant,onChange:e=>r(Fe(Fe({},t),{},{consumable_instant:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 mt-1"}),(0,xn.jsxs)("div",{className:"ml-3 flex-1",children:[(0,xn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Consumable Instant"}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Activates Logic 4.1: System deducts requested quantity immediately upon issuance. Used for: Office Stationery, Paper Cups"})]})]})})]})]}),(0,xn.jsxs)("div",{className:"flex justify-end gap-4 pt-4",children:[(0,xn.jsx)("button",{type:"button",onClick:i,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,xn.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Save Category"})]})]})]})})},M8=e=>{let{form:t,setForm:r,onSubmit:n,onClose:i}=e;const a=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli and Daman and Diu","Delhi","Jammu and Kashmir","Ladakh","Lakshadweep","Puducherry"],s="Regular"===t.gst_registration_type,o="Unregistered"===t.gst_registration_type||"Composition"===t.gst_registration_type,l=e=>{if(!e)return!0;return/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(e.toUpperCase())};return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full mx-4 max-h-[95vh] overflow-y-auto",children:[(0,xn.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Add Vendor"}),(0,xn.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"GST-friendly vendor setup for GSTR compliance"})]}),(0,xn.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-6 h-6"})})]}),(0,xn.jsxs)("form",{onSubmit:n,className:"p-6 space-y-6",children:[(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"bg-indigo-100 text-indigo-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"1"}),"Master Switch - GST Registration Type"]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["GST Registration Type ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsxs)("select",{value:t.gst_registration_type,onChange:e=>{const n=e.target.value;r(Fe(Fe({},t),{},{gst_registration_type:n,gst_number:"Unregistered"===n||"Composition"===n?"":t.gst_number,pan_number:"Regular"===n?"":t.pan_number}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-indigo-50",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Type"}),(0,xn.jsx)("option",{value:"Regular",children:"Regular (With GST) - They charge tax, you get credit"}),(0,xn.jsx)("option",{value:"Composition",children:"Composition Scheme (Without GST) - Cannot charge tax"}),(0,xn.jsx)("option",{value:"Unregistered",children:"Unregistered (Without GST) - Small vendors, no tax"}),(0,xn.jsx)("option",{value:"Overseas (Import)",children:"Overseas (Import)"}),(0,xn.jsx)("option",{value:"SEZ",children:"SEZ"})]}),(0,xn.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[s&&"\u2713 Regular vendor - GSTIN and Legal Name required",o&&"\u2713 Unregistered/Composition - PAN Number required, GSTIN disabled"]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Trade Name ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{type:"text",value:t.name,onChange:e=>r(Fe(Fe({},t),{},{name:e.target.value})),placeholder:"e.g., Sharma Sweets",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]})]})]}),s&&(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-6 bg-green-50 p-4 rounded-lg",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"bg-green-100 text-green-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"2"}),'Properties for "With GST" Vendor (Regular)']}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["GSTIN ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{type:"text",value:t.gst_number,onChange:e=>(e=>{const n=e.toUpperCase();if(n.length>=12){const e=n.substring(2,12);r(Fe(Fe({},t),{},{gst_number:n,pan_number:e}))}else r(Fe(Fe({},t),{},{gst_number:n}))})(e.target.value),placeholder:"15 characters: 29ABCDE1234F1Z5",maxLength:15,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ".concat(t.gst_number&&!l(t.gst_number)?"border-red-300":"border-gray-300"),required:!0}),t.gst_number&&!l(t.gst_number)&&(0,xn.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Invalid GSTIN format"}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"System validates format automatically"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Legal Name ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{type:"text",value:t.legal_name,onChange:e=>r(Fe(Fe({},t),{},{legal_name:e.target.value})),placeholder:"Must match GST Portal exactly",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"For GSTR-2B matching"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Billing State ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsxs)("select",{value:t.billing_state,onChange:e=>r(Fe(Fe({},t),{},{billing_state:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select State"}),a.map(e=>(0,xn.jsx)("option",{value:e,children:e},e))]}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Determines IGST vs CGST+SGST calculation"})]}),(0,xn.jsxs)("div",{className:"flex items-center pt-6",children:[(0,xn.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",checked:t.qmp_scheme,onChange:e=>r(Fe(Fe({},t),{},{qmp_scheme:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"QMP Scheme?"})]}),(0,xn.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(Quarterly Return Monthly Payment)"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PAN Number"}),(0,xn.jsx)("input",{type:"text",value:t.pan_number,onChange:e=>r(Fe(Fe({},t),{},{pan_number:e.target.value.toUpperCase()})),placeholder:"Auto-extracted from GSTIN",maxLength:10,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-gray-50",readOnly:!0}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-extracted from GSTIN (chars 3-12)"})]})]})]}),o&&(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-6 bg-orange-50 p-4 rounded-lg",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"bg-orange-100 text-orange-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"3"}),'Properties for "Without GST" Vendor (',t.gst_registration_type,")"]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["PAN Number ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{type:"text",value:t.pan_number,onChange:e=>r(Fe(Fe({},t),{},{pan_number:e.target.value.toUpperCase()})),placeholder:"10 characters: ABCDE1234F",maxLength:10,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Mandatory for TDS and annual reporting"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"MSME / Udyam No."}),(0,xn.jsx)("input",{type:"text",value:t.msme_udyam_no,onChange:e=>r(Fe(Fe({},t),{},{msme_udyam_no:e.target.value})),placeholder:"e.g., UDYAM-XX-XXXX-XXXXX",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'If entered, enforces "Pay within 45 days" rule'})]}),(0,xn.jsxs)("div",{className:"md:col-span-2 flex items-center",children:[(0,xn.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",checked:t.rcm_applicable,onChange:e=>r(Fe(Fe({},t),{},{rcm_applicable:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsxs)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:["RCM Applicable? ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]})]}),(0,xn.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"If Yes: System creates liability for you to pay tax to Govt, but you only pay vendor the base amount"})]}),(0,xn.jsx)("div",{className:"md:col-span-2",children:(0,xn.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,xn.jsxs)("p",{className:"text-xs text-yellow-800",children:[(0,xn.jsx)("strong",{children:"Note:"})," GSTIN field is disabled for ",t.gst_registration_type," vendors. System will not add tax to PO total. ",t.rcm_applicable?"RCM will create a separate tax liability entry.":"No tax entry will be created."]})})})]})]}),(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"bg-indigo-100 text-indigo-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"4"}),"Shared Properties (For All Vendors)"]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),(0,xn.jsx)("input",{type:"text",value:t.company_name,onChange:e=>r(Fe(Fe({},t),{},{company_name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),!s&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Legal Name"}),(0,xn.jsx)("input",{type:"text",value:t.legal_name,onChange:e=>r(Fe(Fe({},t),{},{legal_name:e.target.value})),placeholder:"Legal business name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"bg-indigo-100 text-indigo-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"5"}),"Address & Place of Supply"]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{className:"md:col-span-2",children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Billing Address ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("textarea",{value:t.billing_address,onChange:e=>r(Fe(Fe({},t),{},{billing_address:e.target.value})),rows:"3",placeholder:"Full address for tax invoice generation",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Billing State ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsxs)("select",{value:t.billing_state,onChange:e=>r(Fe(Fe({},t),{},{billing_state:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select State"}),a.map(e=>(0,xn.jsx)("option",{value:e,children:e},e))]}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Determines CGST/SGST vs IGST"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Distance (Km)"}),(0,xn.jsx)("input",{type:"number",step:"0.01",min:"0",value:t.distance_km,onChange:e=>r(Fe(Fe({},t),{},{distance_km:e.target.value?parseFloat(e.target.value):""})),placeholder:"For E-Way Bill generation",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,xn.jsxs)("div",{className:"md:col-span-2",children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Address (If different from Billing)"}),(0,xn.jsx)("textarea",{value:t.shipping_address,onChange:e=>r(Fe(Fe({},t),{},{shipping_address:e.target.value})),rows:"2",placeholder:"Bill To / Ship To model",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"bg-indigo-100 text-indigo-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"6"}),"Contact Information"]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),(0,xn.jsx)("input",{type:"text",value:t.contact_person,onChange:e=>r(Fe(Fe({},t),{},{contact_person:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,xn.jsx)("input",{type:"email",value:t.email,onChange:e=>r(Fe(Fe({},t),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,xn.jsx)("input",{type:"text",value:t.phone,onChange:e=>r(Fe(Fe({},t),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"bg-indigo-100 text-indigo-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"C"}),"Compliance Settings"]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,xn.jsxs)("div",{className:"flex items-center",children:[(0,xn.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",checked:t.is_msme_registered,onChange:e=>r(Fe(Fe({},t),{},{is_msme_registered:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"MSME Registered?"})]}),(0,xn.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(Pay within 45 days)"})]}),(0,xn.jsxs)("div",{className:"flex items-center",children:[(0,xn.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",checked:t.tds_apply,onChange:e=>r(Fe(Fe({},t),{},{tds_apply:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"TDS Apply?"})]}),(0,xn.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(Auto-deduct TDS)"})]}),(0,xn.jsxs)("div",{className:"flex items-center",children:[(0,xn.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",checked:t.rcm_applicable,onChange:e=>r(Fe(Fe({},t),{},{rcm_applicable:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"RCM Applicable?"})]}),(0,xn.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(Reverse Charge)"})]})]})]}),(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-6 bg-blue-50 p-4 rounded-lg",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"bg-blue-100 text-blue-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"8"}),"Payment & Banking Details"]}),(0,xn.jsxs)("p",{className:"text-xs text-blue-700 mb-4 bg-blue-100 p-2 rounded",children:[(0,xn.jsx)("strong",{children:"GST 180-Day Rule:"})," To claim ITC, you must pay vendors within 180 days. Accurate bank details prevent payment delays and protect your tax credit."]}),(0,xn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preferred Payment Method"}),(0,xn.jsxs)("select",{value:t.preferred_payment_method,onChange:e=>r(Fe(Fe({},t),{},{preferred_payment_method:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,xn.jsx)("option",{value:"",children:"Select Method"}),(0,xn.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer (NEFT/RTGS)"}),(0,xn.jsx)("option",{value:"UPI",children:"UPI"}),(0,xn.jsx)("option",{value:"Cheque",children:"Cheque"}),(0,xn.jsx)("option",{value:"Cash",children:"Cash"})]})]})}),"Bank Transfer"===t.preferred_payment_method&&(0,xn.jsxs)("div",{className:"mt-4 space-y-4 border-t border-gray-200 pt-4",children:[(0,xn.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Bank Account Details (For NEFT/RTGS)"}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Account Holder Name ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{type:"text",value:t.account_holder_name,onChange:e=>r(Fe(Fe({},t),{},{account_holder_name:e.target.value})),placeholder:"Should match Legal Name on GST",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ".concat(t.account_holder_name&&t.legal_name&&t.account_holder_name.toLowerCase()!==t.legal_name.toLowerCase()?"border-yellow-300 bg-yellow-50":"border-gray-300"),required:"Bank Transfer"===t.preferred_payment_method}),t.account_holder_name&&t.legal_name&&t.account_holder_name.toLowerCase()!==t.legal_name.toLowerCase()&&(0,xn.jsx)("p",{className:"text-xs text-yellow-600 mt-1",children:"\u26a0\ufe0f Name mismatch! Account holder should match Legal Name to prevent fraud."}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Prevents fraud - should match Legal Name"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Bank Name ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{type:"text",value:t.bank_name,onChange:e=>r(Fe(Fe({},t),{},{bank_name:e.target.value})),placeholder:"e.g., HDFC Bank",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:"Bank Transfer"===t.preferred_payment_method})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Account Number ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{type:"text",value:t.account_number,onChange:e=>r(Fe(Fe({},t),{},{account_number:e.target.value.replace(/\D/g,"")})),placeholder:"9-18 digits",maxLength:18,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ".concat(t.account_number&&t.account_number_confirm&&t.account_number!==t.account_number_confirm?"border-red-300":"border-gray-300"),required:"Bank Transfer"===t.preferred_payment_method}),t.account_number&&(t.account_number.length<9||t.account_number.length>18)&&(0,xn.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Account number must be 9-18 digits"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm Account Number ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{type:"text",value:t.account_number_confirm,onChange:e=>r(Fe(Fe({},t),{},{account_number_confirm:e.target.value.replace(/\D/g,"")})),placeholder:"Re-enter account number",maxLength:18,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ".concat(t.account_number&&t.account_number_confirm&&t.account_number!==t.account_number_confirm?"border-red-300":"border-gray-300"),required:"Bank Transfer"===t.preferred_payment_method}),t.account_number&&t.account_number_confirm&&t.account_number!==t.account_number_confirm&&(0,xn.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Account numbers do not match!"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["IFSC Code ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{type:"text",value:t.ifsc_code,onChange:async e=>{const n=e.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"");if(r(Fe(Fe({},t),{},{ifsc_code:n})),11===n.length)try{r(e=>Fe(Fe({},e),{},{branch_name:"Auto-fetched from IFSC"}))}catch(i){console.error("Error fetching branch:",i)}},placeholder:"11 characters: HDFC0001234",maxLength:11,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ".concat(t.ifsc_code&&11!==t.ifsc_code.length?"border-yellow-300":"border-gray-300"),required:"Bank Transfer"===t.preferred_payment_method}),t.ifsc_code&&11!==t.ifsc_code.length&&(0,xn.jsx)("p",{className:"text-xs text-yellow-500 mt-1",children:"IFSC code must be exactly 11 characters"}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Critical for routing payments"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch Name"}),(0,xn.jsx)("input",{type:"text",value:t.branch_name,onChange:e=>r(Fe(Fe({},t),{},{branch_name:e.target.value})),placeholder:"Auto-fetched from IFSC",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-gray-50",readOnly:!0}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Helpful for verification"})]})]})]}),"UPI"===t.preferred_payment_method&&(0,xn.jsxs)("div",{className:"mt-4 space-y-4 border-t border-gray-200 pt-4",children:[(0,xn.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"UPI Details (For Small/Unregistered Vendors)"}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["UPI ID (VPA) ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{type:"text",value:t.upi_id,onChange:e=>r(Fe(Fe({},t),{},{upi_id:e.target.value.toLowerCase()})),placeholder:"e.g., shopname@okhdfcbank",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:"UPI"===t.preferred_payment_method}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Allows instant payment via QR code"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Number (Linked)"}),(0,xn.jsx)("input",{type:"text",value:t.upi_mobile_number,onChange:e=>r(Fe(Fe({},t),{},{upi_mobile_number:e.target.value.replace(/\D/g,"").slice(0,10)})),placeholder:"10 digits",maxLength:10,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Alternative lookup for GPay/Paytm"})]})]})]})]}),(0,xn.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,xn.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,xn.jsx)("span",{className:"bg-indigo-100 text-indigo-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"9"}),"Additional Information"]}),(0,xn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Terms"}),(0,xn.jsx)("input",{type:"text",value:t.payment_terms,onChange:e=>r(Fe(Fe({},t),{},{payment_terms:e.target.value})),placeholder:"e.g., Net 30, COD",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,xn.jsx)("div",{className:"flex items-center",children:(0,xn.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,xn.jsx)("input",{type:"checkbox",checked:t.is_active,onChange:e=>r(Fe(Fe({},t),{},{is_active:e.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,xn.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Vendor is Active"})]})}),(0,xn.jsxs)("div",{className:"md:col-span-2",children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,xn.jsx)("textarea",{value:t.notes,onChange:e=>r(Fe(Fe({},t),{},{notes:e.target.value})),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),(0,xn.jsxs)("div",{className:"flex justify-end gap-4 pt-4",children:[(0,xn.jsx)("button",{type:"button",onClick:i,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,xn.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Save Vendor"})]})]})]})})},R8=e=>{let{form:t,setForm:r,items:n,categories:a,vendors:s,purchases:o,onSubmit:l,onAddDetail:c,onRemoveDetail:d,onClose:u}=e;const h=()=>{const e=(new Date).toISOString().slice(0,10).replace(/-/g,""),t=o.length+1;return"PO-".concat(e,"-").concat(String(t).padStart(4,"0"))};(0,i.useEffect)(()=>{t.purchase_number||r(Fe(Fe({},t),{},{purchase_number:h()}))},[]);const f=e=>{const t=parseFloat(e.quantity)||0,r=parseFloat(e.unit_price)||0,n=parseFloat(e.gst_rate)||0,i=parseFloat(e.discount)||0;let a,s,o;if(e.tax_inclusive||!1){a=r/(1+n/100),s=(r-a)*t,o=r*t}else{a=r;const e=(a-i)*t;s=e*n/100,o=e+s}return{basePrice:a,taxAmount:s,netTotal:o}},p=(e,n,i)=>{const a=[...t.details];a[e]=Fe(Fe({},a[e]),{},{[n]:i}),r(Fe(Fe({},t),{},{details:a}))};return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,xn.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"New Purchase Order"}),(0,xn.jsx)("button",{onClick:u,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-6 h-6"})})]}),(0,xn.jsxs)("form",{onSubmit:l,className:"p-6 space-y-4",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PO Number *"}),(0,xn.jsx)("input",{type:"text",value:t.purchase_number,onChange:e=>r(Fe(Fe({},t),{},{purchase_number:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor *"}),(0,xn.jsxs)("select",{value:t.vendor_id,onChange:e=>r(Fe(Fe({},t),{},{vendor_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Vendor"}),s.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Date *"}),(0,xn.jsx)("input",{type:"date",value:t.purchase_date,onChange:e=>r(Fe(Fe({},t),{},{purchase_date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Delivery"}),(0,xn.jsx)("input",{type:"date",value:t.expected_delivery_date,onChange:e=>r(Fe(Fe({},t),{},{expected_delivery_date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Number"}),(0,xn.jsx)("input",{type:"text",value:t.invoice_number,onChange:e=>r(Fe(Fe({},t),{},{invoice_number:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,xn.jsxs)("select",{value:t.status,onChange:e=>r(Fe(Fe({},t),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,xn.jsx)("option",{value:"draft",children:"Draft"}),(0,xn.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,xn.jsx)("option",{value:"received",children:"Received"})]})]})]}),(0,xn.jsxs)("div",{className:"border-t pt-4",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Purchase Items (Smart Entry)"}),(0,xn.jsxs)("button",{type:"button",onClick:c,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 flex items-center gap-1",children:[(0,xn.jsx)(x8,{className:"w-4 h-4"}),"Add Item"]})]}),(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"w-full text-sm",children:[(0,xn.jsx)("thead",{className:"bg-gray-100",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Action"}),(0,xn.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Item Name"}),(0,xn.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Category"}),(0,xn.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"HSN Code"}),(0,xn.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Unit"}),(0,xn.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Serial/Batch"}),(0,xn.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Expiry Date"}),(0,xn.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Quantity"}),(0,xn.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Unit Price"}),(0,xn.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Tax Inclusive?"}),(0,xn.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"GST %"}),(0,xn.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Tax Amount"}),(0,xn.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Net Total"})]})}),(0,xn.jsx)("tbody",{children:t.details.map((e,i)=>{var s,o,l,c;const u=(e=>{const t=n.find(t=>t.id===parseInt(e));if(!t)return null;const r=a.find(e=>e.id===t.category_id);return{item:t,category:r}})(e.item_id),h=(null===u||void 0===u||null===(s=u.category)||void 0===s?void 0:s.is_perishable)||(null===u||void 0===u||null===(o=u.item)||void 0===o?void 0:o.is_perishable),m=(null===u||void 0===u||null===(l=u.category)||void 0===l?void 0:l.is_asset_fixed)||(null===u||void 0===u||null===(c=u.item)||void 0===c?void 0:c.is_asset_fixed),g=h||m,x=h,{taxAmount:y,netTotal:v}=f(e);return(0,xn.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"px-2 py-2",children:(0,xn.jsx)("button",{type:"button",onClick:()=>d(i),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded",title:"Remove Item",children:(0,xn.jsx)(EU,{className:"w-4 h-4"})})}),(0,xn.jsx)("td",{className:"px-2 py-2",children:(0,xn.jsxs)("select",{value:e.item_id,onChange:e=>((e,i)=>{const s=n.find(e=>e.id===parseInt(i));if(!s)return;const o=a.find(e=>e.id===s.category_id),l=[...t.details];l[e]=Fe(Fe({},l[e]),{},{item_id:i,category:(null===o||void 0===o?void 0:o.name)||"",hsn_code:s.hsn_code||"",unit:s.unit||"pcs",gst_rate:s.gst_rate||(null===o||void 0===o?void 0:o.gst_tax_rate)||0}),r(Fe(Fe({},t),{},{details:l}))})(i,e.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Item"}),n.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,xn.jsx)("td",{className:"px-2 py-2",children:(0,xn.jsx)("input",{type:"text",value:e.category||"",readOnly:!0,className:"w-full px-2 py-1 text-xs border border-gray-200 bg-gray-50 rounded text-gray-600",placeholder:"Auto-filled"})}),(0,xn.jsx)("td",{className:"px-2 py-2",children:(0,xn.jsx)("input",{type:"text",value:e.hsn_code||"",readOnly:!0,className:"w-full px-2 py-1 text-xs border border-gray-200 bg-gray-50 rounded text-gray-600",placeholder:"Auto-filled"})}),(0,xn.jsx)("td",{className:"px-2 py-2",children:(0,xn.jsx)("input",{type:"text",value:e.unit||"",readOnly:!0,className:"w-full px-2 py-1 text-xs border border-gray-200 bg-gray-50 rounded text-gray-600",placeholder:"Auto-filled"})}),(0,xn.jsx)("td",{className:"px-2 py-2",children:g?(0,xn.jsx)("input",{type:"text",value:e.serial_batch||"",onChange:e=>p(i,"serial_batch",e.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500",placeholder:"Serial/Batch"}):(0,xn.jsx)("span",{className:"text-gray-400 text-xs",children:"-"})}),(0,xn.jsx)("td",{className:"px-2 py-2",children:x?(0,xn.jsx)("input",{type:"date",value:e.expiry_date||"",onChange:e=>p(i,"expiry_date",e.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500"}):(0,xn.jsx)("span",{className:"text-gray-400 text-xs",children:"-"})}),(0,xn.jsx)("td",{className:"px-2 py-2",children:(0,xn.jsx)("input",{type:"number",step:"0.01",min:"0",value:e.quantity||0,onChange:e=>p(i,"quantity",parseFloat(e.target.value)||0),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500",required:!0})}),(0,xn.jsx)("td",{className:"px-2 py-2",children:(0,xn.jsx)("input",{type:"number",step:"0.01",min:"0",value:e.unit_price||0,onChange:e=>p(i,"unit_price",parseFloat(e.target.value)||0),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500",required:!0})}),(0,xn.jsx)("td",{className:"px-2 py-2",children:(0,xn.jsx)("input",{type:"checkbox",checked:e.tax_inclusive||!1,onChange:e=>p(i,"tax_inclusive",e.target.checked),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500",title:"Tax Inclusive"})}),(0,xn.jsx)("td",{className:"px-2 py-2",children:(0,xn.jsx)("input",{type:"number",step:"0.01",min:"0",max:"100",value:e.gst_rate||0,onChange:e=>p(i,"gst_rate",parseFloat(e.target.value)||0),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500"})}),(0,xn.jsx)("td",{className:"px-2 py-2",children:(0,xn.jsx)("span",{className:"text-xs font-medium text-gray-700",children:Ju(y)})}),(0,xn.jsx)("td",{className:"px-2 py-2",children:(0,xn.jsx)("span",{className:"text-xs font-semibold text-indigo-600",children:Ju(v)})})]},i)})})]})}),(0,xn.jsx)("div",{className:"mt-4 pt-4 border-t flex justify-end",children:(0,xn.jsxs)("div",{className:"text-right",children:[(0,xn.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Grand Total:"}),(0,xn.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:Ju(t.details.reduce((e,t)=>{if(!t.item_id)return e;const{netTotal:r}=f(t);return e+r},0))})]})})]}),(0,xn.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t",children:[(0,xn.jsx)("button",{type:"button",onClick:u,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,xn.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Purchase Order"})]})]})]})})},F8=e=>{var t,n;let{purchase:a,onClose:s,onUpdate:o}=e;const[l,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)((null===a||void 0===a?void 0:a.status)||"draft"),[h,f]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{a&&u(a.status||"draft")},[a]),!a)return null;const p=()=>{const e=document.getElementById("purchase-details-".concat(a.id));if(!e)return;const t=window.open("","_blank");t.document.write("\n      <html>\n        <head>\n          <title>Purchase Order - ".concat(a.purchase_number,"</title>\n          <style>\n            body { font-family: Arial, sans-serif; margin: 20px; }\n            .header { border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 20px; }\n            .header h1 { margin: 0; color: #1e40af; }\n            .info-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin: 20px 0; }\n            .info-item { margin: 10px 0; }\n            .info-label { font-weight: bold; color: #666; font-size: 12px; }\n            .info-value { font-size: 14px; margin-top: 5px; }\n            table { width: 100%; border-collapse: collapse; margin: 20px 0; }\n            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n            th { background-color: #f3f4f6; font-weight: bold; }\n            .totals { margin-top: 20px; text-align: right; }\n            .totals div { margin: 5px 0; }\n            .grand-total { font-size: 18px; font-weight: bold; border-top: 2px solid #333; padding-top: 10px; }\n            @media print {\n              .no-print { display: none; }\n            }\n          </style>\n        </head>\n        <body>\n          ").concat(e.innerHTML,"\n        </body>\n      </html>\n    ")),t.document.close(),t.focus(),setTimeout(()=>{t.print(),t.close()},250)},m=[{value:"draft",label:"Draft",color:"bg-gray-100 text-gray-800"},{value:"confirmed",label:"Confirmed",color:"bg-blue-100 text-blue-800"},{value:"received",label:"Received",color:"bg-green-100 text-green-800"},{value:"cancelled",label:"Cancelled",color:"bg-red-100 text-red-800"}];return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-5xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,xn.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Purchase Order Details"}),(0,xn.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["PO Number: ",a.purchase_number]})]}),(0,xn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xn.jsxs)("div",{className:"relative",children:[(0,xn.jsxs)("button",{onClick:()=>f(!h),disabled:l,className:"px-3 py-2 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",children:[(0,xn.jsx)("span",{children:"Status:"}),(0,xn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("received"===d?"bg-green-100 text-green-800":"confirmed"===d?"bg-blue-100 text-blue-800":"cancelled"===d?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:(null===(t=m.find(e=>e.value===d))||void 0===t?void 0:t.label)||d}),l?"...":"\u25bc"]}),h&&(0,xn.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-20",children:m.map(e=>(0,xn.jsx)("button",{onClick:()=>(async e=>{if(e!==d){c(!0);try{const t=localStorage.getItem("token"),r=hn(),n=await fetch("".concat(r,"/inventory/purchases/").concat(a.id,"/status?status=").concat(e),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(n.ok)u(e),o&&o(Fe(Fe({},a),{},{status:e})),alert("Status updated successfully!");else{const e=await n.json();alert("Failed to update status: ".concat(e.detail||"Unknown error"))}}catch(t){console.error("Error updating status:",t),alert("Failed to update status. Please try again.")}finally{c(!1),f(!1)}}else f(!1)})(e.value),disabled:l||e.value===d,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ".concat(e.value===d?"bg-indigo-50":""),children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(e.color),children:e.label})},e.value))})]}),(0,xn.jsxs)("button",{onClick:p,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",title:"Print",children:[(0,xn.jsx)(j8,{className:"w-4 h-4"}),"Print"]}),(0,xn.jsxs)("button",{onClick:async()=>{try{const e=document.getElementById("purchase-details-".concat(a.id));if(!e)return;const{default:t}=await Promise.resolve().then(r.bind(r,7762)),n=(await r.e(239).then(r.t.bind(r,5239,23))).default,i=await n(e,{scale:2,useCORS:!0,logging:!1}),s=i.toDataURL("image/png"),o=new t("p","mm","a4"),l=210,c=295,d=i.height*l/i.width;let u=d,h=0;for(o.addImage(s,"PNG",0,h,l,d),u-=c;u>0;)h=u-d,o.addPage(),o.addImage(s,"PNG",0,h,l,d),u-=c;o.save("Purchase_Order_".concat(a.purchase_number,".pdf"))}catch(e){console.error("Error exporting PDF:",e),alert("PDF export failed. Using print instead."),p()}},className:"px-3 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 flex items-center gap-2",title:"Export as PDF",children:[(0,xn.jsx)(N8,{className:"w-4 h-4"}),"PDF"]}),(0,xn.jsx)("button",{onClick:()=>{navigator.share?navigator.share({title:"Purchase Order ".concat(a.purchase_number),text:"Purchase Order ".concat(a.purchase_number," - ").concat(a.vendor_name),url:window.location.href}).catch(()=>{}):(navigator.clipboard.writeText("Purchase Order: ".concat(a.purchase_number,"\nVendor: ").concat(a.vendor_name,"\nTotal: ").concat(Ju(a.total_amount))),alert("Purchase details copied to clipboard!"))},className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",title:"Share",children:(0,xn.jsx)(_8,{className:"w-4 h-4"})}),(0,xn.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-6 h-6"})})]})]}),(0,xn.jsxs)("div",{id:"purchase-details-".concat(a.id),className:"p-6 space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Vendor"}),(0,xn.jsx)("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:a.vendor_name||"-"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Purchase Date"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:new Date(a.purchase_date).toLocaleDateString()})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Status"}),(0,xn.jsx)("p",{className:"mt-1",children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("received"===d?"bg-green-100 text-green-800":"confirmed"===d?"bg-blue-100 text-blue-800":"cancelled"===d?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:(null===(n=m.find(e=>e.value===d))||void 0===n?void 0:n.label)||d})})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Payment Status"}),(0,xn.jsx)("p",{className:"mt-1",children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("paid"===a.payment_status?"bg-green-100 text-green-800":"partial"===a.payment_status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:a.payment_status})})]})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.expected_delivery_date&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Expected Delivery"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:new Date(a.expected_delivery_date).toLocaleDateString()})]}),a.invoice_number&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Invoice Number"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:a.invoice_number})]}),a.invoice_date&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Invoice Date"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:new Date(a.invoice_date).toLocaleDateString()})]}),a.gst_number&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"GST Number"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:a.gst_number})]}),a.payment_terms&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Payment Terms"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:a.payment_terms})]}),a.created_by_name&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Created By"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:a.created_by_name})]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Purchase Items"}),(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"HSN Code"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Unit"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Unit Price"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"GST %"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Discount"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"CGST"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"SGST"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"IGST"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.details&&a.details.length>0?a.details.map((e,t)=>(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.item_name||"-"}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.hsn_code||"-"}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.quantity||0}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.unit||"-"}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ju(e.unit_price||0)}),(0,xn.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-600",children:[e.gst_rate||0,"%"]}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ju(e.discount||0)}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ju(e.cgst_amount||0)}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ju(e.sgst_amount||0)}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ju(e.igst_amount||0)}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900",children:Ju(e.total_amount||0)})]},e.id||t)):(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"11",className:"px-4 py-8 text-center text-gray-500",children:"No items found"})})})]})})]}),(0,xn.jsx)("div",{className:"border-t pt-4",children:(0,xn.jsx)("div",{className:"flex justify-end",children:(0,xn.jsxs)("div",{className:"w-full max-w-md space-y-2",children:[(0,xn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,xn.jsx)("span",{className:"text-gray-600",children:"Sub Total:"}),(0,xn.jsx)("span",{className:"font-medium text-gray-900",children:Ju(a.sub_total||0)})]}),a.cgst>0&&(0,xn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,xn.jsx)("span",{className:"text-gray-600",children:"CGST:"}),(0,xn.jsx)("span",{className:"font-medium text-gray-900",children:Ju(a.cgst||0)})]}),a.sgst>0&&(0,xn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,xn.jsx)("span",{className:"text-gray-600",children:"SGST:"}),(0,xn.jsx)("span",{className:"font-medium text-gray-900",children:Ju(a.sgst||0)})]}),a.igst>0&&(0,xn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,xn.jsx)("span",{className:"text-gray-600",children:"IGST:"}),(0,xn.jsx)("span",{className:"font-medium text-gray-900",children:Ju(a.igst||0)})]}),a.discount>0&&(0,xn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,xn.jsx)("span",{className:"text-gray-600",children:"Discount:"}),(0,xn.jsxs)("span",{className:"font-medium text-red-600",children:["-",Ju(a.discount||0)]})]}),(0,xn.jsxs)("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[(0,xn.jsx)("span",{className:"text-gray-900",children:"Grand Total:"}),(0,xn.jsx)("span",{className:"text-indigo-600",children:Ju(a.total_amount||0)})]})]})})}),a.notes&&(0,xn.jsxs)("div",{className:"border-t pt-4",children:[(0,xn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Notes"}),(0,xn.jsx)("p",{className:"text-sm text-gray-600 mt-1 bg-gray-50 p-3 rounded-lg",children:a.notes})]}),(0,xn.jsx)("div",{className:"flex justify-end pt-4 border-t",children:(0,xn.jsx)("button",{onClick:s,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Close"})})]})]})})},B8=e=>{let{unit:t,setUnit:r,onSubmit:n,onClose:i}=e;return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[(0,xn.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[(0,xn.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Add New Unit"}),(0,xn.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-6 h-6"})})]}),(0,xn.jsxs)("form",{onSubmit:n,className:"p-6 space-y-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit Value (Code) ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{type:"text",value:t.value,onChange:e=>r(Fe(Fe({},t),{},{value:e.target.value})),placeholder:"e.g., carton, bundle, set",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Short code (will be converted to lowercase)"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit Label (Display Name) ",(0,xn.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,xn.jsx)("input",{type:"text",value:t.label,onChange:e=>r(Fe(Fe({},t),{},{label:e.target.value})),placeholder:"e.g., Carton, Bundle, Set",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0}),(0,xn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Full display name shown in dropdown"})]}),(0,xn.jsxs)("div",{className:"flex justify-end gap-4 pt-4",children:[(0,xn.jsx)("button",{type:"button",onClick:i,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,xn.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Add Unit"})]})]})]})})},z8=e=>{let{form:t,setForm:r,items:n,locations:i,requisitions:a,onSubmit:s,onAddDetail:o,onRemoveDetail:l,onClose:c}=e;return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,xn.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"New Stock Issue"}),(0,xn.jsx)("button",{onClick:c,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-6 h-6"})})]}),(0,xn.jsxs)("form",{onSubmit:s,className:"p-6 space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Linked Requisition (Optional)",(0,xn.jsx)("span",{className:"ml-2 text-xs text-gray-500 font-normal",children:"(Link to a pending requisition if issuing from a request)"})]}),(0,xn.jsxs)("select",{value:t.requisition_id,onChange:e=>r(Fe(Fe({},t),{},{requisition_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,xn.jsx)("option",{value:"",children:"None - Direct Issue"}),a.filter(e=>"pending"===e.status||"approved"===e.status).map(e=>(0,xn.jsxs)("option",{value:e.id,children:[e.requisition_number," - ",e.destination_department]},e.id))]}),0===a.filter(e=>"pending"===e.status||"approved"===e.status).length&&(0,xn.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:'No pending requisitions. Create one in the "Requisitions" tab first.'})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Source Location *",(0,xn.jsx)("span",{className:"ml-2 text-xs text-gray-500 font-normal",children:"(Where stock is coming FROM - must be an Inventory Point)"})]}),(0,xn.jsxs)("select",{value:t.source_location_id,onChange:e=>r(Fe(Fe({},t),{},{source_location_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Source"}),i.filter(e=>e.is_inventory_point).map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name||"".concat(e.building," - ").concat(e.room_area)},e.id))]}),0===i.filter(e=>e.is_inventory_point).length&&(0,xn.jsx)("p",{className:"mt-1 text-xs text-red-600",children:'\u26a0\ufe0f No inventory points found! Create a warehouse location with "Is Inventory Point" = Yes in the Locations tab.'})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination Location *"}),(0,xn.jsxs)("select",{value:t.destination_location_id,onChange:e=>r(Fe(Fe({},t),{},{destination_location_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Destination"}),i.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name||"".concat(e.building," - ").concat(e.room_area)},e.id))]})]})]}),(0,xn.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issue Date *"}),(0,xn.jsx)("input",{type:"date",value:t.issue_date,onChange:e=>r(Fe(Fe({},t),{},{issue_date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]})}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,xn.jsx)("textarea",{value:t.notes,onChange:e=>r(Fe(Fe({},t),{},{notes:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",rows:"2"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Issued Items"}),(0,xn.jsxs)("button",{type:"button",onClick:o,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 flex items-center gap-1",children:[(0,xn.jsx)(x8,{className:"w-4 h-4"}),"Add Item"]})]}),(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Issued Qty"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Unit"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Batch/Lot No"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Notes"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.details.map((e,i)=>{n.find(t=>t.id===parseInt(e.item_id));return(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsxs)("select",{value:e.item_id,onChange:e=>{const a=[...t.details];a[i].item_id=e.target.value;const s=n.find(t=>t.id===parseInt(e.target.value));s&&(a[i].unit=s.unit||"pcs",a[i].cost=s.unit_price||0),r(Fe(Fe({},t),{},{details:a}))},className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Item"}),n.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsx)("input",{type:"number",step:"0.01",value:e.issued_quantity,onChange:e=>{const n=[...t.details];n[i].issued_quantity=parseFloat(e.target.value)||0,r(Fe(Fe({},t),{},{details:n}))},className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500",required:!0})}),(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsx)("input",{type:"text",value:e.unit,disabled:!0,className:"w-full px-2 py-1 text-sm border border-gray-200 rounded bg-gray-50 text-gray-600"})}),(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsx)("input",{type:"text",value:e.batch_lot_number,onChange:e=>{const n=[...t.details];n[i].batch_lot_number=e.target.value,r(Fe(Fe({},t),{},{details:n}))},className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500",placeholder:"Optional"})}),(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsx)("input",{type:"number",step:"0.01",value:e.cost,onChange:e=>{const n=[...t.details];n[i].cost=parseFloat(e.target.value)||0,r(Fe(Fe({},t),{},{details:n}))},className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500",placeholder:"0.00"})}),(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsx)("input",{type:"text",value:e.notes,onChange:e=>{const n=[...t.details];n[i].notes=e.target.value,r(Fe(Fe({},t),{},{details:n}))},className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500",placeholder:"Optional"})}),(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsx)("button",{type:"button",onClick:()=>l(i),className:"text-red-600 hover:text-red-800",children:(0,xn.jsx)(EU,{className:"w-4 h-4"})})})]},i)})})]})})]}),(0,xn.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200",children:[(0,xn.jsx)("button",{type:"button",onClick:c,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,xn.jsx)("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Issue"})]})]})]})})},U8=e=>{let{form:t,setForm:r,items:n,onSubmit:i,onAddDetail:a,onRemoveDetail:s,onClose:o}=e;return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,xn.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"New Requisition"}),(0,xn.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-6 h-6"})})]}),(0,xn.jsxs)("form",{onSubmit:i,className:"p-6 space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination Department *"}),(0,xn.jsxs)("select",{value:t.destination_department,onChange:e=>r(Fe(Fe({},t),{},{destination_department:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Department"}),["Kitchen Main","Housekeeping","Office","Restaurant","Facility","Security","Fire & Safety"].map(e=>(0,xn.jsx)("option",{value:e,children:e},e))]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Needed"}),(0,xn.jsx)("input",{type:"date",value:t.date_needed,onChange:e=>r(Fe(Fe({},t),{},{date_needed:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority *"}),(0,xn.jsxs)("select",{value:t.priority,onChange:e=>r(Fe(Fe({},t),{},{priority:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"normal",children:"Normal"}),(0,xn.jsx)("option",{value:"urgent",children:"Urgent"}),(0,xn.jsx)("option",{value:"critical",children:"Critical"})]})]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,xn.jsx)("textarea",{value:t.notes,onChange:e=>r(Fe(Fe({},t),{},{notes:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",rows:"2"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Requested Items"}),(0,xn.jsxs)("button",{type:"button",onClick:a,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 flex items-center gap-1",children:[(0,xn.jsx)(x8,{className:"w-4 h-4"}),"Add Item"]})]}),(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Current Stock"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Requested Qty"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Approved Qty"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Unit"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Notes"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.details.map((e,i)=>{const a=n.find(t=>t.id===parseInt(e.item_id));return(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsxs)("select",{value:e.item_id,onChange:e=>{const a=[...t.details];a[i].item_id=e.target.value;const s=n.find(t=>t.id===parseInt(e.target.value));s&&(a[i].unit=s.unit||"pcs"),r(Fe(Fe({},t),{},{details:a}))},className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Item"}),n.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsx)("input",{type:"text",value:a?a.current_stock||0:"N/A",disabled:!0,className:"w-full px-2 py-1 text-sm border border-gray-200 rounded bg-gray-50 text-gray-600"})}),(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsx)("input",{type:"number",step:"0.01",value:e.requested_quantity,onChange:e=>{const n=[...t.details];n[i].requested_quantity=parseFloat(e.target.value)||0,r(Fe(Fe({},t),{},{details:n}))},className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500",required:!0})}),(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsx)("input",{type:"number",step:"0.01",value:e.approved_quantity||"",onChange:e=>{const n=[...t.details];n[i].approved_quantity=e.target.value?parseFloat(e.target.value):null,r(Fe(Fe({},t),{},{details:n}))},className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500",placeholder:"Manager"})}),(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsx)("input",{type:"text",value:e.unit,readOnly:!0,className:"w-full px-2 py-1 text-sm border border-gray-200 rounded bg-gray-100"})}),(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsx)("input",{type:"text",value:e.notes,onChange:e=>{const n=[...t.details];n[i].notes=e.target.value,r(Fe(Fe({},t),{},{details:n}))},className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500",placeholder:"Reason"})}),(0,xn.jsx)("td",{className:"px-3 py-2",children:(0,xn.jsx)("button",{type:"button",onClick:()=>s(i),className:"text-red-600 hover:text-red-900",children:(0,xn.jsx)(EU,{className:"w-4 h-4"})})})]},i)})})]})})]}),(0,xn.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t",children:[(0,xn.jsx)("button",{type:"button",onClick:o,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,xn.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Requisition"})]})]})]})})},q8=e=>{let{form:t,setForm:r,items:n=[],locations:i=[],onSubmit:a,onClose:s}=e;return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,xn.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Report Waste / Spoilage"}),(0,xn.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-6 h-6"})})]}),(0,xn.jsxs)("form",{onSubmit:a,className:"p-6 space-y-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item *"}),(0,xn.jsxs)("select",{value:t.item_id,onChange:e=>{const i=n.find(t=>t.id===parseInt(e.target.value));r(Fe(Fe({},t),{},{item_id:e.target.value,unit:(null===i||void 0===i?void 0:i.unit)||"pcs"}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Item"}),n.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch Number"}),(0,xn.jsx)("input",{type:"text",value:t.batch_number,onChange:e=>r(Fe(Fe({},t),{},{batch_number:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),(0,xn.jsx)("input",{type:"date",value:t.expiry_date,onChange:e=>r(Fe(Fe({},t),{},{expiry_date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),(0,xn.jsx)("input",{type:"number",step:"0.01",value:t.quantity,onChange:e=>r(Fe(Fe({},t),{},{quantity:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),(0,xn.jsx)("input",{type:"text",value:t.unit,readOnly:!0,className:"w-full px-3 py-2 border border-gray-200 rounded bg-gray-100"})]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason Code *"}),(0,xn.jsxs)("select",{value:t.reason_code,onChange:e=>r(Fe(Fe({},t),{},{reason_code:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Reason"}),["Expired","Damaged","Spilled","Theft","Taste Test"].map(e=>(0,xn.jsx)("option",{value:e,children:e},e))]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action Taken"}),(0,xn.jsxs)("select",{value:t.action_taken||"",onChange:e=>r(Fe(Fe({},t),{},{action_taken:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,xn.jsx)("option",{value:"",children:"Select Action"}),(0,xn.jsx)("option",{value:"Discarded",children:"Discarded"}),(0,xn.jsx)("option",{value:"Returned to Vendor",children:"Returned to Vendor"})]})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,xn.jsxs)("select",{value:t.location_id||"",onChange:e=>r(Fe(Fe({},t),{},{location_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,xn.jsx)("option",{value:"",children:"Select Location"}),i.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name||"".concat(e.building," - ").concat(e.room_area)},e.id))]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Waste Date"}),(0,xn.jsx)("input",{type:"date",value:t.waste_date||"",onChange:e=>r(Fe(Fe({},t),{},{waste_date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Photo (Proof)"}),(0,xn.jsx)("input",{type:"file",accept:"image/*",onChange:e=>r(Fe(Fe({},t),{},{photo:e.target.files[0]})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,xn.jsx)("textarea",{value:t.notes,onChange:e=>r(Fe(Fe({},t),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,xn.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t",children:[(0,xn.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,xn.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Report Waste"})]})]})]})})},W8=e=>{let{form:t,setForm:r,locations:n,onSubmit:i,onClose:a}=e;return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full mx-4",children:[(0,xn.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Add Location"}),(0,xn.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-6 h-6"})})]}),(0,xn.jsxs)("form",{onSubmit:i,className:"p-6 space-y-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location Name *"}),(0,xn.jsx)("input",{type:"text",value:t.name||"",onChange:e=>r(Fe(Fe({},t),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., Main Warehouse, Kitchen Store, Room 101",required:!0}),(0,xn.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"A friendly name for this location"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Building *"}),(0,xn.jsx)("input",{type:"text",value:t.building,onChange:e=>r(Fe(Fe({},t),{},{building:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., Main Block, Villas",required:!0})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Floor"}),(0,xn.jsx)("input",{type:"text",value:t.floor,onChange:e=>r(Fe(Fe({},t),{},{floor:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., Ground, 1st, 2nd"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room/Area *"}),(0,xn.jsx)("input",{type:"text",value:t.room_area,onChange:e=>r(Fe(Fe({},t),{},{room_area:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., Room 101, Lobby, Conference Hall",required:!0})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location Type *"}),(0,xn.jsxs)("select",{value:t.location_type,onChange:e=>r(Fe(Fe({},t),{},{location_type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Type"}),[{value:"GUEST_ROOM",label:"Guest Room"},{value:"WAREHOUSE",label:"Warehouse"},{value:"DEPARTMENT",label:"Department"},{value:"PUBLIC_AREA",label:"Public Area"},{value:"CENTRAL_WAREHOUSE",label:"Central Warehouse"},{value:"BRANCH_STORE",label:"Branch Store"},{value:"SUB_STORE",label:"Sub Store"}].map(e=>(0,xn.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,xn.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,xn.jsxs)("div",{className:"flex items-start",children:[(0,xn.jsx)("div",{className:"flex-shrink-0",children:(0,xn.jsx)("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,xn.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,xn.jsxs)("div",{className:"ml-3",children:[(0,xn.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Creating a Source Location (Warehouse)"}),(0,xn.jsxs)("div",{className:"mt-2 text-sm text-blue-700",children:[(0,xn.jsxs)("p",{children:["To create a location that can be used as a ",(0,xn.jsx)("strong",{children:"Source Location"})," in stock issues:"]}),(0,xn.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[(0,xn.jsxs)("li",{children:["Select ",(0,xn.jsx)("strong",{children:"Location Type"}),': "Warehouse", "Central Warehouse", or "Branch Store"']}),(0,xn.jsxs)("li",{children:["Check ",(0,xn.jsx)("strong",{children:'"Is Inventory Point"'})," = Yes (this makes it available as a source)"]}),(0,xn.jsx)("li",{children:'Example: Name = "Main Warehouse", Type = "Central Warehouse", Is Inventory Point = Yes'})]})]})]})]})}),(0,xn.jsxs)("div",{className:"flex items-center",children:[(0,xn.jsx)("input",{type:"checkbox",id:"is_inventory_point",checked:t.is_inventory_point,onChange:e=>r(Fe(Fe({},t),{},{is_inventory_point:e.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,xn.jsxs)("label",{htmlFor:"is_inventory_point",className:"ml-2 block text-sm text-gray-700",children:[(0,xn.jsx)("span",{className:"font-medium",children:"Is Inventory Point?"}),(0,xn.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(Check this to use as Source Location in stock issues)"})]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,xn.jsx)("textarea",{value:t.description,onChange:e=>r(Fe(Fe({},t),{},{description:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,xn.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t",children:[(0,xn.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,xn.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Location"})]})]})]})})},H8=e=>{let{form:t,setForm:r,items:n,locations:i,categories:a,onSubmit:s,onClose:o}=e;const l=n.filter(e=>{const t=a.find(t=>t.id===e.category_id);return(null===t||void 0===t?void 0:t.is_asset_fixed)||!1});return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full mx-4",children:[(0,xn.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Assign Asset to Location"}),(0,xn.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-6 h-6"})})]}),(0,xn.jsxs)("form",{onSubmit:s,className:"p-6 space-y-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset (Fixed Item) *"}),(0,xn.jsxs)("select",{value:t.item_id,onChange:e=>r(Fe(Fe({},t),{},{item_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Asset"}),l.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),(0,xn.jsxs)("select",{value:t.location_id,onChange:e=>r(Fe(Fe({},t),{},{location_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Location"}),i.map(e=>(0,xn.jsxs)("option",{value:e.id,children:[e.building," - ",e.room_area," ",e.floor?"(".concat(e.floor,")"):""]},e.id))]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),(0,xn.jsx)("input",{type:"text",value:t.serial_number,onChange:e=>r(Fe(Fe({},t),{},{serial_number:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., SN: 998877"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,xn.jsx)("textarea",{value:t.notes,onChange:e=>r(Fe(Fe({},t),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,xn.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t",children:[(0,xn.jsx)("button",{type:"button",onClick:o,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,xn.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Assign Asset"})]})]})]})})},V8=e=>{var t;let{requisition:r,items:n,onClose:i}=e;return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,xn.jsxs)("div",{className:"p-4 sm:p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,xn.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Requisition Details"}),(0,xn.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),(0,xn.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Requisition Number"}),(0,xn.jsx)("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:r.requisition_number})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Department"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:r.destination_department})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Status"}),(0,xn.jsx)("p",{className:"mt-1",children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("approved"===r.status?"bg-green-100 text-green-800":"rejected"===r.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:r.status})})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Priority"}),(0,xn.jsx)("p",{className:"mt-1",children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("urgent"===r.priority?"bg-red-100 text-red-800":"critical"===r.priority?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:r.priority})})]}),r.date_needed&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Date Needed"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:new Date(r.date_needed).toLocaleDateString()})]}),r.requested_by_name&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Requested By"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:r.requested_by_name})]})]}),r.notes&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Notes"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:r.notes})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Requested Items"}),(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Requested Qty"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Approved Qty"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Unit"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Notes"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:null===(t=r.details)||void 0===t?void 0:t.map((e,t)=>{const r=n.find(t=>t.id===e.item_id);return(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("td",{className:"px-3 py-2 text-sm text-gray-900",children:(null===r||void 0===r?void 0:r.name)||"N/A"}),(0,xn.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600",children:e.requested_quantity||e.quantity||0}),(0,xn.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600",children:e.approved_quantity||"-"}),(0,xn.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600",children:e.unit}),(0,xn.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600",children:e.notes||"-"})]},t)})})]})})]}),(0,xn.jsx)("div",{className:"flex justify-end pt-4 border-t",children:(0,xn.jsx)("button",{onClick:i,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Close"})})]})]})})},G8=e=>{var t;let{issue:r,items:n,locations:i,onClose:a}=e;return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,xn.jsxs)("div",{className:"p-4 sm:p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,xn.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Issue Details"}),(0,xn.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),(0,xn.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Issue Number"}),(0,xn.jsx)("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:r.issue_number})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Source Location"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:r.source_location_name||"Main Store"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Destination Location"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:r.destination_location_name||"-"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Issue Date"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:new Date(r.issue_date||r.created_at).toLocaleDateString()})]}),r.requisition_number&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Linked Requisition"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:r.requisition_number})]}),r.issued_by_name&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Issued By"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:r.issued_by_name})]})]}),r.notes&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Notes"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:r.notes})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Issued Items"}),(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Unit"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase hidden md:table-cell",children:"Batch/Lot"}),(0,xn.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase hidden lg:table-cell",children:"Cost"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:null===(t=r.details)||void 0===t?void 0:t.map((e,t)=>{const r=n.find(t=>t.id===e.item_id);return(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("td",{className:"px-3 py-2 text-sm text-gray-900",children:(null===r||void 0===r?void 0:r.name)||"N/A"}),(0,xn.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600",children:e.issued_quantity||e.quantity||0}),(0,xn.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600",children:e.unit}),(0,xn.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600 hidden md:table-cell",children:e.batch_lot_number||"-"}),(0,xn.jsx)("td",{className:"px-3 py-2 text-sm text-gray-600 hidden lg:table-cell",children:e.cost?"\u20b9".concat(e.cost.toFixed(2)):"-"})]},t)})})]})})]}),(0,xn.jsx)("div",{className:"flex justify-end pt-4 border-t",children:(0,xn.jsx)("button",{onClick:a,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Close"})})]})]})})},K8=e=>{let{wasteLog:t,items:r,locations:n,onClose:i}=e;const a=r.find(e=>e.id===t.item_id),s=n.find(e=>e.id===t.location_id);return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,xn.jsxs)("div",{className:"p-4 sm:p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,xn.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Waste Log Details"}),(0,xn.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),(0,xn.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Log Number"}),(0,xn.jsx)("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:t.log_number||"WL-".concat(t.id)})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Item"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:(null===a||void 0===a?void 0:a.name)||t.item_name||"N/A"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Quantity"}),(0,xn.jsxs)("p",{className:"text-sm text-gray-900 mt-1",children:[t.quantity," ",t.unit]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Reason Code"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.reason_code||t.reason||"N/A"})]}),t.batch_number&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Batch Number"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.batch_number})]}),t.expiry_date&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Expiry Date"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:new Date(t.expiry_date).toLocaleDateString()})]}),t.action_taken&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Action Taken"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.action_taken})]}),s&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Location"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:s.name||"".concat(s.building," - ").concat(s.room_area)})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Waste Date"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:new Date(t.waste_date||t.created_at).toLocaleDateString()})]}),t.reported_by_name&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Reported By"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.reported_by_name})]})]}),t.photo_path&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Photo Proof"}),(0,xn.jsx)("div",{className:"mt-2",children:(0,xn.jsx)("img",{src:"http://localhost:8011".concat(t.photo_path),alt:"Waste proof",className:"max-w-full h-auto rounded-lg border border-gray-200",onError:e=>{e.target.style.display="none"}})})]}),t.notes&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Notes"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.notes})]}),(0,xn.jsx)("div",{className:"flex justify-end pt-4 border-t",children:(0,xn.jsx)("button",{onClick:i,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Close"})})]})]})})},Y8=e=>{let{location:t,locations:r,onClose:n}=e;const i=r.find(e=>e.id===t.parent_location_id);return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,xn.jsxs)("div",{className:"p-4 sm:p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,xn.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Location Details"}),(0,xn.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),(0,xn.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Location Code"}),(0,xn.jsx)("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:t.location_code||"LOC-".concat(t.id)})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Name"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.name})]}),t.building&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Building"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.building})]}),t.floor&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Floor"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.floor})]}),t.room_area&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Room/Area"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.room_area})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Type"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.location_type})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Inventory Point"}),(0,xn.jsx)("p",{className:"mt-1",children:t.is_inventory_point?(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"Yes"}):(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded-full",children:"No"})})]}),i&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Parent Location"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:i.name||"".concat(i.building," - ").concat(i.room_area)})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Status"}),(0,xn.jsx)("p",{className:"mt-1",children:t.is_active?(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"Active"}):(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full",children:"Inactive"})})]})]}),t.description&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Description"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.description})]}),(0,xn.jsx)("div",{className:"flex justify-end pt-4 border-t",children:(0,xn.jsx)("button",{onClick:n,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Close"})})]})]})})},X8=e=>{let{asset:t,items:r,locations:n,onClose:i}=e;const a=r.find(e=>e.id===t.item_id),s=n.find(e=>e.id===t.current_location_id);return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,xn.jsxs)("div",{className:"p-4 sm:p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,xn.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Asset Details"}),(0,xn.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),(0,xn.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[(0,xn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Asset Tag ID"}),(0,xn.jsx)("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:t.asset_tag_id||"AST-".concat(t.id)})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Item"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:(null===a||void 0===a?void 0:a.name)||t.item_name||"N/A"})]}),t.serial_number&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Serial Number"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.serial_number})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Current Location"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:(null===s||void 0===s?void 0:s.name)||t.location_name||"-"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Status"}),(0,xn.jsx)("p",{className:"mt-1",children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("Active"===t.status?"bg-green-100 text-green-800":"In Repair"===t.status?"bg-yellow-100 text-yellow-800":"Damaged"===t.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:t.status})})]}),t.purchase_date&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Purchase Date"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:new Date(t.purchase_date).toLocaleDateString()})]}),t.warranty_expiry_date&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Warranty Expiry"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:new Date(t.warranty_expiry_date).toLocaleDateString()})]}),t.last_maintenance_date&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Last Maintenance"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:new Date(t.last_maintenance_date).toLocaleDateString()})]}),t.next_maintenance_due_date&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Next Maintenance Due"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:new Date(t.next_maintenance_due_date).toLocaleDateString()})]}),t.assigned_date&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Assigned Date"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:new Date(t.assigned_date).toLocaleDateString()})]})]}),t.notes&&(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"Notes"}),(0,xn.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.notes})]}),(0,xn.jsx)("div",{className:"flex justify-end pt-4 border-t",children:(0,xn.jsx)("button",{onClick:i,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Close"})})]})]})})},Q8=e=>{let{form:t,setForm:r,foodItems:n,items:i,editingRecipe:a,onSubmit:s,onClose:o}=e;const l=(e,n,i)=>{const a=[...t.ingredients];a[e]=Fe(Fe({},a[e]),{},{[n]:i}),r(Fe(Fe({},t),{},{ingredients:a}))};return(0,xn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,xn.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,xn.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:a?"Edit Recipe":"Add Recipe"}),(0,xn.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-6 h-6"})})]}),(0,xn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t.food_item_id&&t.name&&0!==t.ingredients.length?s(t):alert("Please fill in all required fields and add at least one ingredient")},className:"p-6 space-y-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Food Item *"}),(0,xn.jsxs)("select",{value:t.food_item_id,onChange:e=>r(Fe(Fe({},t),{},{food_item_id:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Food Item"}),n.map(e=>(0,xn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipe Name *"}),(0,xn.jsx)("input",{type:"text",value:t.name,onChange:e=>r(Fe(Fe({},t),{},{name:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2",required:!0})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,xn.jsx)("textarea",{value:t.description,onChange:e=>r(Fe(Fe({},t),{},{description:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2",rows:"3"})]}),(0,xn.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servings *"}),(0,xn.jsx)("input",{type:"number",value:t.servings,onChange:e=>r(Fe(Fe({},t),{},{servings:parseInt(e.target.value)||1})),className:"w-full border border-gray-300 rounded-lg px-3 py-2",min:"1",required:!0})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prep Time (minutes)"}),(0,xn.jsx)("input",{type:"number",value:t.prep_time_minutes,onChange:e=>r(Fe(Fe({},t),{},{prep_time_minutes:e.target.value?parseInt(e.target.value):""})),className:"w-full border border-gray-300 rounded-lg px-3 py-2",min:"0"})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cook Time (minutes)"}),(0,xn.jsx)("input",{type:"number",value:t.cook_time_minutes,onChange:e=>r(Fe(Fe({},t),{},{cook_time_minutes:e.target.value?parseInt(e.target.value):""})),className:"w-full border border-gray-300 rounded-lg px-3 py-2",min:"0"})]})]}),(0,xn.jsxs)("div",{children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,xn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Ingredients *"}),(0,xn.jsx)("button",{type:"button",onClick:()=>{r(Fe(Fe({},t),{},{ingredients:[...t.ingredients,{inventory_item_id:"",quantity:0,unit:"pcs",notes:""}]}))},className:"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 text-sm",children:"+ Add Ingredient"})]}),0===t.ingredients.length?(0,xn.jsx)("p",{className:"text-sm text-gray-500 italic",children:'No ingredients added. Click "Add Ingredient" to add one.'}):(0,xn.jsx)("div",{className:"space-y-2",children:t.ingredients.map((e,n)=>(0,xn.jsxs)("div",{className:"flex gap-2 items-end p-3 border border-gray-200 rounded-lg",children:[(0,xn.jsxs)("div",{className:"flex-1",children:[(0,xn.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Inventory Item"}),(0,xn.jsxs)("select",{value:e.inventory_item_id,onChange:e=>l(n,"inventory_item_id",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",required:!0,children:[(0,xn.jsx)("option",{value:"",children:"Select Item"}),i.map(e=>(0,xn.jsxs)("option",{value:e.id,children:[e.name," (",e.unit,")"]},e.id))]})]}),(0,xn.jsxs)("div",{className:"w-24",children:[(0,xn.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Quantity"}),(0,xn.jsx)("input",{type:"number",value:e.quantity,onChange:e=>l(n,"quantity",parseFloat(e.target.value)||0),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",step:"0.01",min:"0",required:!0})]}),(0,xn.jsxs)("div",{className:"w-24",children:[(0,xn.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Unit"}),(0,xn.jsx)("input",{type:"text",value:e.unit,onChange:e=>l(n,"unit",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",required:!0})]}),(0,xn.jsxs)("div",{className:"w-32",children:[(0,xn.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Notes"}),(0,xn.jsx)("input",{type:"text",value:e.notes,onChange:e=>l(n,"notes",e.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"e.g., chopped"})]}),(0,xn.jsx)("button",{type:"button",onClick:()=>(e=>{r(Fe(Fe({},t),{},{ingredients:t.ingredients.filter((t,r)=>r!==e)}))})(n),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-sm",children:"Remove"})]},n))})]}),(0,xn.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,xn.jsx)("button",{type:"button",onClick:o,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,xn.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:a?"Update Recipe":"Create Recipe"})]})]})]})})},$8=()=>{const[e,t]=(0,i.useState)("items"),[r,n]=(0,i.useState)(!1),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)([]),[u,h]=(0,i.useState)([]),[f,p]=(0,i.useState)([]),[m,g]=(0,i.useState)([]),[x,y]=(0,i.useState)([]),[v,b]=(0,i.useState)([]),[w,j]=(0,i.useState)([]),[N,_]=(0,i.useState)([]),[k,S]=(0,i.useState)([]),[A,C]=(0,i.useState)([]),[E,P]=(0,i.useState)(null),[T,O]=(0,i.useState)(null),[I,L]=(0,i.useState)([]),[D,M]=(0,i.useState)([]),[R,F]=(0,i.useState)(!1),[B,z]=(0,i.useState)(null),[U,q]=(0,i.useState)({food_item_id:"",name:"",description:"",servings:1,prep_time_minutes:"",cook_time_minutes:"",ingredients:[]}),[W,H]=(0,i.useState)({type:"all",category:"all",dateRange:"all",startDate:"",endDate:""}),[V,G]=(0,i.useState)(null),[K,Y]=(0,i.useState)(!1),[X,Q]=(0,i.useState)(!1),[$,Z]=(0,i.useState)(!1),[J,ee]=(0,i.useState)(!1),[te,re]=(0,i.useState)(!1),[ne,ie]=(0,i.useState)(null),[ae,se]=(0,i.useState)(!1),[oe,le]=(0,i.useState)(!1),[ce,de]=(0,i.useState)(null),[ue,he]=(0,i.useState)(!1),[fe,pe]=(0,i.useState)(!1),[me,ge]=(0,i.useState)(!1),[xe,ye]=(0,i.useState)(!1),[ve,be]=(0,i.useState)(!1),[we,je]=(0,i.useState)(null),[Ne,_e]=(0,i.useState)(!1),[ke,Se]=(0,i.useState)(null),[Ae,Ce]=(0,i.useState)(!1),[Ee,Pe]=(0,i.useState)(null),[Te,Oe]=(0,i.useState)(!1),[Ie,Le]=(0,i.useState)(null),[De,Me]=(0,i.useState)(!1),[Re,Be]=(0,i.useState)(null),[ze,Ue]=(0,i.useState)(!1),[qe,We]=(0,i.useState)([{value:"pcs",label:"Pieces (pcs)"},{value:"kg",label:"Kilograms (kg)"},{value:"liter",label:"Liters (L)"},{value:"box",label:"Box"},{value:"pack",label:"Pack"},{value:"meter",label:"Meters (m)"},{value:"sqft",label:"Square Feet (sqft)"},{value:"pair",label:"Pairs"}]),[He,Ve]=(0,i.useState)({value:"",label:""}),[Ge,Ke]=(0,i.useState)({name:"",item_code:"",description:"",category_id:"",sub_category:"",hsn_code:"",unit:"pcs",initial_stock:0,min_stock_level:0,max_stock_level:"",unit_price:0,selling_price:"",gst_rate:0,location:"",barcode:"",image:null,is_perishable:!1,track_serial_number:!1,is_sellable_to_guest:!1,track_laundry_cycle:!1,is_asset_fixed:!1,maintenance_schedule_days:"",complimentary_limit:"",ingredient_yield_percentage:"",preferred_vendor_id:"",vendor_item_code:"",lead_time_days:"",is_active:!0}),[Ye,Xe]=(0,i.useState)({name:"",description:"",parent_department:"",gst_tax_rate:0,classification:"",hsn_sac_code:"",default_gst_rate:0,cess_percentage:0,itc_eligibility:"Eligible",is_capital_good:!1,is_perishable:!1,is_asset_fixed:!1,is_sellable:!1,track_laundry:!1,allow_partial_usage:!1,consumable_instant:!1}),[Qe,$e]=(0,i.useState)({name:"",company_name:"",gst_registration_type:"",gst_number:"",legal_name:"",trade_name:"",pan_number:"",qmp_scheme:!1,msme_udyam_no:"",contact_person:"",email:"",phone:"",billing_address:"",billing_state:"",shipping_address:"",distance_km:"",address:"",city:"",state:"",pincode:"",country:"India",is_msme_registered:!1,tds_apply:!1,rcm_applicable:!1,payment_terms:"",preferred_payment_method:"",account_holder_name:"",bank_name:"",account_number:"",account_number_confirm:"",ifsc_code:"",branch_name:"",upi_id:"",upi_mobile_number:"",notes:"",is_active:!0}),[Ze,Je]=(0,i.useState)({purchase_number:"",vendor_id:"",purchase_date:(new Date).toISOString().split("T")[0],expected_delivery_date:"",invoice_number:"",invoice_date:"",gst_number:"",payment_terms:"",payment_status:"pending",notes:"",status:"draft",details:[{item_id:"",category:"",hsn_code:"",unit:"pcs",quantity:0,unit_price:0,gst_rate:0,tax_inclusive:!1,serial_batch:"",expiry_date:"",discount:0}]});(0,i.useEffect)(()=>{(async()=>{try{const[e,t,r]=await Promise.all([mn.get("/inventory/categories?limit=1000"),mn.get("/inventory/vendors?limit=1000"),mn.get("/inventory/locations?limit=10000")]);d(e.data||[]),h(t.data||[]),_(r.data||[])}catch(e){console.error("Error fetching essential data:",e)}})()},[]),(0,i.useEffect)(()=>{et()},[e]);const et=(0,i.useCallback)(async()=>{n(!0);try{const n="locations"===e?1e4:500;if("items"===e){const e=await mn.get("/inventory/items?limit=".concat(n));l(e.data||[])}else if("categories"===e){if(0===c.length){const e=await mn.get("/inventory/categories?limit=".concat(n));d(e.data||[])}}else if("vendors"===e){if(0===u.length){const e=await mn.get("/inventory/vendors?limit=".concat(n));h(e.data||[])}}else if("purchases"===e){const e=await mn.get("/inventory/purchases?limit=".concat(n));p(e.data||[])}else if("transactions"===e){const e=await mn.get("/inventory/transactions?limit=".concat(n));g(e.data||[])}else if("requisitions"===e){const e=await mn.get("/inventory/requisitions?limit=".concat(n));y(e.data||[])}else if("issues"===e){const e=await mn.get("/inventory/issues?limit=".concat(n));b(e.data||[])}else if("waste"===e){const e=await mn.get("/inventory/waste-logs?limit=".concat(n));j(e.data||[])}else if("locations"===e){if(0===N.length){const e=await mn.get("/inventory/locations?limit=10000");_(e.data||[])}}else if("assets"===e){const e=await mn.get("/inventory/asset-mappings?limit=".concat(n));S(e.data||[])}else if("location-stock"===e){const e=await mn.get("/inventory/stock-by-location");C(e.data||[])}else if("recipe"===e){try{var t;console.log("Fetching recipes from:",mn.defaults.baseURL+"/recipes");const e=await mn.get("/recipes");console.log("Recipes fetched successfully:",(null===(t=e.data)||void 0===t?void 0:t.length)||0,"recipes"),L(e.data||[])}catch(E){var r,i,a,s,o,f,m,x;if(console.error("Failed to fetch recipes:",E),console.error("Request URL:",null===(r=E.config)||void 0===r?void 0:r.url),console.error("Base URL:",null===(i=E.config)||void 0===i?void 0:i.baseURL),console.error("Full URL:",(null===(a=E.config)||void 0===a?void 0:a.baseURL)+(null===(s=E.config)||void 0===s?void 0:s.url)),console.error("Error details:",{status:null===(o=E.response)||void 0===o?void 0:o.status,statusText:null===(f=E.response)||void 0===f?void 0:f.statusText,data:null===(m=E.response)||void 0===m?void 0:m.data,message:E.message}),404===(null===(x=E.response)||void 0===x?void 0:x.status)){var v,w;const e=((null===(v=E.config)||void 0===v?void 0:v.baseURL)||"")+((null===(w=E.config)||void 0===w?void 0:w.url)||"");alert("Recipe endpoint not found (404).\n\nRequested URL: ".concat(e,"\n\nPlease check:\n1. Backend server is running on port 8011\n2. Recipe router is registered\n3. Try hard refresh (Ctrl+Shift+R)"))}else{var k,A;alert("Failed to fetch recipes: ".concat((null===(k=E.response)||void 0===k||null===(A=k.data)||void 0===A?void 0:A.detail)||E.message||"Unknown error"))}L([])}try{const e=await mn.get("/food-items");M(e.data||[])}catch(E){console.error("Failed to fetch food items:",E)}}}catch(P){console.error("Error fetching data:",P),alert("Failed to fetch data")}finally{n(!1)}},[e,c.length,u.length,N.length]),tt={totalItems:o.length,lowStockItems:o.filter(e=>e.is_low_stock).length,totalValue:o.reduce((e,t)=>e+t.current_stock*t.unit_price,0),categoriesCount:c.length,totalVendors:u.length,activeVendors:u.filter(e=>e.is_active).length,totalPurchases:f.length,pendingPurchases:f.filter(e=>"draft"===e.status||"confirmed"===e.status).length},[rt,nt]=(0,i.useState)({destination_department:"",date_needed:"",priority:"normal",notes:"",details:[{item_id:"",requested_quantity:0,approved_quantity:null,unit:"pcs",notes:""}]}),it=async e=>{e.preventDefault();try{const e=rt.details.filter(e=>e.item_id&&""!==e.item_id).map(e=>({item_id:parseInt(e.item_id),requested_quantity:parseFloat(e.requested_quantity)||0,approved_quantity:e.approved_quantity?parseFloat(e.approved_quantity):null,unit:e.unit||"pcs",notes:e.notes||null}));if(0===e.length)return void alert("Please add at least one item");await mn.post("/inventory/requisitions",{destination_department:rt.destination_department,date_needed:rt.date_needed||null,priority:rt.priority,notes:rt.notes,details:e}),alert("Requisition created successfully!"),he(!1),nt({destination_department:"",date_needed:"",priority:"Normal",notes:"",details:[{item_id:"",requested_quantity:0,approved_quantity:null,unit:"pcs",notes:""}]}),et()}catch(n){var t,r;console.error("Error creating requisition:",n),alert("Failed to create requisition: "+((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||n.message))}},[at,st]=(0,i.useState)({requisition_id:"",source_location_id:"",destination_location_id:"",issue_date:(new Date).toISOString().split("T")[0],notes:"",details:[{item_id:"",issued_quantity:0,unit:"pcs",batch_lot_number:"",cost:0,notes:""}]}),ot=async e=>{try{const t=(await mn.get("/inventory/requisitions/".concat(e))).data,r=N.find(e=>e.is_inventory_point&&"warehouse"===e.location_type);if(!r)return void alert("Please create a main warehouse location first!");let n=N.find(e=>{var r;return e.name.toLowerCase().includes(t.destination_department.toLowerCase())||(null===(r=e.room_area)||void 0===r?void 0:r.toLowerCase().includes(t.destination_department.toLowerCase()))});n||(n=r);const i=t.details.map(e=>({item_id:e.item_id,issued_quantity:e.approved_quantity||e.requested_quantity||e.quantity||0,unit:e.unit,batch_lot_number:e.batch_lot_number||null,cost:null,notes:e.notes||null}));await mn.patch("/inventory/requisitions/".concat(e,"/status?status=approved")),await mn.post("/inventory/issues",{requisition_id:e,source_location_id:r.id,destination_location_id:n.id,issue_date:(new Date).toISOString(),notes:"Auto-issued from requisition ".concat(t.requisition_number),details:i}),alert("Requisition approved and stock issued successfully!"),et()}catch(n){var t,r;console.error("Error approving requisition:",n),alert("Failed to approve requisition: "+((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||n.message))}},[lt,ct]=(0,i.useState)({item_id:"",batch_number:"",expiry_date:"",quantity:0,unit:"pcs",reason_code:"",action_taken:"",location_id:"",waste_date:(new Date).toISOString().split("T")[0],notes:"",photo:null}),dt=async e=>{e.preventDefault();try{const e=new FormData;e.append("item_id",lt.item_id),lt.batch_number&&e.append("batch_number",lt.batch_number),lt.expiry_date&&e.append("expiry_date",lt.expiry_date),e.append("quantity",lt.quantity),e.append("unit",lt.unit),e.append("reason_code",lt.reason_code),lt.action_taken&&e.append("action_taken",lt.action_taken),lt.location_id&&e.append("location_id",lt.location_id),lt.waste_date&&e.append("waste_date",lt.waste_date),lt.notes&&e.append("notes",lt.notes),lt.photo&&e.append("photo",lt.photo),await mn.post("/inventory/waste-logs",e,{headers:{"Content-Type":"multipart/form-data"}}),alert("Waste log created successfully!"),ge(!1),ct({item_id:"",batch_number:"",expiry_date:"",quantity:0,unit:"pcs",reason_code:"",action_taken:"",location_id:"",waste_date:(new Date).toISOString().split("T")[0],notes:"",photo:null}),et()}catch(n){var t,r;console.error("Error creating waste log:",n),alert("Failed to create waste log: "+((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||n.message))}},[ut,ht]=(0,i.useState)({name:"",location_type:"",building:"",floor:"",room_area:"",parent_location_id:"",is_inventory_point:!1,description:"",is_active:!0}),ft=async e=>{e.preventDefault();try{await mn.post("/inventory/locations",ut),alert("Location created successfully!"),ye(!1),ht({name:"",location_type:"",building:"",floor:"",room_area:"",parent_location_id:"",is_inventory_point:!1,description:"",is_active:!0}),et()}catch(n){var t,r;console.error("Error creating location:",n),alert("Failed to create location: "+((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||n.message))}},[pt,mt]=(0,i.useState)({item_id:"",location_id:"",serial_number:"",notes:""}),gt=async e=>{e.preventDefault();try{await mn.post("/inventory/asset-mappings",{item_id:parseInt(pt.item_id),location_id:parseInt(pt.location_id),serial_number:pt.serial_number||null,notes:pt.notes||null}),alert("Asset assigned successfully!"),be(!1),mt({item_id:"",location_id:"",serial_number:"",notes:""}),et()}catch(n){var t,r;console.error("Error creating asset mapping:",n),alert("Failed to assign asset: "+((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||n.message))}},xt=async e=>{if(window.confirm("Are you sure you want to unassign this asset?"))try{await mn.delete("/inventory/asset-mappings/".concat(e)),alert("Asset unassigned successfully!"),et()}catch(n){var t,r;console.error("Error unassigning asset:",n),alert("Failed to unassign asset: "+((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||n.message))}},yt=(0,i.useMemo)(()=>{if(!a)return o;const e=a.toLowerCase();return o.filter(t=>{var r,n,i;return(null===(r=t.name)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(n=t.description)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(i=t.category_name)||void 0===i?void 0:i.toLowerCase().includes(e))})},[o,a]),vt=(0,i.useMemo)(()=>{if(!a)return c;const e=a.toLowerCase();return c.filter(t=>{var r;return null===(r=t.name)||void 0===r?void 0:r.toLowerCase().includes(e)})},[c,a]),bt=(0,i.useMemo)(()=>{if(!a)return u;const e=a.toLowerCase();return u.filter(t=>{var r,n;return(null===(r=t.name)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(n=t.company_name)||void 0===n?void 0:n.toLowerCase().includes(e))})},[u,a]),wt=(0,i.useMemo)(()=>{if(!a)return f;const e=a.toLowerCase();return f.filter(t=>{var r,n;return(null===(r=t.purchase_number)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(n=t.vendor_name)||void 0===n?void 0:n.toLowerCase().includes(e))})},[f,a]),jt=((0,i.useMemo)(()=>{if(!a)return m;const e=a.toLowerCase();return m.filter(t=>{var r,n;return(null===(r=t.item_name)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(n=t.transaction_type)||void 0===n?void 0:n.toLowerCase().includes(e))})},[m,a]),(0,i.useMemo)(()=>{if(!a)return x;const e=a.toLowerCase();return x.filter(t=>{var r,n;return(null===(r=t.requisition_number)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(n=t.destination_department)||void 0===n?void 0:n.toLowerCase().includes(e))})},[x,a])),Nt=(0,i.useMemo)(()=>{if(!a)return v;const e=a.toLowerCase();return v.filter(t=>{var r;return null===(r=t.issue_number)||void 0===r?void 0:r.toLowerCase().includes(e)})},[v,a]),_t=(0,i.useMemo)(()=>{if(!a)return w;const e=a.toLowerCase();return w.filter(t=>{var r,n;return(null===(r=t.item_name)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(n=t.reason_code)||void 0===n?void 0:n.toLowerCase().includes(e))})},[w,a]),kt=(0,i.useMemo)(()=>{if(!a)return N;const e=a.toLowerCase();return N.filter(t=>{var r,n;return(null===(r=t.building)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(n=t.room_area)||void 0===n?void 0:n.toLowerCase().includes(e))})},[N,a]),St=(0,i.useMemo)(()=>{if(!a)return k;const e=a.toLowerCase();return k.filter(t=>{var r,n;return(null===(r=t.item_name)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(n=t.location_name)||void 0===n?void 0:n.toLowerCase().includes(e))})},[k,a]);return(0,xn.jsxs)(Zu,{children:[(0,xn.jsxs)("div",{className:"bubbles-container",children:[(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{}),(0,xn.jsx)("li",{})]}),(0,xn.jsxs)("div",{className:"max-w-[1600px] mx-auto px-4 py-6 space-y-6",children:[(0,xn.jsx)("div",{className:"flex items-center justify-between",children:(0,xn.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Inventory Management"})}),(0,xn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[(0,xn.jsx)(C8,{label:"Total Items",value:tt.totalItems,icon:(0,xn.jsx)(Bu,{className:"w-5 h-5"}),color:"blue"}),(0,xn.jsx)(C8,{label:"Low Stock",value:tt.lowStockItems,icon:(0,xn.jsx)(m8,{className:"w-5 h-5"}),color:"red",highlight:tt.lowStockItems>0}),(0,xn.jsx)(C8,{label:"Total Value",value:Ju(tt.totalValue),icon:(0,xn.jsx)(k$,{className:"w-5 h-5"}),color:"green"}),(0,xn.jsx)(C8,{label:"Categories",value:tt.categoriesCount,icon:(0,xn.jsx)(uZ,{className:"w-5 h-5"}),color:"purple"}),(0,xn.jsx)(C8,{label:"Vendors",value:tt.totalVendors,icon:(0,xn.jsx)(g8,{className:"w-5 h-5"}),color:"indigo"}),(0,xn.jsx)(C8,{label:"Active Vendors",value:tt.activeVendors,icon:(0,xn.jsx)(g8,{className:"w-5 h-5"}),color:"teal"}),(0,xn.jsx)(C8,{label:"Purchases",value:tt.totalPurchases,icon:(0,xn.jsx)(_$,{className:"w-5 h-5"}),color:"orange"})]}),(0,xn.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,xn.jsx)("div",{className:"flex border-b border-gray-200",children:["items","categories","vendors","purchases","transactions","requisitions","issues","waste","locations","assets","location-stock","recipe"].map(r=>(0,xn.jsx)("button",{onClick:()=>{t(r),s("")},className:"px-6 py-3 font-medium capitalize transition-colors ".concat(e===r?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-900"),children:"location-stock"===r?"Location Stock":"recipe"===r?"Recipe":r},r))}),(0,xn.jsxs)("div",{className:"p-6",children:[(0,xn.jsxs)("div",{className:"mb-4 flex gap-4",children:[(0,xn.jsxs)("div",{className:"flex-1 relative",children:[(0,xn.jsx)(f$,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,xn.jsx)("input",{type:"text",placeholder:"Search ".concat(e,"..."),value:a,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),a&&(0,xn.jsx)("button",{onClick:()=>s(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,xn.jsx)(EX,{className:"w-5 h-5"})})]}),"items"===e&&(0,xn.jsxs)("button",{onClick:()=>Q(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[(0,xn.jsx)(x8,{className:"w-4 h-4"}),"Add Item"]}),"categories"===e&&(0,xn.jsxs)("button",{onClick:()=>Z(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[(0,xn.jsx)(x8,{className:"w-4 h-4"}),"Add Category"]}),"vendors"===e&&(0,xn.jsxs)("button",{onClick:()=>ee(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[(0,xn.jsx)(x8,{className:"w-4 h-4"}),"Add Vendor"]}),"purchases"===e&&(0,xn.jsxs)("button",{onClick:()=>re(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[(0,xn.jsx)(x8,{className:"w-4 h-4"}),"New Purchase"]}),"requisitions"===e&&(0,xn.jsxs)("button",{onClick:()=>he(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[(0,xn.jsx)(x8,{className:"w-4 h-4"}),"New Requisition"]}),"issues"===e&&(0,xn.jsxs)("button",{onClick:()=>pe(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[(0,xn.jsx)(x8,{className:"w-4 h-4"}),"New Issue"]}),"waste"===e&&(0,xn.jsxs)("button",{onClick:()=>ge(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[(0,xn.jsx)(x8,{className:"w-4 h-4"}),"Log Waste/Spoilage"]}),"locations"===e&&(0,xn.jsxs)("button",{onClick:()=>ye(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[(0,xn.jsx)(x8,{className:"w-4 h-4"}),"New Location"]}),"assets"===e&&(0,xn.jsxs)("button",{onClick:()=>be(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2",children:[(0,xn.jsx)(x8,{className:"w-4 h-4"}),"Assign Asset"]})]}),r?(0,xn.jsxs)("div",{className:"text-center py-12",children:[(0,xn.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),(0,xn.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading..."})]}):(0,xn.jsxs)(xn.Fragment,{children:["items"===e&&(0,xn.jsx)(E8,{items:yt,categories:c,onDelete:async e=>{if(window.confirm("Are you sure you want to delete this item?"))try{alert("Delete functionality not implemented in API")}catch(t){console.error("Error deleting item:",t),alert("Failed to delete item")}}}),"categories"===e&&(0,xn.jsx)(P8,{categories:vt}),"vendors"===e&&(0,xn.jsx)(T8,{vendors:bt}),"purchases"===e&&(0,xn.jsx)(O8,{purchases:wt,onPurchaseClick:e=>{ie(e),se(!0)}}),"transactions"===e&&(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)(I8,{transactions:m,purchases:f,items:o,categories:c,filters:W,setFilters:H,onRefresh:et,onTransactionClick:e=>{G(e),Y(!0)}}),K&&V&&(0,xn.jsx)(TransactionDetailsModal,{transaction:V,items:o,categories:c,purchases:f,onClose:()=>{Y(!1),G(null)}})]}),"requisitions"===e&&(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)("div",{className:"md:hidden space-y-4",children:0===jt.length?(0,xn.jsx)("div",{className:"text-center py-8 text-gray-500",children:'No requisitions found. Click "New Requisition" to create one.'}):jt.map(e=>{var t;return(0,xn.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{je(e),_e(!0)},children:[(0,xn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,xn.jsx)("h3",{className:"font-semibold text-gray-900",children:e.requisition_number}),(0,xn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status})]}),(0,xn.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Department:"})," ",e.destination_department]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Priority:"}),(0,xn.jsx)("span",{className:"ml-1 px-2 py-0.5 text-xs rounded-full ".concat("urgent"===e.priority?"bg-red-100 text-red-800":"critical"===e.priority?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:e.priority})]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Items:"})," ",(null===(t=e.details)||void 0===t?void 0:t.length)||0]}),e.date_needed&&(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Date Needed:"})," ",new Date(e.date_needed).toLocaleDateString()]})]}),"pending"===e.status&&(0,xn.jsx)("button",{onClick:t=>{t.stopPropagation(),ot(e.id)},className:"mt-3 w-full px-3 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Approve & Issue"})]},e.id)})}),(0,xn.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Req #"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase hidden lg:table-cell",children:"Date Needed"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===jt.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-500",children:'No requisitions found. Click "New Requisition" to create one.'})}):jt.map(e=>{var t;return(0,xn.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{je(e),_e(!0)},children:[(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm font-medium text-gray-900",children:e.requisition_number}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600 hidden md:table-cell",children:e.destination_department}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600 hidden lg:table-cell",children:e.date_needed?new Date(e.date_needed).toLocaleDateString():"-"}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3",children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("urgent"===e.priority?"bg-red-100 text-red-800":"critical"===e.priority?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:e.priority})}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3",children:(0,xn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,xn.jsxs)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600",children:[(null===(t=e.details)||void 0===t?void 0:t.length)||0," items"]}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3",onClick:e=>e.stopPropagation(),children:"pending"===e.status&&(0,xn.jsx)("button",{onClick:()=>ot(e.id),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Approve & Issue"})})]},e.id)})})]})})]}),"issues"===e&&(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)("div",{className:"md:hidden space-y-4",children:0===Nt.length?(0,xn.jsx)("div",{className:"text-center py-8 text-gray-500",children:'No issues found. Click "New Issue" to create one.'}):Nt.map(e=>{var t;return(0,xn.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{Se(e),Ce(!0)},children:[(0,xn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,xn.jsx)("h3",{className:"font-semibold text-gray-900",children:e.issue_number}),(0,xn.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.issue_date||e.created_at).toLocaleDateString()})]}),(0,xn.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"From:"})," ",e.source_location_name||"Main Store"]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"To:"})," ",e.destination_location_name||"-"]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Items:"})," ",(null===(t=e.details)||void 0===t?void 0:t.length)||0]})]})]},e.id)})}),(0,xn.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Issue #"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"From"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"To"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===Nt.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"5",className:"px-4 py-8 text-center text-gray-500",children:'No issues found. Click "New Issue" to create one.'})}):Nt.map(e=>{var t;return(0,xn.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{Se(e),Ce(!0)},children:[(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm font-medium text-gray-900",children:e.issue_number}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600 hidden md:table-cell",children:e.source_location_name||"Main Store"}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600 hidden md:table-cell",children:e.destination_location_name||"-"}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600",children:new Date(e.issue_date||e.created_at).toLocaleDateString()}),(0,xn.jsxs)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600",children:[(null===(t=e.details)||void 0===t?void 0:t.length)||0," items"]})]},e.id)})})]})})]}),"waste"===e&&(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)("div",{className:"md:hidden space-y-4",children:0===_t.length?(0,xn.jsx)("div",{className:"text-center py-8 text-gray-500",children:'No waste logs found. Click "Log Waste/Spoilage" to create one.'}):_t.map(e=>(0,xn.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{Pe(e),Oe(!0)},children:[(0,xn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,xn.jsx)("h3",{className:"font-semibold text-gray-900",children:e.log_number||"WL-".concat(e.id)}),(0,xn.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.waste_date||e.created_at).toLocaleDateString()})]}),(0,xn.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Item:"})," ",e.item_name||"N/A"]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Quantity:"})," ",e.quantity," ",e.unit]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Reason:"})," ",e.reason_code||e.reason||"N/A"]}),e.location_name&&(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Location:"})," ",e.location_name]})]})]},e.id))}),(0,xn.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Log #"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase hidden md:table-cell",children:"Quantity"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase hidden lg:table-cell",children:"Reason"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase hidden lg:table-cell",children:"Location"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===_t.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500",children:'No waste logs found. Click "Log Waste/Spoilage" to create one.'})}):_t.map(e=>(0,xn.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{Pe(e),Oe(!0)},children:[(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm font-medium text-gray-900",children:e.log_number||"WL-".concat(e.id)}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600",children:e.item_name||"N/A"}),(0,xn.jsxs)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600 hidden md:table-cell",children:[e.quantity," ",e.unit]}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600 hidden lg:table-cell",children:e.reason_code||e.reason||"N/A"}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600",children:new Date(e.waste_date||e.created_at).toLocaleDateString()}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600 hidden lg:table-cell",children:e.location_name||"-"})]},e.id))})]})})]}),"locations"===e&&(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)("div",{className:"md:hidden space-y-4",children:0===kt.length?(0,xn.jsx)("div",{className:"text-center py-8 text-gray-500",children:'No locations found. Click "New Location" to create one.'}):kt.map(e=>(0,xn.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{Le(e),Me(!0)},children:[(0,xn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,xn.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),e.is_inventory_point?(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"Inventory Point"}):null]}),(0,xn.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Code:"})," ",e.location_code||"LOC-".concat(e.id)]}),e.building&&(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Building:"})," ",e.building]}),e.floor&&(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Floor:"})," ",e.floor]}),(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Type:"})," ",e.location_type]})]})]},e.id))}),(0,xn.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase hidden md:table-cell",children:"Building"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase hidden lg:table-cell",children:"Floor"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase hidden md:table-cell",children:"Type"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Inventory Point"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===kt.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500",children:'No locations found. Click "New Location" to create one.'})}):kt.map(e=>(0,xn.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{Le(e),Me(!0)},children:[(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm font-medium text-gray-900",children:e.location_code||"LOC-".concat(e.id)}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600",children:e.name}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600 hidden md:table-cell",children:e.building||"-"}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600 hidden lg:table-cell",children:e.floor||"-"}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600 hidden md:table-cell",children:e.location_type}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3",children:e.is_inventory_point?(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"Yes"}):(0,xn.jsx)("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded-full",children:"No"})})]},e.id))})]})})]}),"assets"===e&&(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)("div",{className:"md:hidden space-y-4",children:0===St.length?(0,xn.jsx)("div",{className:"text-center py-8 text-gray-500",children:'No asset mappings found. Click "Assign Asset" to create one.'}):St.map(e=>(0,xn.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{Be(e),Ue(!0)},children:[(0,xn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,xn.jsx)("h3",{className:"font-semibold text-gray-900",children:e.item_name||"N/A"}),(0,xn.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.assigned_date||e.created_at).toLocaleDateString()})]}),(0,xn.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Location:"})," ",e.location_name||"-"]}),e.serial_number&&(0,xn.jsxs)("p",{children:[(0,xn.jsx)("span",{className:"font-medium",children:"Serial #:"})," ",e.serial_number]})]}),(0,xn.jsx)("button",{onClick:t=>{t.stopPropagation(),xt(e.id)},className:"mt-3 w-full px-3 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:"Unassign"})]},e.id))}),(0,xn.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase hidden md:table-cell",children:"Location"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase hidden lg:table-cell",children:"Serial #"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned Date"}),(0,xn.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===St.length?(0,xn.jsx)("tr",{children:(0,xn.jsx)("td",{colSpan:"5",className:"px-4 py-8 text-center text-gray-500",children:'No asset mappings found. Click "Assign Asset" to create one.'})}):St.map(e=>(0,xn.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{Be(e),Ue(!0)},children:[(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm font-medium text-gray-900",children:e.item_name||"N/A"}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600 hidden md:table-cell",children:e.location_name||"-"}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600 hidden lg:table-cell",children:e.serial_number||"-"}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm text-gray-600",children:new Date(e.assigned_date||e.created_at).toLocaleDateString()}),(0,xn.jsx)("td",{className:"px-2 sm:px-4 py-3",onClick:e=>e.stopPropagation(),children:(0,xn.jsx)("button",{onClick:()=>xt(e.id),className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:"Unassign"})})]},e.id))})]})})]}),"location-stock"===e&&(0,xn.jsx)(S8,{locations:A,onLocationClick:async e=>{try{const t=await mn.get("/inventory/locations/".concat(e,"/items"));O(t.data),P(e)}catch(n){var t,r;console.error("Error fetching location items:",n),alert("Failed to load location items: "+((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||n.message))}}}),"recipe"===e&&(0,xn.jsxs)("div",{className:"space-y-4",children:[(0,xn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xn.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Food Item Recipes"}),(0,xn.jsx)("button",{onClick:()=>{q({food_item_id:"",name:"",description:"",servings:1,prep_time_minutes:"",cook_time_minutes:"",ingredients:[]}),z(null),F(!0)},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"+ Add Recipe"})]}),0===I.length?(0,xn.jsx)("div",{className:"text-center py-8 text-gray-500",children:'No recipes found. Click "Add Recipe" to create one.'}):(0,xn.jsx)("div",{className:"overflow-x-auto",children:(0,xn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,xn.jsx)("thead",{className:"bg-gray-50",children:(0,xn.jsxs)("tr",{children:[(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Food Item"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Recipe Name"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Servings"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ingredients"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost/Serving"}),(0,xn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,xn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(e=>{var t;return(0,xn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,xn.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.food_item_name||"Food Item #".concat(e.food_item_id)}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.name}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.servings}),(0,xn.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-600",children:[e.ingredients.length," ingredient(s)"]}),(0,xn.jsxs)("td",{className:"px-4 py-3 text-sm font-semibold text-green-600",children:["\u20b9",(null===(t=e.total_cost)||void 0===t?void 0:t.toFixed(2))||"0.00"]}),(0,xn.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,xn.jsxs)("div",{className:"flex gap-2",children:[(0,xn.jsx)("button",{onClick:()=>{z(e),q({food_item_id:e.food_item_id,name:e.name,description:e.description||"",servings:e.servings,prep_time_minutes:e.prep_time_minutes||"",cook_time_minutes:e.cook_time_minutes||"",ingredients:e.ingredients.map(e=>({inventory_item_id:e.inventory_item_id,quantity:e.quantity,unit:e.unit,notes:e.notes||""}))}),F(!0)},className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Edit"}),(0,xn.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this recipe?"))try{await mn.delete("/recipes/".concat(e.id)),et()}catch(n){var t,r;alert("Failed to delete recipe: "+((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||n.message))}},className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Delete"})]})})]},e.id)})})]})})]})]})]})]})]}),ue&&(0,xn.jsx)(U8,{form:rt,setForm:nt,items:o,onSubmit:it,onAddDetail:()=>{nt(Fe(Fe({},rt),{},{details:[...rt.details,{item_id:"",requested_quantity:0,approved_quantity:null,unit:"pcs",notes:""}]}))},onRemoveDetail:e=>{nt(Fe(Fe({},rt),{},{details:rt.details.filter((t,r)=>r!==e)}))},onClose:()=>{he(!1),nt({destination_department:"",date_needed:"",priority:"normal",notes:"",details:[{item_id:"",requested_quantity:0,approved_quantity:null,unit:"pcs",notes:""}]})}}),me&&(0,xn.jsx)(q8,{form:lt,setForm:ct,items:o,locations:N||[],onSubmit:dt,onClose:()=>{ge(!1),ct({item_id:"",batch_number:"",expiry_date:"",quantity:0,unit:"pcs",reason:"",notes:"",photo:null})}}),xe&&(0,xn.jsx)(W8,{form:ut,setForm:ht,onSubmit:ft,onClose:()=>{ye(!1),ht({name:"",location_type:"",building:"",floor:"",room_area:"",parent_location_id:"",is_inventory_point:!1,description:"",is_active:!0})}}),ve&&(0,xn.jsx)(H8,{form:pt,setForm:mt,items:o,locations:N,categories:c,onSubmit:gt,onClose:()=>{be(!1),mt({item_id:"",location_id:"",serial_number:"",notes:""})}}),oe&&(0,xn.jsx)(B8,{unit:He,setUnit:Ve,onSubmit:e=>{e.preventDefault(),He.value&&He.label&&(qe.find(e=>e.value.toLowerCase()===He.value.toLowerCase())?alert("Unit already exists!"):(We([...qe,{value:He.value.toLowerCase(),label:He.label}]),Ke(Fe(Fe({},Ge),{},{unit:He.value.toLowerCase()})),Ve({value:"",label:""}),le(!1)))},onClose:()=>{le(!1),Ve({value:"",label:""})}}),X&&(0,xn.jsx)(L8,{form:Ge,setForm:Ke,categories:c,vendors:u,units:qe,setShowUnitForm:le,onSubmit:async e=>{e.preventDefault();try{const e=new FormData;Object.keys(Ge).forEach(t=>{"image"===t?Ge.image&&e.append("image",Ge.image):"max_stock_level"===t||"selling_price"===t||"maintenance_schedule_days"===t||"complimentary_limit"===t||"ingredient_yield_percentage"===t||"preferred_vendor_id"===t||"lead_time_days"===t?""!==Ge[t]&&null!==Ge[t]&&void 0!==Ge[t]&&e.append(t,Ge[t]):e.append(t,Ge[t])}),await mn.post("/inventory/items",e,{headers:{"Content-Type":"multipart/form-data"}}),Ke({name:"",item_code:"",description:"",category_id:"",sub_category:"",hsn_code:"",unit:"pcs",initial_stock:0,min_stock_level:0,max_stock_level:"",unit_price:0,selling_price:"",gst_rate:0,location:"",barcode:"",image:null,is_perishable:!1,track_serial_number:!1,is_sellable_to_guest:!1,track_laundry_cycle:!1,is_asset_fixed:!1,maintenance_schedule_days:"",complimentary_limit:"",ingredient_yield_percentage:"",preferred_vendor_id:"",vendor_item_code:"",lead_time_days:"",is_active:!0}),Q(!1),et()}catch(n){var t,r;console.error("Error submitting item:",n),alert("Failed to submit item: "+((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||n.message))}},onClose:()=>{Q(!1),de(null),Ke({name:"",item_code:"",description:"",category_id:"",sub_category:"",hsn_code:"",unit:"pcs",initial_stock:0,min_stock_level:0,max_stock_level:"",unit_price:0,selling_price:"",gst_rate:0,location:"",barcode:"",image:null,is_perishable:!1,track_serial_number:!1,is_sellable_to_guest:!1,track_laundry_cycle:!1,is_asset_fixed:!1,maintenance_schedule_days:"",complimentary_limit:"",ingredient_yield_percentage:"",preferred_vendor_id:"",vendor_item_code:"",lead_time_days:"",is_active:!0})}}),$&&(0,xn.jsx)(D8,{form:Ye,setForm:Xe,onSubmit:async e=>{e.preventDefault();try{await mn.post("/inventory/categories",Ye),Xe({name:"",description:"",parent_department:"",gst_tax_rate:0,classification:"",hsn_sac_code:"",default_gst_rate:0,cess_percentage:0,itc_eligibility:"Eligible",is_capital_good:!1,is_perishable:!1,is_asset_fixed:!1,is_sellable:!1,track_laundry:!1,allow_partial_usage:!1,consumable_instant:!1}),Z(!1),et()}catch(t){console.error("Error submitting category:",t),alert("Failed to submit category")}},onClose:()=>{Z(!1),Xe({name:"",description:"",parent_department:"",gst_tax_rate:0,classification:"",hsn_sac_code:"",default_gst_rate:0,cess_percentage:0,itc_eligibility:"Eligible",is_capital_good:!1,is_perishable:!1,is_asset_fixed:!1,is_sellable:!1,track_laundry:!1,allow_partial_usage:!1,consumable_instant:!1})}}),J&&(0,xn.jsx)(M8,{form:Qe,setForm:$e,onSubmit:async e=>{if(e.preventDefault(),"Bank Transfer"===Qe.preferred_payment_method){if(Qe.account_number!==Qe.account_number_confirm)return void alert("Account numbers do not match! Please verify.");if(!Qe.account_number||Qe.account_number.length<9||Qe.account_number.length>18)return void alert("Account number must be 9-18 digits!");if(!Qe.ifsc_code||11!==Qe.ifsc_code.length)return void alert("IFSC code must be exactly 11 characters!")}const{account_number_confirm:t}=Qe,r=wn(Qe,k8),n={};for(const[c,d]of Object.entries(r))n[c]=""===d||null===d||void 0===d?"distance_km"===c||"string"===typeof d&&""===d?null:d:"distance_km"===c&&"string"===typeof d?d?parseFloat(d):null:d;try{await mn.post("/inventory/vendors",n),$e({name:"",company_name:"",gst_registration_type:"",gst_number:"",legal_name:"",trade_name:"",pan_number:"",qmp_scheme:!1,msme_udyam_no:"",contact_person:"",email:"",phone:"",billing_address:"",billing_state:"",shipping_address:"",distance_km:"",address:"",city:"",state:"",pincode:"",country:"India",is_msme_registered:!1,tds_apply:!1,rcm_applicable:!1,payment_terms:"",preferred_payment_method:"",account_holder_name:"",bank_name:"",account_number:"",account_number_confirm:"",ifsc_code:"",branch_name:"",upi_id:"",upi_mobile_number:"",notes:"",is_active:!0}),ee(!1),et()}catch(l){var i,a,s,o;console.error("Error submitting vendor:",l);const e=(null===(i=l.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.detail)||(null===(s=l.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message)||l.message||"Failed to submit vendor";alert("Failed to submit vendor: ".concat(e))}},onClose:()=>{ee(!1),$e({name:"",company_name:"",gst_registration_type:"",gst_number:"",legal_name:"",trade_name:"",pan_number:"",qmp_scheme:!1,msme_udyam_no:"",contact_person:"",email:"",phone:"",billing_address:"",billing_state:"",shipping_address:"",distance_km:"",address:"",city:"",state:"",pincode:"",country:"India",is_msme_registered:!1,tds_apply:!1,rcm_applicable:!1,payment_terms:"",preferred_payment_method:"",account_holder_name:"",bank_name:"",account_number:"",account_number_confirm:"",ifsc_code:"",branch_name:"",upi_id:"",upi_mobile_number:"",notes:"",is_active:!0})}}),ae&&ne&&(0,xn.jsx)(F8,{purchase:ne,onClose:()=>{se(!1),ie(null)},onUpdate:e=>{p(f.map(t=>t.id===e.id?e:t)),ie(e)}}),te&&(0,xn.jsx)(R8,{form:Ze,setForm:Je,items:o,categories:c,vendors:u,purchases:f,onSubmit:async e=>{e.preventDefault();try{if(!Ze.purchase_number||!Ze.vendor_id)return void alert("Please fill in all required fields (PO Number and Vendor)");const e=Ze.details.filter(e=>e.item_id&&""!==e.item_id).map(e=>{const t=parseFloat(e.quantity)||0,r=parseFloat(e.unit_price)||0,n=parseFloat(e.gst_rate)||0,i=parseFloat(e.discount)||0;let a,s;return e.tax_inclusive||!1?(a=r/(1+n/100),s=r):(a=r,s=r*(1+n/100)),{item_id:parseInt(e.item_id),quantity:t,unit:e.unit||"pcs",unit_price:a,gst_rate:n,discount:i,hsn_code:e.hsn_code||null,notes:e.serial_batch||e.expiry_date?"Serial/Batch: ".concat(e.serial_batch||"N/A",", Expiry: ").concat(e.expiry_date||"N/A"):null}});if(0===e.length)return void alert("Please add at least one item to the purchase order");const t={purchase_number:Ze.purchase_number,vendor_id:parseInt(Ze.vendor_id),purchase_date:Ze.purchase_date,expected_delivery_date:Ze.expected_delivery_date||null,invoice_number:Ze.invoice_number||null,invoice_date:Ze.invoice_date||null,gst_number:Ze.gst_number||null,payment_terms:Ze.payment_terms||null,payment_status:Ze.payment_status||"pending",notes:Ze.notes||null,status:Ze.status||"draft",details:e};await mn.post("/inventory/purchases",t),Je({purchase_number:"",vendor_id:"",purchase_date:(new Date).toISOString().split("T")[0],expected_delivery_date:"",invoice_number:"",invoice_date:"",gst_number:"",payment_terms:"",payment_status:"pending",notes:"",status:"draft",details:[{item_id:"",category:"",hsn_code:"",unit:"pcs",quantity:0,unit_price:0,gst_rate:0,tax_inclusive:!1,serial_batch:"",expiry_date:"",discount:0}]}),re(!1),et()}catch(n){var t,r;console.error("Error submitting purchase:",n);const e=(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||n.message||"Failed to submit purchase";alert("Failed to submit purchase: ".concat(e))}},onAddDetail:()=>{Je(Fe(Fe({},Ze),{},{details:[...Ze.details,{item_id:"",category:"",hsn_code:"",unit:"pcs",quantity:0,unit_price:0,gst_rate:0,tax_inclusive:!1,serial_batch:"",expiry_date:"",discount:0}]}))},onRemoveDetail:e=>{Je(Fe(Fe({},Ze),{},{details:Ze.details.filter((t,r)=>r!==e)}))},onClose:()=>{re(!1),Je({purchase_number:"",vendor_id:"",purchase_date:(new Date).toISOString().split("T")[0],expected_delivery_date:"",invoice_number:"",invoice_date:"",gst_number:"",payment_terms:"",payment_status:"pending",notes:"",status:"draft",details:[{item_id:"",category:"",hsn_code:"",unit:"pcs",quantity:0,unit_price:0,gst_rate:0,tax_inclusive:!1,serial_batch:"",expiry_date:"",discount:0}]})}}),ue&&(0,xn.jsx)(U8,{form:rt,setForm:nt,items:o,onSubmit:it,onAddDetail:()=>{nt(Fe(Fe({},rt),{},{details:[...rt.details,{item_id:"",requested_quantity:0,approved_quantity:null,unit:"pcs",notes:""}]}))},onRemoveDetail:e=>{const t=rt.details.filter((t,r)=>r!==e);nt(Fe(Fe({},rt),{},{details:t.length>0?t:[{item_id:"",requested_quantity:0,approved_quantity:null,unit:"pcs",notes:""}]}))},onClose:()=>{he(!1),nt({destination_department:"",date_needed:"",priority:"Normal",notes:"",details:[{item_id:"",requested_quantity:0,approved_quantity:null,unit:"pcs",notes:""}]})}}),fe&&(0,xn.jsx)(z8,{form:at,setForm:st,items:o,locations:N,requisitions:x,onSubmit:async e=>{e.preventDefault();try{const e=at.details.filter(e=>e.item_id&&""!==e.item_id).map(e=>({item_id:parseInt(e.item_id),issued_quantity:parseFloat(e.issued_quantity)||0,unit:e.unit||"pcs",batch_lot_number:e.batch_lot_number||null,cost:e.cost?parseFloat(e.cost):null,notes:e.notes||null}));if(0===e.length)return void alert("Please add at least one item");if(!at.source_location_id||!at.destination_location_id)return void alert("Please select source and destination locations");await mn.post("/inventory/issues",{requisition_id:at.requisition_id||null,source_location_id:parseInt(at.source_location_id),destination_location_id:parseInt(at.destination_location_id),issue_date:at.issue_date||null,notes:at.notes||null,details:e}),alert("Stock issue created successfully!"),pe(!1),st({requisition_id:"",source_location_id:"",destination_location_id:"",issue_date:(new Date).toISOString().split("T")[0],notes:"",details:[{item_id:"",issued_quantity:0,unit:"pcs",batch_lot_number:"",cost:0,notes:""}]}),et()}catch(n){var t,r;console.error("Error creating issue:",n),alert("Failed to create issue: "+((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||n.message))}},onAddDetail:()=>{st(Fe(Fe({},at),{},{details:[...at.details,{item_id:"",issued_quantity:0,unit:"pcs",batch_lot_number:"",cost:0,notes:""}]}))},onRemoveDetail:e=>{const t=at.details.filter((t,r)=>r!==e);st(Fe(Fe({},at),{},{details:t.length>0?t:[{item_id:"",issued_quantity:0,unit:"pcs",batch_lot_number:"",cost:0,notes:""}]}))},onClose:()=>{pe(!1),st({requisition_id:"",source_location_id:"",destination_location_id:"",issue_date:(new Date).toISOString().split("T")[0],notes:"",details:[{item_id:"",issued_quantity:0,unit:"pcs",batch_lot_number:"",cost:0,notes:""}]})}}),me&&(0,xn.jsx)(q8,{form:lt,setForm:ct,items:o,locations:N,onSubmit:dt,onClose:()=>{ge(!1),ct({item_id:"",batch_number:"",expiry_date:"",quantity:0,unit:"pcs",reason_code:"",action_taken:"",location_id:"",waste_date:(new Date).toISOString().split("T")[0],notes:"",photo:null})}}),xe&&(0,xn.jsx)(W8,{form:ut,setForm:ht,locations:N,onSubmit:ft,onClose:()=>{ye(!1),ht({name:"",location_type:"",building:"",floor:"",room_area:"",parent_location_id:"",is_inventory_point:!1,description:"",is_active:!0})}}),ve&&(0,xn.jsx)(H8,{form:pt,setForm:mt,items:o,locations:N,categories:c,onSubmit:gt,onClose:()=>{be(!1),mt({item_id:"",serial_number:"",current_location_id:"",status:"Active",purchase_date:"",warranty_expiry_date:"",last_maintenance_date:"",next_maintenance_due_date:"",notes:""})}}),Ne&&we&&(0,xn.jsx)(V8,{requisition:we,items:o,onClose:()=>{_e(!1),je(null)}}),Ae&&ke&&(0,xn.jsx)(G8,{issue:ke,items:o,locations:N,onClose:()=>{Ce(!1),Se(null)}}),Te&&Ee&&(0,xn.jsx)(K8,{wasteLog:Ee,items:o,locations:N,onClose:()=>{Oe(!1),Pe(null)}}),De&&Ie&&(0,xn.jsx)(Y8,{location:Ie,locations:N,onClose:()=>{Me(!1),Le(null)}}),ze&&Re&&(0,xn.jsx)(X8,{asset:Re,items:o,locations:N,onClose:()=>{Ue(!1),Be(null)}}),T&&(0,xn.jsx)(A8,{locationData:T,onClose:()=>{O(null),P(null)}}),R&&(0,xn.jsx)(Q8,{form:U,setForm:q,foodItems:D,items:o,editingRecipe:B,onSubmit:async e=>{try{B?await mn.put("/recipes/".concat(B.id),e):await mn.post("/recipes",e),F(!1),z(null),et()}catch(n){var t,r;alert("Failed to save recipe: "+((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||n.message))}},onClose:()=>{F(!1),z(null),q({food_item_id:"",name:"",description:"",servings:1,prep_time_minutes:"",cook_time_minutes:"",ingredients:[]})}})]})};const Z8=function(){const e=(()=>{if("undefined"===typeof window)return"/admin";const e=window.location.pathname||"";if(e.startsWith("/orchidadmin"))return"/orchidadmin";if(e.startsWith("/pommaadmin"))return"/pommaadmin";const t=window.location.hostname||"";return"localhost"===t||"127.0.0.1"===t?"":"/admin"})();return(0,xn.jsx)(Pe,{basename:e,children:(0,xn.jsxs)(_e,{children:[(0,xn.jsx)(je,{path:"/",element:(0,xn.jsx)(yn,{})}),(0,xn.jsx)(je,{path:"/dashboard",element:(0,xn.jsx)($u,{requiredPermission:"/dashboard",children:(0,xn.jsx)(kU,{})})}),(0,xn.jsx)(je,{path:"/bookings",element:(0,xn.jsx)($u,{requiredPermission:"/bookings",children:(0,xn.jsx)(zX,{})})}),(0,xn.jsx)(je,{path:"/rooms",element:(0,xn.jsx)($u,{requiredPermission:"/rooms",children:(0,xn.jsx)(JQ,{})})}),(0,xn.jsx)(je,{path:"/users",element:(0,xn.jsx)($u,{requiredPermission:"/users",children:(0,xn.jsx)(e$,{})})}),(0,xn.jsx)(je,{path:"/services",element:(0,xn.jsx)($u,{requiredPermission:"/services",children:(0,xn.jsx)(i$,{})})}),(0,xn.jsx)(je,{path:"/expenses",element:(0,xn.jsx)($u,{requiredPermission:"/expenses",children:(0,xn.jsx)(a$,{})})}),(0,xn.jsx)(je,{path:"/roles",element:(0,xn.jsx)($u,{requiredPermission:"/roles",children:(0,xn.jsx)(OU,{})})}),(0,xn.jsx)(je,{path:"/billing",element:(0,xn.jsx)($u,{requiredPermission:"/billing",children:(0,xn.jsx)(w$,{})})}),(0,xn.jsx)(je,{path:"/food-orders",element:(0,xn.jsx)($u,{requiredPermission:"/food-orders",children:(0,xn.jsx)(c$,{})})}),(0,xn.jsx)(je,{path:"/food-categories",element:(0,xn.jsx)($u,{requiredPermission:"/food-categories",children:(0,xn.jsx)(c$,{})})}),(0,xn.jsx)(je,{path:"/food-items",element:(0,xn.jsx)($u,{requiredPermission:"/food-items",children:(0,xn.jsx)(c$,{})})}),(0,xn.jsx)(je,{path:"/account",element:(0,xn.jsx)($u,{requiredPermission:"/account",children:(0,xn.jsx)(P$,{})})}),(0,xn.jsx)(je,{path:"/Userfrontend_data",element:(0,xn.jsx)($u,{requiredPermission:"/Userfrontend_data",children:(0,xn.jsx)(Y$,{})})}),(0,xn.jsx)(je,{path:"/package",element:(0,xn.jsx)($u,{requiredPermission:"/package",children:(0,xn.jsx)(tZ,{})})}),(0,xn.jsx)(je,{path:"/report",element:(0,xn.jsx)($u,{requiredPermission:"/report",children:(0,xn.jsx)(sZ,{})})}),(0,xn.jsx)(je,{path:"/guestprofiles",element:(0,xn.jsx)($u,{requiredPermission:"/guestprofiles",children:(0,xn.jsx)(mZ,{})})}),(0,xn.jsx)(je,{path:"/user-history",element:(0,xn.jsx)($u,{requiredPermission:"/user-history",children:(0,xn.jsx)(vZ,{})})}),(0,xn.jsx)(je,{path:"/employee-management",element:(0,xn.jsx)($u,{requiredPermission:"/employee-management",children:(0,xn.jsx)(f8,{})})}),(0,xn.jsx)(je,{path:"/inventory",element:(0,xn.jsx)($u,{requiredPermission:"/inventory",children:(0,xn.jsx)($8,{})})})]})})},J8=()=>{const e=e=>{const t=e.target;t&&"date"===t.type&&"function"===typeof t.showPicker&&setTimeout(()=>{try{const e=t.showPicker();e&&"function"===typeof e.catch&&e.catch(()=>{})}catch(e){console.debug("showPicker failed:",e)}},50)},t=()=>{document.querySelectorAll('input[type="date"]').forEach(t=>{t.hasAttribute("data-date-clickable")||(t.setAttribute("data-date-clickable","true"),t.addEventListener("click",e))})};t();new MutationObserver(t).observe(document.body,{childList:!0,subtree:!0})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",J8):J8();s.createRoot(document.getElementById("root")).render((0,xn.jsx)(Z8,{}))})()})();
//# sourceMappingURL=main.ca9a0f5c.js.map